cscope 15 /Downloads/gpgpu-sim/v3.x/src/gpgpu-sim               0000972600
	@addrdec.cc

29 
	~<¡ršg.h
>

30 
	~"addrdec.h
"

31 
	~"gpu-sim.h
"

32 
	~"../İtiÚ_·r£r.h
"

36 
powli
Ğ
x
, 
y
 );

37 
LOGB2_32
Ğ
v
 );

38 
Ãw_addr_ty³
 
addrdec_·ckb™s
ĞÃw_addr_ty³ 
mask
,‚ew_addr_ty³ 
v®
, 
high
, 
low
);

39 
addrdec_g‘masklim™
(
Ãw_addr_ty³
 
mask
, *
high
, *
low
);

41 
	glš—r_to_¿w_add»ss_Œª¦©iÚ
::
	$lš—r_to_¿w_add»ss_Œª¦©iÚ
()

43 
addrdec_İtiÚ
 = 
NULL
;

44 
ADDR_CHIP_S
 = 10;

45 
	`mem£t
(
addrdec_mklow
,0,
N_ADDRDEC
);

46 
	`mem£t
(
addrdec_mkhigh
,64,
N_ADDRDEC
);

47 
addrdec_mask
[0] = 0x0000000000001C00;

48 
addrdec_mask
[1] = 0x0000000000000300;

49 
addrdec_mask
[2] = 0x000000000FFF0000;

50 
addrdec_mask
[3] = 0x000000000000E0FF;

51 
addrdec_mask
[4] = 0x000000000000000F;

52 
	}
}

54 
	glš—r_to_¿w_add»ss_Œª¦©iÚ
::
	$addrdec_£tİtiÚ
(
İtiÚ_·r£r_t
 
İp
)

56 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_mem_addr_m­pšg", 
OPT_CSTR
, &
addrdec_İtiÚ
,

58 
NULL
);

59 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_mem_addr_‹¡", 
OPT_BOOL
, &
run_‹¡
,

62 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_mem_add»ss_mask", 
OPT_INT32
, &
gpgpu_mem_add»ss_mask
,

65 
	}
}

67 
Ãw_addr_ty³
 
	glš—r_to_¿w_add»ss_Œª¦©iÚ
::
	$·¹™iÚ_add»ss
Ğ
Ãw_addr_ty³
 
addr
 ) const

69 ià(!
g­
) {

70  
	`addrdec_·ckb™s
Ğ~(
addrdec_mask
[
CHIP
] | 
sub_·¹™iÚ_id_mask
), 
addr
, 64, 0 );

73 
·¹™iÚ_addr
;

74 
·¹™iÚ_addr
 = ( (
addr
>>
ADDR_CHIP_S
è/ 
m_n_chªÃl
) << ADDR_CHIP_S;

75 
·¹™iÚ_addr
 |ğ
addr
 & ((1 << 
ADDR_CHIP_S
) - 1);

77 
·¹™iÚ_addr
 = 
	`addrdec_·ckb™s
Ğ~
sub_·¹™iÚ_id_mask
,…artition_addr, 64, 0);

78  
·¹™iÚ_addr
;

80 
	}
}

82 
	glš—r_to_¿w_add»ss_Œª¦©iÚ
::
	$addrdec_x
(
Ãw_addr_ty³
 
addr
, 
addrdec_t
 *
x
) const

84 
addr_fÜ_ch
,
»¡_of_addr
;

85 ià(!
g­
) {

86 
x
->
ch
 = 
	`addrdec_·ckb™s
(
addrdec_mask
[
CHIP
], 
addr
, 
addrdec_mkhigh
[CHIP], 
addrdec_mklow
[CHIP]);

87 
x
->
bk
 = 
	`addrdec_·ckb™s
(
addrdec_mask
[
BK
], 
addr
, 
addrdec_mkhigh
[BK], 
addrdec_mklow
[BK]);

88 
x
->
row
 = 
	`addrdec_·ckb™s
(
addrdec_mask
[
ROW
], 
addr
, 
addrdec_mkhigh
[ROW], 
addrdec_mklow
[ROW]);

89 
x
->
cŞ
 = 
	`addrdec_·ckb™s
(
addrdec_mask
[
COL
], 
addr
, 
addrdec_mkhigh
[COL], 
addrdec_mklow
[COL]);

90 
x
->
bur¡
ğ
	`addrdec_·ckb™s
(
addrdec_mask
[
BURST
], 
addr
, 
addrdec_mkhigh
[BURST], 
addrdec_mklow
[BURST]);

95 
addr_fÜ_ch
 = (
addr
>>
ADDR_CHIP_S
è% 
m_n_chªÃl
;

96 
»¡_of_addr
 = ( (
addr
>>
ADDR_CHIP_S
è/ 
m_n_chªÃl
) << ADDR_CHIP_S;

97 
»¡_of_addr
 |ğ
addr
 & ((1 << 
ADDR_CHIP_S
) - 1);

99 
x
->
ch
 = 
addr_fÜ_ch
;

100 
x
->
bk
 = 
	`addrdec_·ckb™s
(
addrdec_mask
[
BK
], 
»¡_of_addr
, 
addrdec_mkhigh
[BK], 
addrdec_mklow
[BK]);

101 
x
->
row
 = 
	`addrdec_·ckb™s
(
addrdec_mask
[
ROW
], 
»¡_of_addr
, 
addrdec_mkhigh
[ROW], 
addrdec_mklow
[ROW]);

102 
x
->
cŞ
 = 
	`addrdec_·ckb™s
(
addrdec_mask
[
COL
], 
»¡_of_addr
, 
addrdec_mkhigh
[COL], 
addrdec_mklow
[COL]);

103 
x
->
bur¡
ğ
	`addrdec_·ckb™s
(
addrdec_mask
[
BURST
], 
»¡_of_addr
, 
addrdec_mkhigh
[BURST], 
addrdec_mklow
[BURST]);

107 
sub_·¹™iÚ_addr_mask
 = 
m_n_sub_·¹™iÚ_š_chªÃl
 - 1;

108 
x
->
sub_·¹™iÚ
 =lx->
ch
 * 
m_n_sub_·¹™iÚ_š_chªÃl


109 + (
x
->
bk
 & 
sub_·¹™iÚ_addr_mask
);

110 
	}
}

112 
	glš—r_to_¿w_add»ss_Œª¦©iÚ
::
	$addrdec_·r£İtiÚ
(cÚ¡ *
İtiÚ
)

114 
d¿mid_¡¬t
 = 0;

115 
d¿mid_·r£d
 = 
	`ssÿnf
(
İtiÚ
, "d¿mid@%d", &
d¿mid_¡¬t
);

116 ià(
d¿mid_·r£d
 == 1) {

117 
ADDR_CHIP_S
 = 
d¿mid_¡¬t
;

119 
ADDR_CHIP_S
 = -1;

122 cÚ¡ *
cm­pšg
 = 
	`¡rchr
(
İtiÚ
, ';');

123 ià(
cm­pšg
 =ğ
NULL
) {

124 
cm­pšg
 = 
İtiÚ
;

126 
cm­pšg
 += 1;

129 
addrdec_mask
[
CHIP
] = 0x0;

130 
addrdec_mask
[
BK
] = 0x0;

131 
addrdec_mask
[
ROW
] = 0x0;

132 
addrdec_mask
[
COL
] = 0x0;

133 
addrdec_mask
[
BURST
]= 0x0;

135 
ofs
 = 63;

136 (*
cm­pšg
) != '\0') {

137 *
cm­pšg
) {

139 
	`as£¹
(
d¿mid_·r£d
 !ğ1); 
addrdec_mask
[
CHIP
] |ğ(1ULL << 
ofs
); ofs--; ;

140 'B': 'b': 
addrdec_mask
[
BK
] |ğ(1ULL << 
ofs
); ofs--; ;

141 'R': 'r': 
addrdec_mask
[
ROW
] |ğ(1ULL << 
ofs
); ofs--; ;

142 'C': 'c': 
addrdec_mask
[
COL
] |ğ(1ULL << 
ofs
); ofs--; ;

143 'S': 's': 
addrdec_mask
[
BURST
] |ğ(1ULL << 
ofs
);‡ddrdec_mask[
COL
] |= (1ULL << ofs); ofs--; ;

145 '0': 
ofs
--; ;

151 
	`årštf
(
¡d”r
, "ERROR: Inv®id‡dd»s m­pšg ch¬aù” '%c' iÀİtiÚ '%s'\n", *
cm­pšg
, 
İtiÚ
);

153 
cm­pšg
 += 1;

156 ià(
ofs
 != -1) {

157 
	`årštf
(
¡d”r
, "ERROR: Inv®id‡dd»s m­pšg†’gth (%dèš o±iÚ '%s'\n", 63 - 
ofs
, 
İtiÚ
);

158 
	`as£¹
(
ofs
 == -1);

160 
	}
}

162 
	glš—r_to_¿w_add»ss_Œª¦©iÚ
::
	$š™
(
n_chªÃl
, 
n_sub_·¹™iÚ_š_chªÃl
)

164 
i
;

165 
mask
;

166 
nchb™s
 = ::
	`LOGB2_32
(
n_chªÃl
);

167 
m_n_chªÃl
 = 
n_chªÃl
;

168 
m_n_sub_·¹™iÚ_š_chªÃl
 = 
n_sub_·¹™iÚ_š_chªÃl
;

170 
g­
 = (
n_chªÃl
 - ::
	`powli
(2,
nchb™s
));

171 ià(
g­
) {

172 
nchb™s
++;

174 
gpgpu_mem_add»ss_mask
) {

177 
ADDR_CHIP_S
 = 10;

178 
addrdec_mask
[
CHIP
] = 0x0000000000000000;

179 
addrdec_mask
[
BK
] = 0x0000000000000300;

180 
addrdec_mask
[
ROW
] = 0x0000000007FFE000;

181 
addrdec_mask
[
COL
] = 0x0000000000001CFF;

184 
ADDR_CHIP_S
 = 13;

185 
addrdec_mask
[
CHIP
] = 0x0000000000000000;

186 
addrdec_mask
[
BK
] = 0x0000000000001800;

187 
addrdec_mask
[
ROW
] = 0x0000000007FFE000;

188 
addrdec_mask
[
COL
] = 0x00000000000007FF;

191 
ADDR_CHIP_S
 = 11;

192 
addrdec_mask
[
CHIP
] = 0x0000000000000000;

193 
addrdec_mask
[
BK
] = 0x0000000000001800;

194 
addrdec_mask
[
ROW
] = 0x0000000007FFE000;

195 
addrdec_mask
[
COL
] = 0x00000000000007FF;

198 
ADDR_CHIP_S
 = 11;

199 
addrdec_mask
[
CHIP
] = 0x0000000000000000;

200 
addrdec_mask
[
BK
] = 0x0000000000001800;

201 
addrdec_mask
[
ROW
] = 0x000000000FFFE000;

202 
addrdec_mask
[
COL
] = 0x00000000000007FF;

206 
ADDR_CHIP_S
 = 14;

207 
addrdec_mask
[
CHIP
] = 0x0000000000000000;

208 
addrdec_mask
[
BK
] = 0x0000000000001800;

209 
addrdec_mask
[
ROW
] = 0x0000000007FFE000;

210 
addrdec_mask
[
COL
] = 0x00000000000007FF;

213 
ADDR_CHIP_S
 = 15;

214 
addrdec_mask
[
CHIP
] = 0x0000000000000000;

215 
addrdec_mask
[
BK
] = 0x0000000000001800;

216 
addrdec_mask
[
ROW
] = 0x0000000007FFE000;

217 
addrdec_mask
[
COL
] = 0x00000000000007FF;

220 
ADDR_CHIP_S
 = 16;

221 
addrdec_mask
[
CHIP
] = 0x0000000000000000;

222 
addrdec_mask
[
BK
] = 0x0000000000001800;

223 
addrdec_mask
[
ROW
] = 0x0000000007FFE000;

224 
addrdec_mask
[
COL
] = 0x00000000000007FF;

227 
ADDR_CHIP_S
 = 6;

228 
addrdec_mask
[
CHIP
] = 0x0000000000000000;

229 
addrdec_mask
[
BK
] = 0x0000000000001800;

230 
addrdec_mask
[
ROW
] = 0x0000000007FFE000;

231 
addrdec_mask
[
COL
] = 0x00000000000007FF;

234 
ADDR_CHIP_S
 = 5;

235 
addrdec_mask
[
CHIP
] = 0x0000000000000000;

236 
addrdec_mask
[
BK
] = 0x0000000000001800;

237 
addrdec_mask
[
ROW
] = 0x0000000007FFE000;

238 
addrdec_mask
[
COL
] = 0x00000000000007FF;

241 
ADDR_CHIP_S
 = 1;

242 
addrdec_mask
[
CHIP
] = 0x0000000000000000;

243 
addrdec_mask
[
BK
] = 0x0000000000000003;

244 
addrdec_mask
[
ROW
] = 0x0000000007FFE000;

245 
addrdec_mask
[
COL
] = 0x0000000000001FFC;

248 
ADDR_CHIP_S
 = 3;

249 
addrdec_mask
[
CHIP
] = 0x0000000000000000;

250 
addrdec_mask
[
BK
] = 0x0000000000000003;

251 
addrdec_mask
[
ROW
] = 0x0000000007FFE000;

252 
addrdec_mask
[
COL
] = 0x0000000000001FFC;

255 
ADDR_CHIP_S
 = 6;

256 
addrdec_mask
[
CHIP
] = 0x0000000000000000;

257 
addrdec_mask
[
BK
] = 0x0000000000001800;

258 
addrdec_mask
[
ROW
] = 0x0000000007FFE000;

259 
addrdec_mask
[
COL
] = 0x00000000000007FF;

263 
ADDR_CHIP_S
 = 6;

264 
addrdec_mask
[
CHIP
] = 0x0000000000000000;

265 
addrdec_mask
[
BK
] = 0x0000000000000300;

266 
addrdec_mask
[
ROW
] = 0x0000000007FFE000;

267 
addrdec_mask
[
COL
] = 0x0000000000001CFF;

273 ià(
addrdec_İtiÚ
 !ğ
NULL
)

274 
	`addrdec_·r£İtiÚ
(
addrdec_İtiÚ
);

276 ià(
ADDR_CHIP_S
 != -1) {

277 ià(!
g­
) {

280 
mask
 = (()1 << 
ADDR_CHIP_S
) - 1;

281 
addrdec_mask
[
BK
] = (×ddrdec_mask[BK] & ~
mask
è<< 
nchb™s
) | (addrdec_mask[BK] & mask);

282 
addrdec_mask
[
ROW
] = (×ddrdec_mask[ROW] & ~
mask
è<< 
nchb™s
) | (addrdec_mask[ROW] & mask);

283 
addrdec_mask
[
COL
] = (×ddrdec_mask[COL] & ~
mask
è<< 
nchb™s
) | (addrdec_mask[COL] & mask);

285 
i
=
ADDR_CHIP_S
;i<(ADDR_CHIP_S+
nchb™s
);i++) {

286 
mask
 = ()1 << 
i
;

287 
addrdec_mask
[
CHIP
] |ğ
mask
;

292 
	`as£¹
((
n_chªÃl
 & (n_channel - 1)) == 0);

295 
	`as£¹
((
m_n_sub_·¹™iÚ_š_chªÃl
 & (m_n_sub_partition_in_channel - 1)) == 0);

297 
	`addrdec_g‘masklim™
(
addrdec_mask
[
CHIP
], &
addrdec_mkhigh
[CHIP], &
addrdec_mklow
[CHIP] );

298 
	`addrdec_g‘masklim™
(
addrdec_mask
[
BK
], &
addrdec_mkhigh
[BK], &
addrdec_mklow
[BK] );

299 
	`addrdec_g‘masklim™
(
addrdec_mask
[
ROW
], &
addrdec_mkhigh
[ROW], &
addrdec_mklow
[ROW] );

300 
	`addrdec_g‘masklim™
(
addrdec_mask
[
COL
], &
addrdec_mkhigh
[COL], &
addrdec_mklow
[COL] );

301 
	`addrdec_g‘masklim™
(
addrdec_mask
[
BURST
], &
addrdec_mkhigh
[BURST], &
addrdec_mklow
[BURST]);

303 
	`´štf
("addr_dec_mask[CHIP] = %016Îx \thigh:%d†ow:%d\n", 
addrdec_mask
[
CHIP
], 
addrdec_mkhigh
[CHIP], 
addrdec_mklow
[CHIP] );

304 
	`´štf
("addr_dec_mask[BK] = %016Îx \thigh:%d†ow:%d\n", 
addrdec_mask
[
BK
], 
addrdec_mkhigh
[BK], 
addrdec_mklow
[BK] );

305 
	`´štf
("addr_dec_mask[ROW] = %016Îx \thigh:%d†ow:%d\n", 
addrdec_mask
[
ROW
], 
addrdec_mkhigh
[ROW], 
addrdec_mklow
[ROW] );

306 
	`´štf
("addr_dec_mask[COL] = %016Îx \thigh:%d†ow:%d\n", 
addrdec_mask
[
COL
], 
addrdec_mkhigh
[COL], 
addrdec_mklow
[COL] );

307 
	`´štf
("addr_dec_mask[BURST] = %016Îx \thigh:%d†ow:%d\n", 
addrdec_mask
[
BURST
], 
addrdec_mkhigh
[BURST], 
addrdec_mklow
[BURST]);

310 
sub_·¹™iÚ_id_mask
 = 0;

311 ià(
m_n_sub_·¹™iÚ_š_chªÃl
 > 1) {

312 
n_sub_·¹™iÚ_log2
 = 
	`LOGB2_32
(
m_n_sub_·¹™iÚ_š_chªÃl
);

313 
pos
=0;

314 
i
=
addrdec_mklow
[
BK
];i<
addrdec_mkhigh
[BK];i++) {

315 ià((
addrdec_mask
[
BK
] & (()1<<
i
)) != 0) {

316 
sub_·¹™iÚ_id_mask
 |ğ(()1<<
i
);

317 
pos
++;

318 ià(
pos
 >ğ
n_sub_·¹™iÚ_log2
)

323 
	`´štf
("sub_·¹™iÚ_id_mask = %016Îx\n", 
sub_·¹™iÚ_id_mask
);

325 ià(
run_‹¡
) {

326 
	`sw“p_‹¡
();

328 
	}
}

330 
	~"../Œ1_hash_m­.h
"

332 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
addrdec_t
 &
x
, cÚ¡ 
	gaddrdec_t
 &
	gy
)

334  ( 
memcmp
(&
x
, &
y
, (
addrdec_t
)) == 0 );

337 
boŞ
 
	gİ”©Ü
<(cÚ¡ 
	gaddrdec_t
 &
	gx
, cÚ¡‡ddrdec_ˆ&
	gy
)

339 ià(
	gx
.
	gch
 >ğ
y
.
ch
è 
çl£
;

340 ià(
	gx
.
	gbk
 >ğ
y
.
bk
è 
çl£
;

341 ià(
	gx
.
	grow
 >ğ
y
.
row
è 
çl£
;

342 ià(
	gx
.
	gcŞ
 >ğ
y
.
cŞ
è 
çl£
;

343 ià(
	gx
.
	gbur¡
 >ğ
y
.
bur¡
è 
çl£
;

344  
	gŒue
;

347 şas 
	chash_addrdec_t


349 
	mpublic
:

350 
size_t
 
	$İ”©Ü
()(cÚ¡ 
addrdec_t
 &
x
) const {

351  (
x
.
ch
 ^ x.
bk
 ^ x.
row
 ^ x.
cŞ
 ^ x.
bur¡
);

353 
	}
};

356 
	glš—r_to_¿w_add»ss_Œª¦©iÚ
::
	$sw“p_‹¡
() const

358 
Ãw_addr_ty³
 
sw“p_¿nge
 = 16 * 1024 * 1024;

360 #ià
Œ1_hash_m­_ism­
 == 1

361 
Œ1_hash_m­
<
	taddrdec_t
, 
	tÃw_addr_ty³
> 
	thi¡Üy_m­_t
;

363 
Œ1_hash_m­
<
	taddrdec_t
, 
	tÃw_addr_ty³
, 
	thash_addrdec_t
> 
	thi¡Üy_m­_t
;

365 
hi¡Üy_m­_t
 
hi¡Üy_m­
;

367 
Ãw_addr_ty³
 
¿w_addr
 = 4;„aw_add¸< 
sw“p_¿nge
;„aw_addr += 4) {

368 
addrdec_t
 
x
;

369 
	`addrdec_x
(
¿w_addr
, &
x
);

371 
hi¡Üy_m­_t
::
™”©Ü
 
h
 = 
hi¡Üy_m­
.
	`fšd
(
x
);

373 ià(
h
 !ğ
hi¡Üy_m­
.
	`’d
()) {

374 
	`´štf
("[AddrDec] ** E¼Ü:‡dd»s decodšg m­pšg‡lŸ£ twØadd»s£ tØ§m·¹™iÚ w™h samšŒa-·¹™iÚ‡dd»ss: %Îx %Îx\n", 
h
->
£cÚd
, 
¿w_addr
);

375 
	`abÜt
();

377 
	`as£¹
(()
x
.
ch
 < 
m_n_chªÃl
);

379 ià((
ADDR_CHIP_S
 !ğ-1 
ªd
 
¿w_addr
 >ğ(1ULL << ADDR_CHIP_S)è
Ü


380 (
ADDR_CHIP_S
 =ğ-1 
ªd
 
¿w_addr
 >ğ(1ULL << 
addrdec_mklow
[
CHIP
]))) {

381 
	`as£¹
(
¿w_addr
 !ğ
	`·¹™iÚ_add»ss
(raw_addr));

383 
hi¡Üy_m­
[
x
] = 
¿w_addr
;

386 ià((
¿w_addr
 & 0xffffè=ğ0è
	`´štf
("%llu scaned\n",„aw_addr);

388 
	}
}

390 
	gaddrdec_t
::
	$´št
Ğ
FILE
 *
å
 ) const

392 
	`årštf
(
å
,"\tch:%x ", 
ch
);

393 
	`årštf
(
å
,"\Œow:%x ", 
row
);

394 
	`årštf
(
å
,"\tcŞ:%x ", 
cŞ
);

395 
	`årštf
(
å
,"\tbk:%x ", 
bk
);

396 
	`årštf
(
å
,"\tbur¡:%x ", 
bur¡
);

397 
	`årštf
(
å
,"\tsub_·¹™iÚ:%x ", 
sub_·¹™iÚ
);

398 
	}
}

401 
	$powli
Ğ
x
, 
y
 )

403 
r
 = 1;

404 
i
;

405 
i
 = 0; i < 
y
; ++i ) {

406 
r
 *ğ
x
;

408  
r
;

409 
	}
}

411 
	$LOGB2_32
Ğ
v
 )

413 
shiá
;

414 
r
;

416 
r
 = 0;

418 
shiá
 = (Ğ
v
 & 0xFFFF0000è!ğ0 ) << 4; v >>ğshiá; 
r
 |= shift;

419 
shiá
 = (Ğ
v
 & 0xFF00 ) !ğ0 ) << 3; v >>ğshiá; 
r
 |= shift;

420 
shiá
 = (Ğ
v
 & 0xF0 ) !ğ0 ) << 2; v >>ğshiá; 
r
 |= shift;

421 
shiá
 = (Ğ
v
 & 0xC ) !ğ0 ) << 1; v >>ğshiá; 
r
 |= shift;

422 
shiá
 = (Ğ
v
 & 0x2 ) !ğ0 ) << 0; v >>ğshiá; 
r
 |= shift;

424  
r
;

425 
	}
}

427 
Ãw_addr_ty³
 
	$addrdec_·ckb™s
Ğ
Ãw_addr_ty³
 
mask
,‚ew_addr_ty³ 
v®
, 
high
, 
low
)

429 
pos
=0;

430 
Ãw_addr_ty³
 
»suÉ
 = 0;

431 
i
=
low
;i<
high
;i++) {

432 ià((
mask
 & (()1<<
i
)) != 0) {

433 
»suÉ
 |ğ((
v®
 & (()1<<
i
)è>> iè<< 
pos
;

434 
pos
++;

437  
»suÉ
;

438 
	}
}

440 
	$addrdec_g‘masklim™
(
Ãw_addr_ty³
 
mask
, *
high
, *
low
)

442 *
high
 = 64;

443 *
low
 = 0;

444 
i
;

445 
low_found
 = 0;

447 
i
=0;i<64;i++) {

448 ià((
mask
 & (()1<<
i
)) != 0) {

449 ià(
low_found
) {

450 *
high
 = 
i
 + 1;

452 *
high
 = 
i
 + 1;

453 *
low
 = 
i
;

454 
low_found
 = 1;

458 
	}
}

	@addrdec.h

28 
	~<¡dio.h
>

29 
	~<¡dlib.h
>

30 
	~<as£¹.h
>

31 
	~"../İtiÚ_·r£r.h
"

33 #iâdeà
ADDRDEC_H


34 
	#ADDRDEC_H


	)

36 
	~"../ab¡¿ù_h¬dw¬e_mod–.h
"

38 
	saddrdec_t
 {

39 
´št
Ğ
FILE
 *
å
 ) const;

41 
	mch
;

42 
	mbk
;

43 
	mrow
;

44 
	mcŞ
;

45 
	mbur¡
;

47 
	msub_·¹™iÚ
;

50 şas 
	clš—r_to_¿w_add»ss_Œª¦©iÚ
 {

51 
	mpublic
:

52 
lš—r_to_¿w_add»ss_Œª¦©iÚ
();

53 
addrdec_£tİtiÚ
(
İtiÚ_·r£r_t
 
İp
);

54 
š™
(
n_chªÃl
, 
n_sub_·¹™iÚ_š_chªÃl
);

57 
	$addrdec_x
(
Ãw_addr_ty³
 
addr
, 
addrdec_t
 *
x
) const;

58 
Ãw_addr_ty³
 
	$·¹™iÚ_add»ss
Ğ
Ãw_addr_ty³
 
addr
 ) const;

60 
´iv©e
:

61 
	`addrdec_·r£İtiÚ
(cÚ¡ *
İtiÚ
);

62 
	$sw“p_‹¡
() const;

65 
CHIP
 = 0,

66 
BK
 = 1,

67 
ROW
 = 2,

68 
COL
 = 3,

69 
BURST
 = 4,

70 
N_ADDRDEC


73 cÚ¡ *
addrdec_İtiÚ
;

74 
gpgpu_mem_add»ss_mask
;

75 
boŞ
 
run_‹¡
;

77 
ADDR_CHIP_S
;

78 
addrdec_mklow
[
N_ADDRDEC
];

79 
addrdec_mkhigh
[
N_ADDRDEC
];

80 
Ãw_addr_ty³
 
addrdec_mask
[
N_ADDRDEC
];

81 
Ãw_addr_ty³
 
sub_·¹™iÚ_id_mask
;

83 
g­
;

84 
m_n_chªÃl
;

85 
m_n_sub_·¹™iÚ_š_chªÃl
;

86 
	}
};

	@delayqueue.h

28 
	~<¡dio.h
>

29 
	~<as£¹.h
>

30 
	~<¡dlib.h
>

32 #iâdeà
DELAYQUEUE_H


33 
	#DELAYQUEUE_H


	)

35 
	~"../¡©w¿µ”.h
"

36 
	~"gpu-misc.h
"

38 
	g‹m¶©e
 <
şass
 
	gT
>

39 
	sfifo_d©a
 {

40 
T
 *
	mm_d©a
;

41 
fifo_d©a
 *
	mm_Ãxt
;

44 
	g‹m¶©e
 <
şass
 
	gT
>

45 şas 
	cfifo_p–še
 {

46 
	mpublic
:

47 
	$fifo_p–še
(cÚ¡ * 
nm
, 
mšËn
, 
maxËn
 )

49 
	`as£¹
(
maxËn
);

50 
m_Çme
 = 
nm
;

51 
m_mš_Ën
 = 
mšËn
;

52 
m_max_Ën
 = 
maxËn
;

53 
m_Ëngth
 = 0;

54 
m_n_–em’t
 = 0;

55 
m_h—d
 = 
NULL
;

56 
m_
 = 
NULL
;

57 
i
=0;i<
m_mš_Ën
;i++)

58 
	`push
(
NULL
);

61 ~
	$fifo_p–še
()

63 
m_h—d
) {

64 
m_
 = 
m_h—d
;

65 
m_h—d
 = m_h—d->
m_Ãxt
;

66 
d–‘e
 
m_
;

68 
	}
}

70 
	$push
(
T
* 
d©a
 )

72 
	`as£¹
(
m_Ëngth
 < 
m_max_Ën
);

73 ià(
m_h—d
) {

74 ià(
m_
->
m_d©a
 || 
m_Ëngth
 < 
m_mš_Ën
) {

75 
m_
->
m_Ãxt
 = 
Ãw
 
fifo_d©a
<
T
>();

76 
m_
 = m_->
m_Ãxt
;

77 
m_Ëngth
++;

78 
m_n_–em’t
++;

81 
m_h—d
 = 
m_
 = 
Ãw
 
fifo_d©a
<
T
>();

82 
m_Ëngth
++;

83 
m_n_–em’t
++;

85 
m_
->
m_Ãxt
 = 
NULL
;

86 
m_
->
m_d©a
 = 
d©a
;

87 
	}
}

89 
T
* 
	$pİ
()

91 
fifo_d©a
<
T
>* 
Ãxt
;

92 
T
* 
d©a
;

93 ià(
m_h—d
) {

94 
Ãxt
 = 
m_h—d
->
m_Ãxt
;

95 
d©a
 = 
m_h—d
->
m_d©a
;

96 iàĞ
m_h—d
 =ğ
m_
 ) {

97 
	`as£¹
Ğ
Ãxt
 =ğ
NULL
 );

98 
m_
 = 
NULL
;

100 
d–‘e
 
m_h—d
;

101 
m_h—d
 = 
Ãxt
;

102 
m_Ëngth
--;

103 ià(
m_Ëngth
 == 0) {

104 
	`as£¹
Ğ
m_h—d
 =ğ
NULL
 );

105 
m_
 = 
m_h—d
;

107 
m_n_–em’t
--;

108 ià(
m_mš_Ën
 && 
m_Ëngth
 < m_min_len) {

109 
	`push
(
NULL
);

110 
m_n_–em’t
--;

113 
d©a
 = 
NULL
;

115  
d©a
;

116 
	}
}

118 
T
* 
	$tİ
() const

120 ià(
m_h—d
) {

121  
m_h—d
->
m_d©a
;

123  
NULL
;

125 
	}
}

127 
	$£t_mš_Ëngth
(
Ãw_mš_Ën
)

129 ià(
Ãw_mš_Ën
 =ğ
m_mš_Ën
) ;

131 ià(
Ãw_mš_Ën
 > 
m_mš_Ën
) {

132 
m_mš_Ën
 = 
Ãw_mš_Ën
;

133 
m_Ëngth
 < 
m_mš_Ën
) {

134 
	`push
(
NULL
);

135 
m_n_–em’t
--;

140 
	`as£¹
(
m_h—d
);

141 
m_mš_Ën
 = 
Ãw_mš_Ën
;

142 (
m_Ëngth
 > 
m_mš_Ën
è&& (
m_
->
m_d©a
 == 0)) {

143 
fifo_d©a
<
T
> *
™”
;

144 
™”
 = 
m_h—d
;

145 
™”
 && (™”->
m_Ãxt
 !ğ
m_
))

146 
™”
 = i‹r->
m_Ãxt
;

147 ià(!
™”
) {

149 
	`as£¹
(
m_h—d
->
m_d©a
 == 0);

150 
	`pİ
();

153 
	`as£¹
(
™”
->
m_Ãxt
 =ğ
m_
);

154 
d–‘e
 
m_
;

155 
m_
 = 
™”
;

156 
m_
->
m_Ãxt
 = 0;

157 
m_Ëngth
--;

161 
	}
}

163 
boŞ
 
	$fuÎ
(ècÚ¡ {  (
m_max_Ën
 && 
m_Ëngth
 >ğm_max_Ën); 
	}
}

164 
boŞ
 
	$em±y
(ècÚ¡ {  
m_h—d
 =ğ
NULL
; 
	}
}

165 
	$g‘_n_–em’t
(ècÚ¡ {  
m_n_–em’t
; 
	}
}

166 
	$g‘_Ëngth
(ècÚ¡ {  
m_Ëngth
; 
	}
}

167 
	$g‘_max_Ën
(ècÚ¡ {  
m_max_Ën
; 
	}
}

169 
	$´št
() const

171 
fifo_d©a
<
T
>* 
ddp
 = 
m_h—d
;

172 
	`´štf
("%s(%d): ", 
m_Çme
, 
m_Ëngth
);

173 
ddp
) {

174 
	`´štf
("%°", 
ddp
->
m_d©a
);

175 
ddp
 = ddp->
m_Ãxt
;

177 
	`´štf
("\n");

178 
	}
}

180 
	g´iv©e
:

181 cÚ¡ * 
m_Çme
;

183 
	gm_mš_Ën
;

184 
	gm_max_Ën
;

185 
	gm_Ëngth
;

186 
	gm_n_–em’t
;

188 
	gfifo_d©a
<
	gT
> *
	gm_h—d
;

189 
	gfifo_d©a
<
	gT
> *
	gm_
;

	@dram.cc

29 
	~"gpu-sim.h
"

30 
	~"gpu-misc.h
"

31 
	~"d¿m.h
"

32 
	~"mem_Ï‹ncy_¡©.h
"

33 
	~"d¿m_sched.h
"

34 
	~"mem_ãtch.h
"

35 
	~"l2ÿche.h
"

37 #ifdeà
DRAM_VERIFY


38 
	gPRINT_CYCLE
 = 0;

41 
‹m¶©e
 
şass
 
	gfifo_p–še
<
	gmem_ãtch
>;

42 
‹m¶©e
 
şass
 
	gfifo_p–še
<
	gd¿m_»q_t
>;

44 
	gd¿m_t
::
	$d¿m_t
Ğ
·¹™iÚ_id
, cÚ¡ 
memÜy_cÚfig
 *
cÚfig
, 
memÜy_¡©s_t
 *
¡©s
,

45 
memÜy_·¹™iÚ_un™
 *
mp
 )

47 
id
 = 
·¹™iÚ_id
;

48 
m_memÜy_·¹™iÚ_un™
 = 
mp
;

49 
m_¡©s
 = 
¡©s
;

50 
m_cÚfig
 = 
cÚfig
;

52 
CCDc
 = 0;

53 
RRDc
 = 0;

54 
RTWc
 = 0;

55 
WTRc
 = 0;

57 
rw
 = 
READ
;

59 
bkg½
 = (
bªkg½_t
**è
	`ÿÎoc
((bªkg½_t*), 
m_cÚfig
->
nbkg½
);

60 
bkg½
[0] = (
bªkg½_t
*è
	`ÿÎoc
((
bªk_t
), 
m_cÚfig
->
nbkg½
);

61 
i
=1; i<
m_cÚfig
->
nbkg½
; i++) {

62 
bkg½
[
i
] = bkgrp[0] + i;

64 
i
=0; i<
m_cÚfig
->
nbkg½
; i++) {

65 
bkg½
[
i
]->
CCDLc
 = 0;

66 
bkg½
[
i
]->
RTPLc
 = 0;

69 
bk
 = (
bªk_t
**è
	`ÿÎoc
((bªk_t*),
m_cÚfig
->
nbk
);

70 
bk
[0] = (
bªk_t
*è
	`ÿÎoc
((bªk_t),
m_cÚfig
->
nbk
);

71 
i
=1;i<
m_cÚfig
->
nbk
;i++)

72 
bk
[
i
] = bk[0] + i;

73 
i
=0;i<
m_cÚfig
->
nbk
;i++) {

74 
bk
[
i
]->
¡©e
 = 
BANK_IDLE
;

75 
bk
[
i
]->
bkg½šdex
 = i/(
m_cÚfig
->
nbk
/m_cÚfig->
nbkg½
);

77 
´io
 = 0;

78 
rwq
 = 
Ãw
 
fifo_p–še
<
d¿m_»q_t
>("rwq",
m_cÚfig
->
CL
,m_config->CL+1);

79 
mrqq
 = 
Ãw
 
fifo_p–še
<
d¿m_»q_t
>("mrqq",0,2);

80 
»tuºq
 = 
Ãw
 
fifo_p–še
<
mem_ãtch
>("d¿m»tuºq",0,
m_cÚfig
->
gpgpu_d¿m_»tuº_queue_size
==0?1024:m_config->gpgpu_dram_return_queue_size);

81 
m_äfcfs_scheduËr
 = 
NULL
;

82 iàĞ
m_cÚfig
->
scheduËr_ty³
 =ğ
DRAM_FRFCFS
 )

83 
m_äfcfs_scheduËr
 = 
Ãw
 
	`äfcfs_scheduËr
(
m_cÚfig
,
this
,
¡©s
);

84 
n_cmd
 = 0;

85 
n_aùiv™y
 = 0;

86 
n_nİ
 = 0;

87 
n_aù
 = 0;

88 
n_´e
 = 0;

89 
n_rd
 = 0;

90 
n_wr
 = 0;

91 
n_»q
 = 0;

92 
max_mrqs_‹mp
 = 0;

93 
bwut
 = 0;

94 
max_mrqs
 = 0;

95 
ave_mrqs
 = 0;

97 
i
=0;i<10;i++) {

98 
d¿m_ut_bšs
[
i
]=0;

99 
d¿m_eff_bšs
[
i
]=0;

101 
Ï¡_n_cmd
 = 
Ï¡_n_aùiv™y
 = 
Ï¡_bwut
 = 0;

103 
n_cmd_·¹Ÿl
 = 0;

104 
n_aùiv™y_·¹Ÿl
 = 0;

105 
n_nİ_·¹Ÿl
 = 0;

106 
n_aù_·¹Ÿl
 = 0;

107 
n_´e_·¹Ÿl
 = 0;

108 
n_»q_·¹Ÿl
 = 0;

109 
ave_mrqs_·¹Ÿl
 = 0;

110 
bwut_·¹Ÿl
 = 0;

112 iàĞ
	`queue_lim™
() )

113 
mrqq_Di¡
 = 
	`StC»©e
("mrqq_Ëngth",1, 
	`queue_lim™
());

115 
mrqq_Di¡
 = 
	`StC»©e
("mrqq_length",1,64);

116 
	}
}

118 
boŞ
 
	gd¿m_t
::
	$fuÎ
() const

120 if(
m_cÚfig
->
scheduËr_ty³
 =ğ
DRAM_FRFCFS
 ){

121 if(
m_cÚfig
->
gpgpu_äfcfs_d¿m_sched_queue_size
 =ğ0 )  
çl£
;

122  
m_äfcfs_scheduËr
->
	`num_³ndšg
(è>ğ
m_cÚfig
->
gpgpu_äfcfs_d¿m_sched_queue_size
;

124  
mrqq
->
	`fuÎ
();

125 
	}
}

127 
	gd¿m_t
::
	$que_Ëngth
() const

129 
Äeqs
 = 0;

130 ià(
m_cÚfig
->
scheduËr_ty³
 =ğ
DRAM_FRFCFS
 ) {

131 
Äeqs
 = 
m_äfcfs_scheduËr
->
	`num_³ndšg
();

133 
Äeqs
 = 
mrqq
->
	`g‘_Ëngth
();

135  
Äeqs
;

136 
	}
}

138 
boŞ
 
	gd¿m_t
::
	$»tuºq_fuÎ
() const

140  
»tuºq
->
	`fuÎ
();

141 
	}
}

143 
	gd¿m_t
::
	$queue_lim™
() const

145  
m_cÚfig
->
gpgpu_äfcfs_d¿m_sched_queue_size
;

146 
	}
}

149 
	gd¿m_»q_t
::
	$d¿m_»q_t
Ğ
şass
 
mem_ãtch
 *
mf
 )

151 
txby‹s
 = 0;

152 
dqby‹s
 = 0;

153 
d©a
 = 
mf
;

155 cÚ¡ 
addrdec_t
 &
x
 = 
mf
->
	`g‘_x_addr
();

157 
bk
 = 
x
.bk;

158 
row
 = 
x
.row;

159 
cŞ
 = 
x
.col;

160 
nby‹s
 = 
mf
->
	`g‘_d©a_size
();

162 
time¡amp
 = 
gpu_tÙ_sim_cyşe
 + 
gpu_sim_cyşe
;

163 
addr
 = 
mf
->
	`g‘_addr
();

164 
š£¹iÚ_time
 = (è
gpu_sim_cyşe
;

165 
rw
 = 
d©a
->
	`g‘_is_wr™e
()?
WRITE
:
READ
;

166 
	}
}

168 
	gd¿m_t
::
	$push
Ğ
şass
 
mem_ãtch
 *
d©a
 )

170 
	`as£¹
(
id
 =ğ
d©a
->
	`g‘_x_addr
().
ch
);

172 
d¿m_»q_t
 *
mrq
 = 
Ãw
 
	`d¿m_»q_t
(
d©a
);

173 
d©a
->
	`£t_¡©us
(
IN_PARTITION_MC_INTERFACE_QUEUE
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

174 
mrqq
->
	`push
(
mrq
);

177 
n_»q
 += 1;

178 
n_»q_·¹Ÿl
 += 1;

179 iàĞ
m_cÚfig
->
scheduËr_ty³
 =ğ
DRAM_FRFCFS
 ) {

180 
Äeqs
 = 
m_äfcfs_scheduËr
->
	`num_³ndšg
();

181 iàĞ
Äeqs
 > 
max_mrqs_‹mp
)

182 
max_mrqs_‹mp
 = 
Äeqs
;

184 
max_mrqs_‹mp
 = (max_mrqs_‹m°> 
mrqq
->
	`g‘_Ëngth
())? max_mrqs_temp : mrqq->get_length();

186 
m_¡©s
->
	`memÏt¡©_d¿m_acûss
(
d©a
);

187 
	}
}

189 
	gd¿m_t
::
	$scheduËr_fifo
()

191 ià(!
mrqq
->
	`em±y
()) {

192 
bkn
;

193 
d¿m_»q_t
 *
h—d_mrqq
 = 
mrqq
->
	`tİ
();

194 
h—d_mrqq
->
d©a
->
	`£t_¡©us
(
IN_PARTITION_MC_BANK_ARB_QUEUE
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

195 
bkn
 = 
h—d_mrqq
->
bk
;

196 ià(!
bk
[
bkn
]->
mrq
)

197 
bk
[
bkn
]->
mrq
 = 
mrqq
->
	`pİ
();

199 
	}
}

202 
	#DEC2ZERO
(
x
èx = (x)? (x-1è: 0;

	)

203 
	#SWAP
(
a
,
b
è¨^ğb; b ^ğa;‡ ^ğb;

	)

205 
	gd¿m_t
::
	$cyşe
()

208 ifĞ!
»tuºq
->
	`fuÎ
() ) {

209 
d¿m_»q_t
 *
cmd
 = 
rwq
->
	`pİ
();

210 ifĞ
cmd
 ) {

211 #ifdeà
DRAM_VIEWCMD


212 
	`´štf
("\tDQ: BK%d Row:%03x CŞ:%03x", 
cmd
->
bk
, cmd->
row
, cmd->
cŞ
 + cmd->
dqby‹s
);

214 
cmd
->
dqby‹s
 +ğ
m_cÚfig
->
d¿m_©om_size
;

215 ià(
cmd
->
dqby‹s
 >ğcmd->
nby‹s
) {

216 
mem_ãtch
 *
d©a
 = 
cmd
->data;

217 
d©a
->
	`£t_¡©us
(
IN_PARTITION_MC_RETURNQ
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

218 ifĞ
d©a
->
	`g‘_acûss_ty³
(è!ğ
L1_WRBK_ACC
 && d©a->g‘_acûss_ty³(è!ğ
L2_WRBK_ACC
 ) {

219 
d©a
->
	`£t_»¶y
();

220 
»tuºq
->
	`push
(
d©a
);

222 
m_memÜy_·¹™iÚ_un™
->
	`£t_dÚe
(
d©a
);

223 
d–‘e
 
d©a
;

225 
d–‘e
 
cmd
;

227 #ifdeà
DRAM_VIEWCMD


228 
	`´štf
("\n");

236 
m_cÚfig
->
scheduËr_ty³
) {

237 
DRAM_FIFO
: 
	`scheduËr_fifo
(); ;

238 
DRAM_FRFCFS
: 
	`scheduËr_äfcfs
(); ;

240 
	`´štf
("Error: Unknown DRAM schedulerype\n");

241 
	`as£¹
(0);

243 iàĞ
m_cÚfig
->
scheduËr_ty³
 =ğ
DRAM_FRFCFS
 ) {

244 
Äeqs
 = 
m_äfcfs_scheduËr
->
	`num_³ndšg
();

245 iàĞ
Äeqs
 > 
max_mrqs
) {

246 
max_mrqs
 = 
Äeqs
;

248 
ave_mrqs
 +ğ
Äeqs
;

249 
ave_mrqs_·¹Ÿl
 +ğ
Äeqs
;

251 ià(
mrqq
->
	`g‘_Ëngth
(è> 
max_mrqs
) {

252 
max_mrqs
 = 
mrqq
->
	`g‘_Ëngth
();

254 
ave_mrqs
 +ğ
mrqq
->
	`g‘_Ëngth
();

255 
ave_mrqs_·¹Ÿl
 +ğ
mrqq
->
	`g‘_Ëngth
();

258 
k
=
m_cÚfig
->
nbk
;

259 
boŞ
 
issued
 = 
çl£
;

262 
i
=0;i<
m_cÚfig
->
nbk
;i++) {

263 
j
 = (
i
 + 
´io
è% 
m_cÚfig
->
nbk
;

264 
g½
 = 
j
>>
m_cÚfig
->
bk_g_Ëngth
;

265 ià(
bk
[
j
]->
mrq
) {

266 
bk
[
j
]->
mrq
->
d©a
->
	`£t_¡©us
(
IN_PARTITION_DRAM
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

268 iàĞ!
issued
 && !
CCDc
 && !
bk
[
j
]->
RCDc
 &&

269 !(
bkg½
[
g½
]->
CCDLc
) &&

270 (
bk
[
j
]->
cu¼_row
 =ğbk[j]->
mrq
->
row
) &&

271 (
bk
[
j
]->
mrq
->
rw
 =ğ
READ
è&& (
WTRc
 == 0 ) &&

272 (
bk
[
j
]->
¡©e
 =ğ
BANK_ACTIVE
) &&

273 !
rwq
->
	`fuÎ
() ) {

274 ià(
rw
==
WRITE
) {

275 
rw
=
READ
;

276 
rwq
->
	`£t_mš_Ëngth
(
m_cÚfig
->
CL
);

278 
rwq
->
	`push
(
bk
[
j
]->
mrq
);

279 
bk
[
j
]->
mrq
->
txby‹s
 +ğ
m_cÚfig
->
d¿m_©om_size
;

280 
CCDc
 = 
m_cÚfig
->
tCCD
;

281 
bkg½
[
g½
]->
CCDLc
 = 
m_cÚfig
->
tCCDL
;

282 
RTWc
 = 
m_cÚfig
->
tRTW
;

283 
bk
[
j
]->
RTPc
 = 
m_cÚfig
->
BL
/m_cÚfig->
d©a_commªd_äeq_¿tio
;

284 
bkg½
[
g½
]->
RTPLc
 = 
m_cÚfig
->
tRTPL
;

285 
issued
 = 
Œue
;

286 
n_rd
++;

287 
bwut
 +ğ
m_cÚfig
->
BL
/m_cÚfig->
d©a_commªd_äeq_¿tio
;

288 
bwut_·¹Ÿl
 +ğ
m_cÚfig
->
BL
/m_cÚfig->
d©a_commªd_äeq_¿tio
;

289 
bk
[
j
]->
n_acûss
++;

290 #ifdeà
DRAM_VERIFY


291 
PRINT_CYCLE
=1;

292 
	`´štf
("\tRD Bk:%d Row:%03x Col:%03x \n",

293 
j
, 
bk
[j]->
cu¼_row
,

294 
bk
[
j
]->
mrq
->
cŞ
 + bk[j]->mrq->
txby‹s
 - 
m_cÚfig
->
d¿m_©om_size
);

297 iàĞ!(
bk
[
j
]->
mrq
->
txby‹s
 < bk[j]->mrq->
nby‹s
) ) {

298 
bk
[
j
]->
mrq
 = 
NULL
;

302 iàĞ!
issued
 && !
CCDc
 && !
bk
[
j
]->
RCDWRc
 &&

303 !(
bkg½
[
g½
]->
CCDLc
) &&

304 (
bk
[
j
]->
cu¼_row
 =ğbk[j]->
mrq
->
row
) &&

305 (
bk
[
j
]->
mrq
->
rw
 =ğ
WRITE
è&& (
RTWc
 == 0 ) &&

306 (
bk
[
j
]->
¡©e
 =ğ
BANK_ACTIVE
) &&

307 !
rwq
->
	`fuÎ
() ) {

308 ià(
rw
==
READ
) {

309 
rw
=
WRITE
;

310 
rwq
->
	`£t_mš_Ëngth
(
m_cÚfig
->
WL
);

312 
rwq
->
	`push
(
bk
[
j
]->
mrq
);

314 
bk
[
j
]->
mrq
->
txby‹s
 +ğ
m_cÚfig
->
d¿m_©om_size
;

315 
CCDc
 = 
m_cÚfig
->
tCCD
;

316 
bkg½
[
g½
]->
CCDLc
 = 
m_cÚfig
->
tCCDL
;

317 
WTRc
 = 
m_cÚfig
->
tWTR
;

318 
bk
[
j
]->
WTPc
 = 
m_cÚfig
->
tWTP
;

319 
issued
 = 
Œue
;

320 
n_wr
++;

321 
bwut
 +ğ
m_cÚfig
->
BL
/m_cÚfig->
d©a_commªd_äeq_¿tio
;

322 
bwut_·¹Ÿl
 +ğ
m_cÚfig
->
BL
/m_cÚfig->
d©a_commªd_äeq_¿tio
;

323 #ifdeà
DRAM_VERIFY


324 
PRINT_CYCLE
=1;

325 
	`´štf
("\tWR Bk:%d Row:%03x Col:%03x \n",

326 
j
, 
bk
[j]->
cu¼_row
,

327 
bk
[
j
]->
mrq
->
cŞ
 + bk[j]->mrq->
txby‹s
 - 
m_cÚfig
->
d¿m_©om_size
);

330 iàĞ!(
bk
[
j
]->
mrq
->
txby‹s
 < bk[j]->mrq->
nby‹s
) ) {

331 
bk
[
j
]->
mrq
 = 
NULL
;

337 iàĞ!
issued
 && !
RRDc
 &&

338 (
bk
[
j
]->
¡©e
 =ğ
BANK_IDLE
) &&

339 !
bk
[
j
]->
RPc
 && !bk[j]->
RCc
 ) {

340 #ifdeà
DRAM_VERIFY


341 
PRINT_CYCLE
=1;

342 
	`´štf
("\tACT BK:%d NewRow:%03x From:%03x \n",

343 
j
,
bk
[j]->
mrq
->
row
,bk[j]->
cu¼_row
);

346 
bk
[
j
]->
cu¼_row
 = bk[j]->
mrq
->
row
;

347 
bk
[
j
]->
¡©e
 = 
BANK_ACTIVE
;

348 
RRDc
 = 
m_cÚfig
->
tRRD
;

349 
bk
[
j
]->
RCDc
 = 
m_cÚfig
->
tRCD
;

350 
bk
[
j
]->
RCDWRc
 = 
m_cÚfig
->
tRCDWR
;

351 
bk
[
j
]->
RASc
 = 
m_cÚfig
->
tRAS
;

352 
bk
[
j
]->
RCc
 = 
m_cÚfig
->
tRC
;

353 
´io
 = (
j
 + 1è% 
m_cÚfig
->
nbk
;

354 
issued
 = 
Œue
;

355 
n_aù_·¹Ÿl
++;

356 
n_aù
++;

361 iàĞ(!
issued
) &&

362 (
bk
[
j
]->
cu¼_row
 !ğbk[j]->
mrq
->
row
) &&

363 (
bk
[
j
]->
¡©e
 =ğ
BANK_ACTIVE
) &&

364 (!
bk
[
j
]->
RASc
 && !bk[j]->
WTPc
 &&

365 !
bk
[
j
]->
RTPc
 &&

366 !
bkg½
[
g½
]->
RTPLc
) ) {

368 
bk
[
j
]->
¡©e
 = 
BANK_IDLE
;

369 
bk
[
j
]->
RPc
 = 
m_cÚfig
->
tRP
;

370 
´io
 = (
j
 + 1è% 
m_cÚfig
->
nbk
;

371 
issued
 = 
Œue
;

372 
n_´e
++;

373 
n_´e_·¹Ÿl
++;

374 #ifdeà
DRAM_VERIFY


375 
PRINT_CYCLE
=1;

376 
	`´štf
("\tPRE BK:%d Row:%03x \n", 
j
,
bk
[j]->
cu¼_row
);

380 ià(!
CCDc
 && !
RRDc
 && !
RTWc
 && !
WTRc
 && !
bk
[
j
]->
RCDc
 && !bk[j]->
RASc


381 && !
bk
[
j
]->
RCc
 && !bk[j]->
RPc
 && !bk[j]->
RCDWRc
è
k
--;

382 
bk
[
j
]->
n_idË
++;

385 ià(!
issued
) {

386 
n_nİ
++;

387 
n_nİ_·¹Ÿl
++;

388 #ifdeà
DRAM_VIEWCMD


389 
	`´štf
("\tNOP ");

392 ià(
k
) {

393 
n_aùiv™y
++;

394 
n_aùiv™y_·¹Ÿl
++;

396 
n_cmd
++;

397 
n_cmd_·¹Ÿl
++;

400 
	`DEC2ZERO
(
RRDc
);

401 
	`DEC2ZERO
(
CCDc
);

402 
	`DEC2ZERO
(
RTWc
);

403 
	`DEC2ZERO
(
WTRc
);

404 
j
=0;j<
m_cÚfig
->
nbk
;j++) {

405 
	`DEC2ZERO
(
bk
[
j
]->
RCDc
);

406 
	`DEC2ZERO
(
bk
[
j
]->
RASc
);

407 
	`DEC2ZERO
(
bk
[
j
]->
RCc
);

408 
	`DEC2ZERO
(
bk
[
j
]->
RPc
);

409 
	`DEC2ZERO
(
bk
[
j
]->
RCDWRc
);

410 
	`DEC2ZERO
(
bk
[
j
]->
WTPc
);

411 
	`DEC2ZERO
(
bk
[
j
]->
RTPc
);

413 
j
=0; j<
m_cÚfig
->
nbkg½
; j++) {

414 
	`DEC2ZERO
(
bkg½
[
j
]->
CCDLc
);

415 
	`DEC2ZERO
(
bkg½
[
j
]->
RTPLc
);

418 #ifdeà
DRAM_VISUALIZE


419 
	`visu®ize
();

421 
	}
}

424 
şass
 
mem_ãtch
* 
	gd¿m_t
::
	$»tuº_queue_pİ
()

426  
»tuºq
->
	`pİ
();

427 
	}
}

429 
şass
 
mem_ãtch
* 
	gd¿m_t
::
	$»tuº_queue_tİ
()

431  
»tuºq
->
	`tİ
();

432 
	}
}

434 
	gd¿m_t
::
	$´št
Ğ
FILE
* 
simFe
) const

436 
i
;

437 
	`årštf
(
simFe
,"DRAM[%d]: %d bks, busW=%d BL=%d CL=%d, ",

438 
id
, 
m_cÚfig
->
nbk
, m_cÚfig->
busW
, m_cÚfig->
BL
, m_cÚfig->
CL
 );

439 
	`årštf
(
simFe
,"tRRD=%dCCD=%d,RCD=%dRAS=%dRP=%dRC=%d\n",

440 
m_cÚfig
->
tCCD
, m_cÚfig->
tRRD
, m_cÚfig->
tRCD
, m_cÚfig->
tRAS
, m_cÚfig->
tRP
, m_cÚfig->
tRC
 );

441 
	`årštf
(
simFe
,"n_cmd=%d‚_nop=%d‚_act=%d‚_pre=%d‚_req=%d‚_rd=%d‚_write=%d bw_util=%.4g\n",

442 
n_cmd
, 
n_nİ
, 
n_aù
, 
n_´e
, 
n_»q
, 
n_rd
, 
n_wr
,

443 ()
bwut
/
n_cmd
);

444 
	`årštf
(
simFe
,"n_activity=%d dram_eff=%.4g\n",

445 
n_aùiv™y
, ()
bwut
/n_activity);

446 
i
=0;i<
m_cÚfig
->
nbk
;i++) {

447 
	`årštf
(
simFe
, "bk%d: %d¨%d˜",
i
,
bk
[i]->
n_acûss
,bk[i]->
n_idË
);

449 
	`årštf
(
simFe
, "\n");

450 
	`årštf
(
simFe
, "dram_util_bins:");

451 
i
=0;i<10;i++è
	`årštf
(
simFe
, " %d", 
d¿m_ut_bšs
[i]);

452 
	`årštf
(
simFe
, "\ndram_eff_bins:");

453 
i
=0;i<10;i++è
	`årštf
(
simFe
, " %d", 
d¿m_eff_bšs
[i]);

454 
	`årštf
(
simFe
, "\n");

455 if(
m_cÚfig
->
scheduËr_ty³
=ğ
DRAM_FRFCFS
)

456 
	`årštf
(
simFe
, "mrqq: max=%d‡vg=%g\n", 
max_mrqs
, ()
ave_mrqs
/
n_cmd
);

457 
	}
}

459 
	gd¿m_t
::
	$visu®ize
() const

461 
	`´štf
("RRDc=%d CCDc=%d mrqq.Length=%d„wq.Length=%d\n",

462 
RRDc
, 
CCDc
, 
mrqq
->
	`g‘_Ëngth
(),
rwq
->get_length());

463 
i
=0;i<
m_cÚfig
->
nbk
;i++) {

464 
	`´štf
("BK%d: state=%c curr_row=%03x, %2d %2d %2d %2d %p ",

465 
i
, 
bk
[i]->
¡©e
, bk[i]->
cu¼_row
,

466 
bk
[
i
]->
RCDc
, bk[i]->
RASc
,

467 
bk
[
i
]->
RPc
, bk[i]->
RCc
,

468 
bk
[
i
]->
mrq
 );

469 ià(
bk
[
i
]->
mrq
)

470 
	`´štf
("txf: %d %d", 
bk
[
i
]->
mrq
->
nby‹s
, bk[i]->mrq->
txby‹s
);

471 
	`´štf
("\n");

473 iàĞ
m_äfcfs_scheduËr
 )

474 
m_äfcfs_scheduËr
->
	`´št
(
¡dout
);

475 
	}
}

477 
	gd¿m_t
::
	$´št_¡©
Ğ
FILE
* 
simFe
 )

479 
	`årštf
(
simFe
,"DRAM (%d):‚_cmd=%d‚_nop=%d‚_act=%d‚_pre=%d‚_req=%d‚_rd=%d‚_write=%d bw_util=%.4g ",

480 
id
, 
n_cmd
, 
n_nİ
, 
n_aù
, 
n_´e
, 
n_»q
, 
n_rd
, 
n_wr
,

481 ()
bwut
/
n_cmd
);

482 
	`årštf
(
simFe
, "mrqq: %d %.4g mrqsmax=%d ", 
max_mrqs
, ()
ave_mrqs
/
n_cmd
, 
max_mrqs_‹mp
);

483 
	`årštf
(
simFe
, "\n");

484 
	`årštf
(
simFe
, "dram_util_bins:");

485 
i
=0;i<10;i++è
	`årštf
(
simFe
, " %d", 
d¿m_ut_bšs
[i]);

486 
	`årštf
(
simFe
, "\ndram_eff_bins:");

487 
i
=0;i<10;i++è
	`årštf
(
simFe
, " %d", 
d¿m_eff_bšs
[i]);

488 
	`årštf
(
simFe
, "\n");

489 
max_mrqs_‹mp
 = 0;

490 
	}
}

492 
	gd¿m_t
::
	$visu®iz”_´št
Ğ
gzFe
 
visu®iz”_fe
 )

495 
	`gz´štf
(
visu®iz”_fe
,"d¿mncmd: %u %u\n",
id
, 
n_cmd_·¹Ÿl
);

496 
	`gz´štf
(
visu®iz”_fe
,"d¿mnİ: %u %u\n",
id
,
n_nİ_·¹Ÿl
);

497 
	`gz´štf
(
visu®iz”_fe
,"d¿mÇù: %u %u\n",
id
,
n_aù_·¹Ÿl
);

498 
	`gz´štf
(
visu®iz”_fe
,"d¿mÅ»: %u %u\n",
id
,
n_´e_·¹Ÿl
);

499 
	`gz´štf
(
visu®iz”_fe
,"d¿mÄeq: %u %u\n",
id
,
n_»q_·¹Ÿl
);

500 
	`gz´štf
(
visu®iz”_fe
,"d¿mavemrqs: %u %u\n",
id
,

501 
n_cmd_·¹Ÿl
?(
ave_mrqs_·¹Ÿl
/n_cmd_partial ):0);

504 
	`gz´štf
(
visu®iz”_fe
,"dramutil: %u %u\n",

505 
id
,
n_cmd_·¹Ÿl
?100*
bwut_·¹Ÿl
/n_cmd_partial:0);

506 
	`gz´štf
(
visu®iz”_fe
,"drameff: %u %u\n",

507 
id
,
n_aùiv™y_·¹Ÿl
?100*
bwut_·¹Ÿl
/n_activity_partial:0);

510 
bwut_·¹Ÿl
 = 0;

511 
n_aùiv™y_·¹Ÿl
 = 0;

512 
ave_mrqs_·¹Ÿl
 = 0;

513 
n_cmd_·¹Ÿl
 = 0;

514 
n_nİ_·¹Ÿl
 = 0;

515 
n_aù_·¹Ÿl
 = 0;

516 
n_´e_·¹Ÿl
 = 0;

517 
n_»q_·¹Ÿl
 = 0;

520 
j
 = 0; j < 
m_cÚfig
->
nbk
; j++) {

521 
	`gz´štf
(
visu®iz”_fe
,"d¿mglob®_acc_r: %u %u %u\n", 
id
, 
j
,

522 
m_¡©s
->
mem_acûss_ty³_¡©s
[
GLOBAL_ACC_R
][
id
][
j
]);

523 
	`gz´štf
(
visu®iz”_fe
,"d¿mglob®_acc_w: %u %u %u\n", 
id
, 
j
,

524 
m_¡©s
->
mem_acûss_ty³_¡©s
[
GLOBAL_ACC_W
][
id
][
j
]);

525 
	`gz´štf
(
visu®iz”_fe
,"d¿mloÿl_acc_r: %u %u %u\n", 
id
, 
j
,

526 
m_¡©s
->
mem_acûss_ty³_¡©s
[
LOCAL_ACC_R
][
id
][
j
]);

527 
	`gz´štf
(
visu®iz”_fe
,"d¿mloÿl_acc_w: %u %u %u\n", 
id
, 
j
,

528 
m_¡©s
->
mem_acûss_ty³_¡©s
[
LOCAL_ACC_W
][
id
][
j
]);

529 
	`gz´štf
(
visu®iz”_fe
,"d¿mcÚ¡_acc_r: %u %u %u\n", 
id
, 
j
,

530 
m_¡©s
->
mem_acûss_ty³_¡©s
[
CONST_ACC_R
][
id
][
j
]);

531 
	`gz´štf
(
visu®iz”_fe
,"d¿m‹xtu»_acc_r: %u %u %u\n", 
id
, 
j
,

532 
m_¡©s
->
mem_acûss_ty³_¡©s
[
TEXTURE_ACC_R
][
id
][
j
]);

534 
	}
}

537 
	gd¿m_t
::
	$£t_d¿m_pow”_¡©s
Ğ&
cmd
,

538 &
aùiv™y
,

539 &
nİ
,

540 &
aù
,

541 &
´e
,

542 &
rd
,

543 &
wr
,

544 &
»q
) const{

547 
cmd
 = 
n_cmd
;

548 
aùiv™y
 = 
n_aùiv™y
;

549 
nİ
 = 
n_nİ
;

550 
aù
 = 
n_aù
;

551 
´e
 = 
n_´e
;

552 
rd
 = 
n_rd
;

553 
wr
 = 
n_wr
;

554 
»q
 = 
n_»q
;

555 
	}
}

	@dram.h

29 #iâdeà
DRAM_H


30 
	#DRAM_H


	)

32 
	~"d–ayqueue.h
"

33 
	~<£t
>

34 
	~<zlib.h
>

35 
	~<¡dio.h
>

36 
	~<¡dlib.h
>

38 
	#READ
 'R'

39 
	#WRITE
 'W'

	)

40 
	#BANK_IDLE
 'I'

	)

41 
	#BANK_ACTIVE
 'A'

	)

43 şas 
	cd¿m_»q_t
 {

44 
	mpublic
:

45 
d¿m_»q_t
Ğ
şass
 
mem_ãtch
 *
d©a
 );

47 
	mrow
;

48 
	mcŞ
;

49 
	mbk
;

50 
	mnby‹s
;

51 
	mtxby‹s
;

52 
	mdqby‹s
;

53 
	mage
;

54 
	mtime¡amp
;

55 
	mrw
;

56 
	maddr
;

57 
	mš£¹iÚ_time
;

58 
şass
 
mem_ãtch
 * 
	md©a
;

61 
	sbªkg½_t


63 
	mCCDLc
;

64 
	mRTPLc
;

67 
	sbªk_t


69 
	mRCDc
;

70 
	mRCDWRc
;

71 
	mRASc
;

72 
	mRPc
;

73 
	mRCc
;

74 
	mWTPc
;

75 
	mRTPc
;

77 
	mrw
;

78 
	m¡©e
;

79 
	mcu¼_row
;

81 
d¿m_»q_t
 *
	mmrq
;

83 
	mn_acûss
;

84 
	mn_wr™es
;

85 
	mn_idË
;

87 
	mbkg½šdex
;

90 
	gmem_ãtch
;

92 şas 
	cd¿m_t


94 
	mpublic
:

95 
d¿m_t
Ğ
·r™iÚ_id
, cÚ¡ 
memÜy_cÚfig
 *
cÚfig
, 
şass
 
memÜy_¡©s_t
 *
¡©s
,

96 
şass
 
memÜy_·¹™iÚ_un™
 *
mp
 );

98 
boŞ
 
	$fuÎ
() const;

99 
	$´št
Ğ
FILE
* 
simFe
 ) const;

100 
	$visu®ize
() const;

101 
	`´št_¡©
Ğ
FILE
* 
simFe
 );

102 
	$que_Ëngth
() const;

103 
boŞ
 
	$»tuºq_fuÎ
() const;

104 
	$queue_lim™
() const;

105 
	`visu®iz”_´št
Ğ
gzFe
 
visu®iz”_fe
 );

107 
şass
 
mem_ãtch
* 
	`»tuº_queue_pİ
();

108 
şass
 
mem_ãtch
* 
	`»tuº_queue_tİ
();

109 
	`push
Ğ
şass
 
mem_ãtch
 *
d©a
 );

110 
	`cyşe
();

111 
	`d¿m_log
 (
sk
);

113 
şass
 
memÜy_·¹™iÚ_un™
 *
m_memÜy_·¹™iÚ_un™
;

114 
id
;

117 
	$£t_d¿m_pow”_¡©s
(&
cmd
,

118 &
aùiv™y
,

119 &
nİ
,

120 &
aù
,

121 &
´e
,

122 &
rd
,

123 &
wr
,

124 &
»q
) const;

126 
´iv©e
:

127 
	`scheduËr_fifo
();

128 
	`scheduËr_äfcfs
();

130 cÚ¡ 
memÜy_cÚfig
 *
m_cÚfig
;

132 
bªkg½_t
 **
bkg½
;

134 
bªk_t
 **
bk
;

135 
´io
;

137 
RRDc
;

138 
CCDc
;

139 
RTWc
;

140 
WTRc
;

142 
rw
;

144 
³ndšg_wr™es
;

146 
fifo_p–še
<
d¿m_»q_t
> *
rwq
;

147 
fifo_p–še
<
d¿m_»q_t
> *
mrqq
;

150 
fifo_p–še
<
mem_ãtch
> *
»tuºq
;

152 
d¿m_ut_bšs
[10];

153 
d¿m_eff_bšs
[10];

154 
Ï¡_n_cmd
, 
Ï¡_n_aùiv™y
, 
Ï¡_bwut
;

156 
n_cmd
;

157 
n_aùiv™y
;

158 
n_nİ
;

159 
n_aù
;

160 
n_´e
;

161 
n_rd
;

162 
n_wr
;

163 
n_»q
;

164 
max_mrqs_‹mp
;

166 
bwut
;

167 
max_mrqs
;

168 
ave_mrqs
;

170 
şass
 
äfcfs_scheduËr
* 
m_äfcfs_scheduËr
;

172 
n_cmd_·¹Ÿl
;

173 
n_aùiv™y_·¹Ÿl
;

174 
n_nİ_·¹Ÿl
;

175 
n_aù_·¹Ÿl
;

176 
n_´e_·¹Ÿl
;

177 
n_»q_·¹Ÿl
;

178 
ave_mrqs_·¹Ÿl
;

179 
bwut_·¹Ÿl
;

181 
memÜy_¡©s_t
 *
m_¡©s
;

182 
şass
 
Sts
* 
mrqq_Di¡
;

184 
ä›nd
 
şass
 
äfcfs_scheduËr
;

	@dram_sched.cc

28 
	~"d¿m_sched.h
"

29 
	~"gpu-misc.h
"

30 
	~"gpu-sim.h
"

31 
	~"../ab¡¿ù_h¬dw¬e_mod–.h
"

32 
	~"mem_Ï‹ncy_¡©.h
"

34 
	gäfcfs_scheduËr
::
	$äfcfs_scheduËr
ĞcÚ¡ 
memÜy_cÚfig
 *
cÚfig
, 
d¿m_t
 *
dm
, 
memÜy_¡©s_t
 *
¡©s
 )

36 
m_cÚfig
 = 
cÚfig
;

37 
m_¡©s
 = 
¡©s
;

38 
m_num_³ndšg
 = 0;

39 
m_d¿m
 = 
dm
;

40 
m_queue
 = 
Ãw
 
¡d
::
li¡
<
d¿m_»q_t
*>[
m_cÚfig
->
nbk
];

41 
m_bšs
 = 
Ãw
 
¡d
::
m­
<,¡d::
li¡
<¡d::li¡<
d¿m_»q_t
*>::
™”©Ü
> >[ 
m_cÚfig
->
nbk
 ];

42 
m_Ï¡_row
 = 
Ãw
 
¡d
::
li¡
<¡d::li¡<
d¿m_»q_t
*>::
™”©Ü
>*[ 
m_cÚfig
->
nbk
 ];

43 
cu¼_row_£rviû_time
 = 
Ãw
 [
m_cÚfig
->
nbk
];

44 
row_£rviû_time¡amp
 = 
Ãw
 [
m_cÚfig
->
nbk
];

45  
i
=0; i < 
m_cÚfig
->
nbk
; i++ ) {

46 
m_queue
[
i
].
	`ş—r
();

47 
m_bšs
[
i
].
	`ş—r
();

48 
m_Ï¡_row
[
i
] = 
NULL
;

49 
cu¼_row_£rviû_time
[
i
] = 0;

50 
row_£rviû_time¡amp
[
i
] = 0;

53 
	}
}

55 
	gäfcfs_scheduËr
::
	$add_»q
Ğ
d¿m_»q_t
 *
»q
 )

57 
m_num_³ndšg
++;

58 
m_queue
[
»q
->
bk
].
	`push_äÚt
(req);

59 
¡d
::
li¡
<
d¿m_»q_t
*>::
™”©Ü
 
±r
 = 
m_queue
[
»q
->
bk
].
	`begš
();

60 
m_bšs
[
»q
->
bk
][»q->
row
].
	`push_äÚt
Ğ
±r
 );

61 
	}
}

63 
	gäfcfs_scheduËr
::
	$d©a_cŞËùiÚ
(
bªk
)

65 ià(
gpu_sim_cyşe
 > 
row_£rviû_time¡amp
[
bªk
]) {

66 
cu¼_row_£rviû_time
[
bªk
] = 
gpu_sim_cyşe
 - 
row_£rviû_time¡amp
[bank];

67 ià(
cu¼_row_£rviû_time
[
bªk
] > 
m_¡©s
->
max_£rviûtime2§m”ow
[
m_d¿m
->
id
][bank])

68 
m_¡©s
->
max_£rviûtime2§m”ow
[
m_d¿m
->
id
][
bªk
] = 
cu¼_row_£rviû_time
[bank];

70 
cu¼_row_£rviû_time
[
bªk
] = 0;

71 
row_£rviû_time¡amp
[
bªk
] = 
gpu_sim_cyşe
;

72 ià(
m_¡©s
->
cÚcu¼’t_row_acûss
[
m_d¿m
->
id
][
bªk
] > m_¡©s->
max_cÚc_acûss2§m”ow
[m_dram->id][bank]) {

73 
m_¡©s
->
max_cÚc_acûss2§m”ow
[
m_d¿m
->
id
][
bªk
] = m_¡©s->
cÚcu¼’t_row_acûss
[m_dram->id][bank];

75 
m_¡©s
->
cÚcu¼’t_row_acûss
[
m_d¿m
->
id
][
bªk
] = 0;

76 
m_¡©s
->
num_aùiv©es
[
m_d¿m
->
id
][
bªk
]++;

77 
	}
}

79 
d¿m_»q_t
 *
	gäfcfs_scheduËr
::
	$scheduË
Ğ
bªk
, 
cu¼_row
 )

81 iàĞ
m_Ï¡_row
[
bªk
] =ğ
NULL
 ) {

82 iàĞ
m_queue
[
bªk
].
	`em±y
() )

83  
NULL
;

85 
¡d
::
m­
<,¡d::
li¡
<¡d::li¡<
d¿m_»q_t
*>::
™”©Ü
> >::™”©Ü 
bš_±r
 = 
m_bšs
[
bªk
].
	`fšd
Ğ
cu¼_row
 );

86 iàĞ
bš_±r
 =ğ
m_bšs
[
bªk
].
	`’d
()) {

87 
d¿m_»q_t
 *
»q
 = 
m_queue
[
bªk
].
	`back
();

88 
bš_±r
 = 
m_bšs
[
bªk
].
	`fšd
Ğ
»q
->
row
 );

89 
	`as£¹
Ğ
bš_±r
 !ğ
m_bšs
[
bªk
].
	`’d
() );

90 
m_Ï¡_row
[
bªk
] = &(
bš_±r
->
£cÚd
);

91 
	`d©a_cŞËùiÚ
(
bªk
);

93 
m_Ï¡_row
[
bªk
] = &(
bš_±r
->
£cÚd
);

97 
¡d
::
li¡
<
d¿m_»q_t
*>::
™”©Ü
 
Ãxt
 = 
m_Ï¡_row
[
bªk
]->
	`back
();

98 
d¿m_»q_t
 *
»q
 = (*
Ãxt
);

100 
m_¡©s
->
cÚcu¼’t_row_acûss
[
m_d¿m
->
id
][
bªk
]++;

101 
m_¡©s
->
row_acûss
[
m_d¿m
->
id
][
bªk
]++;

102 
m_Ï¡_row
[
bªk
]->
	`pİ_back
();

104 
m_queue
[
bªk
].
	`”a£
(
Ãxt
);

105 iàĞ
m_Ï¡_row
[
bªk
]->
	`em±y
() ) {

106 
m_bšs
[
bªk
].
	`”a£
Ğ
»q
->
row
 );

107 
m_Ï¡_row
[
bªk
] = 
NULL
;

109 #ifdeà
DEBUG_FAST_IDEAL_SCHED


110 iàĞ
»q
 )

111 
	`´štf
("%08u : DRAM(%u) scheduling memory„equesto bank=%u,„ow=%u\n",

112 ()
gpu_sim_cyşe
, 
m_d¿m
->
id
, 
»q
->
bk
,„eq->
row
 );

114 
	`as£¹
Ğ
»q
 !ğ
NULL
 && 
m_num_³ndšg
 != 0 );

115 
m_num_³ndšg
--;

117  
»q
;

118 
	}
}

121 
	gäfcfs_scheduËr
::
	$´št
Ğ
FILE
 *
å
 )

123  
b
=0; b < 
m_cÚfig
->
nbk
; b++ ) {

124 
	`´štf
(" %u: queuËngth = %u\n", 
b
, ()
m_queue
[b].
	`size
() );

126 
	}
}

128 
	gd¿m_t
::
	$scheduËr_äfcfs
()

130 
mrq_Ï‹ncy
;

131 
äfcfs_scheduËr
 *
sched
 = 
m_äfcfs_scheduËr
;

132  !
mrqq
->
	`em±y
(è&& (!
m_cÚfig
->
gpgpu_äfcfs_d¿m_sched_queue_size
 || 
sched
->
	`num_³ndšg
() < m_config->gpgpu_frfcfs_dram_sched_queue_size)) {

133 
d¿m_»q_t
 *
»q
 = 
mrqq
->
	`pİ
();

137 
m_¡©s
->
tÙ®_n_acûss
++;

139 if(
»q
->
d©a
->
	`g‘_ty³
(è=ğ
WRITE_REQUEST
){

140 
m_¡©s
->
tÙ®_n_wr™es
++;

141 }if(
»q
->
d©a
->
	`g‘_ty³
(è=ğ
READ_REQUEST
){

142 
m_¡©s
->
tÙ®_n_»ads
++;

145 
»q
->
d©a
->
	`£t_¡©us
(
IN_PARTITION_MC_INPUT_QUEUE
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

146 
sched
->
	`add_»q
(
»q
);

149 
d¿m_»q_t
 *
»q
;

150 
i
;

151  
i
=0; i < 
m_cÚfig
->
nbk
; i++ ) {

152 
b
 = (
i
+
´io
)%
m_cÚfig
->
nbk
;

153 iàĞ!
bk
[
b
]->
mrq
 ) {

155 
»q
 = 
sched
->
	`scheduË
(
b
, 
bk
[b]->
cu¼_row
);

157 iàĞ
»q
 ) {

158 
»q
->
d©a
->
	`£t_¡©us
(
IN_PARTITION_MC_BANK_ARB_QUEUE
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

159 
´io
 = (´io+1)%
m_cÚfig
->
nbk
;

160 
bk
[
b
]->
mrq
 = 
»q
;

161 ià(
m_cÚfig
->
gpgpu_memÏ‹ncy_¡©
) {

162 
mrq_Ï‹ncy
 = 
gpu_sim_cyşe
 + 
gpu_tÙ_sim_cyşe
 - 
bk
[
b
]->
mrq
->
time¡amp
;

163 
bk
[
b
]->
mrq
->
time¡amp
 = 
gpu_tÙ_sim_cyşe
 + 
gpu_sim_cyşe
;

164 
m_¡©s
->
mrq_Ït_bË
[
	`LOGB2
(
mrq_Ï‹ncy
)]++;

165 ià(
mrq_Ï‹ncy
 > 
m_¡©s
->
max_mrq_Ï‹ncy
) {

166 
m_¡©s
->
max_mrq_Ï‹ncy
 = 
mrq_Ï‹ncy
;

174 
	}
}

	@dram_sched.h

28 #iâdeà
d¿m_sched_h_INCLUDED


29 
	#d¿m_sched_h_INCLUDED


	)

31 
	~"d¿m.h
"

32 
	~"shad”.h
"

33 
	~"gpu-sim.h
"

34 
	~"gpu-misc.h
"

35 
	~<li¡
>

36 
	~<m­
>

38 şas 
	cäfcfs_scheduËr
 {

39 
	mpublic
:

40 
äfcfs_scheduËr
ĞcÚ¡ 
memÜy_cÚfig
 *
cÚfig
, 
d¿m_t
 *
dm
, 
memÜy_¡©s_t
 *
¡©s
 );

41 
add_»q
Ğ
d¿m_»q_t
 *
»q
 );

42 
d©a_cŞËùiÚ
(
bªk
);

43 
d¿m_»q_t
 *
scheduË
Ğ
bªk
, 
cu¼_row
 );

44 
´št
Ğ
FILE
 *
å
 );

45 
	$num_³ndšg
(ècÚ¡ {  
m_num_³ndšg
;}

47 
´iv©e
:

48 cÚ¡ 
memÜy_cÚfig
 *
m_cÚfig
;

49 
d¿m_t
 *
m_d¿m
;

50 
m_num_³ndšg
;

51 
¡d
::
li¡
<
d¿m_»q_t
*> *
m_queue
;

52 
¡d
::
m­
<,¡d::
li¡
<¡d::li¡<
d¿m_»q_t
*>::
™”©Ü
> > *
m_bšs
;

53 
¡d
::
li¡
<¡d::li¡<
d¿m_»q_t
*>::
™”©Ü
> **
m_Ï¡_row
;

54 *
cu¼_row_£rviû_time
;

55 *
row_£rviû_time¡amp
;

57 
memÜy_¡©s_t
 *
m_¡©s
;

58 
	}
};

	@gpu-cache.cc

28 
	~"gpu-ÿche.h
"

29 
	~"¡©-toŞ.h
"

30 
	~<as£¹.h
>

32 
	#MAX_DEFAULT_CACHE_SIZE_MULTIBLIER
 4

	)

35 cÚ¡ * 
	$ÿche_»que¡_¡©us_¡r
(
ÿche_»que¡_¡©us
 
¡©us
)

37 cÚ¡ * 
¡©ic_ÿche_»que¡_¡©us_¡r
[] = {

44 
	`as£¹
((
¡©ic_ÿche_»que¡_¡©us_¡r
è/ (cÚ¡ *è=ğ
NUM_CACHE_REQUEST_STATUS
);

45 
	`as£¹
(
¡©us
 < 
NUM_CACHE_REQUEST_STATUS
);

47  
¡©ic_ÿche_»que¡_¡©us_¡r
[
¡©us
];

48 
	}
}

50 
	gl2_ÿche_cÚfig
::
	$š™
(
lš—r_to_¿w_add»ss_Œª¦©iÚ
 *
add»ss_m­pšg
){

51 
ÿche_cÚfig
::
	`š™
(
m_cÚfig_¡ršg
,
FuncCacheP»ãrNÚe
);

52 
m_add»ss_m­pšg
 = 
add»ss_m­pšg
;

53 
	}
}

55 
	gl2_ÿche_cÚfig
::
	$£t_šdex
(
Ãw_addr_ty³
 
addr
) const{

56 if(!
m_add»ss_m­pšg
){

57 (
addr
 >> 
m_lše_sz_log2
è& (
m_n£t
-1);

60 
Ãw_addr_ty³
 
·¹_addr
 = 
m_add»ss_m­pšg
->
	`·¹™iÚ_add»ss
(
addr
);

61 (
·¹_addr
 >> 
m_lše_sz_log2
è& (
m_n£t
 -1);

63 
	}
}

65 
	gg_¬¿y
::~
	$g_¬¿y
()

67 
d–‘e
[] 
m_lšes
;

68 
	}
}

70 
	gg_¬¿y
::
	$g_¬¿y
Ğ
ÿche_cÚfig
 &
cÚfig
,

71 
cÜe_id
,

72 
ty³_id
,

73 
ÿche_block_t
* 
Ãw_lšes
)

74 : 
	`m_cÚfig
Ğ
cÚfig
 ),

75 
	$m_lšes
Ğ
Ãw_lšes
 )

77 
	`š™
Ğ
cÜe_id
, 
ty³_id
 );

78 
	}
}

80 
	gg_¬¿y
::
	$upd©e_ÿche_·¿m‘”s
(
ÿche_cÚfig
 &
cÚfig
)

82 
m_cÚfig
=
cÚfig
;

83 
	}
}

85 
	gg_¬¿y
::
	$g_¬¿y
Ğ
ÿche_cÚfig
 &
cÚfig
,

86 
cÜe_id
,

87 
ty³_id
 )

88 : 
	$m_cÚfig
Ğ
cÚfig
 )

91 
m_lšes
 = 
Ãw
 
ÿche_block_t
[
MAX_DEFAULT_CACHE_SIZE_MULTIBLIER
*
cÚfig
.
	`g‘_num_lšes
()];

92 
	`š™
Ğ
cÜe_id
, 
ty³_id
 );

93 
	}
}

95 
	gg_¬¿y
::
	$š™
Ğ
cÜe_id
, 
ty³_id
 )

97 
m_acûss
 = 0;

98 
m_miss
 = 0;

99 
m_³ndšg_h™
 = 0;

100 
m_»s_ç
 = 0;

102 
m_´ev_¢­shÙ_acûss
 = 0;

103 
m_´ev_¢­shÙ_miss
 = 0;

104 
m_´ev_¢­shÙ_³ndšg_h™
 = 0;

105 
m_cÜe_id
 = 
cÜe_id
;

106 
m_ty³_id
 = 
ty³_id
;

107 
	}
}

109 
ÿche_»que¡_¡©us
 
	gg_¬¿y
::
	$´obe
Ğ
Ãw_addr_ty³
 
addr
, &
idx
 ) const {

111 
£t_šdex
 = 
m_cÚfig
.
	`£t_šdex
(
addr
);

112 
Ãw_addr_ty³
 
g
 = 
m_cÚfig
.
	`g
(
addr
);

114 
šv®id_lše
 = ()-1;

115 
v®id_lše
 = ()-1;

116 
v®id_time¡amp
 = ()-1;

118 
boŞ
 
®l_»£rved
 = 
Œue
;

121 
way
=0; way<
m_cÚfig
.
m_assoc
; way++) {

122 
šdex
 = 
£t_šdex
*
m_cÚfig
.
m_assoc
+
way
;

123 
ÿche_block_t
 *
lše
 = &
m_lšes
[
šdex
];

124 ià(
lše
->
m_g
 =ğ
g
) {

125 iàĞ
lše
->
m_¡©us
 =ğ
RESERVED
 ) {

126 
idx
 = 
šdex
;

127  
HIT_RESERVED
;

128 } iàĞ
lše
->
m_¡©us
 =ğ
VALID
 ) {

129 
idx
 = 
šdex
;

130  
HIT
;

131 } iàĞ
lše
->
m_¡©us
 =ğ
MODIFIED
 ) {

132 
idx
 = 
šdex
;

133  
HIT
;

135 
	`as£¹
Ğ
lše
->
m_¡©us
 =ğ
INVALID
 );

138 ià(
lše
->
m_¡©us
 !ğ
RESERVED
) {

139 
®l_»£rved
 = 
çl£
;

140 ià(
lše
->
m_¡©us
 =ğ
INVALID
) {

141 
šv®id_lše
 = 
šdex
;

144 iàĞ
m_cÚfig
.
m_»¶aûm’t_pŞicy
 =ğ
LRU
 ) {

145 iàĞ
lše
->
m_Ï¡_acûss_time
 < 
v®id_time¡amp
 ) {

146 
v®id_time¡amp
 = 
lše
->
m_Ï¡_acûss_time
;

147 
v®id_lše
 = 
šdex
;

149 } iàĞ
m_cÚfig
.
m_»¶aûm’t_pŞicy
 =ğ
FIFO
 ) {

150 iàĞ
lše
->
m_®loc_time
 < 
v®id_time¡amp
 ) {

151 
v®id_time¡amp
 = 
lše
->
m_®loc_time
;

152 
v®id_lše
 = 
šdex
;

158 iàĞ
®l_»£rved
 ) {

159 
	`as£¹
Ğ
m_cÚfig
.
m_®loc_pŞicy
 =ğ
ON_MISS
 );

160  
RESERVATION_FAIL
;

163 iàĞ
šv®id_lše
 != ()-1 ) {

164 
idx
 = 
šv®id_lše
;

165 } iàĞ
v®id_lše
 != ()-1) {

166 
idx
 = 
v®id_lše
;

167 } 
	`abÜt
();

169  
MISS
;

170 
	}
}

172 
ÿche_»que¡_¡©us
 
	gg_¬¿y
::
	$acûss
Ğ
Ãw_addr_ty³
 
addr
, 
time
, &
idx
 )

174 
boŞ
 
wb
=
çl£
;

175 
ÿche_block_t
 
eviùed
;

176 
ÿche_»que¡_¡©us
 
»suÉ
 = 
	`acûss
(
addr
,
time
,
idx
,
wb
,
eviùed
);

177 
	`as£¹
(!
wb
);

178  
»suÉ
;

179 
	}
}

181 
ÿche_»que¡_¡©us
 
	gg_¬¿y
::
	$acûss
Ğ
Ãw_addr_ty³
 
addr
, 
time
, &
idx
, 
boŞ
 &
wb
, 
ÿche_block_t
 &
eviùed
 )

183 
m_acûss
++;

184 
	`shad”_ÿche_acûss_log
(
m_cÜe_id
, 
m_ty³_id
, 0);

185 
ÿche_»que¡_¡©us
 
¡©us
 = 
	`´obe
(
addr
,
idx
);

186 
¡©us
) {

187 
HIT_RESERVED
:

188 
m_³ndšg_h™
++;

189 
HIT
:

190 
m_lšes
[
idx
].
m_Ï¡_acûss_time
=
time
;

192 
MISS
:

193 
m_miss
++;

194 
	`shad”_ÿche_acûss_log
(
m_cÜe_id
, 
m_ty³_id
, 1);

195 iàĞ
m_cÚfig
.
m_®loc_pŞicy
 =ğ
ON_MISS
 ) {

196 ifĞ
m_lšes
[
idx
].
m_¡©us
 =ğ
MODIFIED
 ) {

197 
wb
 = 
Œue
;

198 
eviùed
 = 
m_lšes
[
idx
];

200 
m_lšes
[
idx
].
	`®loÿ‹
Ğ
m_cÚfig
.
	`g
(
addr
), m_cÚfig.
	`block_addr
×ddr), 
time
 );

203 
RESERVATION_FAIL
:

204 
m_»s_ç
++;

205 
	`shad”_ÿche_acûss_log
(
m_cÜe_id
, 
m_ty³_id
, 1);

208 
	`årštf
Ğ
¡d”r
, "tag_array::access - Error: Unknown"

209 "ÿche_»que¡_¡©u %d\n", 
¡©us
 );

210 
	`abÜt
();

212  
¡©us
;

213 
	}
}

215 
	gg_¬¿y
::
	$fl
Ğ
Ãw_addr_ty³
 
addr
, 
time
 )

217 
	`as£¹
Ğ
m_cÚfig
.
m_®loc_pŞicy
 =ğ
ON_FILL
 );

218 
idx
;

219 
ÿche_»que¡_¡©us
 
¡©us
 = 
	`´obe
(
addr
,
idx
);

220 
	`as£¹
(
¡©us
==
MISS
);

221 
m_lšes
[
idx
].
	`®loÿ‹
Ğ
m_cÚfig
.
	`g
(
addr
), m_cÚfig.
	`block_addr
×ddr), 
time
 );

222 
m_lšes
[
idx
].
	`fl
(
time
);

223 
	}
}

225 
	gg_¬¿y
::
	$fl
Ğ
šdex
, 
time
 )

227 
	`as£¹
Ğ
m_cÚfig
.
m_®loc_pŞicy
 =ğ
ON_MISS
 );

228 
m_lšes
[
šdex
].
	`fl
(
time
);

229 
	}
}

231 
	gg_¬¿y
::
	$æush
()

233 
i
=0; i < 
m_cÚfig
.
	`g‘_num_lšes
(); i++)

234 
m_lšes
[
i
].
m_¡©us
 = 
INVALID
;

235 
	}
}

237 
	gg_¬¿y
::
	$wšdowed_miss_¿‹
( ) const

239 
n_acûss
 = 
m_acûss
 - 
m_´ev_¢­shÙ_acûss
;

240 
n_miss
 = 
m_miss
 - 
m_´ev_¢­shÙ_miss
;

243 
mis¤©e
 = 0.0f;

244 ià(
n_acûss
 != 0)

245 
mis¤©e
 = (è
n_miss
 / 
n_acûss
;

246  
mis¤©e
;

247 
	}
}

249 
	gg_¬¿y
::
	$Ãw_wšdow
()

251 
m_´ev_¢­shÙ_acûss
 = 
m_acûss
;

252 
m_´ev_¢­shÙ_miss
 = 
m_miss
;

253 
m_´ev_¢­shÙ_³ndšg_h™
 = 
m_³ndšg_h™
;

254 
	}
}

256 
	gg_¬¿y
::
	$´št
Ğ
FILE
 *
¡»am
, &
tÙ®_acûss
, &
tÙ®_mis£s
 ) const

258 
m_cÚfig
.
	`´št
(
¡»am
);

259 
	`årštf
Ğ
¡»am
, "\t\tAccess = %d, Miss = %d (%.3g), PendingHit = %d (%.3g)\n",

260 
m_acûss
, 
m_miss
, () m_miss / m_access,

261 
m_³ndšg_h™
, (èm_³ndšg_h™ / 
m_acûss
);

262 
tÙ®_mis£s
+=
m_miss
;

263 
tÙ®_acûss
+=
m_acûss
;

264 
	}
}

266 
	gg_¬¿y
::
	$g‘_¡©s
(&
tÙ®_acûss
, &
tÙ®_mis£s
, &
tÙ®_h™_»s
, &
tÙ®_»s_ç
) const{

268 
tÙ®_acûss
 = 
m_acûss
;

269 
tÙ®_mis£s
 = 
m_miss
;

270 
tÙ®_h™_»s
 = 
m_³ndšg_h™
;

271 
tÙ®_»s_ç
 = 
m_»s_ç
;

272 
	}
}

275 
boŞ
 
was_wr™e_£Á
ĞcÚ¡ 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
 )

277  
¡d
::
li¡
<
ÿche_ev’t
>::
cÚ¡_™”©Ü
 
e
=
ev’ts
.
begš
(); 
	ge
!óv’ts.
’d
();ƒ++ ) {

278 ifĞ*
	ge
 =ğ
WRITE_REQUEST_SENT
 )

279  
Œue
;

281  
	gçl£
;

284 
boŞ
 
was_wr™eback_£Á
ĞcÚ¡ 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
 )

286  
¡d
::
li¡
<
ÿche_ev’t
>::
cÚ¡_™”©Ü
 
e
=
ev’ts
.
begš
(); 
	ge
!óv’ts.
’d
();ƒ++ ) {

287 ifĞ*
	ge
 =ğ
WRITE_BACK_REQUEST_SENT
 )

288  
Œue
;

290  
	gçl£
;

293 
boŞ
 
was_»ad_£Á
ĞcÚ¡ 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
 )

295  
¡d
::
li¡
<
ÿche_ev’t
>::
cÚ¡_™”©Ü
 
e
=
ev’ts
.
begš
(); 
	ge
!óv’ts.
’d
();ƒ++ ) {

296 ifĞ*
	ge
 =ğ
READ_REQUEST_SENT
 )

297  
Œue
;

299  
	gçl£
;

304 
boŞ
 
	gmshr_bË
::
	$´obe
Ğ
Ãw_addr_ty³
 
block_addr
 ) const{

305 
bË
::
cÚ¡_™”©Ü
 
a
 = 
m_d©a
.
	`fšd
(
block_addr
);

306  
a
 !ğ
m_d©a
.
	`’d
();

307 
	}
}

310 
boŞ
 
	gmshr_bË
::
	$fuÎ
Ğ
Ãw_addr_ty³
 
block_addr
 ) const{

311 
bË
::
cÚ¡_™”©Ü
 
i
=
m_d©a
.
	`fšd
(
block_addr
);

312 iàĞ
i
 !ğ
m_d©a
.
	`’d
() )

313  
i
->
£cÚd
.
m_li¡
.
	`size
(è>ğ
m_max_m”ged
;

315  
m_d©a
.
	`size
(è>ğ
m_num_’Œ›s
;

316 
	}
}

319 
	gmshr_bË
::
	$add
Ğ
Ãw_addr_ty³
 
block_addr
, 
mem_ãtch
 *
mf
 ){

320 
m_d©a
[
block_addr
].
m_li¡
.
	`push_back
(
mf
);

321 
	`as£¹
Ğ
m_d©a
.
	`size
(è<ğ
m_num_’Œ›s
 );

322 
	`as£¹
Ğ
m_d©a
[
block_addr
].
m_li¡
.
	`size
(è<ğ
m_max_m”ged
 );

324 iàĞ
mf
->
	`i§tomic
() ) {

325 
m_d©a
[
block_addr
].
m_has_©omic
 = 
Œue
;

327 
	}
}

330 
	gmshr_bË
::
	$m¬k_»ady
Ğ
Ãw_addr_ty³
 
block_addr
, 
boŞ
 &
has_©omic
 ){

331 
	`as£¹
Ğ!
	`busy
() );

332 
bË
::
™”©Ü
 
a
 = 
m_d©a
.
	`fšd
(
block_addr
);

333 
	`as£¹
Ğ
a
 !ğ
m_d©a
.
	`’d
() );

334 
m_cu¼’t_»¥Ú£
.
	`push_back
Ğ
block_addr
 );

335 
has_©omic
 = 
a
->
£cÚd
.
m_has_©omic
;

336 
	`as£¹
Ğ
m_cu¼’t_»¥Ú£
.
	`size
(è<ğ
m_d©a
.size() );

337 
	}
}

340 
mem_ãtch
 *
	gmshr_bË
::
	$Ãxt_acûss
(){

341 
	`as£¹
Ğ
	`acûss_»ady
() );

342 
Ãw_addr_ty³
 
block_addr
 = 
m_cu¼’t_»¥Ú£
.
	`äÚt
();

343 
	`as£¹
Ğ!
m_d©a
[
block_addr
].
m_li¡
.
	`em±y
() );

344 
mem_ãtch
 *
»suÉ
 = 
m_d©a
[
block_addr
].
m_li¡
.
	`äÚt
();

345 
m_d©a
[
block_addr
].
m_li¡
.
	`pİ_äÚt
();

346 iàĞ
m_d©a
[
block_addr
].
m_li¡
.
	`em±y
() ) {

348 
m_d©a
.
	`”a£
(
block_addr
);

349 
m_cu¼’t_»¥Ú£
.
	`pİ_äÚt
();

351  
»suÉ
;

352 
	}
}

354 
	gmshr_bË
::
	$di¥Ïy
Ğ
FILE
 *
å
 ) const{

355 
	`årštf
(
å
,"MSHR contents\n");

356  
bË
::
cÚ¡_™”©Ü
 
e
=
m_d©a
.
	`begš
();ƒ!=m_d©a.
	`’d
(); ++e ) {

357 
block_addr
 = 
e
->
fœ¡
;

358 
	`årštf
(
å
,"MSHR:ag=0x%06x,‡tomic=%d %zuƒÁr› : ", 
block_addr
, 
e
->
£cÚd
.
m_has_©omic
,ƒ->£cÚd.
m_li¡
.
	`size
());

359 iàĞ!
e
->
£cÚd
.
m_li¡
.
	`em±y
() ) {

360 
mem_ãtch
 *
mf
 = 
e
->
£cÚd
.
m_li¡
.
	`äÚt
();

361 
	`årštf
(
å
,"%°:",
mf
);

362 
mf
->
	`´št
(
å
);

364 
	`årštf
(
å
,"‚o memory„equests???\n");

367 
	}
}

369 
	gÿche_¡©s
::
	$ÿche_¡©s
(){

370 
m_¡©s
.
	`»size
(
NUM_MEM_ACCESS_TYPE
);

371 
i
=0; i<
NUM_MEM_ACCESS_TYPE
; ++i){

372 
m_¡©s
[
i
].
	`»size
(
NUM_CACHE_REQUEST_STATUS
, 0);

374 
m_ÿche_pÜt_avaabË_cyşes
 = 0;

375 
m_ÿche_d©a_pÜt_busy_cyşes
 = 0;

376 
m_ÿche_fl_pÜt_busy_cyşes
 = 0;

377 
	}
}

379 
	gÿche_¡©s
::
	$ş—r
(){

383 
i
=0; i<
NUM_MEM_ACCESS_TYPE
; ++i){

384 
¡d
::
	`fl
(
m_¡©s
[
i
].
	`begš
(), m_¡©s[i].
	`’d
(), 0);

386 
m_ÿche_pÜt_avaabË_cyşes
 = 0;

387 
m_ÿche_d©a_pÜt_busy_cyşes
 = 0;

388 
m_ÿche_fl_pÜt_busy_cyşes
 = 0;

389 
	}
}

391 
	gÿche_¡©s
::
	$šc_¡©s
(
acûss_ty³
, 
acûss_outcome
){

395 if(!
	`check_v®id
(
acûss_ty³
, 
acûss_outcome
))

396 
	`as£¹
(0 && "Unknown cache‡ccessype or‡ccess outcome");

398 
m_¡©s
[
acûss_ty³
][
acûss_outcome
]++;

399 
	}
}

401 
ÿche_»que¡_¡©us
 
	gÿche_¡©s
::
	$£Ëù_¡©s_¡©us
(
ÿche_»que¡_¡©us
 
´obe
, ÿche_»que¡_¡©u 
acûss
) const {

406 if(
´obe
 =ğ
HIT_RESERVED
 && 
acûss
 !ğ
RESERVATION_FAIL
)

407  
´obe
;

409  
acûss
;

410 
	}
}

412 &
	gÿche_¡©s
::
	$İ”©Ü
()(
acûss_ty³
, 
acûss_outcome
){

417 if(!
	`check_v®id
(
acûss_ty³
, 
acûss_outcome
))

418 
	`as£¹
(0 && "Unknown cache‡ccessype or‡ccess outcome");

420  
m_¡©s
[
acûss_ty³
][
acûss_outcome
];

421 
	}
}

423 
	gÿche_¡©s
::
	$İ”©Ü
()(
acûss_ty³
, 
acûss_outcome
) const{

427 if(!
	`check_v®id
(
acûss_ty³
, 
acûss_outcome
))

428 
	`as£¹
(0 && "Unknown cache‡ccessype or‡ccess outcome");

430  
m_¡©s
[
acûss_ty³
][
acûss_outcome
];

431 
	}
}

433 
ÿche_¡©s
 
	gÿche_¡©s
::
İ”©Ü
+(cÚ¡ cache_¡© &
cs
){

437 
ÿche_¡©s
 
»t
;

438 
	gty³
=0;y³<
	gNUM_MEM_ACCESS_TYPE
; ++type){

439 
	g¡©us
=0; stus<
	gNUM_CACHE_REQUEST_STATUS
; ++status){

440 
»t
(
ty³
, 
¡©us
èğ
m_¡©s
[ty³][¡©us] + 
cs
(type, status);

443 
	g»t
.
	gm_ÿche_pÜt_avaabË_cyşes
 = 
m_ÿche_pÜt_avaabË_cyşes
 + 
cs
.m_cache_port_available_cycles;

444 
	g»t
.
	gm_ÿche_d©a_pÜt_busy_cyşes
 = 
m_ÿche_d©a_pÜt_busy_cyşes
 + 
cs
.m_cache_data_port_busy_cycles;

445 
	g»t
.
	gm_ÿche_fl_pÜt_busy_cyşes
 = 
m_ÿche_fl_pÜt_busy_cyşes
 + 
cs
.m_cache_fill_port_busy_cycles;

446  
	g»t
;

449 
	gÿche_¡©s
 &ÿche_¡©s::
İ”©Ü
+=(cÚ¡ 
ÿche_¡©s
 &
cs
){

453 
ty³
=0; 
	gty³
<
	gNUM_MEM_ACCESS_TYPE
; ++type){

454 
	g¡©us
=0; stus<
	gNUM_CACHE_REQUEST_STATUS
; ++status){

455 
	gm_¡©s
[
ty³
][
¡©us
] +ğ
cs
(type, status);

458 
	gm_ÿche_pÜt_avaabË_cyşes
 +ğ
cs
.
m_ÿche_pÜt_avaabË_cyşes
;

459 
	gm_ÿche_d©a_pÜt_busy_cyşes
 +ğ
cs
.
m_ÿche_d©a_pÜt_busy_cyşes
;

460 
	gm_ÿche_fl_pÜt_busy_cyşes
 +ğ
cs
.
m_ÿche_fl_pÜt_busy_cyşes
;

461  *
	gthis
;

464 
	gÿche_¡©s
::
	$´št_¡©s
(
FILE
 *
fout
, cÚ¡ *
ÿche_Çme
) const{

471 
¡d
::
¡ršg
 
m_ÿche_Çme
 = 
ÿche_Çme
;

472 
ty³
 = 0;y³ < 
NUM_MEM_ACCESS_TYPE
; ++type) {

473 
¡©us
 = 0; stu < 
NUM_CACHE_REQUEST_STATUS
; ++status) {

474 if(
m_¡©s
[
ty³
][
¡©us
] > 0){

475 
	`årštf
(
fout
, "\t%s[%s][%s] = %u\n",

476 
m_ÿche_Çme
.
	`c_¡r
(),

477 
	`mem_acûss_ty³_¡r
((
mem_acûss_ty³
)
ty³
),

478 
	`ÿche_»que¡_¡©us_¡r
((
ÿche_»que¡_¡©us
)
¡©us
),

479 
m_¡©s
[
ty³
][
¡©us
]);

483 
	}
}

485 
	gÿche_sub_¡©s
::
	$´št_pÜt_¡©s
(
FILE
 *
fout
, cÚ¡ *
ÿche_Çme
) const

487 
d©a_pÜt_ut
 = 0.0f;

488 ià(
pÜt_avaabË_cyşes
 > 0) {

489 
d©a_pÜt_ut
 = (è
d©a_pÜt_busy_cyşes
 / 
pÜt_avaabË_cyşes
;

491 
	`årštf
(
fout
, "%s_d©a_pÜt_ut = %.3f\n", 
ÿche_Çme
, 
d©a_pÜt_ut
);

492 
fl_pÜt_ut
 = 0.0f;

493 ià(
pÜt_avaabË_cyşes
 > 0) {

494 
fl_pÜt_ut
 = (è
fl_pÜt_busy_cyşes
 / 
pÜt_avaabË_cyşes
;

496 
	`årštf
(
fout
, "%s_fl_pÜt_ut = %.3f\n", 
ÿche_Çme
, 
fl_pÜt_ut
);

497 
	}
}

499 
	gÿche_¡©s
::
	$g‘_¡©s
(
mem_acûss_ty³
 *
acûss_ty³
, 
num_acûss_ty³
, 
ÿche_»que¡_¡©us
 *
acûss_¡©us
, 
num_acûss_¡©us
) const{

505 
tÙ®
=0;

506 
ty³
 =0;y³ < 
num_acûss_ty³
; ++type){

507 
¡©us
=0; stu < 
num_acûss_¡©us
; ++status){

508 if(!
	`check_v®id
(()
acûss_ty³
[
ty³
], ()
acûss_¡©us
[
¡©us
]))

509 
	`as£¹
(0 && "Unknown cache‡ccessype or‡ccess outcome");

510 
tÙ®
 +ğ
m_¡©s
[
acûss_ty³
[
ty³
]][
acûss_¡©us
[
¡©us
]];

513  
tÙ®
;

514 
	}
}

515 
	gÿche_¡©s
::
	$g‘_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const{

519 
ÿche_sub_¡©s
 
t_css
;

520 
t_css
.
	`ş—r
();

522 
ty³
 = 0;y³ < 
NUM_MEM_ACCESS_TYPE
; ++type) {

523 
¡©us
 = 0; stu < 
NUM_CACHE_REQUEST_STATUS
; ++status) {

524 if(
¡©us
 =ğ
HIT
 || stu =ğ
MISS
 || stu =ğ
HIT_RESERVED
)

525 
t_css
.
acûs£s
 +ğ
m_¡©s
[
ty³
][
¡©us
];

527 if(
¡©us
 =ğ
MISS
)

528 
t_css
.
mis£s
 +ğ
m_¡©s
[
ty³
][
¡©us
];

530 if(
¡©us
 =ğ
HIT_RESERVED
)

531 
t_css
.
³ndšg_h™s
 +ğ
m_¡©s
[
ty³
][
¡©us
];

533 if(
¡©us
 =ğ
RESERVATION_FAIL
)

534 
t_css
.
»s_çs
 +ğ
m_¡©s
[
ty³
][
¡©us
];

538 
t_css
.
pÜt_avaabË_cyşes
 = 
m_ÿche_pÜt_avaabË_cyşes
;

539 
t_css
.
d©a_pÜt_busy_cyşes
 = 
m_ÿche_d©a_pÜt_busy_cyşes
;

540 
t_css
.
fl_pÜt_busy_cyşes
 = 
m_ÿche_fl_pÜt_busy_cyşes
;

542 
css
 = 
t_css
;

543 
	}
}

545 
boŞ
 
	gÿche_¡©s
::
	$check_v®id
(
ty³
, 
¡©us
) const{

549 if((
ty³
 >ğ0è&& (ty³ < 
NUM_MEM_ACCESS_TYPE
è&& (
¡©us
 >ğ0è&& (¡©u < 
NUM_CACHE_REQUEST_STATUS
))

550  
Œue
;

552  
çl£
;

553 
	}
}

555 
	gÿche_¡©s
::
	$§m¶e_ÿche_pÜt_ut™y
(
boŞ
 
d©a_pÜt_busy
, boŞ 
fl_pÜt_busy
)

557 
m_ÿche_pÜt_avaabË_cyşes
 += 1;

558 ià(
d©a_pÜt_busy
) {

559 
m_ÿche_d©a_pÜt_busy_cyşes
 += 1;

561 ià(
fl_pÜt_busy
) {

562 
m_ÿche_fl_pÜt_busy_cyşes
 += 1;

564 
	}
}

566 
	gba£lše_ÿche
::
bªdwidth_mªagem’t
::
	$bªdwidth_mªagem’t
(
ÿche_cÚfig
 &
cÚfig
)

567 : 
	$m_cÚfig
(
cÚfig
)

569 
m_d©a_pÜt_occup›d_cyşes
 = 0;

570 
m_fl_pÜt_occup›d_cyşes
 = 0;

571 
	}
}

574 
	gba£lše_ÿche
::
bªdwidth_mªagem’t
::
u£_d©a_pÜt
(
mem_ãtch
 *
mf
, 
ÿche_»que¡_¡©us
 
outcome
, cÚ¡ 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
)

576 
d©a_size
 = 
mf
->
g‘_d©a_size
();

577 
	gpÜt_width
 = 
m_cÚfig
.
m_d©a_pÜt_width
;

578 
	goutcome
) {

579 
	gHIT
: {

580 
d©a_cyşes
 = 
d©a_size
 / 
pÜt_width
 + ((data_size %…ort_width > 0)? 1 : 0);

581 
	gm_d©a_pÜt_occup›d_cyşes
 +ğ
d©a_cyşes
;

583 
	gHIT_RESERVED
:

584 
MISS
: {

586 ià(
was_wr™eback_£Á
(
ev’ts
)) {

587 
d©a_cyşes
 = 
m_cÚfig
.
m_lše_sz
 / 
pÜt_width
;

588 
	gm_d©a_pÜt_occup›d_cyşes
 +ğ
d©a_cyşes
;

591 
	gRESERVATION_FAIL
:

595 
as£¹
(0);

601 
	gba£lše_ÿche
::
bªdwidth_mªagem’t
::
	$u£_fl_pÜt
(
mem_ãtch
 *
mf
)

604 
fl_cyşes
 = 
m_cÚfig
.
m_lše_sz
 / m_cÚfig.
m_d©a_pÜt_width
;

605 
m_fl_pÜt_occup›d_cyşes
 +ğ
fl_cyşes
;

606 
	}
}

609 
	gba£lše_ÿche
::
bªdwidth_mªagem’t
::
	$»¶’ish_pÜt_bªdwidth
()

611 ià(
m_d©a_pÜt_occup›d_cyşes
 > 0) {

612 
m_d©a_pÜt_occup›d_cyşes
 -= 1;

614 
	`as£¹
(
m_d©a_pÜt_occup›d_cyşes
 >= 0);

616 ià(
m_fl_pÜt_occup›d_cyşes
 > 0) {

617 
m_fl_pÜt_occup›d_cyşes
 -= 1;

619 
	`as£¹
(
m_fl_pÜt_occup›d_cyşes
 >= 0);

620 
	}
}

623 
boŞ
 
	gba£lše_ÿche
::
bªdwidth_mªagem’t
::
	$d©a_pÜt_ä“
() const

625  (
m_d©a_pÜt_occup›d_cyşes
 == 0);

626 
	}
}

629 
boŞ
 
	gba£lše_ÿche
::
bªdwidth_mªagem’t
::
	$fl_pÜt_ä“
() const

631  (
m_fl_pÜt_occup›d_cyşes
 == 0);

632 
	}
}

635 
	gba£lše_ÿche
::
	$cyşe
(){

636 iàĞ!
m_miss_queue
.
	`em±y
() ) {

637 
mem_ãtch
 *
mf
 = 
m_miss_queue
.
	`äÚt
();

638 iàĞ!
m_mempÜt
->
	`fuÎ
(
mf
->
	`size
(),mf->
	`g‘_is_wr™e
()) ) {

639 
m_miss_queue
.
	`pİ_äÚt
();

640 
m_mempÜt
->
	`push
(
mf
);

643 
boŞ
 
d©a_pÜt_busy
 = !
m_bªdwidth_mªagem’t
.
	`d©a_pÜt_ä“
();

644 
boŞ
 
fl_pÜt_busy
 = !
m_bªdwidth_mªagem’t
.
	`fl_pÜt_ä“
();

645 
m_¡©s
.
	`§m¶e_ÿche_pÜt_ut™y
(
d©a_pÜt_busy
, 
fl_pÜt_busy
);

646 
m_bªdwidth_mªagem’t
.
	`»¶’ish_pÜt_bªdwidth
();

647 
	}
}

650 
	gba£lše_ÿche
::
	$fl
(
mem_ãtch
 *
mf
, 
time
){

651 
exŒa_mf_f›lds_lookup
::
™”©Ü
 
e
 = 
m_exŒa_mf_f›lds
.
	`fšd
(
mf
);

652 
	`as£¹
Ğ
e
 !ğ
m_exŒa_mf_f›lds
.
	`’d
() );

653 
	`as£¹
Ğ
e
->
£cÚd
.
m_v®id
 );

654 
mf
->
	`£t_d©a_size
Ğ
e
->
£cÚd
.
m_d©a_size
 );

655 iàĞ
m_cÚfig
.
m_®loc_pŞicy
 =ğ
ON_MISS
 )

656 
m_g_¬¿y
->
	`fl
(
e
->
£cÚd
.
m_ÿche_šdex
,
time
);

657 iàĞ
m_cÚfig
.
m_®loc_pŞicy
 =ğ
ON_FILL
 )

658 
m_g_¬¿y
->
	`fl
(
e
->
£cÚd
.
m_block_addr
,
time
);

659 
	`abÜt
();

660 
boŞ
 
has_©omic
 = 
çl£
;

661 
m_mshrs
.
	`m¬k_»ady
(
e
->
£cÚd
.
m_block_addr
, 
has_©omic
);

662 ià(
has_©omic
) {

663 
	`as£¹
(
m_cÚfig
.
m_®loc_pŞicy
 =ğ
ON_MISS
);

664 
ÿche_block_t
 &
block
 = 
m_g_¬¿y
->
	`g‘_block
(
e
->
£cÚd
.
m_ÿche_šdex
);

665 
block
.
m_¡©us
 = 
MODIFIED
;

667 
m_exŒa_mf_f›lds
.
	`”a£
(
mf
);

668 
m_bªdwidth_mªagem’t
.
	`u£_fl_pÜt
(
mf
);

669 
	}
}

672 
boŞ
 
	gba£lše_ÿche
::
	$wa™šg_fÜ_fl
Ğ
mem_ãtch
 *
mf
 ){

673 
exŒa_mf_f›lds_lookup
::
™”©Ü
 
e
 = 
m_exŒa_mf_f›lds
.
	`fšd
(
mf
);

674  
e
 !ğ
m_exŒa_mf_f›lds
.
	`’d
();

675 
	}
}

677 
	gba£lše_ÿche
::
	$´št
(
FILE
 *
å
, &
acûs£s
, &
mis£s
) const{

678 
	`årštf
Ğ
å
, "Cach%s:\t", 
m_Çme
.
	`c_¡r
() );

679 
m_g_¬¿y
->
	`´št
(
å
,
acûs£s
,
mis£s
);

680 
	}
}

682 
	gba£lše_ÿche
::
	$di¥Ïy_¡©e
Ğ
FILE
 *
å
 ) const{

683 
	`årštf
(
å
,"Cach%s:\n", 
m_Çme
.
	`c_¡r
() );

684 
m_mshrs
.
	`di¥Ïy
(
å
);

685 
	`årštf
(
å
,"\n");

686 
	}
}

689 
	gba£lše_ÿche
::
£nd_»ad_»que¡
(
Ãw_addr_ty³
 
addr
,‚ew_addr_ty³ 
block_addr
, 
ÿche_šdex
, 
mem_ãtch
 *
mf
,

690 
time
, 
boŞ
 &
do_miss
, 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
, boŞ 
»ad_Úly
, boŞ 
wa
){

692 
boŞ
 
	gwb
=
çl£
;

693 
ÿche_block_t
 
	ge
;

694 
£nd_»ad_»que¡
(
addr
, 
block_addr
, 
ÿche_šdex
, 
mf
, 
time
, 
do_miss
, 
wb
, 
e
, 
ev’ts
, 
»ad_Úly
, 
wa
);

698 
	gba£lše_ÿche
::
£nd_»ad_»que¡
(
Ãw_addr_ty³
 
addr
,‚ew_addr_ty³ 
block_addr
, 
ÿche_šdex
, 
mem_ãtch
 *
mf
,

699 
time
, 
boŞ
 &
do_miss
, boŞ &
wb
, 
ÿche_block_t
 &
eviùed
, 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
, boŞ 
»ad_Úly
, boŞ 
wa
){

701 
boŞ
 
	gmshr_h™
 = 
m_mshrs
.
´obe
(
block_addr
);

702 
boŞ
 
	gmshr_ava
 = !
m_mshrs
.
fuÎ
(
block_addr
);

703 iàĞ
	gmshr_h™
 && 
	gmshr_ava
 ) {

704 if(
	g»ad_Úly
)

705 
	gm_g_¬¿y
->
acûss
(
block_addr
,
time
,
ÿche_šdex
);

707 
	gm_g_¬¿y
->
acûss
(
block_addr
,
time
,
ÿche_šdex
,
wb
,
eviùed
);

709 
	gm_mshrs
.
add
(
block_addr
,
mf
);

710 
	gdo_miss
 = 
Œue
;

711 } iàĞ!
	gmshr_h™
 && 
	gmshr_ava
 && (
	gm_miss_queue
.
size
(è< 
	gm_cÚfig
.
	gm_miss_queue_size
) ) {

712 if(
	g»ad_Úly
)

713 
	gm_g_¬¿y
->
acûss
(
block_addr
,
time
,
ÿche_šdex
);

715 
	gm_g_¬¿y
->
acûss
(
block_addr
,
time
,
ÿche_šdex
,
wb
,
eviùed
);

717 
	gm_mshrs
.
add
(
block_addr
,
mf
);

718 
	gm_exŒa_mf_f›lds
[
mf
] = 
exŒa_mf_f›lds
(
block_addr
,
ÿche_šdex
, mf->
g‘_d©a_size
());

719 
	gmf
->
£t_d©a_size
Ğ
m_cÚfig
.
g‘_lše_sz
() );

720 
	gm_miss_queue
.
push_back
(
mf
);

721 
	gmf
->
£t_¡©us
(
m_miss_queue_¡©us
,
time
);

722 if(!
	gwa
)

723 
	gev’ts
.
push_back
(
READ_REQUEST_SENT
);

724 
	gdo_miss
 = 
Œue
;

730 
	gd©a_ÿche
::
£nd_wr™e_»que¡
(
mem_ãtch
 *
mf
, 
ÿche_ev’t
 
»que¡
, 
time
, 
¡d
::
li¡
<ÿche_ev’t> &
ev’ts
){

731 
ev’ts
.
push_back
(
»que¡
);

732 
	gm_miss_queue
.
push_back
(
mf
);

733 
	gmf
->
£t_¡©us
(
m_miss_queue_¡©us
,
time
);

740 
ÿche_»que¡_¡©us
 
	gd©a_ÿche
::
wr_h™_wb
(
Ãw_addr_ty³
 
addr
, 
ÿche_šdex
, 
mem_ãtch
 *
mf
, 
time
, 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
, ÿche_»que¡_¡©u 
¡©us
 ){

741 
Ãw_addr_ty³
 
	gblock_addr
 = 
m_cÚfig
.
block_addr
(
addr
);

742 
	gm_g_¬¿y
->
acûss
(
block_addr
,
time
,
ÿche_šdex
);

743 
	gÿche_block_t
 &
	gblock
 = 
m_g_¬¿y
->
g‘_block
(
ÿche_šdex
);

744 
	gblock
.
	gm_¡©us
 = 
MODIFIED
;

746  
	gHIT
;

750 
ÿche_»que¡_¡©us
 
	gd©a_ÿche
::
wr_h™_wt
(
Ãw_addr_ty³
 
addr
, 
ÿche_šdex
, 
mem_ãtch
 *
mf
, 
time
, 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
, ÿche_»que¡_¡©u 
¡©us
 ){

751 if(
miss_queue_fuÎ
(0))

752  
	gRESERVATION_FAIL
;

754 
Ãw_addr_ty³
 
	gblock_addr
 = 
m_cÚfig
.
block_addr
(
addr
);

755 
	gm_g_¬¿y
->
acûss
(
block_addr
,
time
,
ÿche_šdex
);

756 
	gÿche_block_t
 &
	gblock
 = 
m_g_¬¿y
->
g‘_block
(
ÿche_šdex
);

757 
	gblock
.
	gm_¡©us
 = 
MODIFIED
;

760 
£nd_wr™e_»que¡
(
mf
, 
WRITE_REQUEST_SENT
, 
time
, 
ev’ts
);

762  
	gHIT
;

766 
ÿche_»que¡_¡©us
 
	gd©a_ÿche
::
wr_h™_we
(
Ãw_addr_ty³
 
addr
, 
ÿche_šdex
, 
mem_ãtch
 *
mf
, 
time
, 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
, ÿche_»que¡_¡©u 
¡©us
 ){

767 if(
miss_queue_fuÎ
(0))

768  
	gRESERVATION_FAIL
;

771 
	gÿche_block_t
 &
	gblock
 = 
m_g_¬¿y
->
g‘_block
(
ÿche_šdex
);

772 
£nd_wr™e_»que¡
(
mf
, 
WRITE_REQUEST_SENT
, 
time
, 
ev’ts
);

775 
	gblock
.
	gm_¡©us
 = 
INVALID
;

777  
	gHIT
;

781 
ÿche_»que¡_¡©us
 
	gd©a_ÿche
::
wr_h™_glob®_we_loÿl_wb
(
Ãw_addr_ty³
 
addr
, 
ÿche_šdex
, 
mem_ãtch
 *
mf
, 
time
, 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
, ÿche_»que¡_¡©u 
¡©us
 ){

782 
boŞ
 
	geviù
 = (
mf
->
g‘_acûss_ty³
(è=ğ
GLOBAL_ACC_W
);

783 if(
	geviù
)

784  
wr_h™_we
(
addr
, 
ÿche_šdex
, 
mf
, 
time
, 
ev’ts
, 
¡©us
);

786  
wr_h™_wb
(
addr
, 
ÿche_šdex
, 
mf
, 
time
, 
ev’ts
, 
¡©us
);

793 
ÿche_»que¡_¡©us


794 
	gd©a_ÿche
::
wr_miss_wa
Ğ
Ãw_addr_ty³
 
addr
,

795 
ÿche_šdex
, 
mem_ãtch
 *
mf
,

796 
time
, 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
,

797 
ÿche_»que¡_¡©us
 
¡©us
 )

799 
Ãw_addr_ty³
 
	gblock_addr
 = 
m_cÚfig
.
block_addr
(
addr
);

803 
boŞ
 
	gmshr_h™
 = 
m_mshrs
.
´obe
(
block_addr
);

804 
boŞ
 
	gmshr_ava
 = !
m_mshrs
.
fuÎ
(
block_addr
);

805 if(
miss_queue_fuÎ
(2)

806 || (!(
	gmshr_h™
 && 
	gmshr_ava
)

807 && !(!
	gmshr_h™
 && 
	gmshr_ava


808 && (
	gm_miss_queue
.
size
(è< 
	gm_cÚfig
.
	gm_miss_queue_size
))))

809  
	gRESERVATION_FAIL
;

811 
£nd_wr™e_»que¡
(
mf
, 
WRITE_REQUEST_SENT
, 
time
, 
ev’ts
);

816 cÚ¡ 
mem_acûss_t
 *
	gma
 = 
Ãw
 mem_acûss_tĞ
m_wr_®loc_ty³
,

817 
mf
->
g‘_addr
(),

818 
mf
->
g‘_d©a_size
(),

819 
çl£
,

820 
mf
->
g‘_acûss_w¬p_mask
(),

821 
mf
->
g‘_acûss_by‹_mask
() );

823 
mem_ãtch
 *
	gn_mf
 = 
Ãw
 mem_ãtchĞ*
ma
,

824 
NULL
,

825 
mf
->
g‘_ù¾_size
(),

826 
mf
->
g‘_wid
(),

827 
mf
->
g‘_sid
(),

828 
mf
->
g‘_c
(),

829 
mf
->
g‘_mem_cÚfig
());

831 
boŞ
 
	gdo_miss
 = 
çl£
;

832 
boŞ
 
	gwb
 = 
çl£
;

833 
ÿche_block_t
 
	geviùed
;

836 
£nd_»ad_»que¡
(
addr
, 
block_addr
, 
ÿche_šdex
, 
n_mf
, 
time
, 
do_miss
, 
wb
,

837 
eviùed
, 
ev’ts
, 
çl£
, 
Œue
);

839 ifĞ
	gdo_miss
 ){

842 ifĞ
	gwb
 && (
	gm_cÚfig
.
	gm_wr™e_pŞicy
 !ğ
WRITE_THROUGH
) ) {

843 
mem_ãtch
 *
wb
 = 
m_memãtch_ü—tÜ
->
®loc
(
eviùed
.
m_block_addr
,

844 
m_wrbk_ty³
,
m_cÚfig
.
g‘_lše_sz
(),
Œue
);

845 
	gm_miss_queue
.
push_back
(
wb
);

846 
	gwb
->
£t_¡©us
(
m_miss_queue_¡©us
,
time
);

848  
	gMISS
;

851  
	gRESERVATION_FAIL
;

855 
ÿche_»que¡_¡©us


856 
	gd©a_ÿche
::
wr_miss_no_wa
Ğ
Ãw_addr_ty³
 
addr
,

857 
ÿche_šdex
,

858 
mem_ãtch
 *
mf
,

859 
time
,

860 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
,

861 
ÿche_»que¡_¡©us
 
¡©us
 )

863 if(
miss_queue_fuÎ
(0))

864  
	gRESERVATION_FAIL
;

867 
£nd_wr™e_»que¡
(
mf
, 
WRITE_REQUEST_SENT
, 
time
, 
ev’ts
);

869  
	gMISS
;

876 
ÿche_»que¡_¡©us


877 
	gd©a_ÿche
::
rd_h™_ba£
Ğ
Ãw_addr_ty³
 
addr
,

878 
ÿche_šdex
,

879 
mem_ãtch
 *
mf
,

880 
time
,

881 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
,

882 
ÿche_»que¡_¡©us
 
¡©us
 )

884 
Ãw_addr_ty³
 
	gblock_addr
 = 
m_cÚfig
.
block_addr
(
addr
);

885 
	gm_g_¬¿y
->
acûss
(
block_addr
,
time
,
ÿche_šdex
);

888 if(
	gmf
->
i§tomic
()){

889 
as£¹
(
mf
->
g‘_acûss_ty³
(è=ğ
GLOBAL_ACC_R
);

890 
	gÿche_block_t
 &
	gblock
 = 
m_g_¬¿y
->
g‘_block
(
ÿche_šdex
);

891 
	gblock
.
	gm_¡©us
 = 
MODIFIED
;

893  
	gHIT
;

900 
ÿche_»que¡_¡©us


901 
	gd©a_ÿche
::
rd_miss_ba£
Ğ
Ãw_addr_ty³
 
addr
,

902 
ÿche_šdex
,

903 
mem_ãtch
 *
mf
,

904 
time
,

905 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
,

906 
ÿche_»que¡_¡©us
 
¡©us
 ){

907 if(
miss_queue_fuÎ
(1))

910  
	gRESERVATION_FAIL
;

912 
Ãw_addr_ty³
 
	gblock_addr
 = 
m_cÚfig
.
block_addr
(
addr
);

913 
boŞ
 
	gdo_miss
 = 
çl£
;

914 
boŞ
 
	gwb
 = 
çl£
;

915 
ÿche_block_t
 
	geviùed
;

916 
£nd_»ad_»que¡
Ğ
addr
,

917 
block_addr
,

918 
ÿche_šdex
,

919 
mf
, 
time
, 
do_miss
, 
wb
, 
eviùed
, 
ev’ts
, 
çl£
, false);

921 ifĞ
	gdo_miss
 ){

924 if(
	gwb
 && (
	gm_cÚfig
.
	gm_wr™e_pŞicy
 !ğ
WRITE_THROUGH
) ){

925 
mem_ãtch
 *
wb
 = 
m_memãtch_ü—tÜ
->
®loc
(
eviùed
.
m_block_addr
,

926 
m_wrbk_ty³
,
m_cÚfig
.
g‘_lše_sz
(),
Œue
);

927 
£nd_wr™e_»que¡
(
wb
, 
WRITE_BACK_REQUEST_SENT
, 
time
, 
ev’ts
);

929  
	gMISS
;

931  
	gRESERVATION_FAIL
;

936 
ÿche_»que¡_¡©us


937 
	g»ad_Úly_ÿche
::
acûss
Ğ
Ãw_addr_ty³
 
addr
,

938 
mem_ãtch
 *
mf
,

939 
time
,

940 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
 )

942 
as£¹
Ğ
mf
->
g‘_d©a_size
(è<ğ
m_cÚfig
.
g‘_lše_sz
());

943 
as£¹
(
m_cÚfig
.
m_wr™e_pŞicy
 =ğ
READ_ONLY
);

944 
as£¹
(!
mf
->
g‘_is_wr™e
());

945 
Ãw_addr_ty³
 
	gblock_addr
 = 
m_cÚfig
.
block_addr
(
addr
);

946 
	gÿche_šdex
 = ()-1;

947 
ÿche_»que¡_¡©us
 
	g¡©us
 = 
m_g_¬¿y
->
´obe
(
block_addr
,
ÿche_šdex
);

948 
ÿche_»que¡_¡©us
 
	gÿche_¡©us
 = 
RESERVATION_FAIL
;

950 iàĞ
	g¡©us
 =ğ
HIT
 ) {

951 
ÿche_¡©us
 = 
m_g_¬¿y
->
acûss
(
block_addr
,
time
,
ÿche_šdex
);

952 }iàĞ
	g¡©us
 !ğ
RESERVATION_FAIL
 ) {

953 if(!
miss_queue_fuÎ
(0)){

954 
boŞ
 
do_miss
=
çl£
;

955 
£nd_»ad_»que¡
(
addr
, 
block_addr
, 
ÿche_šdex
, 
mf
, 
time
, 
do_miss
, 
ev’ts
, 
Œue
, 
çl£
);

956 if(
	gdo_miss
)

957 
	gÿche_¡©us
 = 
MISS
;

959 
	gÿche_¡©us
 = 
RESERVATION_FAIL
;

961 
	gÿche_¡©us
 = 
RESERVATION_FAIL
;

965 
	gm_¡©s
.
šc_¡©s
(
mf
->
g‘_acûss_ty³
(), 
m_¡©s
.
£Ëù_¡©s_¡©us
(
¡©us
, 
ÿche_¡©us
));

966  
	gÿche_¡©us
;

972 
ÿche_»que¡_¡©us


973 
	gd©a_ÿche
::
´oûss_g_´obe
Ğ
boŞ
 
wr
,

974 
ÿche_»que¡_¡©us
 
´obe_¡©us
,

975 
Ãw_addr_ty³
 
addr
,

976 
ÿche_šdex
,

977 
mem_ãtch
* 
mf
,

978 
time
,

979 
¡d
::
li¡
<
ÿche_ev’t
>& 
ev’ts
 )

985 
ÿche_»que¡_¡©us
 
acûss_¡©us
 = 
´obe_¡©us
;

986 if(
	gwr
){

987 if(
	g´obe_¡©us
 =ğ
HIT
){

988 
acûss_¡©us
 = (
this
->*
m_wr_h™
)Ğ
addr
,

989 
	gÿche_šdex
,

990 
	gmf
, 
	gtime
, 
	gev’ts
, 
	g´obe_¡©us
 );

991 }iàĞ
	g´obe_¡©us
 !ğ
RESERVATION_FAIL
 ) {

992 
acûss_¡©us
 = (
this
->*
m_wr_miss
)Ğ
addr
,

993 
	gÿche_šdex
,

994 
	gmf
, 
	gtime
, 
	gev’ts
, 
	g´obe_¡©us
 );

997 if(
	g´obe_¡©us
 =ğ
HIT
){

998 
acûss_¡©us
 = (
this
->*
m_rd_h™
)Ğ
addr
,

999 
	gÿche_šdex
,

1000 
	gmf
, 
	gtime
, 
	gev’ts
, 
	g´obe_¡©us
 );

1001 }iàĞ
	g´obe_¡©us
 !ğ
RESERVATION_FAIL
 ) {

1002 
acûss_¡©us
 = (
this
->*
m_rd_miss
)Ğ
addr
,

1003 
	gÿche_šdex
,

1004 
	gmf
, 
	gtime
, 
	gev’ts
, 
	g´obe_¡©us
 );

1008 
	gm_bªdwidth_mªagem’t
.
u£_d©a_pÜt
(
mf
, 
acûss_¡©us
, 
ev’ts
);

1009  
	gacûss_¡©us
;

1017 
ÿche_»que¡_¡©us


1018 
	gd©a_ÿche
::
acûss
Ğ
Ãw_addr_ty³
 
addr
,

1019 
mem_ãtch
 *
mf
,

1020 
time
,

1021 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
 )

1024 
as£¹
Ğ
mf
->
g‘_d©a_size
(è<ğ
m_cÚfig
.
g‘_lše_sz
());

1025 
boŞ
 
	gwr
 = 
mf
->
g‘_is_wr™e
();

1026 
Ãw_addr_ty³
 
	gblock_addr
 = 
m_cÚfig
.
block_addr
(
addr
);

1027 
	gÿche_šdex
 = ()-1;

1028 
ÿche_»que¡_¡©us
 
	g´obe_¡©us


1029 ğ
m_g_¬¿y
->
´obe
Ğ
block_addr
, 
ÿche_šdex
 );

1030 
ÿche_»que¡_¡©us
 
	gacûss_¡©us


1031 ğ
´oûss_g_´obe
Ğ
wr
, 
´obe_¡©us
, 
addr
, 
ÿche_šdex
, 
mf
, 
time
, 
ev’ts
 );

1032 
	gm_¡©s
.
šc_¡©s
(
mf
->
g‘_acûss_ty³
(),

1033 
m_¡©s
.
£Ëù_¡©s_¡©us
(
´obe_¡©us
, 
acûss_¡©us
));

1034  
	gacûss_¡©us
;

1041 
ÿche_»que¡_¡©us


1042 
	gl1_ÿche
::
acûss
Ğ
Ãw_addr_ty³
 
addr
,

1043 
mem_ãtch
 *
mf
,

1044 
time
,

1045 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
 )

1047  
d©a_ÿche
::
acûss
Ğ
addr
, 
mf
, 
time
, 
ev’ts
 );

1053 
ÿche_»que¡_¡©us


1054 
	gl2_ÿche
::
acûss
Ğ
Ãw_addr_ty³
 
addr
,

1055 
mem_ãtch
 *
mf
,

1056 
time
,

1057 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
 )

1059  
d©a_ÿche
::
acûss
Ğ
addr
, 
mf
, 
time
, 
ev’ts
 );

1067 
ÿche_»que¡_¡©us
 
	g‹x_ÿche
::
acûss
Ğ
Ãw_addr_ty³
 
addr
, 
mem_ãtch
 *
mf
,

1068 
time
, 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
 )

1070 iàĞ
m_äagm’t_fifo
.
fuÎ
(è|| 
m_»que¡_fifo
.fuÎ(è|| 
m_rob
.full() )

1071  
RESERVATION_FAIL
;

1073 
as£¹
Ğ
mf
->
g‘_d©a_size
(è<ğ
m_cÚfig
.
g‘_lše_sz
());

1076 
Ãw_addr_ty³
 
	gblock_addr
 = 
m_cÚfig
.
block_addr
(
addr
);

1077 
	gÿche_šdex
 = ()-1;

1078 
ÿche_»que¡_¡©us
 
	g¡©us
 = 
m_gs
.
acûss
(
block_addr
,
time
,
ÿche_šdex
);

1079 
ÿche_»que¡_¡©us
 
	gÿche_¡©us
 = 
RESERVATION_FAIL
;

1080 
as£¹
Ğ
¡©us
 !ğ
RESERVATION_FAIL
 );

1081 
as£¹
Ğ
¡©us
 !ğ
HIT_RESERVED
 );

1082 
	gm_äagm’t_fifo
.
push
Ğ
äagm’t_’Œy
(
mf
,
ÿche_šdex
,
¡©us
==
MISS
,mf->
g‘_d©a_size
()) );

1083 iàĞ
	g¡©us
 =ğ
MISS
 ) {

1085 
rob_šdex
 = 
m_rob
.
push
Ğ
rob_’Œy
(
ÿche_šdex
, 
mf
, 
block_addr
) );

1086 
	gm_exŒa_mf_f›lds
[
mf
] = 
exŒa_mf_f›lds
(
rob_šdex
);

1087 
	gmf
->
£t_d©a_size
(
m_cÚfig
.
g‘_lše_sz
());

1088 
	gm_gs
.
fl
(
ÿche_šdex
,
time
);

1089 
	gm_»que¡_fifo
.
push
(
mf
);

1090 
	gmf
->
£t_¡©us
(
m_»que¡_queue_¡©us
,
time
);

1091 
	gev’ts
.
push_back
(
READ_REQUEST_SENT
);

1092 
	gÿche_¡©us
 = 
MISS
;

1095 
	gÿche_¡©us
 = 
HIT_RESERVED
;

1097 
	gm_¡©s
.
šc_¡©s
(
mf
->
g‘_acûss_ty³
(), 
m_¡©s
.
£Ëù_¡©s_¡©us
(
¡©us
, 
ÿche_¡©us
));

1098  
	gÿche_¡©us
;

1101 
	g‹x_ÿche
::
	$cyşe
(){

1103 iàĞ!
m_»que¡_fifo
.
	`em±y
() ) {

1104 
mem_ãtch
 *
mf
 = 
m_»que¡_fifo
.
	`³ek
();

1105 iàĞ!
m_mempÜt
->
	`fuÎ
(
mf
->
	`g‘_ù¾_size
(),
çl£
) ) {

1106 
m_»que¡_fifo
.
	`pİ
();

1107 
m_mempÜt
->
	`push
(
mf
);

1111 iàĞ!
m_äagm’t_fifo
.
	`em±y
(è&& !
m_»suÉ_fifo
.
	`fuÎ
() ) {

1112 cÚ¡ 
äagm’t_’Œy
 &
e
 = 
m_äagm’t_fifo
.
	`³ek
();

1113 iàĞ
e
.
m_miss
 ) {

1115 
rob_šdex
 = 
m_rob
.
	`Ãxt_pİ_šdex
();

1116 cÚ¡ 
rob_’Œy
 &
r
 = 
m_rob
.
	`³ek
(
rob_šdex
);

1117 
	`as£¹
Ğ
r
.
m_»que¡
 =ğ
e
.m_request );

1118 
	`as£¹
Ğ
r
.
m_block_addr
 =ğ
m_cÚfig
.
	`block_addr
(
e
.
m_»que¡
->
	`g‘_addr
()) );

1119 iàĞ
r
.
m_»ady
 ) {

1120 
	`as£¹
Ğ
r
.
m_šdex
 =ğ
e
.
m_ÿche_šdex
 );

1121 
m_ÿche
[
r
.
m_šdex
].
m_v®id
 = 
Œue
;

1122 
m_ÿche
[
r
.
m_šdex
].
m_block_addr
 =„.m_block_addr;

1123 
m_»suÉ_fifo
.
	`push
(
e
.
m_»que¡
);

1124 
m_rob
.
	`pİ
();

1125 
m_äagm’t_fifo
.
	`pİ
();

1129 
	`as£¹
Ğ
m_ÿche
[
e
.
m_ÿche_šdex
].
m_v®id
 );

1130 
	`as£¹
Ğ
m_ÿche
[
e
.
m_ÿche_šdex
].
m_block_addr


1131 =ğ
m_cÚfig
.
	`block_addr
(
e
.
m_»que¡
->
	`g‘_addr
()) );

1132 
m_»suÉ_fifo
.
	`push
Ğ
e
.
m_»que¡
 );

1133 
m_äagm’t_fifo
.
	`pİ
();

1136 
	}
}

1139 
	g‹x_ÿche
::
	$fl
Ğ
mem_ãtch
 *
mf
, 
time
 )

1141 
exŒa_mf_f›lds_lookup
::
™”©Ü
 
e
 = 
m_exŒa_mf_f›lds
.
	`fšd
(
mf
);

1142 
	`as£¹
Ğ
e
 !ğ
m_exŒa_mf_f›lds
.
	`’d
() );

1143 
	`as£¹
Ğ
e
->
£cÚd
.
m_v®id
 );

1144 
	`as£¹
Ğ!
m_rob
.
	`em±y
() );

1145 
mf
->
	`£t_¡©us
(
m_rob_¡©us
,
time
);

1147 
rob_šdex
 = 
e
->
£cÚd
.
m_rob_šdex
;

1148 
rob_’Œy
 &
r
 = 
m_rob
.
	`³ek
(
rob_šdex
);

1149 
	`as£¹
Ğ!
r
.
m_»ady
 );

1150 
r
.
m_»ady
 = 
Œue
;

1151 
r
.
m_time
 = 
time
;

1152 
	`as£¹
Ğ
r
.
m_block_addr
 =ğ
m_cÚfig
.
	`block_addr
(
mf
->
	`g‘_addr
()) );

1153 
	}
}

1155 
	g‹x_ÿche
::
	$di¥Ïy_¡©e
Ğ
FILE
 *
å
 ) const

1157 
	`årštf
(
å
,"% Ñextu» cacheè¡©e:\n", 
m_Çme
.
	`c_¡r
() );

1158 
	`årštf
(
å
,"fragment fifoƒntries = %u / %u\n",

1159 
m_äagm’t_fifo
.
	`size
(), m_äagm’t_fifo.
	`ÿ·c™y
() );

1160 
	`årštf
(
å
,"reorder bufferƒntries = %u / %u\n",

1161 
m_rob
.
	`size
(), m_rob.
	`ÿ·c™y
() );

1162 
	`årštf
(
å
,"request fifoƒntries = %u / %u\n",

1163 
m_»que¡_fifo
.
	`size
(), m_»que¡_fifo.
	`ÿ·c™y
() );

1164 iàĞ!
m_rob
.
	`em±y
() )

1165 
	`årštf
(
å
,"reorder buffer contents:\n");

1166  
n
=
m_rob
.
	`size
()-1;‚>=0;‚-- ) {

1167 
šdex
 = (
m_rob
.
	`Ãxt_pİ_šdex
(è+ 
n
)%m_rob.
	`ÿ·c™y
();

1168 cÚ¡ 
rob_’Œy
 &
r
 = 
m_rob
.
	`³ek
(
šdex
);

1169 
	`årštf
(
å
, "tex„ob[%3d] : %s ",

1170 
šdex
, (
r
.
m_»ady
?"ready ":"pending") );

1171 iàĞ
r
.
m_»ady
 )

1172 
	`årštf
(
å
,"@%6u", 
r
.
m_time
 );

1174 
	`årštf
(
å
," ");

1175 
	`årštf
(
å
,"[idx=%4u]",
r
.
m_šdex
);

1176 
r
.
m_»que¡
->
	`´št
(
å
,
çl£
);

1178 iàĞ!
m_äagm’t_fifo
.
	`em±y
() ) {

1179 
	`årštf
(
å
,"fragment fifo (oldest) :");

1180 
äagm’t_’Œy
 &
f
 = 
m_äagm’t_fifo
.
	`³ek
();

1181 
	`årštf
(
å
,"%s: ", 
f
.
m_miss
?"miss":"hit ");

1182 
f
.
m_»que¡
->
	`´št
(
å
,
çl£
);

1184 
	}
}

	@gpu-cache.h

28 #iâdeà
GPU_CACHE_H


29 
	#GPU_CACHE_H


	)

31 
	~<¡dio.h
>

32 
	~<¡dlib.h
>

33 
	~"gpu-misc.h
"

34 
	~"mem_ãtch.h
"

35 
	~"../ab¡¿ù_h¬dw¬e_mod–.h
"

36 
	~"../Œ1_hash_m­.h
"

38 
	~"addrdec.h
"

40 
	eÿche_block_¡©e
 {

41 
	mINVALID
,

42 
	mRESERVED
,

43 
	mVALID
,

44 
	mMODIFIED


47 
	eÿche_»que¡_¡©us
 {

48 
	mHIT
 = 0,

49 
	mHIT_RESERVED
,

50 
	mMISS
,

51 
	mRESERVATION_FAIL
,

52 
	mNUM_CACHE_REQUEST_STATUS


55 
	eÿche_ev’t
 {

56 
	mWRITE_BACK_REQUEST_SENT
,

57 
	mREAD_REQUEST_SENT
,

58 
	mWRITE_REQUEST_SENT


61 cÚ¡ * 
ÿche_»que¡_¡©us_¡r
(
ÿche_»que¡_¡©us
 
¡©us
);

63 
	sÿche_block_t
 {

64 
ÿche_block_t
()

66 
	mm_g
=0;

67 
	mm_block_addr
=0;

68 
	mm_®loc_time
=0;

69 
	mm_fl_time
=0;

70 
	mm_Ï¡_acûss_time
=0;

71 
	mm_¡©us
=
INVALID
;

73 
®loÿ‹
Ğ
Ãw_addr_ty³
 
g
,‚ew_addr_ty³ 
block_addr
, 
time
 )

75 
	mm_g
=
g
;

76 
	mm_block_addr
=
block_addr
;

77 
	mm_®loc_time
=
time
;

78 
	mm_Ï¡_acûss_time
=
time
;

79 
	mm_fl_time
=0;

80 
	mm_¡©us
=
RESERVED
;

82 
fl
Ğ
time
 )

84 
as£¹
Ğ
m_¡©us
 =ğ
RESERVED
 );

85 
	mm_¡©us
=
VALID
;

86 
	mm_fl_time
=
time
;

89 
Ãw_addr_ty³
 
	mm_g
;

90 
Ãw_addr_ty³
 
	mm_block_addr
;

91 
	mm_®loc_time
;

92 
	mm_Ï¡_acûss_time
;

93 
	mm_fl_time
;

94 
ÿche_block_¡©e
 
	mm_¡©us
;

97 
	e»¶aûm’t_pŞicy_t
 {

98 
	mLRU
,

99 
	mFIFO


102 
	ewr™e_pŞicy_t
 {

103 
	mREAD_ONLY
,

104 
	mWRITE_BACK
,

105 
	mWRITE_THROUGH
,

106 
	mWRITE_EVICT
,

107 
	mLOCAL_WB_GLOBAL_WT


110 
	e®loÿtiÚ_pŞicy_t
 {

111 
	mON_MISS
,

112 
	mON_FILL


116 
	ewr™e_®loÿ‹_pŞicy_t
 {

117 
	mNO_WRITE_ALLOCATE
,

118 
	mWRITE_ALLOCATE


121 
	emshr_cÚfig_t
 {

122 
	mTEX_FIFO
,

123 
	mASSOC


127 şas 
	cÿche_cÚfig
 {

128 
	mpublic
:

129 
	$ÿche_cÚfig
()

131 
m_v®id
 = 
çl£
;

132 
m_di§bËd
 = 
çl£
;

133 
m_cÚfig_¡ršg
 = 
NULL
;

134 
m_cÚfig_¡ršgP»fL1
 = 
NULL
;

135 
m_cÚfig_¡ršgP»fSh¬ed
 = 
NULL
;

136 
m_d©a_pÜt_width
 = 0;

138 
	$š™
(* 
cÚfig
, 
FuncCache
 
¡©us
)

140 
ÿche_¡©us
ğ
¡©us
;

141 
	`as£¹
Ğ
cÚfig
 );

142 
½
, 
wp
, 
­
, 
mshr_ty³
, 
w­
;

144 
Áok
 = 
	`ssÿnf
(
cÚfig
,"%u:%u:%u,%c:%c:%c:%c,%c:%u:%u,%u:%u,%u",

145 &
m_n£t
, &
m_lše_sz
, &
m_assoc
, &
½
, &
wp
, &
­
, &
w­
,

146 &
mshr_ty³
, &
m_mshr_’Œ›s
,&
m_mshr_max_m”ge
,

147 &
m_miss_queue_size
,&
m_»suÉ_fifo_’Œ›s
,

148 &
m_d©a_pÜt_width
);

150 iàĞ
Áok
 < 11 ) {

151 iàĞ!
	`¡rcmp
(
cÚfig
,"none") ) {

152 
m_di§bËd
 = 
Œue
;

155 
	`ex™_·r£_”rÜ
();

157 
½
) {

158 'L': 
m_»¶aûm’t_pŞicy
 = 
LRU
; ;

159 'F': 
m_»¶aûm’t_pŞicy
 = 
FIFO
; ;

160 : 
	`ex™_·r£_”rÜ
();

162 
wp
) {

163 'R': 
m_wr™e_pŞicy
 = 
READ_ONLY
; ;

164 'B': 
m_wr™e_pŞicy
 = 
WRITE_BACK
; ;

165 'T': 
m_wr™e_pŞicy
 = 
WRITE_THROUGH
; ;

166 'E': 
m_wr™e_pŞicy
 = 
WRITE_EVICT
; ;

167 'L': 
m_wr™e_pŞicy
 = 
LOCAL_WB_GLOBAL_WT
; ;

168 : 
	`ex™_·r£_”rÜ
();

170 
­
) {

171 'm': 
m_®loc_pŞicy
 = 
ON_MISS
; ;

172 'f': 
m_®loc_pŞicy
 = 
ON_FILL
; ;

173 : 
	`ex™_·r£_”rÜ
();

175 
mshr_ty³
) {

176 'F': 
m_mshr_ty³
 = 
TEX_FIFO
; 
	`as£¹
(
Áok
==12); ;

177 'A': 
m_mshr_ty³
 = 
ASSOC
; ;

178 : 
	`ex™_·r£_”rÜ
();

180 
m_lše_sz_log2
 = 
	`LOGB2
(
m_lše_sz
);

181 
m_n£t_log2
 = 
	`LOGB2
(
m_n£t
);

182 
m_v®id
 = 
Œue
;

184 
w­
){

185 'W': 
m_wr™e_®loc_pŞicy
 = 
WRITE_ALLOCATE
; ;

186 'N': 
m_wr™e_®loc_pŞicy
 = 
NO_WRITE_ALLOCATE
; ;

187 : 
	`ex™_·r£_”rÜ
();

191 ià(
m_®loc_pŞicy
 =ğ
ON_FILL
 
ªd
 
m_wr™e_pŞicy
 =ğ
WRITE_BACK
) {

201 
	`as£¹
(0 && "Invalid cache configuration: Writeback cache cannot‡llocate‚ew†ine on fill. ");

205 ià(
m_d©a_pÜt_width
 == 0) {

206 
m_d©a_pÜt_width
 = 
m_lše_sz
;

208 
	`as£¹
(
m_lše_sz
 % 
m_d©a_pÜt_width
 == 0);

209 
	}
}

210 
boŞ
 
	$di§bËd
(ècÚ¡ {  
m_di§bËd
;
	}
}

211 
	$g‘_lše_sz
() const

213 
	`as£¹
Ğ
m_v®id
 );

214  
m_lše_sz
;

215 
	}
}

216 
	$g‘_num_lšes
() const

218 
	`as£¹
Ğ
m_v®id
 );

219  
m_n£t
 * 
m_assoc
;

220 
	}
}

222 
	$´št
Ğ
FILE
 *
å
 ) const

224 
	`årštf
Ğ
å
, "Size = %d B (%d Set x %d-way x %d byte†ine)\n",

225 
m_lše_sz
 * 
m_n£t
 * 
m_assoc
,

226 
m_n£t
, 
m_assoc
, 
m_lše_sz
 );

227 
	}
}

229 
vœtu®
 
	$£t_šdex
Ğ
Ãw_addr_ty³
 
addr
 ) const

231 (
addr
 >> 
m_lše_sz_log2
è& (
m_n£t
-1);

232 
	}
}

234 
Ãw_addr_ty³
 
	$g
Ğ
Ãw_addr_ty³
 
addr
 ) const

241  
addr
 & ~(
m_lše_sz
-1);

242 
	}
}

243 
Ãw_addr_ty³
 
	$block_addr
Ğ
Ãw_addr_ty³
 
addr
 ) const

245  
addr
 & ~(
m_lše_sz
-1);

246 
	}
}

247 
FuncCache
 
	$g‘_ÿche_¡©us
(è{ 
ÿche_¡©us
;
	}
}

248 *
	gm_cÚfig_¡ršg
;

249 *
	gm_cÚfig_¡ršgP»fL1
;

250 *
	gm_cÚfig_¡ršgP»fSh¬ed
;

251 
FuncCache
 
	gÿche_¡©us
;

253 
	g´Ùeùed
:

254 
	$ex™_·r£_”rÜ
()

256 
	`´štf
("GPGPU-Sim uArch: cachcÚfigu¿tiÚ…¬sšgƒ¼Ü (%s)\n", 
m_cÚfig_¡ršg
 );

257 
	`abÜt
();

258 
	}
}

260 
boŞ
 
	gm_v®id
;

261 
boŞ
 
	gm_di§bËd
;

262 
	gm_lše_sz
;

263 
	gm_lše_sz_log2
;

264 
	gm_n£t
;

265 
	gm_n£t_log2
;

266 
	gm_assoc
;

268 
»¶aûm’t_pŞicy_t
 
	gm_»¶aûm’t_pŞicy
;

269 
wr™e_pŞicy_t
 
	gm_wr™e_pŞicy
;

270 
®loÿtiÚ_pŞicy_t
 
	gm_®loc_pŞicy
;

271 
mshr_cÚfig_t
 
	gm_mshr_ty³
;

273 
wr™e_®loÿ‹_pŞicy_t
 
	gm_wr™e_®loc_pŞicy
;

276 
	gm_mshr_’Œ›s
;

277 
	gm_äagm’t_fifo_’Œ›s
;

280 
	gm_mshr_max_m”ge
;

281 
	gm_»que¡_fifo_’Œ›s
;

284 
	gm_miss_queue_size
;

285 
	gm_rob_’Œ›s
;

287 
	gm_»suÉ_fifo_’Œ›s
;

289 
	gm_d©a_pÜt_width
;

291 
ä›nd
 
şass
 
	gg_¬¿y
;

292 
ä›nd
 
şass
 
	gba£lše_ÿche
;

293 
ä›nd
 
şass
 
	g»ad_Úly_ÿche
;

294 
ä›nd
 
şass
 
	g‹x_ÿche
;

295 
ä›nd
 
şass
 
	gd©a_ÿche
;

296 
ä›nd
 
şass
 
	gl1_ÿche
;

297 
ä›nd
 
şass
 
	gl2_ÿche
;

301 şas 
	cl2_ÿche_cÚfig
 : 
public
 
ÿche_cÚfig
 {

302 
public
:

303 
	$l2_ÿche_cÚfig
(è: 
	$ÿche_cÚfig
(){}

304 
	`š™
(
lš—r_to_¿w_add»ss_Œª¦©iÚ
 *
add»ss_m­pšg
);

305 
vœtu®
 
	$£t_šdex
(
Ãw_addr_ty³
 
addr
) const;

307 
´iv©e
:

308 
lš—r_to_¿w_add»ss_Œª¦©iÚ
 *
m_add»ss_m­pšg
;

309 
	}
};

311 şas 
	cg_¬¿y
 {

312 
	mpublic
:

314 
g_¬¿y
(
ÿche_cÚfig
 &
cÚfig
, 
cÜe_id
, 
ty³_id
 );

315 ~
g_¬¿y
();

317 
ÿche_»que¡_¡©us
 
	$´obe
Ğ
Ãw_addr_ty³
 
addr
, &
idx
 ) const;

318 
ÿche_»que¡_¡©us
 
	`acûss
Ğ
Ãw_addr_ty³
 
addr
, 
time
, &
idx
 );

319 
ÿche_»que¡_¡©us
 
	`acûss
Ğ
Ãw_addr_ty³
 
addr
, 
time
, &
idx
, 
boŞ
 &
wb
, 
ÿche_block_t
 &
eviùed
 );

321 
	`fl
Ğ
Ãw_addr_ty³
 
addr
, 
time
 );

322 
	`fl
Ğ
idx
, 
time
 );

324 
	$size
(ècÚ¡ {  
m_cÚfig
.
	`g‘_num_lšes
();}

325 
ÿche_block_t
 &
	$g‘_block
(
idx
è{  
m_lšes
[idx];
	}
}

327 
æush
();

328 
Ãw_wšdow
();

330 
	$´št
Ğ
FILE
 *
¡»am
, &
tÙ®_acûss
, &
tÙ®_mis£s
 ) const;

331 
	$wšdowed_miss_¿‹
( ) const;

332 
	$g‘_¡©s
(&
tÙ®_acûss
, &
tÙ®_mis£s
, &
tÙ®_h™_»s
, &
tÙ®_»s_ç
) const;

334 
	`upd©e_ÿche_·¿m‘”s
(
ÿche_cÚfig
 &
cÚfig
);

335 
´Ùeùed
:

339 
	`g_¬¿y
Ğ
ÿche_cÚfig
 &
cÚfig
,

340 
cÜe_id
,

341 
ty³_id
,

342 
ÿche_block_t
* 
Ãw_lšes
 );

343 
	`š™
Ğ
cÜe_id
, 
ty³_id
 );

345 
´Ùeùed
:

347 
ÿche_cÚfig
 &
m_cÚfig
;

349 
ÿche_block_t
 *
m_lšes
;

351 
m_acûss
;

352 
m_miss
;

353 
m_³ndšg_h™
;

354 
m_»s_ç
;

357 
m_´ev_¢­shÙ_acûss
;

358 
m_´ev_¢­shÙ_miss
;

359 
m_´ev_¢­shÙ_³ndšg_h™
;

361 
m_cÜe_id
;

362 
m_ty³_id
;

363 
	}
};

365 şas 
	cmshr_bË
 {

366 
	mpublic
:

367 
	$mshr_bË
Ğ
num_’Œ›s
, 
max_m”ged
 )

368 : 
	`m_num_’Œ›s
(
num_’Œ›s
),

369 
	$m_max_m”ged
(
max_m”ged
)

370 #ià(
Œ1_hash_m­_ism­
 == 0)

371 ,
	$m_d©a
(2*
num_’Œ›s
)

377 
boŞ
 
	$´obe
Ğ
Ãw_addr_ty³
 
block_addr
 ) const;

379 
boŞ
 
	$fuÎ
Ğ
Ãw_addr_ty³
 
block_addr
 ) const;

381 
	`add
Ğ
Ãw_addr_ty³
 
block_addr
, 
mem_ãtch
 *
mf
 );

383 
boŞ
 
	$busy
(ècÚ¡ { 
çl£
;
	}
}

385 
m¬k_»ady
Ğ
Ãw_addr_ty³
 
block_addr
, 
boŞ
 &
has_©omic
 );

387 
boŞ
 
	$acûss_»ady
(ècÚ¡ { !
m_cu¼’t_»¥Ú£
.
	`em±y
();
	}
}

389 
mem_ãtch
 *
Ãxt_acûss
();

390 
	$di¥Ïy
Ğ
FILE
 *
å
 ) const;

392 
	$check_mshr_·¿m‘”s
Ğ
num_’Œ›s
, 
max_m”ged
 )

394 
	`as£¹
(
m_num_’Œ›s
==
num_’Œ›s
 && "Change of MSHR…arameters between kernels is‚ot‡llowed");

395 
	`as£¹
(
m_max_m”ged
==
max_m”ged
 && "Change of MSHR…arameters between kernels is‚ot‡llowed");

396 
	}
}

398 
	g´iv©e
:

401 cÚ¡ 
m_num_’Œ›s
;

402 cÚ¡ 
	gm_max_m”ged
;

404 
	smshr_’Œy
 {

405 
	g¡d
::
li¡
<
mem_ãtch
*> 
m_li¡
;

406 
boŞ
 
	gm_has_©omic
;

407 
mshr_’Œy
(è: 
m_has_©omic
(
çl£
) { }

409 
	gŒ1_hash_m­
<
	tÃw_addr_ty³
,
	tmshr_’Œy
> 
	tbË
;

410 
bË
 
	gm_d©a
;

413 
boŞ
 
	gm_cu¼’t_»¥Ú£_»ady
;

414 
	g¡d
::
li¡
<
Ãw_addr_ty³
> 
m_cu¼’t_»¥Ú£
;

422 
	sÿche_sub_¡©s
{

423 
	macûs£s
;

424 
	mmis£s
;

425 
	m³ndšg_h™s
;

426 
	m»s_çs
;

428 
	mpÜt_avaabË_cyşes
;

429 
	md©a_pÜt_busy_cyşes
;

430 
	mfl_pÜt_busy_cyşes
;

432 
ÿche_sub_¡©s
(){

433 
ş—r
();

435 
ş—r
(){

436 
	macûs£s
 = 0;

437 
	mmis£s
 = 0;

438 
	m³ndšg_h™s
 = 0;

439 
	m»s_çs
 = 0;

440 
	mpÜt_avaabË_cyşes
 = 0;

441 
	md©a_pÜt_busy_cyşes
 = 0;

442 
	mfl_pÜt_busy_cyşes
 = 0;

444 
	mÿche_sub_¡©s
 &
	mİ”©Ü
+=(cÚ¡ 
ÿche_sub_¡©s
 &
css
){

448 
acûs£s
 +ğ
css
.accesses;

449 
	mmis£s
 +ğ
css
.
mis£s
;

450 
	m³ndšg_h™s
 +ğ
css
.
³ndšg_h™s
;

451 
	m»s_çs
 +ğ
css
.
»s_çs
;

452 
	mpÜt_avaabË_cyşes
 +ğ
css
.
pÜt_avaabË_cyşes
;

453 
	md©a_pÜt_busy_cyşes
 +ğ
css
.
d©a_pÜt_busy_cyşes
;

454 
	mfl_pÜt_busy_cyşes
 +ğ
css
.
fl_pÜt_busy_cyşes
;

455  *
	mthis
;

458 
ÿche_sub_¡©s
 
	mİ”©Ü
+(cÚ¡ 
	mÿche_sub_¡©s
 &
	mcs
){

462 
ÿche_sub_¡©s
 
	m»t
;

463 
	m»t
.
	macûs£s
 = 
acûs£s
 + 
cs
.accesses;

464 
	m»t
.
	mmis£s
 = 
mis£s
 + 
cs
.misses;

465 
	m»t
.
	m³ndšg_h™s
 = 
³ndšg_h™s
 + 
cs
.pending_hits;

466 
	m»t
.
	m»s_çs
 = 
»s_çs
 + 
cs
.res_fails;

467 
	m»t
.
	mpÜt_avaabË_cyşes
 = 
pÜt_avaabË_cyşes
 + 
cs
.port_available_cycles;

468 
	m»t
.
	md©a_pÜt_busy_cyşes
 = 
d©a_pÜt_busy_cyşes
 + 
cs
.data_port_busy_cycles;

469 
	m»t
.
	mfl_pÜt_busy_cyşes
 = 
fl_pÜt_busy_cyşes
 + 
cs
.fill_port_busy_cycles;

470  
	m»t
;

473 
´št_pÜt_¡©s
(
FILE
 *
fout
, cÚ¡ *
ÿche_Çme
) const;

482 şas 
	cÿche_¡©s
 {

483 
	mpublic
:

484 
ÿche_¡©s
();

485 
ş—r
();

486 
šc_¡©s
(
acûss_ty³
, 
acûss_outcome
);

487 
ÿche_»que¡_¡©us
 
	$£Ëù_¡©s_¡©us
(
ÿche_»que¡_¡©us
 
´obe
, ÿche_»que¡_¡©u 
acûss
) const;

488 &
	$İ”©Ü
()(
acûss_ty³
, 
acûss_outcome
);

489 
	$İ”©Ü
()(
acûss_ty³
, 
acûss_outcome
) const;

490 
ÿche_¡©s
 
İ”©Ü
+(cÚ¡ cache_¡© &
cs
);

491 
ÿche_¡©s
 &
İ”©Ü
+=(cÚ¡ cache_¡© &
cs
);

492 
	`´št_¡©s
(
FILE
 *
fout
, cÚ¡ *
ÿche_Çme
 = "Cache_stats") const;

494 
	$g‘_¡©s
(
mem_acûss_ty³
 *
acûss_ty³
, 
num_acûss_ty³
, 
ÿche_»que¡_¡©us
 *
acûss_¡©us
, 
num_acûss_¡©us
) const;

495 
	$g‘_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const;

497 
	`§m¶e_ÿche_pÜt_ut™y
(
boŞ
 
d©a_pÜt_busy
, boŞ 
fl_pÜt_busy
);

498 
´iv©e
:

499 
boŞ
 
	$check_v®id
(
ty³
, 
¡©us
) const;

501 
¡d
::
veùÜ
< std::veùÜ<> > 
m_¡©s
;

503 
m_ÿche_pÜt_avaabË_cyşes
;

504 
m_ÿche_d©a_pÜt_busy_cyşes
;

505 
m_ÿche_fl_pÜt_busy_cyşes
;

508 şas 
	cÿche_t
 {

509 
public
:

510 
vœtu®
 ~
	$ÿche_t
() {}

511 
vœtu®
 
ÿche_»que¡_¡©us
 
	`acûss
Ğ
Ãw_addr_ty³
 
addr
, 
mem_ãtch
 *
mf
, 
time
, 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
 ) = 0;

514 
vœtu®
 
boŞ
 
	$d©a_pÜt_ä“
() const = 0;

515 
vœtu®
 
boŞ
 
	$fl_pÜt_ä“
() const = 0;

516 
	}
};

518 
boŞ
 
was_wr™e_£Á
ĞcÚ¡ 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
 );

519 
boŞ
 
was_»ad_£Á
ĞcÚ¡ 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
 );

524 şas 
	cba£lše_ÿche
 : 
public
 
ÿche_t
 {

525 
public
:

526 
	$ba£lše_ÿche
ĞcÚ¡ *
Çme
, 
ÿche_cÚfig
 &
cÚfig
, 
cÜe_id
, 
ty³_id
, 
mem_ãtch_š‹rçû
 *
mempÜt
,

527 
mem_ãtch_¡©us
 
¡©us
 )

528 : 
	`m_cÚfig
(
cÚfig
), 
	`m_g_¬¿y
(
Ãw
 
	`g_¬¿y
(cÚfig,
cÜe_id
,
ty³_id
)),

529 
	`m_mshrs
(
cÚfig
.
m_mshr_’Œ›s
,cÚfig.
m_mshr_max_m”ge
),

530 
	$m_bªdwidth_mªagem’t
(
cÚfig
)

532 
	`š™
Ğ
Çme
, 
cÚfig
, 
mempÜt
, 
¡©us
 );

535 
	$š™
ĞcÚ¡ *
Çme
,

536 cÚ¡ 
ÿche_cÚfig
 &
cÚfig
,

537 
mem_ãtch_š‹rçû
 *
mempÜt
,

538 
mem_ãtch_¡©us
 
¡©us
 )

540 
m_Çme
 = 
Çme
;

541 
	`as£¹
(
cÚfig
.
m_mshr_ty³
 =ğ
ASSOC
);

542 
m_mempÜt
=
mempÜt
;

543 
m_miss_queue_¡©us
 = 
¡©us
;

544 
	}
}

546 
	gvœtu®
 ~
	$ba£lše_ÿche
()

548 
d–‘e
 
m_g_¬¿y
;

549 
	}
}

551 
	$upd©e_ÿche_·¿m‘”s
(
ÿche_cÚfig
 &
cÚfig
)

553 
m_cÚfig
=
cÚfig
;

554 
m_g_¬¿y
->
	`upd©e_ÿche_·¿m‘”s
(
cÚfig
);

555 
m_mshrs
.
	`check_mshr_·¿m‘”s
(
cÚfig
.
m_mshr_’Œ›s
,cÚfig.
m_mshr_max_m”ge
);

556 
	}
}

558 
vœtu®
 
ÿche_»que¡_¡©us
 
acûss
Ğ
Ãw_addr_ty³
 
addr
, 
mem_ãtch
 *
mf
, 
time
, 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
 ) = 0;

560 
cyşe
();

562 
fl
Ğ
mem_ãtch
 *
mf
, 
time
 );

564 
boŞ
 
wa™šg_fÜ_fl
Ğ
mem_ãtch
 *
mf
 );

566 
boŞ
 
	$acûss_»ady
(ècÚ¡ { 
m_mshrs
.
	`acûss_»ady
();
	}
}

568 
mem_ãtch
 *
	$Ãxt_acûss
(){ 
m_mshrs
.
	`Ãxt_acûss
();
	}
}

570 
	$æush
(){
m_g_¬¿y
->
	`æush
();
	}
}

571 
	$´št
(
FILE
 *
å
, &
acûs£s
, &
mis£s
) const;

572 
	$di¥Ïy_¡©e
Ğ
FILE
 *
å
 ) const;

575 cÚ¡ 
ÿche_¡©s
 &
	$g‘_¡©s
() const {

576  
m_¡©s
;

577 
	}
}

578 
	$g‘_¡©s
(
mem_acûss_ty³
 *
acûss_ty³
, 
num_acûss_ty³
, 
ÿche_»que¡_¡©us
 *
acûss_¡©us
, 
num_acûss_¡©us
) const{

579  
m_¡©s
.
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
acûss_¡©us
, 
num_acûss_¡©us
);

580 
	}
}

581 
	$g‘_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const {

582 
m_¡©s
.
	`g‘_sub_¡©s
(
css
);

583 
	}
}

586 
boŞ
 
	$d©a_pÜt_ä“
(ècÚ¡ {  
m_bªdwidth_mªagem’t
.
	`d©a_pÜt_ä“
(); 
	}
}

587 
boŞ
 
	$fl_pÜt_ä“
(ècÚ¡ {  
m_bªdwidth_mªagem’t
.
	`fl_pÜt_ä“
(); 
	}
}

589 
	g´Ùeùed
:

591 
	$ba£lše_ÿche
ĞcÚ¡ *
Çme
,

592 
ÿche_cÚfig
 &
cÚfig
,

593 
cÜe_id
,

594 
ty³_id
,

595 
mem_ãtch_š‹rçû
 *
mempÜt
,

596 
mem_ãtch_¡©us
 
¡©us
,

597 
g_¬¿y
* 
Ãw_g_¬¿y
 )

598 : 
	`m_cÚfig
(
cÚfig
),

599 
	`m_g_¬¿y
Ğ
Ãw_g_¬¿y
 ),

600 
	`m_mshrs
(
cÚfig
.
m_mshr_’Œ›s
,cÚfig.
m_mshr_max_m”ge
),

601 
	$m_bªdwidth_mªagem’t
(
cÚfig
)

603 
	`š™
Ğ
Çme
, 
cÚfig
, 
mempÜt
, 
¡©us
 );

604 
	}
}

606 
	g´Ùeùed
:

607 
¡d
::
¡ršg
 
m_Çme
;

608 
	gÿche_cÚfig
 &
	gm_cÚfig
;

609 
g_¬¿y
* 
	gm_g_¬¿y
;

610 
mshr_bË
 
	gm_mshrs
;

611 
	g¡d
::
li¡
<
mem_ãtch
*> 
m_miss_queue
;

612 
mem_ãtch_¡©us
 
	gm_miss_queue_¡©us
;

613 
mem_ãtch_š‹rçû
 *
	gm_mempÜt
;

615 
	sexŒa_mf_f›lds
 {

616 
exŒa_mf_f›lds
(è{ 
	gm_v®id
 = 
çl£
;}

617 
exŒa_mf_f›lds
Ğ
Ãw_addr_ty³
 
a
, 
i
, 
d
 )

619 
	gm_v®id
 = 
Œue
;

620 
	gm_block_addr
 = 
a
;

621 
	gm_ÿche_šdex
 = 
i
;

622 
	gm_d©a_size
 = 
d
;

624 
boŞ
 
	gm_v®id
;

625 
Ãw_addr_ty³
 
	gm_block_addr
;

626 
	gm_ÿche_šdex
;

627 
	gm_d©a_size
;

630 
	g¡d
::
	tm­
<
	tmem_ãtch
*,
	texŒa_mf_f›lds
> 
	texŒa_mf_f›lds_lookup
;

632 
exŒa_mf_f›lds_lookup
 
	gm_exŒa_mf_f›lds
;

634 
ÿche_¡©s
 
	gm_¡©s
;

637 
boŞ
 
	$miss_queue_fuÎ
(
num_miss
){

638  ( (
m_miss_queue
.
	`size
()+
num_miss
è>ğ
m_cÚfig
.
m_miss_queue_size
 );

639 
	}
}

641 
£nd_»ad_»que¡
(
Ãw_addr_ty³
 
addr
,‚ew_addr_ty³ 
block_addr
, 
ÿche_šdex
, 
mem_ãtch
 *
mf
,

642 
time
, 
boŞ
 &
do_miss
, 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
, boŞ 
»ad_Úly
, boŞ 
wa
);

644 
£nd_»ad_»que¡
(
Ãw_addr_ty³
 
addr
,‚ew_addr_ty³ 
block_addr
, 
ÿche_šdex
, 
mem_ãtch
 *
mf
,

645 
time
, 
boŞ
 &
do_miss
, boŞ &
wb
, 
ÿche_block_t
 &
eviùed
, 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
, boŞ 
»ad_Úly
, boŞ 
wa
);

648 şas 
	cbªdwidth_mªagem’t


650 
	gpublic
:

651 
bªdwidth_mªagem’t
(
ÿche_cÚfig
 &
cÚfig
);

654 
u£_d©a_pÜt
(
mem_ãtch
 *
mf
, 
ÿche_»que¡_¡©us
 
outcome
, cÚ¡ 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
);

657 
u£_fl_pÜt
(
mem_ãtch
 *
mf
);

660 
»¶’ish_pÜt_bªdwidth
();

663 
boŞ
 
d©a_pÜt_ä“
() const;

665 
boŞ
 
fl_pÜt_ä“
() const;

666 
	g´Ùeùed
:

667 cÚ¡ 
ÿche_cÚfig
 &
m_cÚfig
;

669 
	gm_d©a_pÜt_occup›d_cyşes
;

670 
	gm_fl_pÜt_occup›d_cyşes
;

673 
bªdwidth_mªagem’t
 
	gm_bªdwidth_mªagem’t
;

677 şas 
	c»ad_Úly_ÿche
 : 
public
 
ba£lše_ÿche
 {

678 
public
:

679 
	$»ad_Úly_ÿche
ĞcÚ¡ *
Çme
, 
ÿche_cÚfig
 &
cÚfig
, 
cÜe_id
, 
ty³_id
, 
mem_ãtch_š‹rçû
 *
mempÜt
, 
mem_ãtch_¡©us
 
¡©us
 )

680 : 
	$ba£lše_ÿche
(
Çme
,
cÚfig
,
cÜe_id
,
ty³_id
,
mempÜt
,
¡©us
){}

683 
vœtu®
 
ÿche_»que¡_¡©us
 
	`acûss
Ğ
Ãw_addr_ty³
 
addr
, 
mem_ãtch
 *
mf
, 
time
, 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
 );

685 
vœtu®
 ~
	$»ad_Úly_ÿche
(){
	}
}

687 
	g´Ùeùed
:

688 
	$»ad_Úly_ÿche
ĞcÚ¡ *
Çme
, 
ÿche_cÚfig
 &
cÚfig
, 
cÜe_id
, 
ty³_id
, 
mem_ãtch_š‹rçû
 *
mempÜt
, 
mem_ãtch_¡©us
 
¡©us
, 
g_¬¿y
* 
Ãw_g_¬¿y
 )

689 : 
	$ba£lše_ÿche
(
Çme
,
cÚfig
,
cÜe_id
,
ty³_id
,
mempÜt
,
¡©us
, 
Ãw_g_¬¿y
){
	}
}

693 şas 
	cd©a_ÿche
 : 
public
 
ba£lše_ÿche
 {

694 
public
:

695 
	$d©a_ÿche
ĞcÚ¡ *
Çme
, 
ÿche_cÚfig
 &
cÚfig
,

696 
cÜe_id
, 
ty³_id
, 
mem_ãtch_š‹rçû
 *
mempÜt
,

697 
mem_ãtch_®loÿtÜ
 *
mfü—tÜ
, 
mem_ãtch_¡©us
 
¡©us
,

698 
mem_acûss_ty³
 
wr_®loc_ty³
, mem_acûss_ty³ 
wrbk_ty³
 )

699 : 
	$ba£lše_ÿche
(
Çme
,
cÚfig
,
cÜe_id
,
ty³_id
,
mempÜt
,
¡©us
)

701 
	`š™
Ğ
mfü—tÜ
 );

702 
m_wr_®loc_ty³
 = 
wr_®loc_ty³
;

703 
m_wrbk_ty³
 = 
wrbk_ty³
;

706 
vœtu®
 ~
	$d©a_ÿche
(è{
	}
}

708 
vœtu®
 
	$š™
Ğ
mem_ãtch_®loÿtÜ
 *
mfü—tÜ
 )

710 
m_memãtch_ü—tÜ
=
mfü—tÜ
;

713 
m_rd_h™
 = &
d©a_ÿche
::
rd_h™_ba£
;

716 
m_rd_miss
 = &
d©a_ÿche
::
rd_miss_ba£
;

719 
m_cÚfig
.
m_wr™e_pŞicy
){

721 
READ_ONLY
:

722 
	`as£¹
(0 && "Error: Writable Data_cache set‡s READ_ONLY\n");

724 
WRITE_BACK
: 
m_wr_h™
 = &
d©a_ÿche
::
wr_h™_wb
; ;

725 
WRITE_THROUGH
: 
m_wr_h™
 = &
d©a_ÿche
::
wr_h™_wt
; ;

726 
WRITE_EVICT
: 
m_wr_h™
 = &
d©a_ÿche
::
wr_h™_we
; ;

727 
LOCAL_WB_GLOBAL_WT
:

728 
m_wr_h™
 = &
d©a_ÿche
::
wr_h™_glob®_we_loÿl_wb
;

731 
	`as£¹
(0 && "Error: Must set valid cache write…olicy\n");

736 
m_cÚfig
.
m_wr™e_®loc_pŞicy
){

737 
WRITE_ALLOCATE
: 
m_wr_miss
 = &
d©a_ÿche
::
wr_miss_wa
; ;

738 
NO_WRITE_ALLOCATE
: 
m_wr_miss
 = &
d©a_ÿche
::
wr_miss_no_wa
; ;

740 
	`as£¹
(0 && "Error: Must set valid cache write miss…olicy\n");

743 
	}
}

745 
vœtu®
 
ÿche_»que¡_¡©us
 
acûss
Ğ
Ãw_addr_ty³
 
addr
,

746 
mem_ãtch
 *
mf
,

747 
time
,

748 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
 );

749 
	g´Ùeùed
:

750 
	$d©a_ÿche
ĞcÚ¡ *
Çme
,

751 
ÿche_cÚfig
 &
cÚfig
,

752 
cÜe_id
,

753 
ty³_id
,

754 
mem_ãtch_š‹rçû
 *
mempÜt
,

755 
mem_ãtch_®loÿtÜ
 *
mfü—tÜ
,

756 
mem_ãtch_¡©us
 
¡©us
,

757 
g_¬¿y
* 
Ãw_g_¬¿y
,

758 
mem_acûss_ty³
 
wr_®loc_ty³
,

759 
mem_acûss_ty³
 
wrbk_ty³
)

760 : 
	$ba£lše_ÿche
(
Çme
, 
cÚfig
, 
cÜe_id
, 
ty³_id
, 
mempÜt
,
¡©us
, 
Ãw_g_¬¿y
)

762 
	`š™
Ğ
mfü—tÜ
 );

763 
m_wr_®loc_ty³
 = 
wr_®loc_ty³
;

764 
m_wrbk_ty³
 = 
wrbk_ty³
;

765 
	}
}

767 
mem_acûss_ty³
 
	gm_wr_®loc_ty³
;

768 
mem_acûss_ty³
 
	gm_wrbk_ty³
;

773 
ÿche_»que¡_¡©us


774 
´oûss_g_´obe
Ğ
boŞ
 
wr
,

775 
ÿche_»que¡_¡©us
 
¡©us
,

776 
Ãw_addr_ty³
 
addr
,

777 
ÿche_šdex
,

778 
mem_ãtch
* 
mf
,

779 
time
,

780 
¡d
::
li¡
<
ÿche_ev’t
>& 
ev’ts
 );

782 
	g´Ùeùed
:

783 
mem_ãtch_®loÿtÜ
 *
m_memãtch_ü—tÜ
;

787 
£nd_wr™e_»que¡
Ğ
mem_ãtch
 *
mf
,

788 
ÿche_ev’t
 
»que¡
,

789 
time
,

790 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
);

795 
	gÿche_»que¡_¡©us


796 (
	gd©a_ÿche
::*
m_wr_h™
)Ğ
Ãw_addr_ty³
 
addr
,

797 
	gÿche_šdex
,

798 
mem_ãtch
 *
	gmf
,

799 
	gtime
,

800 
	g¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
,

801 
ÿche_»que¡_¡©us
 
	g¡©us
 );

803 
ÿche_»que¡_¡©us


804 
wr_h™_wb
Ğ
Ãw_addr_ty³
 
addr
,

805 
ÿche_šdex
,

806 
mem_ãtch
 *
mf
,

807 
time
,

808 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
,

809 
ÿche_»que¡_¡©us
 
¡©us
 );

810 
ÿche_»que¡_¡©us


811 
wr_h™_wt
Ğ
Ãw_addr_ty³
 
addr
,

812 
ÿche_šdex
,

813 
mem_ãtch
 *
mf
,

814 
time
,

815 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
,

816 
ÿche_»que¡_¡©us
 
¡©us
 );

819 
ÿche_»que¡_¡©us


820 
wr_h™_we
Ğ
Ãw_addr_ty³
 
addr
,

821 
ÿche_šdex
,

822 
mem_ãtch
 *
mf
,

823 
time
,

824 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
,

825 
ÿche_»que¡_¡©us
 
¡©us
 );

826 
ÿche_»que¡_¡©us


827 
wr_h™_glob®_we_loÿl_wb
Ğ
Ãw_addr_ty³
 
addr
,

828 
ÿche_šdex
,

829 
mem_ãtch
 *
mf
,

830 
time
,

831 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
,

832 
ÿche_»que¡_¡©us
 
¡©us
 );

837 
	gÿche_»que¡_¡©us


838 (
	gd©a_ÿche
::*
m_wr_miss
)Ğ
Ãw_addr_ty³
 
addr
,

839 
	gÿche_šdex
,

840 
mem_ãtch
 *
	gmf
,

841 
	gtime
,

842 
	g¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
,

843 
ÿche_»que¡_¡©us
 
	g¡©us
 );

846 
ÿche_»que¡_¡©us


847 
wr_miss_wa
Ğ
Ãw_addr_ty³
 
addr
,

848 
ÿche_šdex
,

849 
mem_ãtch
 *
mf
,

850 
time
,

851 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
,

852 
ÿche_»que¡_¡©us
 
¡©us
 );

853 
ÿche_»que¡_¡©us


854 
wr_miss_no_wa
Ğ
Ãw_addr_ty³
 
addr
,

855 
ÿche_šdex
,

856 
mem_ãtch
 *
mf
,

857 
time
,

858 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
,

859 
ÿche_»que¡_¡©us
 
¡©us
 );

863 
	gÿche_»que¡_¡©us


864 (
	gd©a_ÿche
::*
m_rd_h™
)Ğ
Ãw_addr_ty³
 
addr
,

865 
	gÿche_šdex
,

866 
mem_ãtch
 *
	gmf
,

867 
	gtime
,

868 
	g¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
,

869 
ÿche_»que¡_¡©us
 
	g¡©us
 );

870 
ÿche_»que¡_¡©us


871 
rd_h™_ba£
Ğ
Ãw_addr_ty³
 
addr
,

872 
ÿche_šdex
,

873 
mem_ãtch
 *
mf
,

874 
time
,

875 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
,

876 
ÿche_»que¡_¡©us
 
¡©us
 );

879 
	gÿche_»que¡_¡©us


880 (
	gd©a_ÿche
::*
m_rd_miss
)Ğ
Ãw_addr_ty³
 
addr
,

881 
	gÿche_šdex
,

882 
mem_ãtch
 *
	gmf
,

883 
	gtime
,

884 
	g¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
,

885 
ÿche_»que¡_¡©us
 
	g¡©us
 );

886 
ÿche_»que¡_¡©us


887 
rd_miss_ba£
Ğ
Ãw_addr_ty³
 
addr
,

888 
ÿche_šdex
,

889 
mem_ãtch
*
mf
,

890 
time
,

891 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
,

892 
ÿche_»que¡_¡©us
 
¡©us
 );

900 şas 
	cl1_ÿche
 : 
public
 
d©a_ÿche
 {

901 
public
:

902 
	$l1_ÿche
(cÚ¡ *
Çme
, 
ÿche_cÚfig
 &
cÚfig
,

903 
cÜe_id
, 
ty³_id
, 
mem_ãtch_š‹rçû
 *
mempÜt
,

904 
mem_ãtch_®loÿtÜ
 *
mfü—tÜ
, 
mem_ãtch_¡©us
 
¡©us
 )

905 : 
	$d©a_ÿche
(
Çme
,
cÚfig
,
cÜe_id
,
ty³_id
,
mempÜt
,
mfü—tÜ
,
¡©us
, 
L1_WR_ALLOC_R
, 
L1_WRBK_ACC
){}

907 
vœtu®
 ~
	$l1_ÿche
(){
	}
}

909 
vœtu®
 
ÿche_»que¡_¡©us


910 
acûss
Ğ
Ãw_addr_ty³
 
addr
,

911 
mem_ãtch
 *
mf
,

912 
time
,

913 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
 );

915 
	g´Ùeùed
:

916 
	$l1_ÿche
ĞcÚ¡ *
Çme
,

917 
ÿche_cÚfig
 &
cÚfig
,

918 
cÜe_id
,

919 
ty³_id
,

920 
mem_ãtch_š‹rçû
 *
mempÜt
,

921 
mem_ãtch_®loÿtÜ
 *
mfü—tÜ
,

922 
mem_ãtch_¡©us
 
¡©us
,

923 
g_¬¿y
* 
Ãw_g_¬¿y
 )

924 : 
	$d©a_ÿche
Ğ
Çme
,

925 
cÚfig
,

926 
cÜe_id
,
ty³_id
,
mempÜt
,
mfü—tÜ
,
¡©us
, 
Ãw_g_¬¿y
, 
L1_WR_ALLOC_R
, 
L1_WRBK_ACC
 ){
	}
}

932 şas 
	cl2_ÿche
 : 
public
 
d©a_ÿche
 {

933 
public
:

934 
	$l2_ÿche
(cÚ¡ *
Çme
, 
ÿche_cÚfig
 &
cÚfig
,

935 
cÜe_id
, 
ty³_id
, 
mem_ãtch_š‹rçû
 *
mempÜt
,

936 
mem_ãtch_®loÿtÜ
 *
mfü—tÜ
, 
mem_ãtch_¡©us
 
¡©us
 )

937 : 
	$d©a_ÿche
(
Çme
,
cÚfig
,
cÜe_id
,
ty³_id
,
mempÜt
,
mfü—tÜ
,
¡©us
, 
L2_WR_ALLOC_R
, 
L2_WRBK_ACC
){}

939 
vœtu®
 ~
	$l2_ÿche
(è{
	}
}

941 
vœtu®
 
ÿche_»que¡_¡©us


942 
acûss
Ğ
Ãw_addr_ty³
 
addr
,

943 
mem_ãtch
 *
mf
,

944 
time
,

945 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
 );

955 şas 
	c‹x_ÿche
 : 
public
 
ÿche_t
 {

956 
public
:

957 
	$‹x_ÿche
ĞcÚ¡ *
Çme
, 
ÿche_cÚfig
 &
cÚfig
, 
cÜe_id
, 
ty³_id
, 
mem_ãtch_š‹rçû
 *
mempÜt
,

958 
mem_ãtch_¡©us
 
»que¡_¡©us
,

959 
mem_ãtch_¡©us
 
rob_¡©us
 )

960 : 
	`m_cÚfig
(
cÚfig
),

961 
	`m_gs
(
cÚfig
,
cÜe_id
,
ty³_id
),

962 
	`m_äagm’t_fifo
(
cÚfig
.
m_äagm’t_fifo_’Œ›s
),

963 
	`m_»que¡_fifo
(
cÚfig
.
m_»que¡_fifo_’Œ›s
),

964 
	`m_rob
(
cÚfig
.
m_rob_’Œ›s
),

965 
	$m_»suÉ_fifo
(
cÚfig
.
m_»suÉ_fifo_’Œ›s
)

967 
m_Çme
 = 
Çme
;

968 
	`as£¹
(
cÚfig
.
m_mshr_ty³
 =ğ
TEX_FIFO
);

969 
	`as£¹
(
cÚfig
.
m_wr™e_pŞicy
 =ğ
READ_ONLY
);

970 
	`as£¹
(
cÚfig
.
m_®loc_pŞicy
 =ğ
ON_MISS
);

971 
m_mempÜt
=
mempÜt
;

972 
m_ÿche
 = 
Ãw
 
d©a_block
[ 
cÚfig
.
	`g‘_num_lšes
() ];

973 
m_»que¡_queue_¡©us
 = 
»que¡_¡©us
;

974 
m_rob_¡©us
 = 
rob_¡©us
;

982 
ÿche_»que¡_¡©us
 
	`acûss
Ğ
Ãw_addr_ty³
 
addr
, 
mem_ãtch
 *
mf
, 
time
, 
¡d
::
li¡
<
ÿche_ev’t
> &
ev’ts
 );

983 
	`cyşe
();

985 
	`fl
Ğ
mem_ãtch
 *
mf
, 
time
 );

987 
boŞ
 
	$acûss_»ady
(ècÚ¡{ !
m_»suÉ_fifo
.
	`em±y
();
	}
}

989 
mem_ãtch
 *
	$Ãxt_acûss
(){ 
m_»suÉ_fifo
.
	`pİ
();
	}
}

990 
	$di¥Ïy_¡©e
Ğ
FILE
 *
å
 ) const;

993 
boŞ
 
	$d©a_pÜt_ä“
(ècÚ¡ {  
Œue
; 
	}
}

994 
boŞ
 
	$fl_pÜt_ä“
(ècÚ¡ {  
Œue
; 
	}
}

997 cÚ¡ 
	gÿche_¡©s
 &
	$g‘_¡©s
() const {

998  
m_¡©s
;

999 
	}
}

1000 
	$g‘_¡©s
(
mem_acûss_ty³
 *
acûss_ty³
, 
num_acûss_ty³
, 
ÿche_»que¡_¡©us
 *
acûss_¡©us
, 
num_acûss_¡©us
) const{

1001  
m_¡©s
.
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
acûss_¡©us
, 
num_acûss_¡©us
);

1002 
	}
}

1004 
	$g‘_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const{

1005 
m_¡©s
.
	`g‘_sub_¡©s
(
css
);

1006 
	}
}

1007 
	g´iv©e
:

1008 
¡d
::
¡ršg
 
m_Çme
;

1009 cÚ¡ 
	gÿche_cÚfig
 &
	gm_cÚfig
;

1011 
	säagm’t_’Œy
 {

1012 
äagm’t_’Œy
() {}

1013 
äagm’t_’Œy
Ğ
mem_ãtch
 *
mf
, 
idx
, 
boŞ
 
m
, 
d
 )

1015 
	gm_»que¡
=
mf
;

1016 
	gm_ÿche_šdex
=
idx
;

1017 
	gm_miss
=
m
;

1018 
	gm_d©a_size
=
d
;

1020 
mem_ãtch
 *
	gm_»que¡
;

1021 
	gm_ÿche_šdex
;

1022 
boŞ
 
	gm_miss
;

1023 
	gm_d©a_size
;

1026 
	srob_’Œy
 {

1027 
rob_’Œy
(è{ 
	gm_»ady
 = 
çl£
; 
	gm_time
=0; 
	gm_»que¡
=
NULL
;}

1028 
rob_’Œy
Ğ
i
, 
mem_ãtch
 *
mf
, 
Ãw_addr_ty³
 
a
 )

1030 
	gm_»ady
=
çl£
;

1031 
	gm_šdex
=
i
;

1032 
	gm_time
=0;

1033 
	gm_»que¡
=
mf
;

1034 
	gm_block_addr
=
a
;

1036 
boŞ
 
	gm_»ady
;

1037 
	gm_time
;

1038 
	gm_šdex
;

1039 
mem_ãtch
 *
	gm_»que¡
;

1040 
Ãw_addr_ty³
 
	gm_block_addr
;

1043 
	sd©a_block
 {

1044 
d©a_block
(è{ 
	gm_v®id
 = 
çl£
;}

1045 
boŞ
 
	gm_v®id
;

1046 
Ãw_addr_ty³
 
	gm_block_addr
;

1050 
	g‹m¶©e
<
şass
 
	gT
> cÏs 
	cfifo
 {

1051 
	gpublic
:

1052 
fifo
Ğ
size
 )

1054 
m_size
=
size
;

1055 
	gm_num
=0;

1056 
	gm_h—d
=0;

1057 
	gm_
=0;

1058 
	gm_d©a
 = 
Ãw
 
T
[
size
];

1060 
boŞ
 
fuÎ
(ècÚ¡ {  
	gm_num
 =ğ
m_size
;}

1061 
boŞ
 
em±y
(ècÚ¡ {  
	gm_num
 == 0;}

1062 
size
(ècÚ¡ {  
	gm_num
;}

1063 
ÿ·c™y
(ècÚ¡ {  
	gm_size
;}

1064 
push
ĞcÚ¡ 
T
 &
e
 )

1066 
as£¹
(!
fuÎ
());

1067 
	gm_d©a
[
m_h—d
] = 
e
;

1068 
	g»suÉ
 = 
m_h—d
;

1069 
šc_h—d
();

1070  
	g»suÉ
;

1072 
T
 
pİ
()

1074 
as£¹
(!
em±y
());

1075 
T
 
	g»suÉ
 = 
m_d©a
[
m_
];

1076 
šc_
();

1077  
	g»suÉ
;

1079 cÚ¡ 
	gT
 &
³ek
Ğ
šdex
 ) const

1081 
as£¹
Ğ
šdex
 < 
m_size
 );

1082  
	gm_d©a
[
šdex
];

1084 
	gT
 &
³ek
Ğ
šdex
 )

1086 
as£¹
Ğ
šdex
 < 
m_size
 );

1087  
	gm_d©a
[
šdex
];

1089 
	gT
 &
³ek
() const

1091  
	gm_d©a
[
m_
];

1093 
Ãxt_pİ_šdex
() const

1095  
	gm_
;

1097 
	g´iv©e
:

1098 
šc_h—d
(è{ 
m_h—d
 = (m_h—d+1)%
m_size
; 
	gm_num
++;}

1099 
šc_
(è{ 
as£¹
(
m_num
>0); 
	gm_
 = (
m_
+1)%
m_size
; 
	gm_num
--;}

1101 
	gm_h—d
;

1102 
	gm_
;

1103 
	gm_num
;

1104 
	gm_size
;

1105 
T
 *
	gm_d©a
;

1108 
g_¬¿y
 
	gm_gs
;

1109 
	gfifo
<
	gäagm’t_’Œy
> 
	gm_äagm’t_fifo
;

1110 
	gfifo
<
	gmem_ãtch
*> 
	gm_»que¡_fifo
;

1111 
	gfifo
<
	grob_’Œy
> 
	gm_rob
;

1112 
d©a_block
 *
	gm_ÿche
;

1113 
	gfifo
<
	gmem_ãtch
*> 
	gm_»suÉ_fifo
;

1115 
mem_ãtch_š‹rçû
 *
	gm_mempÜt
;

1116 
mem_ãtch_¡©us
 
	gm_»que¡_queue_¡©us
;

1117 
mem_ãtch_¡©us
 
	gm_rob_¡©us
;

1119 
	sexŒa_mf_f›lds
 {

1120 
exŒa_mf_f›lds
(è{ 
	gm_v®id
 = 
çl£
;}

1121 
exŒa_mf_f›lds
Ğ
i
 )

1123 
	gm_v®id
 = 
Œue
;

1124 
	gm_rob_šdex
 = 
i
;

1126 
boŞ
 
	gm_v®id
;

1127 
	gm_rob_šdex
;

1130 
ÿche_¡©s
 
	gm_¡©s
;

1132 
	g¡d
::
	tm­
<
	tmem_ãtch
*,
	texŒa_mf_f›lds
> 
	texŒa_mf_f›lds_lookup
;

1134 
exŒa_mf_f›lds_lookup
 
	gm_exŒa_mf_f›lds
;

	@gpu-misc.cc

28 
	~"gpu-misc.h
"

30 
	$LOGB2
Ğ
v
 ) {

31 
shiá
;

32 
r
;

34 
r
 = 0;

36 
shiá
 = (Ğ
v
 & 0xFFFF0000è!ğ0 ) << 4; v >>ğshiá; 
r
 |= shift;

37 
shiá
 = (Ğ
v
 & 0xFF00 ) !ğ0 ) << 3; v >>ğshiá; 
r
 |= shift;

38 
shiá
 = (Ğ
v
 & 0xF0 ) !ğ0 ) << 2; v >>ğshiá; 
r
 |= shift;

39 
shiá
 = (Ğ
v
 & 0xC ) !ğ0 ) << 1; v >>ğshiá; 
r
 |= shift;

40 
shiá
 = (Ğ
v
 & 0x2 ) !ğ0 ) << 0; v >>ğshiá; 
r
 |= shift;

42  
r
;

43 
	}
}

	@gpu-misc.h

29 #iâdeà
GPU_MISC_H


30 
	#GPU_MISC_H


	)

34 
	#DEBUGL1MISS
 0

	)

36 
LOGB2
Ğ
v
 );

38 
	#gs_mš2
(
a
,
b
è((×)<(b))?×):(b))

	)

39 
	#mš3
(
x
,
y
,
z
è(((x)<(yè&& (x)<(z))?(x):(
	`gs_mš2
((y),(z))))

	)

	@gpu-sim.cc

30 
	~"gpu-sim.h
"

32 
	~<¡dio.h
>

33 
	~<¡dlib.h
>

34 
	~<m©h.h
>

35 
	~"zlib.h
"

38 
	~"shad”.h
"

39 
	~"d¿m.h
"

40 
	~"mem_ãtch.h
"

42 
	~<time.h
>

43 
	~"gpu-ÿche.h
"

44 
	~"gpu-misc.h
"

45 
	~"d–ayqueue.h
"

46 
	~"shad”.h
"

47 
	~"iút_w¿µ”.h
"

48 
	~"d¿m.h
"

49 
	~"addrdec.h
"

50 
	~"¡©-toŞ.h
"

51 
	~"l2ÿche.h
"

53 
	~"../cuda-sim/±x-¡©s.h
"

54 
	~"../¡©w¿µ”.h
"

55 
	~"../ab¡¿ù_h¬dw¬e_mod–.h
"

56 
	~"../debug.h
"

57 
	~"../gpgpusim_’Œypošt.h
"

58 
	~"../cuda-sim/cuda-sim.h
"

59 
	~"../Œaû.h
"

60 
	~"mem_Ï‹ncy_¡©.h
"

61 
	~"pow”_¡©.h
"

62 
	~"visu®iz”.h
"

63 
	~"¡©s.h
"

65 #ifdeà
GPGPUSIM_POWER_MODEL


66 
	~"pow”_š‹rçû.h
"

68 şas 
	cgpgpu_sim_w¿µ”
 {};

71 
	~<¡dio.h
>

72 
	~<¡ršg.h
>

73 
	~<io¡»am
>

74 
	~<s¡»am
>

75 
	~<¡ršg
>

77 
	#MAX
(
a
,
b
è((×)>(b))?×):(b))

	)

80 
boŞ
 
	gg_š‹¿ùive_debugg”_’abËd
=
çl£
;

82 
	ggpu_sim_cyşe
 = 0;

83 
	ggpu_tÙ_sim_cyşe
 = 0;

87 
	ggpu_¡®l_d¿mfuÎ
 = 0;

88 
	ggpu_¡®l_iút2sh
 = 0;

92 
	#CORE
 0x01

	)

93 
	#L2
 0x02

	)

94 
	#DRAM
 0x04

	)

95 
	#ICNT
 0x08

	)

98 
	#MEM_LATENCY_STAT_IMPL


	)

103 
	~"mem_Ï‹ncy_¡©.h
"

105 
	gpow”_cÚfig
::
	$»g_İtiÚs
(
şass
 
O±iÚP¬£r
 * 
İp
)

109 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpuw©tch_xml_fe", 
OPT_CSTR
,

110 &
g_pow”_cÚfig_Çme
,"GPUWattch XML file",

113 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-pow”_simuÏtiÚ_’abËd", 
OPT_BOOL
,

114 &
g_pow”_simuÏtiÚ_’abËd
, "Turn on…ower simulator (1=On, 0=Off)",

117 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-pow”_³r_cyşe_dump", 
OPT_BOOL
,

118 &
g_pow”_³r_cyşe_dump
, "Dump detailed…ower outputƒach cycle",

122 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-pow”_Œaû_’abËd", 
OPT_BOOL
,

123 &
g_pow”_Œaû_’abËd
, "produce‡ file forhe…owerrace (1=On, 0=Off)",

126 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-pow”_Œaû_zËv–", 
OPT_INT32
,

127 &
g_pow”_Œaû_zËv–
, "Compression†evel ofhe…owerrace output†og (0=no comp, 9=highest)",

130 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-¡—dy_pow”_Ëv–s_’abËd", 
OPT_BOOL
,

131 &
g_¡—dy_pow”_Ëv–s_’abËd
, "produce‡ file forhe steady…ower†evels (1=On, 0=Off)",

134 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-¡—dy_¡©e_defš™iÚ", 
OPT_CSTR
,

135 &
gpu_¡—dy_¡©e_defš™iÚ
, "allowed deviation:number of samples",

138 
	}
}

140 
	gmemÜy_cÚfig
::
	$»g_İtiÚs
(
şass
 
O±iÚP¬£r
 * 
İp
)

142 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_d¿m_scheduËr", 
OPT_INT32
, &
scheduËr_ty³
,

144 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_d¿m_·¹™iÚ_queues", 
OPT_CSTR
, &
gpgpu_L2_queue_cÚfig
,

148 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-l2_id—l", 
OPT_BOOL
, &
l2_id—l
,

151 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_ÿche:dl2", 
OPT_CSTR
, &
m_L2_cÚfig
.
m_cÚfig_¡ršg
,

155 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_ÿche:dl2_‹xtu»_Úly", 
OPT_BOOL
, &
m_L2_‹xu»_Úly
,

158 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_n_mem", 
OPT_UINT32
, &
m_n_mem
,

161 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_n_sub_·¹™iÚ_³r_mchªÃl", 
OPT_UINT32
, &
m_n_sub_·¹™iÚ_³r_memÜy_chªÃl
,

164 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_n_mem_³r_ù¾r", 
OPT_UINT32
, &
gpu_n_mem_³r_ù¾r
,

167 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_memÏ‹ncy_¡©", 
OPT_INT32
, &
gpgpu_memÏ‹ncy_¡©
,

170 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_äfcfs_d¿m_sched_queue_size", 
OPT_INT32
, &
gpgpu_äfcfs_d¿m_sched_queue_size
,

173 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_d¿m_»tuº_queue_size", 
OPT_INT32
, &
gpgpu_d¿m_»tuº_queue_size
,

176 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_d¿m_buswidth", 
OPT_UINT32
, &
busW
,

179 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_d¿m_bur¡_Ëngth", 
OPT_UINT32
, &
BL
,

182 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-d¿m_d©a_commªd_äeq_¿tio", 
OPT_UINT32
, &
d©a_commªd_äeq_¿tio
,

185 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_d¿m_timšg_İt", 
OPT_CSTR
, &
gpgpu_d¿m_timšg_İt
,

188 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-rİ_Ï‹ncy", 
OPT_UINT32
, &
rİ_Ï‹ncy
,

191 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-d¿m_Ï‹ncy", 
OPT_UINT32
, &
d¿m_Ï‹ncy
,

195 
m_add»ss_m­pšg
.
	`addrdec_£tİtiÚ
(
İp
);

196 
	}
}

198 
	gshad”_cÜe_cÚfig
::
	$»g_İtiÚs
(
şass
 
O±iÚP¬£r
 * 
İp
)

200 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_simd_mod–", 
OPT_INT32
, &
mod–
,

202 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_shad”_cÜe_p–še", 
OPT_CSTR
, &
gpgpu_shad”_cÜe_p–še_İt
,

205 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_‹x_ÿche:l1", 
OPT_CSTR
, &
m_L1T_cÚfig
.
m_cÚfig_¡ršg
,

209 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_cÚ¡_ÿche:l1", 
OPT_CSTR
, &
m_L1C_cÚfig
.
m_cÚfig_¡ršg
,

213 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_ÿche:1", 
OPT_CSTR
, &
m_L1I_cÚfig
.
m_cÚfig_¡ršg
,

217 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_ÿche:dl1", 
OPT_CSTR
, &
m_L1D_cÚfig
.
m_cÚfig_¡ršg
,

221 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_ÿche:dl1P»fL1", 
OPT_CSTR
, &
m_L1D_cÚfig
.
m_cÚfig_¡ršgP»fL1
,

225 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_ÿche:dl1P»Sh¬ed", 
OPT_CSTR
, &
m_L1D_cÚfig
.
m_cÚfig_¡ršgP»fSh¬ed
,

229 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gmem_sk_L1D", 
OPT_BOOL
, &
gmem_sk_L1D
,

233 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_³rãù_mem", 
OPT_BOOL
, &
gpgpu_³rãù_mem
,

236 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-n_»gfe_g©šg_group", 
OPT_UINT32
, &
n_»gfe_g©šg_group
,

239 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_şock_g©ed_»g_fe", 
OPT_BOOL
, &
gpgpu_şock_g©ed_»g_fe
,

242 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_şock_g©ed_ÏÃs", 
OPT_BOOL
, &
gpgpu_şock_g©ed_ÏÃs
,

245 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_shad”_»gi¡”s", 
OPT_UINT32
, &
gpgpu_shad”_»gi¡”s
,

248 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_shad”_ùa", 
OPT_UINT32
, &
max_ùa_³r_cÜe
,

251 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_n_şu¡”s", 
OPT_UINT32
, &
n_simt_şu¡”s
,

254 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_n_cÜes_³r_şu¡”", 
OPT_UINT32
, &
n_simt_cÜes_³r_şu¡”
,

257 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_n_şu¡”_ejeùiÚ_bufãr_size", 
OPT_UINT32
, &
n_simt_ejeùiÚ_bufãr_size
,

260 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_n_ld¡_»¥Ú£_bufãr_size", 
OPT_UINT32
, &
ld¡_un™_»¥Ú£_queue_size
,

263 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_shmem_size", 
OPT_UINT32
, &
gpgpu_shmem_size
,

266 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_shmem_size", 
OPT_UINT32
, &
gpgpu_shmem_sizeDeçuÉ
,

269 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_shmem_size_P»fL1", 
OPT_UINT32
, &
gpgpu_shmem_sizeP»fL1
,

272 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_shmem_size_P»fSh¬ed", 
OPT_UINT32
, &
gpgpu_shmem_sizeP»fSh¬ed
,

275 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_shmem_num_bªks", 
OPT_UINT32
, &
num_shmem_bªk
,

278 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_shmem_lim™ed_brßdÿ¡", 
OPT_BOOL
, &
shmem_lim™ed_brßdÿ¡
,

281 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_shmem_w¬p_·¹s", 
OPT_INT32
, &
mem_w¬p_·¹s
,

284 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_w¬pdi¡ro_shad”", 
OPT_INT32
, &
gpgpu_w¬pdi¡ro_shad”
,

287 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_w¬p_issue_shad”", 
OPT_INT32
, &
gpgpu_w¬p_issue_shad”
,

290 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_loÿl_mem_m­", 
OPT_BOOL
, &
gpgpu_loÿl_mem_m­
,

293 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_num_»g_bªks", 
OPT_INT32
, &
gpgpu_num_»g_bªks
,

296 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_»g_bªk_u£_w¬p_id", 
OPT_BOOL
, &
gpgpu_»g_bªk_u£_w¬p_id
,

299 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_İ”ªd_cŞËùÜ_num_un™s_¥", 
OPT_INT32
, &
gpgpu_İ”ªd_cŞËùÜ_num_un™s_¥
,

302 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_İ”ªd_cŞËùÜ_num_un™s_sfu", 
OPT_INT32
, &
gpgpu_İ”ªd_cŞËùÜ_num_un™s_sfu
,

305 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_İ”ªd_cŞËùÜ_num_un™s_mem", 
OPT_INT32
, &
gpgpu_İ”ªd_cŞËùÜ_num_un™s_mem
,

308 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_İ”ªd_cŞËùÜ_num_un™s_g’", 
OPT_INT32
, &
gpgpu_İ”ªd_cŞËùÜ_num_un™s_g’
,

311 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_İ”ªd_cŞËùÜ_num_š_pÜts_¥", 
OPT_INT32
, &
gpgpu_İ”ªd_cŞËùÜ_num_š_pÜts_¥
,

314 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_İ”ªd_cŞËùÜ_num_š_pÜts_sfu", 
OPT_INT32
, &
gpgpu_İ”ªd_cŞËùÜ_num_š_pÜts_sfu
,

317 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_İ”ªd_cŞËùÜ_num_š_pÜts_mem", 
OPT_INT32
, &
gpgpu_İ”ªd_cŞËùÜ_num_š_pÜts_mem
,

320 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_İ”ªd_cŞËùÜ_num_š_pÜts_g’", 
OPT_INT32
, &
gpgpu_İ”ªd_cŞËùÜ_num_š_pÜts_g’
,

323 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_İ”ªd_cŞËùÜ_num_out_pÜts_¥", 
OPT_INT32
, &
gpgpu_İ”ªd_cŞËùÜ_num_out_pÜts_¥
,

326 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_İ”ªd_cŞËùÜ_num_out_pÜts_sfu", 
OPT_INT32
, &
gpgpu_İ”ªd_cŞËùÜ_num_out_pÜts_sfu
,

329 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_İ”ªd_cŞËùÜ_num_out_pÜts_mem", 
OPT_INT32
, &
gpgpu_İ”ªd_cŞËùÜ_num_out_pÜts_mem
,

332 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_İ”ªd_cŞËùÜ_num_out_pÜts_g’", 
OPT_INT32
, &
gpgpu_İ”ªd_cŞËùÜ_num_out_pÜts_g’
,

335 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_cßËsû_¬ch", 
OPT_INT32
, &
gpgpu_cßËsû_¬ch
,

338 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_num_sched_³r_cÜe", 
OPT_INT32
, &
gpgpu_num_sched_³r_cÜe
,

341 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_max_š¢_issue_³r_w¬p", 
OPT_INT32
, &
gpgpu_max_š¢_issue_³r_w¬p
,

344 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_simt_cÜe_sim_Üd”", 
OPT_INT32
, &
simt_cÜe_sim_Üd”
,

347 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_p–še_widths", 
OPT_CSTR
, &
p–še_widths_¡ršg
,

351 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_num_¥_un™s", 
OPT_INT32
, &
gpgpu_num_¥_un™s
,

354 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_num_sfu_un™s", 
OPT_INT32
, &
gpgpu_num_sfu_un™s
,

357 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_num_mem_un™s", 
OPT_INT32
, &
gpgpu_num_mem_un™s
,

360 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_scheduËr", 
OPT_CSTR
, &
gpgpu_scheduËr_¡ršg
,

366 
	}
}

368 
	ggpgpu_sim_cÚfig
::
	$»g_İtiÚs
(
İtiÚ_·r£r_t
 
İp
)

370 
gpgpu_funùiÚ®_sim_cÚfig
::
	`»g_İtiÚs
(
İp
);

371 
m_shad”_cÚfig
.
	`»g_İtiÚs
(
İp
);

372 
m_memÜy_cÚfig
.
	`»g_İtiÚs
(
İp
);

373 
pow”_cÚfig
::
	`»g_İtiÚs
(
İp
);

374 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_max_cyşe", 
OPT_INT32
, &
gpu_max_cyşe_İt
,

377 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_max_š¢", 
OPT_INT32
, &
gpu_max_š¢_İt
,

380 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_max_ùa", 
OPT_INT32
, &
gpu_max_ùa_İt
,

383 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_ruÁime_¡©", 
OPT_CSTR
, &
gpgpu_ruÁime_¡©
,

386 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-liv’ess_mes§ge_äeq", 
OPT_INT64
, &
liv’ess_mes§ge_äeq
,

389 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_æush_l1_ÿche", 
OPT_BOOL
, &
gpgpu_æush_l1_ÿche
,

392 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_æush_l2_ÿche", 
OPT_BOOL
, &
gpgpu_æush_l2_ÿche
,

396 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_d—dlock_d‘eù", 
OPT_BOOL
, &
gpu_d—dlock_d‘eù
,

399 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_±x_š¡ruùiÚ_şassifiÿtiÚ", 
OPT_INT32
,

400 &
gpgpu_±x_š¡ruùiÚ_şassifiÿtiÚ
,

403 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_±x_sim_mode", 
OPT_INT32
, &
g_±x_sim_mode
,

406 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_şock_domašs", 
OPT_CSTR
, &
gpgpu_şock_domašs
,

409 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_max_cÚcu¼’t_k”Ãl", 
OPT_INT32
, &
max_cÚcu¼’t_k”Ãl
,

411 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-gpgpu_cæog_š‹rv®", 
OPT_INT32
, &
gpgpu_cæog_š‹rv®
,

414 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-visu®iz”_’abËd", 
OPT_BOOL
,

415 &
g_visu®iz”_’abËd
, "Turn on visualizer output (1=On, 0=Off)",

417 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-visu®iz”_ouutfe", 
OPT_CSTR
,

418 &
g_visu®iz”_f’ame
, "Specifieshe output†og file for visualizer",

419 
NULL
);

420 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-visu®iz”_zËv–", 
OPT_INT32
,

421 &
g_visu®iz”_zËv–
, "Compression†evel ofhe visualizer output†og (0=no comp, 9=highest)",

423 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-Œaû_’abËd", 
OPT_BOOL
,

424 &
T¿û
::
’abËd
, "Turn onraces",

426 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-Œaû_compÚ’ts", 
OPT_CSTR
,

427 &
T¿û
::
cÚfig_¡r
, "comma seperated†ist ofracesoƒnable. "

431 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-Œaû_§m¶šg_cÜe", 
OPT_INT32
,

432 &
T¿û
::
§m¶šg_cÜe
, "The core which is…rinted using CORE_DPRINTF. Default 0",

434 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-Œaû_§m¶šg_memÜy_·¹™iÚ", 
OPT_INT32
,

435 &
T¿û
::
§m¶šg_memÜy_·¹™iÚ
, "The memory…artition which is…rinted using MEMPART_DPRINTF. Default -1 (i.e.‡ll)",

437 
	`±x_fe_lše_¡©s_İtiÚs
(
İp
);

438 
	}
}

442 
	$šüem’t_x_th’_y_th’_z
Ğ
dim3
 &
i
, cÚ¡ dim3 &
bound
)

444 
i
.
x
++;

445 iàĞ
i
.
x
 >ğ
bound
.x ) {

446 
i
.
x
 = 0;

447 
i
.
y
++;

448 iàĞ
i
.
y
 >ğ
bound
.y ) {

449 
i
.
y
 = 0;

450 ifĞ
i
.
z
 < 
bound
.z )

451 
i
.
z
++;

454 
	}
}

456 
	ggpgpu_sim
::
	$Ïunch
Ğ
k”Ãl_šfo_t
 *
kšfo
 )

458 
ùa_size
 = 
kšfo
->
	`th»ads_³r_ùa
();

459 iàĞ
ùa_size
 > 
m_shad”_cÚfig
->
n_th»ad_³r_shad”
 ) {

460 
	`´štf
("Executionƒrror: Shader kernel CTA (block) size isoo†arge for microarch config.\n");

461 
	`´štf
(" CTA siz(x*y*zèğ%u, max suµÜ‹d = %u\n", 
ùa_size
,

462 
m_shad”_cÚfig
->
n_th»ad_³r_shad”
 );

463 
	`´štf
(" =>ƒither change -gpgpu_shader‡rgument in gpgpusim.config file or\n");

464 
	`´štf
(" modifyhe CUDA sourceo decreasehe kernel block size.\n");

465 
	`abÜt
();

467 
n
=0;

468 
n
=0;‚ < 
m_ruÂšg_k”Ãls
.
	`size
();‚++ ) {

469 ifĞ(
NULL
==
m_ruÂšg_k”Ãls
[
n
]è|| m_ruÂšg_k”Ãls[n]->
	`dÚe
() ) {

470 
m_ruÂšg_k”Ãls
[
n
] = 
kšfo
;

474 
	`as£¹
(
n
 < 
m_ruÂšg_k”Ãls
.
	`size
());

475 
	}
}

477 
boŞ
 
	ggpgpu_sim
::
	$ÿn_¡¬t_k”Ãl
()

479 
n
=0;‚ < 
m_ruÂšg_k”Ãls
.
	`size
();‚++ ) {

480 ifĞ(
NULL
==
m_ruÂšg_k”Ãls
[
n
]è|| m_ruÂšg_k”Ãls[n]->
	`dÚe
() )

481  
Œue
;

483  
çl£
;

484 
	}
}

486 
boŞ
 
	ggpgpu_sim
::
	$g‘_mÜe_ùa_Ëá
() const

488 ià(
m_cÚfig
.
gpu_max_ùa_İt
 != 0) {

489 ifĞ
m_tÙ®_ùa_Ïunched
 >ğ
m_cÚfig
.
gpu_max_ùa_İt
 )

490  
çl£
;

492 
n
=0;‚ < 
m_ruÂšg_k”Ãls
.
	`size
();‚++ ) {

493 ifĞ
m_ruÂšg_k”Ãls
[
n
] && !m_ruÂšg_k”Ãls[n]->
	`no_mÜe_ùas_to_run
() )

494  
Œue
;

496  
çl£
;

497 
	}
}

499 
k”Ãl_šfo_t
 *
	ggpgpu_sim
::
	$£Ëù_k”Ãl
()

501 
n
=0;‚ < 
m_ruÂšg_k”Ãls
.
	`size
();‚++ ) {

502 
idx
 = (
n
+
m_Ï¡_issued_k”Ãl
+1)%
m_cÚfig
.
max_cÚcu¼’t_k”Ãl
;

503 ifĞ
m_ruÂšg_k”Ãls
[
idx
] && !m_ruÂšg_k”Ãls[idx]->
	`no_mÜe_ùas_to_run
() ) {

504 
m_Ï¡_issued_k”Ãl
=
idx
;

506 
Ïunch_uid
 = 
m_ruÂšg_k”Ãls
[
idx
]->
	`g‘_uid
();

507 ià(
¡d
::
	`fšd
(
m_execu‹d_k”Ãl_uids
.
	`begš
(), m_execu‹d_k”Ãl_uids.
	`’d
(), 
Ïunch_uid
) == m_executed_kernel_uids.end()) {

508 
m_execu‹d_k”Ãl_uids
.
	`push_back
(
Ïunch_uid
);

509 
m_execu‹d_k”Ãl_Çmes
.
	`push_back
(
m_ruÂšg_k”Ãls
[
idx
]->
	`Çme
());

512  
m_ruÂšg_k”Ãls
[
idx
];

515  
NULL
;

516 
	}
}

518 
	ggpgpu_sim
::
	$fšished_k”Ãl
()

520 ifĞ
m_fšished_k”Ãl
.
	`em±y
() )

522 
»suÉ
 = 
m_fšished_k”Ãl
.
	`äÚt
();

523 
m_fšished_k”Ãl
.
	`pİ_äÚt
();

524  
»suÉ
;

525 
	}
}

527 
	ggpgpu_sim
::
	$£t_k”Ãl_dÚe
Ğ
k”Ãl_šfo_t
 *
k”Ãl
 )

529 
uid
 = 
k”Ãl
->
	`g‘_uid
();

530 
m_fšished_k”Ãl
.
	`push_back
(
uid
);

531 
¡d
::
veùÜ
<
k”Ãl_šfo_t
*>::
™”©Ü
 
k
;

532  
k
=
m_ruÂšg_k”Ãls
.
	`begš
(); k!=m_ruÂšg_k”Ãls.
	`’d
(); k++ ) {

533 ifĞ*
k
 =ğ
k”Ãl
 ) {

534 *
k
 = 
NULL
;

538 
	`as£¹
Ğ
k
 !ğ
m_ruÂšg_k”Ãls
.
	`’d
() );

539 
	}
}

541 
£t_±x_w¬p_size
(cÚ¡ 
cÜe_cÚfig
 * 
w¬p_size
);

543 
	ggpgpu_sim
::
	$gpgpu_sim
ĞcÚ¡ 
gpgpu_sim_cÚfig
 &
cÚfig
 )

544 : 
	`gpgpu_t
(
cÚfig
), 
	$m_cÚfig
(
cÚfig
)

546 
m_shad”_cÚfig
 = &
m_cÚfig
.m_shader_config;

547 
m_memÜy_cÚfig
 = &
m_cÚfig
.m_memory_config;

548 
	`£t_±x_w¬p_size
(
m_shad”_cÚfig
);

549 
	`±x_fe_lše_¡©s_ü—‹_expo£d_Ï‹ncy_Œack”
(
m_cÚfig
.
	`num_shad”
());

551 #ifdeà
GPGPUSIM_POWER_MODEL


552 
m_gpgpusim_w¿µ”
 = 
Ãw
 
	`gpgpu_sim_w¿µ”
(
cÚfig
.
g_pow”_simuÏtiÚ_’abËd
,cÚfig.
g_pow”_cÚfig_Çme
);

555 
m_shad”_¡©s
 = 
Ãw
 
	`shad”_cÜe_¡©s
(
m_shad”_cÚfig
);

556 
m_memÜy_¡©s
 = 
Ãw
 
	`memÜy_¡©s_t
(
m_cÚfig
.
	`num_shad”
(),
m_shad”_cÚfig
,
m_memÜy_cÚfig
);

557 
av”age_p–še_duty_cyşe
 = (*)
	`m®loc
(());

558 
aùive_sms
=(*)
	`m®loc
(());

559 
m_pow”_¡©s
 = 
Ãw
 
	`pow”_¡©_t
(
m_shad”_cÚfig
,
av”age_p–še_duty_cyşe
,
aùive_sms
,
m_shad”_¡©s
,
m_memÜy_cÚfig
,
m_memÜy_¡©s
);

561 
gpu_sim_š¢
 = 0;

562 
gpu_tÙ_sim_š¢
 = 0;

563 
gpu_tÙ_issued_ùa
 = 0;

564 
gpu_d—dlock
 = 
çl£
;

567 
m_şu¡”
 = 
Ãw
 
simt_cÜe_şu¡”
*[
m_shad”_cÚfig
->
n_simt_şu¡”s
];

568 
i
=0;i<
m_shad”_cÚfig
->
n_simt_şu¡”s
;i++)

569 
m_şu¡”
[
i
] = 
Ãw
 
	`simt_cÜe_şu¡”
(
this
,i,
m_shad”_cÚfig
,
m_memÜy_cÚfig
,
m_shad”_¡©s
,
m_memÜy_¡©s
);

571 
m_memÜy_·¹™iÚ_un™
 = 
Ãw
 
memÜy_·¹™iÚ_un™
*[
m_memÜy_cÚfig
->
m_n_mem
];

572 
m_memÜy_sub_·¹™iÚ
 = 
Ãw
 
memÜy_sub_·¹™iÚ
*[
m_memÜy_cÚfig
->
m_n_mem_sub_·¹™iÚ
];

573 
i
=0;i<
m_memÜy_cÚfig
->
m_n_mem
;i++) {

574 
m_memÜy_·¹™iÚ_un™
[
i
] = 
Ãw
 
	`memÜy_·¹™iÚ_un™
(i, 
m_memÜy_cÚfig
, 
m_memÜy_¡©s
);

575 
p
 = 0;… < 
m_memÜy_cÚfig
->
m_n_sub_·¹™iÚ_³r_memÜy_chªÃl
;…++) {

576 
submpid
 = 
i
 * 
m_memÜy_cÚfig
->
m_n_sub_·¹™iÚ_³r_memÜy_chªÃl
 + 
p
;

577 
m_memÜy_sub_·¹™iÚ
[
submpid
] = 
m_memÜy_·¹™iÚ_un™
[
i
]->
	`g‘_sub_·¹™iÚ
(
p
);

581 
	`iút_w¿µ”_š™
();

582 
	`iút_ü—‹
(
m_shad”_cÚfig
->
n_simt_şu¡”s
,
m_memÜy_cÚfig
->
m_n_mem_sub_·¹™iÚ
);

584 
	`time_veùÜ_ü—‹
(
NUM_MEM_REQ_STAT
);

585 
	`årštf
(
¡dout
, "GPGPU-Sim uArch:…erformance model initialization complete.\n");

587 
m_ruÂšg_k”Ãls
.
	`»size
Ğ
cÚfig
.
max_cÚcu¼’t_k”Ãl
, 
NULL
 );

588 
m_Ï¡_issued_k”Ãl
 = 0;

589 
m_Ï¡_şu¡”_issue
 = 0;

590 *
av”age_p–še_duty_cyşe
=0;

591 *
aùive_sms
=0;

593 
Ï¡_liv’ess_mes§ge_time
 = 0;

594 
	}
}

596 
	ggpgpu_sim
::
	$sh¬ed_mem_size
() const

598  
m_shad”_cÚfig
->
gpgpu_shmem_size
;

599 
	}
}

601 
	ggpgpu_sim
::
	$num_»gi¡”s_³r_cÜe
() const

603  
m_shad”_cÚfig
->
gpgpu_shad”_»gi¡”s
;

604 
	}
}

606 
	ggpgpu_sim
::
	$w½_size
() const

608  
m_shad”_cÚfig
->
w¬p_size
;

609 
	}
}

611 
	ggpgpu_sim
::
	$shad”_şock
() const

613  
m_cÚfig
.
cÜe_äeq
/1000;

614 
	}
}

616 
	ggpgpu_sim
::
	$£t_´İ
Ğ
cudaDeviûPrİ
 *
´İ
 )

618 
m_cuda_´İ”t›s
 = 
´İ
;

619 
	}
}

621 cÚ¡ 
cudaDeviûPrİ
 *
	ggpgpu_sim
::
	$g‘_´İ
() const

623  
m_cuda_´İ”t›s
;

624 
	}
}

626 
div”g’û_suµÜt_t
 
	ggpgpu_sim
::
	$simd_mod–
() const

628  
m_shad”_cÚfig
->
mod–
;

629 
	}
}

631 
	ggpgpu_sim_cÚfig
::
	$š™_şock_domašs
()

633 
	`ssÿnf
(
gpgpu_şock_domašs
,"%lf:%lf:%lf:%lf",

634 &
cÜe_äeq
, &
iút_äeq
, &
l2_äeq
, &
d¿m_äeq
);

635 
cÜe_äeq
 = cÜe_äeq 
MhZ
;

636 
iút_äeq
 = iút_äeq 
MhZ
;

637 
l2_äeq
 =†2_äeq 
MhZ
;

638 
d¿m_äeq
 = d¿m_äeq 
MhZ
;

639 
cÜe_³riod
 = 1/
cÜe_äeq
;

640 
iút_³riod
 = 1/
iút_äeq
;

641 
d¿m_³riod
 = 1/
d¿m_äeq
;

642 
l2_³riod
 = 1/
l2_äeq
;

643 
	`´štf
("GPGPU-Sim uArch: clock f»qs: %lf:%lf:%lf:%lf\n",
cÜe_äeq
,
iút_äeq
,
l2_äeq
,
d¿m_äeq
);

644 
	`´štf
("GPGPU-Sim uArch: clock…”iods: %.20lf:%.20lf:%.20lf:%.20lf\n",
cÜe_³riod
,
iút_³riod
,
l2_³riod
,
d¿m_³riod
);

645 
	}
}

647 
	ggpgpu_sim
::
	$»š™_şock_domašs
()

649 
cÜe_time
 = 0;

650 
d¿m_time
 = 0;

651 
iút_time
 = 0;

652 
l2_time
 = 0;

653 
	}
}

655 
boŞ
 
	ggpgpu_sim
::
	$aùive
()

657 ià(
m_cÚfig
.
gpu_max_cyşe_İt
 && (
gpu_tÙ_sim_cyşe
 + 
gpu_sim_cyşe
) >= m_config.gpu_max_cycle_opt)

658  
çl£
;

659 ià(
m_cÚfig
.
gpu_max_š¢_İt
 && (
gpu_tÙ_sim_š¢
 + 
gpu_sim_š¢
) >= m_config.gpu_max_insn_opt)

660  
çl£
;

661 ià(
m_cÚfig
.
gpu_max_ùa_İt
 && (
gpu_tÙ_issued_ùa
 >= m_config.gpu_max_cta_opt) )

662  
çl£
;

663 ià(
m_cÚfig
.
gpu_d—dlock_d‘eù
 && 
gpu_d—dlock
)

664  
çl£
;

665 
i
=0;i<
m_shad”_cÚfig
->
n_simt_şu¡”s
;i++)

666 ifĞ
m_şu¡”
[
i
]->
	`g‘_nÙ_com¶‘ed
()>0 )

667  
Œue
;;

668 
i
=0;i<
m_memÜy_cÚfig
->
m_n_mem
;i++)

669 ifĞ
m_memÜy_·¹™iÚ_un™
[
i
]->
	`busy
()>0 )

670  
Œue
;;

671 ifĞ
	`iút_busy
() )

672  
Œue
;

673 ifĞ
	`g‘_mÜe_ùa_Ëá
() )

674  
Œue
;

675  
çl£
;

676 
	}
}

678 
	ggpgpu_sim
::
	$š™
()

681 
gpu_sim_cyşe
 = 0;

682 
gpu_sim_š¢
 = 0;

683 
Ï¡_gpu_sim_š¢
 = 0;

684 
m_tÙ®_ùa_Ïunched
=0;

686 
	`»š™_şock_domašs
();

687 
	`£t_·¿m_gpgpu_num_shad”s
(
m_cÚfig
.
	`num_shad”
());

688 
i
=0;i<
m_shad”_cÚfig
->
n_simt_şu¡”s
;i++)

689 
m_şu¡”
[
i
]->
	`»š™
();

690 
m_shad”_¡©s
->
	`Ãw_grid
();

692 ià(
m_cÚfig
.
g_visu®iz”_’abËd
) {

693 
	`ü—‹_th»ad_CFlogg”
Ğ
m_cÚfig
.
	`num_shad”
(), 
m_shad”_cÚfig
->
n_th»ad_³r_shad”
, 0, m_cÚfig.
gpgpu_cæog_š‹rv®
 );

695 
	`shad”_CTA_couÁ_ü—‹
Ğ
m_cÚfig
.
	`num_shad”
(), m_cÚfig.
gpgpu_cæog_š‹rv®
);

696 ià(
m_cÚfig
.
gpgpu_cæog_š‹rv®
 != 0) {

697 
	`š¢_w¬p_occ_ü—‹
Ğ
m_cÚfig
.
	`num_shad”
(), 
m_shad”_cÚfig
->
w¬p_size
 );

698 
	`shad”_w¬p_occ_ü—‹
Ğ
m_cÚfig
.
	`num_shad”
(), 
m_shad”_cÚfig
->
w¬p_size
, m_cÚfig.
gpgpu_cæog_š‹rv®
);

699 
	`shad”_mem_acc_ü—‹
Ğ
m_cÚfig
.
	`num_shad”
(), 
m_memÜy_cÚfig
->
m_n_mem
, 4, m_cÚfig.
gpgpu_cæog_š‹rv®
);

700 
	`shad”_mem_Ït_ü—‹
Ğ
m_cÚfig
.
	`num_shad”
(), m_cÚfig.
gpgpu_cæog_š‹rv®
);

701 
	`shad”_ÿche_acûss_ü—‹
Ğ
m_cÚfig
.
	`num_shad”
(), 3, m_cÚfig.
gpgpu_cæog_š‹rv®
);

702 
	`£t_¥l_š‹rv®
 (
m_cÚfig
.
gpgpu_cæog_š‹rv®
 * 40);

705 ià(
g_ÃtwÜk_mode
)

706 
	`iút_š™
();

709 #ifdeà
GPGPUSIM_POWER_MODEL


710 if(
m_cÚfig
.
g_pow”_simuÏtiÚ_’abËd
){

711 
	`š™_mı©
(
m_cÚfig
, 
m_gpgpusim_w¿µ”
, m_cÚfig.
gpu_¡©_§m¶e_äeq
, 
gpu_tÙ_sim_š¢
, 
gpu_sim_š¢
);

714 
	}
}

716 
	ggpgpu_sim
::
	$upd©e_¡©s
() {

717 
m_memÜy_¡©s
->
	`memÏt¡©_Ït_pw
();

718 
gpu_tÙ_sim_cyşe
 +ğ
gpu_sim_cyşe
;

719 
gpu_tÙ_sim_š¢
 +ğ
gpu_sim_š¢
;

720 
	}
}

722 
	ggpgpu_sim
::
	$´št_¡©s
()

724 
	`±x_fe_lše_¡©s_wr™e_fe
();

725 
	`gpu_´št_¡©
();

727 ià(
g_ÃtwÜk_mode
) {

728 
	`´štf
("----------------------------Interconnect-DETAILS--------------------------------\n" );

729 
	`iút_di¥Ïy_¡©s
();

730 
	`iút_di¥Ïy_ov”®l_¡©s
();

731 
	`´štf
("----------------------------END-of-Interconnect-DETAILS-------------------------\n" );

733 
	}
}

735 
	ggpgpu_sim
::
	$d—dlock_check
()

737 ià(
m_cÚfig
.
gpu_d—dlock_d‘eù
 && 
gpu_d—dlock
) {

738 
	`fæush
(
¡dout
);

739 
	`´štf
("\n\nGPGPU-Sim uArch: ERROR ** deadlock detected:†ast writeback core %u @ gpu_sim_cycle %u (+ gpu_tot_sim_cycle %u) (%u cycles‡go)\n",

740 
gpu_sim_š¢_Ï¡_upd©e_sid
,

741 (è
gpu_sim_š¢_Ï¡_upd©e
, (è(
gpu_tÙ_sim_cyşe
-
gpu_sim_cyşe
),

742 (è(
gpu_sim_cyşe
 - 
gpu_sim_š¢_Ï¡_upd©e
 ));

743 
num_cÜes
=0;

744 
i
=0;i<
m_shad”_cÚfig
->
n_simt_şu¡”s
;i++) {

745 
nÙ_com¶‘ed
 = 
m_şu¡”
[
i
]->
	`g‘_nÙ_com¶‘ed
();

746 ifĞ
nÙ_com¶‘ed
 ) {

747 iàĞ!
num_cÜes
 ) {

748 
	`´štf
("GPGPU-Sim uArch: DEADLOCK shader cores‚o†onger committing instructions [core(#hreads)]:\n" );

749 
	`´štf
("GPGPU-Sim uArch: DEADLOCK ");

750 
m_şu¡”
[
i
]->
	`´št_nÙ_com¶‘ed
(
¡dout
);

751 } ià(
num_cÜes
 < 8 ) {

752 
m_şu¡”
[
i
]->
	`´št_nÙ_com¶‘ed
(
¡dout
);

753 } ià(
num_cÜes
 >= 8 ) {

754 
	`´štf
(" + others ... ");

756 
num_cÜes
+=
m_shad”_cÚfig
->
n_simt_cÜes_³r_şu¡”
;

759 
	`´štf
("\n");

760 
i
=0;i<
m_memÜy_cÚfig
->
m_n_mem
;i++) {

761 
boŞ
 
busy
 = 
m_memÜy_·¹™iÚ_un™
[
i
]->
	`busy
();

762 ifĞ
busy
 )

763 
	`´štf
("GPGPU-Sim uArch DEADLOCK: memÜy…¬t™iÚ %u busy\n", 
i
 );

765 ifĞ
	`iút_busy
() ) {

766 
	`´štf
("GPGPU-Sim uArch DEADLOCK: iterconnect containsraffic\n");

767 
	`iút_di¥Ïy_¡©e
Ğ
¡dout
 );

769 
	`´štf
("\nRe-runhe simulator in gdb‡nd use debug„outines in .gdbinito debughis\n");

770 
	`fæush
(
¡dout
);

771 
	`abÜt
();

773 
	}
}

776 
	g¡d
::
¡ršg
 
gpgpu_sim
::
	$execu‹d_k”Ãl_šfo_¡ršg
()

778 
¡d
::
¡ršg¡»am
 
¡©out
;

780 
¡©out
 << "kernel_name = ";

781 
k
 = 0; k < 
m_execu‹d_k”Ãl_Çmes
.
	`size
(); k++) {

782 
¡©out
 << 
m_execu‹d_k”Ãl_Çmes
[
k
] << " ";

784 
¡©out
 << 
¡d
::
’dl
;

785 
¡©out
 << "kernel_launch_uid = ";

786 
k
 = 0; k < 
m_execu‹d_k”Ãl_uids
.
	`size
(); k++) {

787 
¡©out
 << 
m_execu‹d_k”Ãl_uids
[
k
] << " ";

789 
¡©out
 << 
¡d
::
’dl
;

791  
¡©out
.
	`¡r
();

792 
	}
}

793 
	ggpgpu_sim
::
£t_ÿche_cÚfig
(
¡d
::
¡ršg
 
k”Ãl_Çme
, 
FuncCache
 
ÿcheCÚfig
 )

795 
	gm_¥ecŸl_ÿche_cÚfig
[
k”Ãl_Çme
]=
ÿcheCÚfig
 ;

798 
FuncCache
 
	ggpgpu_sim
::
g‘_ÿche_cÚfig
(
¡d
::
¡ršg
 
k”Ãl_Çme
)

800  
¡d
::
m­
<¡d::
¡ršg
, 
	gFuncCache
>::
™”©Ü
 
™”
 = 
m_¥ecŸl_ÿche_cÚfig
.
begš
(); 
	g™”
 !ğm_¥ecŸl_ÿche_cÚfig.
’d
(); iter++){

801 
	g¡d
::
¡ršg
 
k”Ãl
ğ
™”
->
fœ¡
;

802 ià(
	gk”Ãl_Çme
.
com·»
(
k”Ãl
) == 0){

803  
™”
->
£cÚd
;

806  (
	gFuncCache
)0;

809 
boŞ
 
	ggpgpu_sim
::
has_¥ecŸl_ÿche_cÚfig
(
¡d
::
¡ršg
 
k”Ãl_Çme
)

811  
¡d
::
m­
<¡d::
¡ršg
, 
	gFuncCache
>::
™”©Ü
 
™”
 = 
m_¥ecŸl_ÿche_cÚfig
.
begš
(); 
	g™”
 !ğm_¥ecŸl_ÿche_cÚfig.
’d
(); iter++){

812 
	g¡d
::
¡ršg
 
k”Ãl
ğ
™”
->
fœ¡
;

813 ià(
	gk”Ãl_Çme
.
com·»
(
k”Ãl
) == 0){

814  
Œue
;

817  
	gçl£
;

821 
	ggpgpu_sim
::
£t_ÿche_cÚfig
(
¡d
::
¡ršg
 
k”Ãl_Çme
)

823 if(
has_¥ecŸl_ÿche_cÚfig
(
k”Ãl_Çme
)){

824 
chªge_ÿche_cÚfig
(
g‘_ÿche_cÚfig
(
k”Ãl_Çme
));

826 
chªge_ÿche_cÚfig
(
FuncCacheP»ãrNÚe
);

831 
	ggpgpu_sim
::
	$chªge_ÿche_cÚfig
(
FuncCache
 
ÿche_cÚfig
)

833 if(
ÿche_cÚfig
 !ğ
m_shad”_cÚfig
->
m_L1D_cÚfig
.
	`g‘_ÿche_¡©us
()){

834 
	`´štf
("FLUSH L1 Cache‡t configuration change between kernels\n");

835 
i
=0;i<
m_shad”_cÚfig
->
n_simt_şu¡”s
;i++) {

836 
m_şu¡”
[
i
]->
	`ÿche_æush
();

840 
ÿche_cÚfig
){

841 
FuncCacheP»ãrNÚe
:

842 
m_shad”_cÚfig
->
m_L1D_cÚfig
.
	`š™
(m_shad”_cÚfig->m_L1D_cÚfig.
m_cÚfig_¡ršg
, 
FuncCacheP»ãrNÚe
);

843 
m_shad”_cÚfig
->
gpgpu_shmem_size
=m_shad”_cÚfig->
gpgpu_shmem_sizeDeçuÉ
;

845 
FuncCacheP»ãrL1
:

846 if((
m_shad”_cÚfig
->
m_L1D_cÚfig
.
m_cÚfig_¡ršgP»fL1
 =ğ
NULL
è|| (m_shad”_cÚfig->
gpgpu_shmem_sizeP»fL1
 == ()-1))

848 
	`´štf
("WARNING: missing Preferred L1 configuration\n");

849 
m_shad”_cÚfig
->
m_L1D_cÚfig
.
	`š™
(m_shad”_cÚfig->m_L1D_cÚfig.
m_cÚfig_¡ršg
, 
FuncCacheP»ãrNÚe
);

850 
m_shad”_cÚfig
->
gpgpu_shmem_size
=m_shad”_cÚfig->
gpgpu_shmem_sizeDeçuÉ
;

853 
m_shad”_cÚfig
->
m_L1D_cÚfig
.
	`š™
(m_shad”_cÚfig->m_L1D_cÚfig.
m_cÚfig_¡ršgP»fL1
, 
FuncCacheP»ãrL1
);

854 
m_shad”_cÚfig
->
gpgpu_shmem_size
=m_shad”_cÚfig->
gpgpu_shmem_sizeP»fL1
;

857 
FuncCacheP»ãrSh¬ed
:

858 if((
m_shad”_cÚfig
->
m_L1D_cÚfig
.
m_cÚfig_¡ršgP»fSh¬ed
 =ğ
NULL
è|| (m_shad”_cÚfig->
gpgpu_shmem_sizeP»fSh¬ed
 == ()-1))

860 
	`´štf
("WARNING: missing Preferred L1 configuration\n");

861 
m_shad”_cÚfig
->
m_L1D_cÚfig
.
	`š™
(m_shad”_cÚfig->m_L1D_cÚfig.
m_cÚfig_¡ršg
, 
FuncCacheP»ãrNÚe
);

862 
m_shad”_cÚfig
->
gpgpu_shmem_size
=m_shad”_cÚfig->
gpgpu_shmem_sizeDeçuÉ
;

864 
m_shad”_cÚfig
->
m_L1D_cÚfig
.
	`š™
(m_shad”_cÚfig->m_L1D_cÚfig.
m_cÚfig_¡ršgP»fSh¬ed
, 
FuncCacheP»ãrSh¬ed
);

865 
m_shad”_cÚfig
->
gpgpu_shmem_size
=m_shad”_cÚfig->
gpgpu_shmem_sizeP»fSh¬ed
;

871 
	}
}

874 
	ggpgpu_sim
::
	$ş—r_execu‹d_k”Ãl_šfo
()

876 
m_execu‹d_k”Ãl_Çmes
.
	`ş—r
();

877 
m_execu‹d_k”Ãl_uids
.
	`ş—r
();

878 
	}
}

879 
	ggpgpu_sim
::
	$gpu_´št_¡©
()

881 
FILE
 *
¡©fout
 = 
¡dout
;

883 
¡d
::
¡ršg
 
k”Ãl_šfo_¡r
 = 
	`execu‹d_k”Ãl_šfo_¡ršg
();

884 
	`årštf
(
¡©fout
, "%s", 
k”Ãl_šfo_¡r
.
	`c_¡r
());

886 
	`´štf
("gpu_sim_cyşğ%Îd\n", 
gpu_sim_cyşe
);

887 
	`´štf
("gpu_sim_š¢ = %Îd\n", 
gpu_sim_š¢
);

888 
	`´štf
("gpu_øğ%12.4f\n", ()
gpu_sim_š¢
 / 
gpu_sim_cyşe
);

889 
	`´štf
("gpu_tÙ_sim_cyşğ%Îd\n", 
gpu_tÙ_sim_cyşe
+
gpu_sim_cyşe
);

890 
	`´štf
("gpu_tÙ_sim_š¢ = %Îd\n", 
gpu_tÙ_sim_š¢
+
gpu_sim_š¢
);

891 
	`´štf
("gpu_tÙ_øğ%12.4f\n", ()(
gpu_tÙ_sim_š¢
+
gpu_sim_š¢
è/ (
gpu_tÙ_sim_cyşe
+
gpu_sim_cyşe
));

892 
	`´štf
("gpu_tÙ_issued_ù¨ğ%Îd\n", 
gpu_tÙ_issued_ùa
);

897 
	`´štf
("gpu_¡®l_d¿mfuÎ = %d\n", 
gpu_¡®l_d¿mfuÎ
);

898 
	`´štf
("gpu_¡®l_iút2sh = %d\n", 
gpu_¡®l_iút2sh
 );

900 
time_t
 
cu¼_time
;

901 
	`time
(&
cu¼_time
);

902 
–­£d_time
 = 
	`MAX
Ğ
cu¼_time
 - 
g_simuÏtiÚ_¡¬‰ime
, 1 );

903 
	`´štf
Ğ"gpu_tÙ®_sim_¿‹=%u\n", ()ĞĞ
gpu_tÙ_sim_š¢
 + 
gpu_sim_š¢
 ) / 
–­£d_time
 ) );

906 
	`shad”_´št_ÿche_¡©s
(
¡dout
);

908 
ÿche_¡©s
 
cÜe_ÿche_¡©s
;

909 
cÜe_ÿche_¡©s
.
	`ş—r
();

910 
i
=0; i<
m_cÚfig
.
	`num_şu¡”
(); i++){

911 
m_şu¡”
[
i
]->
	`g‘_ÿche_¡©s
(
cÜe_ÿche_¡©s
);

913 
	`´štf
("\nTotal_core_cache_stats:\n");

914 
cÜe_ÿche_¡©s
.
	`´št_¡©s
(
¡dout
, "Total_core_cache_stats_breakdown");

915 
	`shad”_´št_scheduËr_¡©
Ğ
¡dout
, 
çl£
 );

917 
m_shad”_¡©s
->
	`´št
(
¡dout
);

918 #ifdeà
GPGPUSIM_POWER_MODEL


919 if(
m_cÚfig
.
g_pow”_simuÏtiÚ_’abËd
){

920 
m_gpgpusim_w¿µ”
->
	`´št_pow”_k”Ãl_¡©s
(
gpu_sim_cyşe
, 
gpu_tÙ_sim_cyşe
, 
gpu_tÙ_sim_š¢
 + 
gpu_sim_š¢
, 
k”Ãl_šfo_¡r
, 
Œue
 );

921 
	`mı©_»£t_³rf_couÁ
(
m_gpgpusim_w¿µ”
);

926 
m_memÜy_¡©s
->
	`memÏt¡©_´št
(
m_memÜy_cÚfig
->
m_n_mem
,m_memÜy_cÚfig->
nbk
);

927 
i
=0;i<
m_memÜy_cÚfig
->
m_n_mem
;i++)

928 
m_memÜy_·¹™iÚ_un™
[
i
]->
	`´št
(
¡dout
);

931 if(!
m_memÜy_cÚfig
->
m_L2_cÚfig
.
	`di§bËd
()){

932 
ÿche_¡©s
 
l2_¡©s
;

933 
ÿche_sub_¡©s
 
l2_css
;

934 
ÿche_sub_¡©s
 
tÙ®_l2_css
;

935 
l2_¡©s
.
	`ş—r
();

936 
l2_css
.
	`ş—r
();

937 
tÙ®_l2_css
.
	`ş—r
();

939 
	`´štf
("\n========= L2 cache stats =========\n");

940 
i
=0;i<
m_memÜy_cÚfig
->
m_n_mem_sub_·¹™iÚ
;i++){

941 
m_memÜy_sub_·¹™iÚ
[
i
]->
	`accumuÏ‹_L2ÿche_¡©s
(
l2_¡©s
);

942 
m_memÜy_sub_·¹™iÚ
[
i
]->
	`g‘_L2ÿche_sub_¡©s
(
l2_css
);

944 
	`årštf
Ğ
¡dout
, "L2_cache_bank[%d]: Access = %u, Miss = %u, Miss_rate = %.3lf, Pending_hits = %u, Reservation_fails = %u\n",

945 
i
, 
l2_css
.
acûs£s
,†2_css.
mis£s
, (î2_css.mis£ / (î2_css.acûs£s,†2_css.
³ndšg_h™s
,†2_css.
»s_çs
);

947 
tÙ®_l2_css
 +ğ
l2_css
;

949 ià(!
m_memÜy_cÚfig
->
m_L2_cÚfig
.
	`di§bËd
(è&& m_memÜy_cÚfig->m_L2_cÚfig.
	`g‘_num_lšes
()) {

951 
	`´štf
("L2_tÙ®_ÿche_acûs£ ğ%u\n", 
tÙ®_l2_css
.
acûs£s
);

952 
	`´štf
("L2_tÙ®_ÿche_mis£ ğ%u\n", 
tÙ®_l2_css
.
mis£s
);

953 if(
tÙ®_l2_css
.
acûs£s
 > 0)

954 
	`´štf
("L2_tÙ®_ÿche_miss_¿‹ = %.4lf\n", ()
tÙ®_l2_css
.
mis£s
/(éÙ®_l2_css.
acûs£s
);

955 
	`´štf
("L2_tÙ®_ÿche_³ndšg_h™ ğ%u\n", 
tÙ®_l2_css
.
³ndšg_h™s
);

956 
	`´štf
("L2_tÙ®_ÿche_»£rv©iÚ_ç ğ%u\n", 
tÙ®_l2_css
.
»s_çs
);

957 
	`´štf
("L2_total_cache_breakdown:\n");

958 
l2_¡©s
.
	`´št_¡©s
(
¡dout
, "L2_cache_stats_breakdown");

959 
tÙ®_l2_css
.
	`´št_pÜt_¡©s
(
¡dout
, "L2_cache");

963 ià(
m_cÚfig
.
gpgpu_cæog_š‹rv®
 != 0) {

964 
	`¥l_log_to_fe
 (
¡dout
, 1, 
gpu_sim_cyşe
);

965 
	`š¢_w¬p_occ_´št
(
¡dout
);

967 iàĞ
gpgpu_±x_š¡ruùiÚ_şassifiÿtiÚ
 ) {

968 
	`StDi¥
Ğ
g_š¡_şassifiÿtiÚ_¡©
[
g_±x_k”Ãl_couÁ
]);

969 
	`StDi¥
Ğ
g_š¡_İ_şassifiÿtiÚ_¡©
[
g_±x_k”Ãl_couÁ
]);

972 #ifdeà
GPGPUSIM_POWER_MODEL


973 if(
m_cÚfig
.
g_pow”_simuÏtiÚ_’abËd
){

974 
m_gpgpusim_w¿µ”
->
	`d‘eù_´št_¡—dy_¡©e
(1,
gpu_tÙ_sim_š¢
+
gpu_sim_š¢
);

980 
tÙ®_simt_to_mem
=0;

981 
tÙ®_mem_to_simt
=0;

982 
‹mp_¡m
=0;

983 
‹mp_mts
 = 0;

984 
i
=0; i<
m_cÚfig
.
	`num_şu¡”
(); i++){

985 
m_şu¡”
[
i
]->
	`g‘_iút_¡©s
(
‹mp_¡m
, 
‹mp_mts
);

986 
tÙ®_simt_to_mem
 +ğ
‹mp_¡m
;

987 
tÙ®_mem_to_simt
 +ğ
‹mp_mts
;

989 
	`´štf
("\niút_tÙ®_pkts_mem_to_simt=%ld\n", 
tÙ®_mem_to_simt
);

990 
	`´štf
("iút_tÙ®_pkts_simt_to_mem=%ld\n", 
tÙ®_simt_to_mem
);

992 
	`time_veùÜ_´št
();

993 
	`fæush
(
¡dout
);

995 
	`ş—r_execu‹d_k”Ãl_šfo
();

996 
	}
}

1000 
	ggpgpu_sim
::
	$th»ads_³r_cÜe
() const

1002  
m_shad”_cÚfig
->
n_th»ad_³r_shad”
;

1003 
	}
}

1005 
	gshad”_cÜe_ùx
::
	$mem_š¡ruùiÚ_¡©s
(cÚ¡ 
w¬p_š¡_t
 &
š¡
)

1007 
aùive_couÁ
 = 
š¡
.
	`aùive_couÁ
();

1009 
š¡
.
¥aû
.
	`g‘_ty³
()) {

1010 
undefšed_¥aû
:

1011 
»g_¥aû
:

1013 
sh¬ed_¥aû
:

1014 
m_¡©s
->
gpgpu_n_shmem_š¢
 +ğ
aùive_couÁ
;

1016 
cÚ¡_¥aû
:

1017 
m_¡©s
->
gpgpu_n_cÚ¡_š¢
 +ğ
aùive_couÁ
;

1019 
·¿m_¥aû_k”Ãl
:

1020 
·¿m_¥aû_loÿl
:

1021 
m_¡©s
->
gpgpu_n_·¿m_š¢
 +ğ
aùive_couÁ
;

1023 
‹x_¥aû
:

1024 
m_¡©s
->
gpgpu_n_‹x_š¢
 +ğ
aùive_couÁ
;

1026 
glob®_¥aû
:

1027 
loÿl_¥aû
:

1028 ifĞ
š¡
.
	`is_¡Üe
() )

1029 
m_¡©s
->
gpgpu_n_¡Üe_š¢
 +ğ
aùive_couÁ
;

1031 
m_¡©s
->
gpgpu_n_lßd_š¢
 +ğ
aùive_couÁ
;

1034 
	`abÜt
();

1036 
	}
}

1048 
	gshad”_cÜe_ùx
::
	$issue_block2cÜe
Ğ
k”Ãl_šfo_t
 &
k”Ãl
 )

1050 
	`£t_max_ùa
(
k”Ãl
);

1053 
ä“_ùa_hw_id
=()-1;

1054 
i
=0;i<
k”Ãl_max_ùa_³r_shad”
;i++ ) {

1055 ifĞ
m_ùa_¡©us
[
i
]==0 ) {

1056 
ä“_ùa_hw_id
=
i
;

1060 
	`as£¹
Ğ
ä“_ùa_hw_id
!=()-1 );

1063 
ùa_size
 = 
k”Ãl
.
	`th»ads_³r_ùa
();

1068 
·dded_ùa_size
 = 
ùa_size
;

1069 ià(
ùa_size
%
m_cÚfig
->
w¬p_size
)

1070 
·dded_ùa_size
 = ((
ùa_size
/
m_cÚfig
->
w¬p_size
)+1)*(m_config->warp_size);

1071 
¡¬t_th»ad
 = 
ä“_ùa_hw_id
 * 
·dded_ùa_size
;

1072 
’d_th»ad
 = 
¡¬t_th»ad
 + 
ùa_size
;

1075 
	`»š™
(
¡¬t_th»ad
, 
’d_th»ad
,
çl£
);

1079 
w¬p_£t_t
 
w¬ps
;

1080 
Áh»ads_š_block
= 0;

1081 
i
 = 
¡¬t_th»ad
; i<
’d_th»ad
; i++) {

1082 
m_th»adS‹
[
i
].
m_ùa_id
 = 
ä“_ùa_hw_id
;

1083 
w¬p_id
 = 
i
/
m_cÚfig
->
w¬p_size
;

1084 
Áh»ads_š_block
 +ğ
	`±x_sim_š™_th»ad
(
k”Ãl
,&
m_th»ad
[
i
],
m_sid
,i,
ùa_size
-(i-
¡¬t_th»ad
),
m_cÚfig
->
n_th»ad_³r_shad”
,
this
,
ä“_ùa_hw_id
,
w¬p_id
,
m_şu¡”
->
	`g‘_gpu
());

1085 
m_th»adS‹
[
i
].
m_aùive
 = 
Œue
;

1086 
w¬ps
.
	`£t
Ğ
w¬p_id
 );

1088 
	`as£¹
Ğ
Áh»ads_š_block
 > 0 &&‚th»ads_š_block <ğ
m_cÚfig
->
n_th»ad_³r_shad”
);

1089 
m_ùa_¡©us
[
ä“_ùa_hw_id
]=
Áh»ads_š_block
;

1093 
m_b¬r›rs
.
	`®loÿ‹_b¬r›r
(
ä“_ùa_hw_id
,
w¬ps
);

1096 
	`š™_w¬ps
Ğ
ä“_ùa_hw_id
, 
¡¬t_th»ad
, 
’d_th»ad
);

1097 
m_n_aùive_ùa
++;

1099 
	`shad”_CTA_couÁ_log
(
m_sid
, 1);

1100 
	`´štf
("GPGPU-Sim uArch: cÜe:%3d, c:%2u in™Ÿlized @(%Îd,%Îd)\n", 
m_sid
, 
ä“_ùa_hw_id
, 
gpu_sim_cyşe
, 
gpu_tÙ_sim_cyşe
 );

1101 
	}
}

1105 
	gd¿m_t
::
	$d¿m_log
Ğ
sk
 )

1107 ià(
sk
 =ğ
SAMPLELOG
) {

1108 
	`StAddSam¶e
(
mrqq_Di¡
, 
	`que_Ëngth
());

1109 } ià(
sk
 =ğ
DUMPLOG
) {

1110 
	`´štf
 ("QueuL’gth DRAM[%d] ",
id
);
	`StDi¥
(
mrqq_Di¡
);

1112 
	}
}

1115 
	ggpgpu_sim
::
	$Ãxt_şock_domaš
()

1117 
sm®Ë¡
 = 
	`mš3
(
cÜe_time
,
iút_time
,
d¿m_time
);

1118 
mask
 = 0x00;

1119 iàĞ
l2_time
 <ğ
sm®Ë¡
 ) {

1120 
sm®Ë¡
 = 
l2_time
;

1121 
mask
 |ğ
L2
 ;

1122 
l2_time
 +ğ
m_cÚfig
.
l2_³riod
;

1124 iàĞ
iút_time
 <ğ
sm®Ë¡
 ) {

1125 
mask
 |ğ
ICNT
;

1126 
iút_time
 +ğ
m_cÚfig
.
iút_³riod
;

1128 iàĞ
d¿m_time
 <ğ
sm®Ë¡
 ) {

1129 
mask
 |ğ
DRAM
;

1130 
d¿m_time
 +ğ
m_cÚfig
.
d¿m_³riod
;

1132 iàĞ
cÜe_time
 <ğ
sm®Ë¡
 ) {

1133 
mask
 |ğ
CORE
;

1134 
cÜe_time
 +ğ
m_cÚfig
.
cÜe_³riod
;

1136  
mask
;

1137 
	}
}

1139 
	ggpgpu_sim
::
	$issue_block2cÜe
()

1141 
Ï¡_issued
 = 
m_Ï¡_şu¡”_issue
;

1142 
i
=0;i<
m_shad”_cÚfig
->
n_simt_şu¡”s
;i++) {

1143 
idx
 = (
i
 + 
Ï¡_issued
 + 1è% 
m_shad”_cÚfig
->
n_simt_şu¡”s
;

1144 
num
 = 
m_şu¡”
[
idx
]->
	`issue_block2cÜe
();

1145 ifĞ
num
 ) {

1146 
m_Ï¡_şu¡”_issue
=
idx
;

1147 
m_tÙ®_ùa_Ïunched
 +ğ
num
;

1150 
	}
}

1152 
	gg_sšgË_¡•
=0;

1154 
	ggpgpu_sim
::
	$cyşe
()

1156 
şock_mask
 = 
	`Ãxt_şock_domaš
();

1158 ià(
şock_mask
 & 
CORE
 ) {

1160 
i
=0;i<
m_shad”_cÚfig
->
n_simt_şu¡”s
;i++)

1161 
m_şu¡”
[
i
]->
	`iút_cyşe
();

1163 ià(
şock_mask
 & 
ICNT
) {

1165 
i
=0;i<
m_memÜy_cÚfig
->
m_n_mem_sub_·¹™iÚ
;i++) {

1166 
mem_ãtch
* 
mf
 = 
m_memÜy_sub_·¹™iÚ
[
i
]->
	`tİ
();

1167 ià(
mf
) {

1168 
»¥Ú£_size
 = 
mf
->
	`g‘_is_wr™e
()?mf->
	`g‘_ù¾_size
():mf->
	`size
();

1169 iàĞ::
	`iút_has_bufãr
Ğ
m_shad”_cÚfig
->
	`mem2deviû
(
i
), 
»¥Ú£_size
 ) ) {

1170 ià(!
mf
->
	`g‘_is_wr™e
())

1171 
mf
->
	`£t_»tuº_time¡amp
(
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

1172 
mf
->
	`£t_¡©us
(
IN_ICNT_TO_SHADER
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

1173 ::
	`iút_push
Ğ
m_shad”_cÚfig
->
	`mem2deviû
(
i
), 
mf
->
	`g‘_c
(), mf, 
»¥Ú£_size
 );

1174 
m_memÜy_sub_·¹™iÚ
[
i
]->
	`pİ
();

1176 
gpu_¡®l_iút2sh
++;

1179 
m_memÜy_sub_·¹™iÚ
[
i
]->
	`pİ
();

1184 ià(
şock_mask
 & 
DRAM
) {

1185 
i
=0;i<
m_memÜy_cÚfig
->
m_n_mem
;i++){

1186 
m_memÜy_·¹™iÚ_un™
[
i
]->
	`d¿m_cyşe
();

1188 
m_memÜy_·¹™iÚ_un™
[
i
]->
	`£t_d¿m_pow”_¡©s
(
m_pow”_¡©s
->
pwr_mem_¡©
->
n_cmd
[
CURRENT_STAT_IDX
][i], m_pow”_¡©s->pwr_mem_¡©->
n_aùiv™y
[CURRENT_STAT_IDX][i],

1189 
m_pow”_¡©s
->
pwr_mem_¡©
->
n_nİ
[
CURRENT_STAT_IDX
][
i
], m_pow”_¡©s->pwr_mem_¡©->
n_aù
[CURRENT_STAT_IDX][i], m_pow”_¡©s->pwr_mem_¡©->
n_´e
[CURRENT_STAT_IDX][i],

1190 
m_pow”_¡©s
->
pwr_mem_¡©
->
n_rd
[
CURRENT_STAT_IDX
][
i
], m_pow”_¡©s->pwr_mem_¡©->
n_wr
[CURRENT_STAT_IDX][i], m_pow”_¡©s->pwr_mem_¡©->
n_»q
[CURRENT_STAT_IDX][i]);

1195 ià(
şock_mask
 & 
L2
) {

1196 
m_pow”_¡©s
->
pwr_mem_¡©
->
l2_ÿche_¡©s
[
CURRENT_STAT_IDX
].
	`ş—r
();

1197 
i
=0;i<
m_memÜy_cÚfig
->
m_n_mem_sub_·¹™iÚ
;i++) {

1200 iàĞ
m_memÜy_sub_·¹™iÚ
[
i
]->
	`fuÎ
() ) {

1201 
gpu_¡®l_d¿mfuÎ
++;

1203 
mem_ãtch
* 
mf
 = (mem_ãtch*è
	`iút_pİ
Ğ
m_shad”_cÚfig
->
	`mem2deviû
(
i
) );

1204 
m_memÜy_sub_·¹™iÚ
[
i
]->
	`push
Ğ
mf
, 
gpu_sim_cyşe
 + 
gpu_tÙ_sim_cyşe
 );

1206 
m_memÜy_sub_·¹™iÚ
[
i
]->
	`ÿche_cyşe
(
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

1207 
m_memÜy_sub_·¹™iÚ
[
i
]->
	`accumuÏ‹_L2ÿche_¡©s
(
m_pow”_¡©s
->
pwr_mem_¡©
->
l2_ÿche_¡©s
[
CURRENT_STAT_IDX
]);

1211 ià(
şock_mask
 & 
ICNT
) {

1212 
	`iút_Œªsãr
();

1215 ià(
şock_mask
 & 
CORE
) {

1217 
m_pow”_¡©s
->
pwr_mem_¡©
->
cÜe_ÿche_¡©s
[
CURRENT_STAT_IDX
].
	`ş—r
();

1218 
i
=0;i<
m_shad”_cÚfig
->
n_simt_şu¡”s
;i++) {

1219 ià(
m_şu¡”
[
i
]->
	`g‘_nÙ_com¶‘ed
(è|| 
	`g‘_mÜe_ùa_Ëá
() ) {

1220 
m_şu¡”
[
i
]->
	`cÜe_cyşe
();

1221 *
aùive_sms
+=
m_şu¡”
[
i
]->
	`g‘_n_aùive_sms
();

1224 
m_şu¡”
[
i
]->
	`g‘_iút_¡©s
(
m_pow”_¡©s
->
pwr_mem_¡©
->
n_simt_to_mem
[
CURRENT_STAT_IDX
][i], m_pow”_¡©s->pwr_mem_¡©->
n_mem_to_simt
[CURRENT_STAT_IDX][i]);

1225 
m_şu¡”
[
i
]->
	`g‘_ÿche_¡©s
(
m_pow”_¡©s
->
pwr_mem_¡©
->
cÜe_ÿche_¡©s
[
CURRENT_STAT_IDX
]);

1227 
‹mp
=0;

1228 
i
=0;i<
m_shad”_cÚfig
->
	`num_shad”
();i++){

1229 
‹mp
+=
m_shad”_¡©s
->
m_p–še_duty_cyşe
[
i
];

1231 
‹mp
ñemp/
m_shad”_cÚfig
->
	`num_shad”
();

1232 *
av”age_p–še_duty_cyşe
=((*av”age_p–še_duty_cyşe)+
‹mp
);

1236 ifĞ
g_sšgË_¡•
 && ((
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
) >= g_single_step) ) {

1237 
	`asm
("int $03");

1239 
gpu_sim_cyşe
++;

1240 ifĞ
g_š‹¿ùive_debugg”_’abËd
 )

1241 
	`gpgpu_debug
();

1244 #ifdeà
GPGPUSIM_POWER_MODEL


1245 if(
m_cÚfig
.
g_pow”_simuÏtiÚ_’abËd
){

1246 
	`mı©_cyşe
(
m_cÚfig
, 
	`g‘Shad”CÜeCÚfig
(), 
m_gpgpusim_w¿µ”
, 
m_pow”_¡©s
, m_cÚfig.
gpu_¡©_§m¶e_äeq
, 
gpu_tÙ_sim_cyşe
, 
gpu_sim_cyşe
, 
gpu_tÙ_sim_š¢
, 
gpu_sim_š¢
);

1250 
	`issue_block2cÜe
();

1253 
®l_th»ads_com¶‘e
 = 1;

1254 ià(
m_cÚfig
.
gpgpu_æush_l1_ÿche
) {

1255 
i
=0;i<
m_shad”_cÚfig
->
n_simt_şu¡”s
;i++) {

1256 ià(
m_şu¡”
[
i
]->
	`g‘_nÙ_com¶‘ed
() == 0)

1257 
m_şu¡”
[
i
]->
	`ÿche_æush
();

1259 
®l_th»ads_com¶‘e
 = 0 ;

1263 if(
m_cÚfig
.
gpgpu_æush_l2_ÿche
){

1264 if(!
m_cÚfig
.
gpgpu_æush_l1_ÿche
){

1265 
i
=0;i<
m_shad”_cÚfig
->
n_simt_şu¡”s
;i++) {

1266 ià(
m_şu¡”
[
i
]->
	`g‘_nÙ_com¶‘ed
() != 0){

1267 
®l_th»ads_com¶‘e
 = 0 ;

1273 ià(
®l_th»ads_com¶‘e
 && !
m_memÜy_cÚfig
->
m_L2_cÚfig
.
	`di§bËd
() ) {

1274 
	`´štf
("Flushed L2 caches...\n");

1275 ià(
m_memÜy_cÚfig
->
m_L2_cÚfig
.
	`g‘_num_lšes
()) {

1276 
dlc
 = 0;

1277 
i
=0;i<
m_memÜy_cÚfig
->
m_n_mem
;i++) {

1278 
dlc
 = 
m_memÜy_sub_·¹™iÚ
[
i
]->
	`æushL2
();

1279 
	`as£¹
 (
dlc
 == 0);

1280 
	`´štf
("Dœty†še æushed from L2 %d i %d\n", 
i
, 
dlc
 );

1286 ià(!(
gpu_sim_cyşe
 % 
m_cÚfig
.
gpu_¡©_§m¶e_äeq
)) {

1287 
time_t
 
days
, 
hrs
, 
mšu‹s
, 
£c
;

1288 
time_t
 
cu¼_time
;

1289 
	`time
(&
cu¼_time
);

1290 
–­£d_time
 = 
	`MAX
(
cu¼_time
 - 
g_simuÏtiÚ_¡¬‰ime
, 1);

1291 iàĞ(
–­£d_time
 - 
Ï¡_liv’ess_mes§ge_time
è>ğ
m_cÚfig
.
liv’ess_mes§ge_äeq
 ) {

1292 
days
 = 
–­£d_time
/(3600*24);

1293 
hrs
 = 
–­£d_time
/3600 - 24*
days
;

1294 
mšu‹s
 = 
–­£d_time
/60 - 60*(
hrs
 + 24*
days
);

1295 
£c
 = 
–­£d_time
 - 60*(
mšu‹s
 + 60*(
hrs
 + 24*
days
));

1296 
	`´štf
("GPGPU-Sim uArch: cycles simulated: %lld inst.: %lld (ipc=%4.1f) sim_rate=%u (inst/sec)ƒlapsed = %u:%u:%02u:%02u / %s",

1297 
gpu_tÙ_sim_cyşe
 + 
gpu_sim_cyşe
, 
gpu_tÙ_sim_š¢
 + 
gpu_sim_š¢
,

1298 ()
gpu_sim_š¢
/()
gpu_sim_cyşe
,

1299 ()((
gpu_tÙ_sim_š¢
+
gpu_sim_š¢
è/ 
–­£d_time
),

1300 ()
days
,()
hrs
,()
mšu‹s
,()
£c
,

1301 
	`ùime
(&
cu¼_time
));

1302 
	`fæush
(
¡dout
);

1303 
Ï¡_liv’ess_mes§ge_time
 = 
–­£d_time
;

1305 
	`visu®iz”_´št¡©
();

1306 
m_memÜy_¡©s
->
	`memÏt¡©_Ït_pw
();

1307 ià(
m_cÚfig
.
gpgpu_ruÁime_¡©
 && (m_cÚfig.
gpu_ruÁime_¡©_æag
 != 0) ) {

1308 ià(
m_cÚfig
.
gpu_ruÁime_¡©_æag
 & 
GPU_RSTAT_BW_STAT
) {

1309 
i
=0;i<
m_memÜy_cÚfig
->
m_n_mem
;i++)

1310 
m_memÜy_·¹™iÚ_un™
[
i
]->
	`´št_¡©
(
¡dout
);

1311 
	`´štf
("maxmrqÏ‹ncy = %d \n", 
m_memÜy_¡©s
->
max_mrq_Ï‹ncy
);

1312 
	`´štf
("maxmæ©’cy = %d \n", 
m_memÜy_¡©s
->
max_mf_Ï‹ncy
);

1314 ià(
m_cÚfig
.
gpu_ruÁime_¡©_æag
 & 
GPU_RSTAT_SHD_INFO
)

1315 
	`shad”_´št_ruÁime_¡©
Ğ
¡dout
 );

1316 ià(
m_cÚfig
.
gpu_ruÁime_¡©_æag
 & 
GPU_RSTAT_L1MISS
)

1317 
	`shad”_´št_l1_miss_¡©
Ğ
¡dout
 );

1318 ià(
m_cÚfig
.
gpu_ruÁime_¡©_æag
 & 
GPU_RSTAT_SCHED
)

1319 
	`shad”_´št_scheduËr_¡©
Ğ
¡dout
, 
çl£
 );

1323 ià(!(
gpu_sim_cyşe
 % 20000)) {

1325 ià(
m_cÚfig
.
gpu_d—dlock_d‘eù
 && 
gpu_sim_š¢
 =ğ
Ï¡_gpu_sim_š¢
) {

1326 
gpu_d—dlock
 = 
Œue
;

1328 
Ï¡_gpu_sim_š¢
 = 
gpu_sim_š¢
;

1331 
	`Œy_¢­_shÙ
(
gpu_sim_cyşe
);

1332 
	`¥l_log_to_fe
 (
¡dout
, 0, 
gpu_sim_cyşe
);

1334 
	}
}

1337 
	gshad”_cÜe_ùx
::
	$dump_w¬p_¡©e
Ğ
FILE
 *
fout
 ) const

1339 
	`årštf
(
fout
, "\n");

1340 
	`årštf
(
fout
, "per warp functional simulation status:\n");

1341 
w
=0; w < 
m_cÚfig
->
max_w¬ps_³r_shad”
; w++ )

1342 
m_w¬p
[
w
].
	`´št
(
fout
);

1343 
	}
}

1345 
	ggpgpu_sim
::
	$dump_p–še
Ğ
mask
, 
s
, 
m
 ) const

1358 
	`´štf
("Dumping…ipeline state...\n");

1359 if(!
mask
) mask = 0xFFFFFFFF;

1360 
i
=0;i<
m_shad”_cÚfig
->
n_simt_şu¡”s
;i++) {

1361 if(
s
 != -1) {

1362 
i
 = 
s
;

1364 if(
mask
&1è
m_şu¡”
[
m_shad”_cÚfig
->
	`sid_to_şu¡”
(
i
)]->
	`di¥Ïy_p–še
(i,
¡dout
,1,mask & 0x2E);

1365 if(
s
 != -1) {

1369 if(
mask
&0x10000) {

1370 
i
=0;i<
m_memÜy_cÚfig
->
m_n_mem
;i++) {

1371 if(
m
 != -1) {

1372 
i
=
m
;

1374 
	`´štf
("DRAM / memÜy cÚŒŞË¸%u:\n", 
i
);

1375 if(
mask
&0x100000è
m_memÜy_·¹™iÚ_un™
[
i
]->
	`´št_¡©
(
¡dout
);

1376 if(
mask
&0x1000000è
m_memÜy_·¹™iÚ_un™
[
i
]->
	`visu®ize
();

1377 if(
mask
&0x10000000è
m_memÜy_·¹™iÚ_un™
[
i
]->
	`´št
(
¡dout
);

1378 if(
m
 != -1) {

1383 
	`fæush
(
¡dout
);

1384 
	}
}

1386 cÚ¡ 
shad”_cÜe_cÚfig
 * 
	ggpgpu_sim
::
	$g‘Shad”CÜeCÚfig
()

1388  
m_shad”_cÚfig
;

1389 
	}
}

1391 cÚ¡ 
memÜy_cÚfig
 * 
	ggpgpu_sim
::
	$g‘MemÜyCÚfig
()

1393  
m_memÜy_cÚfig
;

1394 
	}
}

1396 
simt_cÜe_şu¡”
 * 
	ggpgpu_sim
::
	$g‘SIMTClu¡”
()

1398  *
m_şu¡”
;

1399 
	}
}

	@gpu-sim.h

28 #iâdeà
GPU_SIM_H


29 
	#GPU_SIM_H


	)

31 
	~"../İtiÚ_·r£r.h
"

32 
	~"../ab¡¿ù_h¬dw¬e_mod–.h
"

33 
	~"../Œaû.h
"

34 
	~"addrdec.h
"

35 
	~"shad”.h
"

36 
	~<io¡»am
>

37 
	~<f¡»am
>

38 
	~<li¡
>

39 
	~<¡dio.h
>

44 
	#GPU_RSTAT_SHD_INFO
 0x1

	)

45 
	#GPU_RSTAT_BW_STAT
 0x2

	)

46 
	#GPU_RSTAT_WARP_DIS
 0x4

	)

47 
	#GPU_RSTAT_DWF_MAP
 0x8

	)

48 
	#GPU_RSTAT_L1MISS
 0x10

	)

49 
	#GPU_RSTAT_PDOM
 0x20

	)

50 
	#GPU_RSTAT_SCHED
 0x40

	)

51 
	#GPU_MEMLATSTAT_MC
 0x2

	)

54 
	#TEX_MSHR_MERGE
 0x4

	)

55 
	#CONST_MSHR_MERGE
 0x2

	)

56 
	#GLOBAL_MSHR_MERGE
 0x1

	)

59 
	#MhZ
 *1000000

	)

61 
	#CREATELOG
 111

	)

62 
	#SAMPLELOG
 222

	)

63 
	#DUMPLOG
 333

	)

69 
	ed¿m_ù¾_t
 {

70 
	mDRAM_FIFO
=0,

71 
	mDRAM_FRFCFS
=1

76 
	spow”_cÚfig
 {

77 
pow”_cÚfig
()

79 
	mm_v®id
 = 
Œue
;

81 
š™
()

85 
time_t
 
	mcu¼_time
;

86 
time
(&
cu¼_time
);

87 *
	md©e
 = 
ùime
(&
cu¼_time
);

88 *
	ms
 = 
d©e
;

89 *
	ms
) {

90 ià(*
	ms
 =ğ' ' || *
s
 == '\t' || *s == ':') *s = '-';

91 ià(*
	ms
 =ğ'\n' || *
s
 == '\r' ) *s = 0;

92 
	ms
++;

94 
	mbuf1
[1024];

95 
¢´štf
(
buf1
,1024,"gpgpusim_pow”_»pÜt__%s.log",
d©e
);

96 
	mg_pow”_f’ame
 = 
¡rdup
(
buf1
);

97 
	mbuf2
[1024];

98 
¢´štf
(
buf2
,1024,"gpgpusim_pow”_Œaû_»pÜt__%s.log.gz",
d©e
);

99 
	mg_pow”_Œaû_f’ame
 = 
¡rdup
(
buf2
);

100 
	mbuf3
[1024];

101 
¢´štf
(
buf3
,1024,"gpgpusim_m‘ric_Œaû_»pÜt__%s.log.gz",
d©e
);

102 
	mg_m‘ric_Œaû_f’ame
 = 
¡rdup
(
buf3
);

103 
	mbuf4
[1024];

104 
¢´štf
(
buf4
,1024,"gpgpusim_¡—dy_¡©e_Œackšg_»pÜt__%s.log.gz",
d©e
);

105 
	mg_¡—dy_¡©e_Œackšg_f’ame
 = 
¡rdup
(
buf4
);

107 if(
	mg_¡—dy_pow”_Ëv–s_’abËd
){

108 
ssÿnf
(
gpu_¡—dy_¡©e_defš™iÚ
,"%lf:%lf", &
gpu_¡—dy_pow”_devŸtiÚ
,&
gpu_¡—dy_mš_³riod
);

113 ià(
	mg_u£_nÚlš—r_mod–
)

114 
ssÿnf
(
gpu_nÚlš—r_mod–_cÚfig
,"%lf:%lf", &
gpu_idË_cÜe_pow”
,&
gpu_mš_šc_³r_aùive_sm
);

117 
»g_İtiÚs
(
şass
 
O±iÚP¬£r
 * 
İp
);

119 *
	mg_pow”_cÚfig_Çme
;

121 
boŞ
 
	mm_v®id
;

122 
boŞ
 
	mg_pow”_simuÏtiÚ_’abËd
;

123 
boŞ
 
	mg_pow”_Œaû_’abËd
;

124 
boŞ
 
	mg_¡—dy_pow”_Ëv–s_’abËd
;

125 
boŞ
 
	mg_pow”_³r_cyşe_dump
;

126 
boŞ
 
	mg_pow”_simuÏtÜ_debug
;

127 *
	mg_pow”_f’ame
;

128 *
	mg_pow”_Œaû_f’ame
;

129 *
	mg_m‘ric_Œaû_f’ame
;

130 * 
	mg_¡—dy_¡©e_Œackšg_f’ame
;

131 
	mg_pow”_Œaû_zËv–
;

132 * 
	mgpu_¡—dy_¡©e_defš™iÚ
;

133 
	mgpu_¡—dy_pow”_devŸtiÚ
;

134 
	mgpu_¡—dy_mš_³riod
;

137 
boŞ
 
	mg_u£_nÚlš—r_mod–
;

138 * 
	mgpu_nÚlš—r_mod–_cÚfig
;

139 
	mgpu_idË_cÜe_pow”
;

140 
	mgpu_mš_šc_³r_aùive_sm
;

147 
	smemÜy_cÚfig
 {

148 
memÜy_cÚfig
()

150 
	mm_v®id
 = 
çl£
;

151 
	mgpgpu_d¿m_timšg_İt
=
NULL
;

152 
	mgpgpu_L2_queue_cÚfig
=
NULL
;

154 
š™
()

156 
as£¹
(
gpgpu_d¿m_timšg_İt
);

157 ià(
¡rchr
(
gpgpu_d¿m_timšg_İt
, '='è=ğ
NULL
) {

160 
nbkg½
 = 1;

161 
	mtCCDL
 = 0;

162 
	mtRTPL
 = 0;

163 
ssÿnf
(
gpgpu_d¿m_timšg_İt
,"%d:%d:%d:%d:%d:%d:%d:%d:%d:%d:%d:%d:%d:%d",

164 &
nbk
,&
tCCD
,&
tRRD
,&
tRCD
,&
tRAS
,&
tRP
,&
tRC
,&
CL
,&
WL
,&
tCDLR
,&
tWR
,&
nbkg½
,&
tCCDL
,&
tRTPL
);

167 
İtiÚ_·r£r_t
 
	md¿m_İp
 = 
İtiÚ_·r£r_ü—‹
();

169 
İtiÚ_·r£r_»gi¡”
(
d¿m_İp
, "nbk", 
OPT_UINT32
, &
nbk
, "number of banks", "");

170 
İtiÚ_·r£r_»gi¡”
(
d¿m_İp
, "CCD", 
OPT_UINT32
, &
tCCD
, "columno column delay", "");

171 
İtiÚ_·r£r_»gi¡”
(
d¿m_İp
, "RRD", 
OPT_UINT32
, &
tRRD
, "minimal delay between‡ctivation of„ows in different banks", "");

172 
İtiÚ_·r£r_»gi¡”
(
d¿m_İp
, "RCD", 
OPT_UINT32
, &
tRCD
, "rowo column delay", "");

173 
İtiÚ_·r£r_»gi¡”
(
d¿m_İp
, "RAS", 
OPT_UINT32
, &
tRAS
, "time‚eededo‡ctivate„ow", "");

174 
İtiÚ_·r£r_»gi¡”
(
d¿m_İp
, "RP", 
OPT_UINT32
, &
tRP
, "time‚eededo…recharge (deactivate)„ow", "");

175 
İtiÚ_·r£r_»gi¡”
(
d¿m_İp
, "RC", 
OPT_UINT32
, &
tRC
, "row cycleime", "");

176 
İtiÚ_·r£r_»gi¡”
(
d¿m_İp
, "CDLR", 
OPT_UINT32
, &
tCDLR
, "switching from writeo„ead (changesWTR)", "");

177 
İtiÚ_·r£r_»gi¡”
(
d¿m_İp
, "WR", 
OPT_UINT32
, &
tWR
, "last data-ino„ow…recharge", "");

179 
İtiÚ_·r£r_»gi¡”
(
d¿m_İp
, "CL", 
OPT_UINT32
, &
CL
, "CAS†atency", "");

180 
İtiÚ_·r£r_»gi¡”
(
d¿m_İp
, "WL", 
OPT_UINT32
, &
WL
, "Write†atency", "");

183 
İtiÚ_·r£r_»gi¡”
(
d¿m_İp
, "nbkg½", 
OPT_UINT32
, &
nbkg½
, "number of bank groups", "1");

184 
İtiÚ_·r£r_»gi¡”
(
d¿m_İp
, "CCDL", 
OPT_UINT32
, &
tCCDL
, "columno column delay between‡ccesseso different bank groups", "0");

185 
İtiÚ_·r£r_»gi¡”
(
d¿m_İp
, "RTPL", 
OPT_UINT32
, &
tRTPL
, "reado…recharge delay between‡ccesseso different bank groups", "0");

187 
İtiÚ_·r£r_d–im™ed_¡ršg
(
d¿m_İp
, 
gpgpu_d¿m_timšg_İt
, "=:;");

188 
årštf
(
¡dout
, "DRAM Timing Options:\n");

189 
İtiÚ_·r£r_´št
(
d¿m_İp
, 
¡dout
);

190 
İtiÚ_·r£r_de¡roy
(
d¿m_İp
);

193 
	mnbkt
 = 
nbk
/
nbkg½
;

194 
	mi
;

195 
	mi
=0; 
	mnbkt
>0; i++) {

196 
	mnbkt
 = 
nbkt
>>1;

198 
	mbk_g_Ëngth
 = 
i
;

199 
as£¹
(
nbkg½
>0 && "Number of bank groups cannot be zero");

200 
	mtRCDWR
 = 
tRCD
-(
WL
+1);

201 
	mtRTW
 = (
CL
+(
BL
/
d©a_commªd_äeq_¿tio
)+2-
WL
);

202 
	mtWTR
 = (
WL
+(
BL
/
d©a_commªd_äeq_¿tio
)+
tCDLR
);

203 
	mtWTP
 = (
WL
+(
BL
/
d©a_commªd_äeq_¿tio
)+
tWR
);

204 
	md¿m_©om_size
 = 
BL
 * 
busW
 * 
gpu_n_mem_³r_ù¾r
;

206 
as£¹
Ğ
m_n_sub_·¹™iÚ_³r_memÜy_chªÃl
 > 0 );

207 
as£¹
Ğ(
nbk
 % 
m_n_sub_·¹™iÚ_³r_memÜy_chªÃl
 == 0)

209 
	mm_n_mem_sub_·¹™iÚ
 = 
m_n_mem
 * 
m_n_sub_·¹™iÚ_³r_memÜy_chªÃl
;

210 
årštf
(
¡dout
, "TÙ®‚umb” oàmemÜy sub…¬t™iÚ = %u\n", 
m_n_mem_sub_·¹™iÚ
);

212 
	mm_add»ss_m­pšg
.
š™
(
m_n_mem
, 
m_n_sub_·¹™iÚ_³r_memÜy_chªÃl
);

213 
	mm_L2_cÚfig
.
š™
(&
m_add»ss_m­pšg
);

215 
	mm_v®id
 = 
Œue
;

216 
	miút_æ™_size
 = 32;

218 
»g_İtiÚs
(
şass
 
O±iÚP¬£r
 * 
İp
);

220 
boŞ
 
	mm_v®id
;

221 
mubË
 
l2_ÿche_cÚfig
 
	mm_L2_cÚfig
;

222 
boŞ
 
	mm_L2_‹xu»_Úly
;

224 *
	mgpgpu_d¿m_timšg_İt
;

225 *
	mgpgpu_L2_queue_cÚfig
;

226 
boŞ
 
	ml2_id—l
;

227 
	mgpgpu_äfcfs_d¿m_sched_queue_size
;

228 
	mgpgpu_d¿m_»tuº_queue_size
;

229 
d¿m_ù¾_t
 
	mscheduËr_ty³
;

230 
boŞ
 
	mgpgpu_memÏ‹ncy_¡©
;

231 
	mm_n_mem
;

232 
	mm_n_sub_·¹™iÚ_³r_memÜy_chªÃl
;

233 
	mm_n_mem_sub_·¹™iÚ
;

234 
	mgpu_n_mem_³r_ù¾r
;

236 
	mrİ_Ï‹ncy
;

237 
	md¿m_Ï‹ncy
;

241 
	mtCCDL
;

242 
	mtRTPL
;

244 
	mtCCD
;

245 
	mtRRD
;

246 
	mtRCD
;

247 
	mtRCDWR
;

248 
	mtRAS
;

249 
	mtRP
;

250 
	mtRC
;

251 
	mtCDLR
;

252 
	mtWR
;

254 
	mCL
;

255 
	mWL
;

256 
	mBL
;

257 
	mtRTW
;

258 
	mtWTR
;

259 
	mtWTP
;

260 
	mbusW
;

262 
	mnbkg½
;

263 
	mbk_g_Ëngth
;

265 
	mnbk
;

267 
	md©a_commªd_äeq_¿tio
;

268 
	md¿m_©om_size
;

270 
lš—r_to_¿w_add»ss_Œª¦©iÚ
 
	mm_add»ss_m­pšg
;

272 
	miút_æ™_size
;

276 
gpu_sim_cyşe
;

277 
gpu_tÙ_sim_cyşe
;

278 
boŞ
 
g_š‹¿ùive_debugg”_’abËd
;

280 
şass
 
	ggpgpu_sim_cÚfig
 : 
public
 
pow”_cÚfig
,…ubliø
	ggpgpu_funùiÚ®_sim_cÚfig
 {

281 
	gpublic
:

282 
gpgpu_sim_cÚfig
(è{ 
m_v®id
 = 
çl£
; }

283 
»g_İtiÚs
(
şass
 
O±iÚP¬£r
 * 
İp
);

284 
š™
()

286 
	ggpu_¡©_§m¶e_äeq
 = 10000;

287 
	ggpu_ruÁime_¡©_æag
 = 0;

288 
ssÿnf
(
gpgpu_ruÁime_¡©
, "%d:%x", &
gpu_¡©_§m¶e_äeq
, &
gpu_ruÁime_¡©_æag
);

289 
	gm_shad”_cÚfig
.
š™
();

290 
±x_£t_‹x_ÿche_lšesize
(
m_shad”_cÚfig
.
m_L1T_cÚfig
.
g‘_lše_sz
());

291 
	gm_memÜy_cÚfig
.
š™
();

292 
š™_şock_domašs
();

293 
	gpow”_cÚfig
::
š™
();

294 
	gT¿û
::
š™
();

298 
time_t
 
	gcu¼_time
;

299 
time
(&
cu¼_time
);

300 *
	gd©e
 = 
ùime
(&
cu¼_time
);

301 *
	gs
 = 
d©e
;

302 *
	gs
) {

303 ià(*
	gs
 =ğ' ' || *
s
 == '\t' || *s == ':') *s = '-';

304 ià(*
	gs
 =ğ'\n' || *
s
 == '\r' ) *s = 0;

305 
	gs
++;

307 
	gbuf
[1024];

308 
¢´štf
(
buf
,1024,"gpgpusim_visu®iz”__%s.log.gz",
d©e
);

309 
	gg_visu®iz”_f’ame
 = 
¡rdup
(
buf
);

311 
	gm_v®id
=
Œue
;

314 
num_shad”
(ècÚ¡ {  
	gm_shad”_cÚfig
.num_shader(); }

315 
num_şu¡”
(ècÚ¡ {  
	gm_shad”_cÚfig
.
	gn_simt_şu¡”s
; }

316 
g‘_max_cÚcu¼’t_k”Ãl
(ècÚ¡ {  
	gmax_cÚcu¼’t_k”Ãl
; }

318 
	g´iv©e
:

319 
š™_şock_domašs
();

322 
boŞ
 
	gm_v®id
;

323 
shad”_cÜe_cÚfig
 
	gm_shad”_cÚfig
;

324 
memÜy_cÚfig
 
	gm_memÜy_cÚfig
;

326 
	gcÜe_äeq
;

327 
	giút_äeq
;

328 
	gd¿m_äeq
;

329 
	gl2_äeq
;

330 
	gcÜe_³riod
;

331 
	giút_³riod
;

332 
	gd¿m_³riod
;

333 
	gl2_³riod
;

336 
	ggpu_max_cyşe_İt
;

337 
	ggpu_max_š¢_İt
;

338 
	ggpu_max_ùa_İt
;

339 *
	ggpgpu_ruÁime_¡©
;

340 
boŞ
 
	ggpgpu_æush_l1_ÿche
;

341 
boŞ
 
	ggpgpu_æush_l2_ÿche
;

342 
boŞ
 
	ggpu_d—dlock_d‘eù
;

343 
	ggpgpu_äfcfs_d¿m_sched_queue_size
;

344 
	ggpgpu_cæog_š‹rv®
;

345 * 
	ggpgpu_şock_domašs
;

346 
	gmax_cÚcu¼’t_k”Ãl
;

349 
boŞ
 
	gg_visu®iz”_’abËd
;

350 *
	gg_visu®iz”_f’ame
;

351 
	gg_visu®iz”_zËv–
;

355 
	ggpu_¡©_§m¶e_äeq
;

356 
	ggpu_ruÁime_¡©_æag
;

360 
	gliv’ess_mes§ge_äeq
;

362 
ä›nd
 
şass
 
	ggpgpu_sim
;

365 şas 
	cgpgpu_sim
 : 
public
 
gpgpu_t
 {

366 
public
:

367 
gpgpu_sim
ĞcÚ¡ 
gpgpu_sim_cÚfig
 &
cÚfig
 );

369 
£t_´İ
Ğ
cudaDeviûPrİ
 *
´İ
 );

371 
Ïunch
Ğ
k”Ãl_šfo_t
 *
kšfo
 );

372 
boŞ
 
ÿn_¡¬t_k”Ãl
();

373 
fšished_k”Ãl
();

374 
£t_k”Ãl_dÚe
Ğ
k”Ãl_šfo_t
 *
k”Ãl
 );

376 
š™
();

377 
cyşe
();

378 
boŞ
 
aùive
();

379 
´št_¡©s
();

380 
upd©e_¡©s
();

381 
d—dlock_check
();

383 
g‘_pdom_¡ack_tİ_šfo
Ğ
sid
, 
tid
, *
pc
, *
½c
 );

385 
	$sh¬ed_mem_size
() const;

386 
	$num_»gi¡”s_³r_cÜe
() const;

387 
	$w½_size
() const;

388 
	$shad”_şock
() const;

389 cÚ¡ 
cudaDeviûPrİ
 *
	$g‘_´İ
() const;

390 
div”g’û_suµÜt_t
 
	$simd_mod–
() const;

392 
	$th»ads_³r_cÜe
() const;

393 
boŞ
 
	$g‘_mÜe_ùa_Ëá
() const;

394 
k”Ãl_šfo_t
 *
	`£Ëù_k”Ãl
();

396 cÚ¡ 
gpgpu_sim_cÚfig
 &
	$g‘_cÚfig
(ècÚ¡ {  
m_cÚfig
; }

397 
	`gpu_´št_¡©
();

398 
	$dump_p–še
Ğ
mask
, 
s
, 
m
 ) const;

406 cÚ¡ 
shad”_cÜe_cÚfig
 * 
	`g‘Shad”CÜeCÚfig
();

413 cÚ¡ 
memÜy_cÚfig
 * 
	`g‘MemÜyCÚfig
();

420 
simt_cÜe_şu¡”
 * 
	`g‘SIMTClu¡”
();

423 
´iv©e
:

425 
	`»š™_şock_domašs
();

426 
	`Ãxt_şock_domaš
();

427 
	`issue_block2cÜe
();

428 
	$´št_d¿m_¡©s
(
FILE
 *
fout
) const;

429 
	`shad”_´št_ruÁime_¡©
Ğ
FILE
 *
fout
 );

430 
	$shad”_´št_l1_miss_¡©
Ğ
FILE
 *
fout
 ) const;

431 
	$shad”_´št_ÿche_¡©s
Ğ
FILE
 *
fout
 ) const;

432 
	$shad”_´št_scheduËr_¡©
Ğ
FILE
* 
fout
, 
boŞ
 
´št_dyÇmic_šfo
 ) const;

433 
	`visu®iz”_´št¡©
();

434 
	$´št_shad”_cyşe_di¡ro
Ğ
FILE
 *
fout
 ) const;

436 
	`gpgpu_debug
();

440 
şass
 
simt_cÜe_şu¡”
 **
m_şu¡”
;

441 
şass
 
memÜy_·¹™iÚ_un™
 **
m_memÜy_·¹™iÚ_un™
;

442 
şass
 
memÜy_sub_·¹™iÚ
 **
m_memÜy_sub_·¹™iÚ
;

444 
¡d
::
veùÜ
<
k”Ãl_šfo_t
*> 
m_ruÂšg_k”Ãls
;

445 
m_Ï¡_issued_k”Ãl
;

447 
¡d
::
li¡
<> 
m_fšished_k”Ãl
;

448 
m_tÙ®_ùa_Ïunched
;

449 
m_Ï¡_şu¡”_issue
;

450 * 
av”age_p–še_duty_cyşe
;

451 * 
aùive_sms
;

453 
cÜe_time
;

454 
iút_time
;

455 
d¿m_time
;

456 
l2_time
;

459 
boŞ
 
gpu_d—dlock
;

462 cÚ¡ 
gpgpu_sim_cÚfig
 &
m_cÚfig
;

464 cÚ¡ 
cudaDeviûPrİ
 *
m_cuda_´İ”t›s
;

465 cÚ¡ 
shad”_cÜe_cÚfig
 *
m_shad”_cÚfig
;

466 cÚ¡ 
memÜy_cÚfig
 *
m_memÜy_cÚfig
;

469 
şass
 
shad”_cÜe_¡©s
 *
m_shad”_¡©s
;

470 
şass
 
memÜy_¡©s_t
 *
m_memÜy_¡©s
;

471 
şass
 
pow”_¡©_t
 *
m_pow”_¡©s
;

472 
şass
 
gpgpu_sim_w¿µ”
 *
m_gpgpusim_w¿µ”
;

473 
gpu_tÙ_issued_ùa
;

474 
Ï¡_gpu_sim_š¢
;

476 
Ï¡_liv’ess_mes§ge_time
;

478 
¡d
::
m­
<¡d::
¡ršg
, 
FuncCache
> 
m_¥ecŸl_ÿche_cÚfig
;

480 
¡d
::
veùÜ
<¡d::
¡ršg
> 
m_execu‹d_k”Ãl_Çmes
;

481 
¡d
::
veùÜ
<> 
m_execu‹d_k”Ãl_uids
;

482 
¡d
::
¡ršg
 
	`execu‹d_k”Ãl_šfo_¡ršg
();

483 
	`ş—r_execu‹d_k”Ãl_šfo
();

485 
public
:

486 
gpu_sim_š¢
;

487 
gpu_tÙ_sim_š¢
;

488 
gpu_sim_š¢_Ï¡_upd©e
;

489 
gpu_sim_š¢_Ï¡_upd©e_sid
;

493 
FuncCache
 
	`g‘_ÿche_cÚfig
(
¡d
::
¡ršg
 
k”Ãl_Çme
);

494 
	`£t_ÿche_cÚfig
(
¡d
::
¡ršg
 
k”Ãl_Çme
, 
FuncCache
 
ÿcheCÚfig
 );

495 
boŞ
 
	`has_¥ecŸl_ÿche_cÚfig
(
¡d
::
¡ršg
 
k”Ãl_Çme
);

496 
	`chªge_ÿche_cÚfig
(
FuncCache
 
ÿche_cÚfig
);

497 
	`£t_ÿche_cÚfig
(
¡d
::
¡ršg
 
k”Ãl_Çme
);

499 
	}
};

	@histogram.cc

28 
	~"hi¡og¿m.h
"

30 
	~<as£¹.h
>

32 
	gbšÃd_hi¡og¿m
::
bšÃd_hi¡og¿m
 (
¡d
::
¡ršg
 
Çme
, 
nbšs
, * 
bšs
)

33 : 
m_Çme
(
Çme
), 
m_nbšs
(
nbšs
), 
m_bšs
(
NULL
), 
m_bš_úts
(
Ãw
 [m_nbšs]), 
m_maximum
(0), 
	$m_sum
(0)

35 ià(
bšs
) {

36 
m_bšs
 = 
Ãw
 [
m_nbšs
];

37 
i
 = 0; i < 
nbšs
; i++) {

38 
m_bšs
[
i
] = 
bšs
[i];

42 
	`»£t_bšs
();

43 
	}
}

45 
	gbšÃd_hi¡og¿m
::
	$bšÃd_hi¡og¿m
 (cÚ¡ 
bšÃd_hi¡og¿m
& 
Ùh”
)

46 : 
	`m_Çme
(
Ùh”
.
m_Çme
), 
	`m_nbšs
(Ùh”.
m_nbšs
), 
	`m_bšs
(
NULL
),

47 
	`m_bš_úts
(
Ãw
 [
m_nbšs
]), 
	`m_maximum
(0), 
	$m_sum
(0)

49 
i
 = 0; i < 
m_nbšs
; i++) {

50 
m_bš_úts
[
i
] = 
Ùh”
.m_bin_cnts[i];

52 
	}
}

54 
	gbšÃd_hi¡og¿m
::
	$»£t_bšs
 () {

55 
i
 = 0; i < 
m_nbšs
; i++) {

56 
m_bš_úts
[
i
] = 0;

58 
	}
}

60 
	gbšÃd_hi¡og¿m
::
	$add2bš
 (
§m¶e
) {

61 
	`as£¹
(0);

62 
m_maximum
 = (
§m¶e
 > m_maximum)? sample : m_maximum;

63 
	}
}

65 
	gbšÃd_hi¡og¿m
::
	$åršt
 (
FILE
 *
fout
) const

67 ià(
m_Çme
.
	`c_¡r
(è!ğ
NULL
è
	`årštf
(
fout
, "%s = ", m_name.c_str());

68 
tÙ®_§m¶e
 = 0;

69 
i
 = 0; i < 
m_nbšs
; i++) {

70 
	`årštf
(
fout
, "%d ", 
m_bš_úts
[
i
]);

71 
tÙ®_§m¶e
 +ğ
m_bš_úts
[
i
];

73 
	`årštf
(
fout
, "max=%d ", 
m_maximum
);

74 
avg
 = 0.0f;

75 ià(
tÙ®_§m¶e
 > 0) {

76 
avg
 = ()
m_sum
 / 
tÙ®_§m¶e
;

78 
	`årštf
(
fout
, "avg=%0.2à", 
avg
);

79 
	}
}

81 
	gbšÃd_hi¡og¿m
::~
	$bšÃd_hi¡og¿m
 () {

82 ià(
m_bšs
è
d–‘e
[] m_bins;

83 
d–‘e
[] 
m_bš_úts
;

84 
	}
}

86 
	gpow2_hi¡og¿m
::
pow2_hi¡og¿m
 (
¡d
::
¡ršg
 
Çme
, 
nbšs
, * 
bšs
)

87 : 
	$bšÃd_hi¡og¿m
 (
Çme
, 
nbšs
, 
bšs
è{
	}
}

89 
	gpow2_hi¡og¿m
::
	$add2bš
 (
§m¶e
) {

90 
	`as£¹
(
§m¶e
 >= 0);

92 
bš
;

93 
v
 = 
§m¶e
;

94 
shiá
;

96 
bš
 = (
v
 > 0xFFFF) << 4; v >>= bin;

97 
shiá
 = (
v
 > 0xFF ) << 3; v >>ğshiá; 
bš
 |= shift;

98 
shiá
 = (
v
 > 0xF ) << 2; v >>ğshiá; 
bš
 |= shift;

99 
shiá
 = (
v
 > 0x3 ) << 1; v >>ğshiá; 
bš
 |= shift;

100 
bš
 |ğ(
v
 >> 1);

101 
bš
 +ğ(
§m¶e
 > 0)? 1:0;

103 
m_bš_úts
[
bš
] += 1;

105 
m_maximum
 = (
§m¶e
 > m_maximum)? sample : m_maximum;

106 
m_sum
 +ğ
§m¶e
;

107 
	}
}

109 
	glš—r_hi¡og¿m
::
	$lš—r_hi¡og¿m
 (
¡ride
, cÚ¡ *
Çme
, 
nbšs
, * 
bšs
)

110 : 
	`bšÃd_hi¡og¿m
 (
Çme
, 
nbšs
, 
bšs
), 
	$m_¡ride
(
¡ride
)

112 
	}
}

114 
	glš—r_hi¡og¿m
::
	$add2bš
 (
§m¶e
) {

115 
	`as£¹
(
§m¶e
 >= 0);

117 
bš
 = 
§m¶e
 / 
m_¡ride
;

118 ià(
bš
 >ğ
m_nbšs
) bin = m_nbins - 1;

120 
m_bš_úts
[
bš
] += 1;

122 
m_maximum
 = (
§m¶e
 > m_maximum)? sample : m_maximum;

123 
m_sum
 +ğ
§m¶e
;

124 
	}
}

	@histogram.h

28 #iâdeà
HISTOGRAM_H


29 
	#HISTOGRAM_H


	)

31 #ifdeà
__ılu¥lus


33 
	~<¡dio.h
>

34 
	~<¡ršg
>

36 şas 
	cbšÃd_hi¡og¿m
 {

37 
	mpublic
:

39 
bšÃd_hi¡og¿m
 (
¡d
::
¡ršg
 
Çme
 = "", 
nbšs
 = 32, * 
bšs
 = 
NULL
);

40 
bšÃd_hi¡og¿m
 (cÚ¡ bšÃd_hi¡og¿m& 
Ùh”
);

41 
	mvœtu®
 ~
bšÃd_hi¡og¿m
 ();

44 
»£t_bšs
 ();

45 
add2bš
 (
§m¶e
);

48 
	$åršt
 (
FILE
 *
fout
) const;

50 
´Ùeùed
:

51 
¡d
::
¡ršg
 
m_Çme
;

52 
m_nbšs
;

53 *
m_bšs
;

54 *
m_bš_úts
;

55 
m_maximum
;

56 sigÃd 
m_sum
;

59 şas 
	cpow2_hi¡og¿m
 : 
public
 
bšÃd_hi¡og¿m
 {

60 
public
:

61 
	`pow2_hi¡og¿m
 ( 
¡d
::
¡ršg
 
Çme
 = "", 
nbšs
 = 32, * 
bšs
 = 
NULL
);

62 ~
	$pow2_hi¡og¿m
() {}

64 
	`add2bš
 (
§m¶e
);

65 
	}
};

67 şas 
	clš—r_hi¡og¿m
 : 
public
 
bšÃd_hi¡og¿m
 {

68 
public
:

69 
lš—r_hi¡og¿m
 (
¡ride
 = 1, cÚ¡ *
Çme
 = 
NULL
, 
nbšs
 = 32, * 
bšs
 = NULL);

70 ~
	$lš—r_hi¡og¿m
() {}

72 
	`add2bš
 (
§m¶e
);

73 
´iv©e
:

74 
m_¡ride
;

75 
	}
};

	@icnt_wrapper.cc

28 
	~"iút_w¿µ”.h
"

29 
	~<as£¹.h
>

30 
	~"../š‹rsim2/glob®s.hµ
"

31 
	~"../š‹rsim2/š‹rcÚÃù_š‹rçû.hµ
"

33 
iút_ü—‹_p
 
	giút_ü—‹
;

34 
iút_š™_p
 
	giút_š™
;

35 
iút_has_bufãr_p
 
	giút_has_bufãr
;

36 
iút_push_p
 
	giút_push
;

37 
iút_pİ_p
 
	giút_pİ
;

38 
iút_Œªsãr_p
 
	giút_Œªsãr
;

39 
iút_busy_p
 
	giút_busy
;

40 
iút_di¥Ïy_¡©s_p
 
	giút_di¥Ïy_¡©s
;

41 
iút_di¥Ïy_ov”®l_¡©s_p
 
	giút_di¥Ïy_ov”®l_¡©s
;

42 
iút_di¥Ïy_¡©e_p
 
	giút_di¥Ïy_¡©e
;

43 
iút_g‘_æ™_size_p
 
	giút_g‘_æ™_size
;

45 
	gg_ÃtwÜk_mode
;

46 * 
	gg_ÃtwÜk_cÚfig_f’ame
;

48 
	~"../İtiÚ_·r£r.h
"

53 
	$š‹rsim2_ü—‹
(
n_shad”
, 
n_mem
)

55 
g_iút_š‹rçû
->
	`C»©eIÁ”cÚÃù
(
n_shad”
, 
n_mem
);

56 
	}
}

58 
	$š‹rsim2_š™
()

60 
g_iút_š‹rçû
->
	`In™
();

61 
	}
}

63 
boŞ
 
	$š‹rsim2_has_bufãr
(
šput
, 
size
)

65  
g_iút_š‹rçû
->
	`HasBufãr
(
šput
, 
size
);

66 
	}
}

68 
	$š‹rsim2_push
(
šput
, 
ouut
, * 
d©a
, 
size
)

70 
g_iút_š‹rçû
->
	`Push
(
šput
, 
ouut
, 
d©a
, 
size
);

71 
	}
}

73 * 
	$š‹rsim2_pİ
(
ouut
)

75  
g_iút_š‹rçû
->
	`Pİ
(
ouut
);

76 
	}
}

78 
	$š‹rsim2_Œªsãr
()

80 
g_iút_š‹rçû
->
	`Advªû
();

81 
	}
}

83 
boŞ
 
	$š‹rsim2_busy
()

85  
g_iút_š‹rçû
->
	`Busy
();

86 
	}
}

88 
	$š‹rsim2_di¥Ïy_¡©s
()

90 
g_iút_š‹rçû
->
	`Di¥ÏySts
();

91 
	}
}

93 
	$š‹rsim2_di¥Ïy_ov”®l_¡©s
()

95 
g_iút_š‹rçû
->
	`Di¥ÏyOv”®lSts
();

96 
	}
}

98 
	$š‹rsim2_di¥Ïy_¡©e
(
FILE
 *
å
)

100 
g_iút_š‹rçû
->
	`Di¥ÏyS‹
(
å
);

101 
	}
}

103 
	$š‹rsim2_g‘_æ™_size
()

105  
g_iút_š‹rçû
->
	`G‘Fl™Size
();

106 
	}
}

108 
	$iút_»g_İtiÚs
Ğ
şass
 
O±iÚP¬£r
 * 
İp
 )

110 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-ÃtwÜk_mode", 
OPT_INT32
, &
g_ÃtwÜk_mode
, "Interconnection‚etwork mode", "1");

111 
	`İtiÚ_·r£r_»gi¡”
(
İp
, "-š‹r_cÚfig_fe", 
OPT_CSTR
, &
g_ÃtwÜk_cÚfig_f’ame
, "Interconnection‚etwork config file", "mesh");

112 
	}
}

114 
	$iút_w¿µ”_š™
()

116 
g_ÃtwÜk_mode
) {

117 
INTERSIM
:

119 
g_iút_š‹rçû
 = 
IÁ”cÚÃùIÁ”çû
::
	`New
(
g_ÃtwÜk_cÚfig_f’ame
);

120 
iút_ü—‹
 = 
š‹rsim2_ü—‹
;

121 
iút_š™
 = 
š‹rsim2_š™
;

122 
iút_has_bufãr
 = 
š‹rsim2_has_bufãr
;

123 
iút_push
 = 
š‹rsim2_push
;

124 
iút_pİ
 = 
š‹rsim2_pİ
;

125 
iút_Œªsãr
 = 
š‹rsim2_Œªsãr
;

126 
iút_busy
 = 
š‹rsim2_busy
;

127 
iút_di¥Ïy_¡©s
 = 
š‹rsim2_di¥Ïy_¡©s
;

128 
iút_di¥Ïy_ov”®l_¡©s
 = 
š‹rsim2_di¥Ïy_ov”®l_¡©s
;

129 
iút_di¥Ïy_¡©e
 = 
š‹rsim2_di¥Ïy_¡©e
;

130 
iút_g‘_æ™_size
 = 
š‹rsim2_g‘_æ™_size
;

133 
	`as£¹
(0);

136 
	}
}

	@icnt_wrapper.h

28 #iâdeà
ICNT_WRAPPER_H


29 
	#ICNT_WRAPPER_H


	)

31 
	~<¡dio.h
>

35 (*
	tiút_ü—‹_p
)(
	tn_shad”
, 
	tn_mem
);

36 (*
	tiút_š™_p
)( );

37 
	$boŞ
 (*
	tiút_has_bufãr_p
)(
	tšput
, 
	tsize
);

38 (*
	tiút_push_p
)(
	tšput
, 
	touut
, * 
	td©a
, 
	tsize
);

39 * (*
	tiút_pİ_p
)(
	touut
);

40 (*
	tiút_Œªsãr_p
)( );

41 
	`boŞ
 (*
	tiút_busy_p
)( );

42 (*
	tiút_d¿š_p
)( );

43 (*
	tiút_di¥Ïy_¡©s_p
)( );

44 (*
	tiút_di¥Ïy_ov”®l_¡©s_p
)( );

45 (*
	tiút_di¥Ïy_¡©e_p
)(
	tFILE
* 
	tå
);

46 (*
	tiút_g‘_æ™_size_p
)();

48 
iút_ü—‹_p
 
iút_ü—‹
;

49 
iút_š™_p
 
iút_š™
;

50 
iút_has_bufãr_p
 
iút_has_bufãr
;

51 
iút_push_p
 
iút_push
;

52 
iút_pİ_p
 
iút_pİ
;

53 
iút_Œªsãr_p
 
iút_Œªsãr
;

54 
iút_busy_p
 
iút_busy
;

55 
iút_d¿š_p
 
iút_d¿š
;

56 
iút_di¥Ïy_¡©s_p
 
iút_di¥Ïy_¡©s
;

57 
iút_di¥Ïy_ov”®l_¡©s_p
 
iút_di¥Ïy_ov”®l_¡©s
;

58 
iút_di¥Ïy_¡©e_p
 
iút_di¥Ïy_¡©e
;

59 
iút_g‘_æ™_size_p
 
iút_g‘_æ™_size
;

60 
g_ÃtwÜk_mode
;

62 
	eÃtwÜk_mode
 {

63 
INTERSIM
 = 1,

64 
N_NETWORK_MODE


67 
	`iút_w¿µ”_š™
();

68 
	`iút_»g_İtiÚs
Ğ
şass
 
O±iÚP¬£r
 * 
İp
 );

	@l2cache.cc

28 
	~<¡dlib.h
>

29 
	~<¡dio.h
>

30 
	~<¡ršg.h
>

32 
	~<li¡
>

33 
	~<£t
>

35 
	~"../İtiÚ_·r£r.h
"

36 
	~"mem_ãtch.h
"

37 
	~"d¿m.h
"

38 
	~"gpu-ÿche.h
"

39 
	~"hi¡og¿m.h
"

40 
	~"l2ÿche.h
"

41 
	~"../¡©w¿µ”.h
"

42 
	~"../ab¡¿ù_h¬dw¬e_mod–.h
"

43 
	~"gpu-sim.h
"

44 
	~"shad”.h
"

45 
	~"mem_Ï‹ncy_¡©.h
"

46 
	~"l2ÿche_Œaû.h
"

49 
mem_ãtch
 * 
	g·¹™iÚ_mf_®loÿtÜ
::
	$®loc
(
Ãw_addr_ty³
 
addr
, 
mem_acûss_ty³
 
ty³
, 
size
, 
boŞ
 
wr
 ) const

51 
	`as£¹
Ğ
wr
 );

52 
mem_acûss_t
 
	`acûss
Ğ
ty³
, 
addr
, 
size
, 
wr
 );

53 
mem_ãtch
 *
mf
 = 
Ãw
 
	`mem_ãtch
Ğ
acûss
,

54 
NULL
,

55 
WRITE_PACKET_SIZE
,

59 
m_memÜy_cÚfig
 );

60  
mf
;

61 
	}
}

63 
	gmemÜy_·¹™iÚ_un™
::
	$memÜy_·¹™iÚ_un™
Ğ
·¹™iÚ_id
,

64 cÚ¡ 
memÜy_cÚfig
 *
cÚfig
,

65 
şass
 
memÜy_¡©s_t
 *
¡©s
 )

66 : 
	`m_id
(
·¹™iÚ_id
), 
	`m_cÚfig
(
cÚfig
), 
	`m_¡©s
(
¡©s
), 
	$m_¬b™¿tiÚ_m‘ad©a
(
cÚfig
)

68 
m_d¿m
 = 
Ãw
 
	`d¿m_t
(
m_id
,
m_cÚfig
,
m_¡©s
,
this
);

70 
m_sub_·¹™iÚ
 = 
Ãw
 
memÜy_sub_·¹™iÚ
*[
m_cÚfig
->
m_n_sub_·¹™iÚ_³r_memÜy_chªÃl
];

71 
p
 = 0;… < 
m_cÚfig
->
m_n_sub_·¹™iÚ_³r_memÜy_chªÃl
;…++) {

72 
sub_·¹™iÚ_id
 = 
m_id
 * 
m_cÚfig
->
m_n_sub_·¹™iÚ_³r_memÜy_chªÃl
 + 
p
;

73 
m_sub_·¹™iÚ
[
p
] = 
Ãw
 
	`memÜy_sub_·¹™iÚ
(
sub_·¹™iÚ_id
, 
m_cÚfig
, 
¡©s
);

75 
	}
}

77 
	gmemÜy_·¹™iÚ_un™
::~
	$memÜy_·¹™iÚ_un™
()

79 
d–‘e
 
m_d¿m
;

80 
p
 = 0;… < 
m_cÚfig
->
m_n_sub_·¹™iÚ_³r_memÜy_chªÃl
;…++) {

81 
d–‘e
 
m_sub_·¹™iÚ
[
p
];

83 
d–‘e
[] 
m_sub_·¹™iÚ
;

84 
	}
}

86 
	gmemÜy_·¹™iÚ_un™
::
¬b™¿tiÚ_m‘ad©a
::
	$¬b™¿tiÚ_m‘ad©a
(cÚ¡ 
memÜy_cÚfig
 *
cÚfig
)

87 : 
	`m_Ï¡_bÜrow”
(
cÚfig
->
m_n_sub_·¹™iÚ_³r_memÜy_chªÃl
 - 1),

88 
	`m_´iv©e_üed™
(
cÚfig
->
m_n_sub_·¹™iÚ_³r_memÜy_chªÃl
, 0),

89 
	$m_sh¬ed_üed™
(0)

93 
m_´iv©e_üed™_lim™
 = 1;

94 
m_sh¬ed_üed™_lim™
 = 
cÚfig
->
gpgpu_äfcfs_d¿m_sched_queue_size


95 + 
cÚfig
->
gpgpu_d¿m_»tuº_queue_size


96 - (
cÚfig
->
m_n_sub_·¹™iÚ_³r_memÜy_chªÃl
 - 1);

97 ià(
cÚfig
->
gpgpu_äfcfs_d¿m_sched_queue_size
 == 0

98 
Ü
 
cÚfig
->
gpgpu_d¿m_»tuº_queue_size
 == 0)

100 
m_sh¬ed_üed™_lim™
 = 0;

102 
	`as£¹
(
m_sh¬ed_üed™_lim™
 >= 0);

103 
	}
}

105 
boŞ
 
	gmemÜy_·¹™iÚ_un™
::
¬b™¿tiÚ_m‘ad©a
::
	$has_üed™s
(
šÃr_sub_·¹™iÚ_id
) const

107 
¥id
 = 
šÃr_sub_·¹™iÚ_id
;

108 ià(
m_´iv©e_üed™
[
¥id
] < 
m_´iv©e_üed™_lim™
) {

109  
Œue
;

110 } ià(
m_sh¬ed_üed™_lim™
 =ğ0 || 
m_sh¬ed_üed™
 < m_shared_credit_limit) {

111  
Œue
;

113  
çl£
;

115 
	}
}

117 
	gmemÜy_·¹™iÚ_un™
::
¬b™¿tiÚ_m‘ad©a
::
	$bÜrow_üed™
(
šÃr_sub_·¹™iÚ_id
)

119 
¥id
 = 
šÃr_sub_·¹™iÚ_id
;

120 ià(
m_´iv©e_üed™
[
¥id
] < 
m_´iv©e_üed™_lim™
) {

121 
m_´iv©e_üed™
[
¥id
] += 1;

122 } ià(
m_sh¬ed_üed™_lim™
 =ğ0 || 
m_sh¬ed_üed™
 < m_shared_credit_limit) {

123 
m_sh¬ed_üed™
 += 1;

125 
	`as£¹
(0 && "DRAM‡rbitrationƒrror: Borrowing from depleted credit!");

127 
m_Ï¡_bÜrow”
 = 
¥id
;

128 
	}
}

130 
	gmemÜy_·¹™iÚ_un™
::
¬b™¿tiÚ_m‘ad©a
::
	$»tuº_üed™
(
šÃr_sub_·¹™iÚ_id
)

132 
¥id
 = 
šÃr_sub_·¹™iÚ_id
;

133 ià(
m_´iv©e_üed™
[
¥id
] > 0) {

134 
m_´iv©e_üed™
[
¥id
] -= 1;

136 
m_sh¬ed_üed™
 -= 1;

138 
	`as£¹
((
m_sh¬ed_üed™
 >= 0) && "DRAM‡rbitrationƒrror: Returning morehan‡vailable credits!");

139 
	}
}

141 
	gmemÜy_·¹™iÚ_un™
::
¬b™¿tiÚ_m‘ad©a
::
	$´št
Ğ
FILE
 *
å
 ) const

143 
	`årštf
(
å
, "private_credit = ");

144 
p
 = 0;… < 
m_´iv©e_üed™
.
	`size
();…++) {

145 
	`årštf
(
å
, "%d ", 
m_´iv©e_üed™
[
p
]);

147 
	`årštf
(
å
, "Öim™ = %d)\n", 
m_´iv©e_üed™_lim™
);

148 
	`årštf
(
å
, "sh¬ed_üed™ = %d (lim™ = %d)\n", 
m_sh¬ed_üed™
, 
m_sh¬ed_üed™_lim™
);

149 
	}
}

151 
boŞ
 
	gmemÜy_·¹™iÚ_un™
::
	$busy
() const

153 
boŞ
 
busy
 = 
çl£
;

154 
p
 = 0;… < 
m_cÚfig
->
m_n_sub_·¹™iÚ_³r_memÜy_chªÃl
;…++) {

155 ià(
m_sub_·¹™iÚ
[
p
]->
	`busy
()) {

156 
busy
 = 
Œue
;

159  
busy
;

160 
	}
}

162 
	gmemÜy_·¹™iÚ_un™
::
	$ÿche_cyşe
(
cyşe
)

164 
p
 = 0;… < 
m_cÚfig
->
m_n_sub_·¹™iÚ_³r_memÜy_chªÃl
;…++) {

165 
m_sub_·¹™iÚ
[
p
]->
	`ÿche_cyşe
(
cyşe
);

167 
	}
}

169 
	gmemÜy_·¹™iÚ_un™
::
	$visu®iz”_´št
Ğ
gzFe
 
visu®iz”_fe
 ) const

171 
m_d¿m
->
	`visu®iz”_´št
(
visu®iz”_fe
);

172 
p
 = 0;… < 
m_cÚfig
->
m_n_sub_·¹™iÚ_³r_memÜy_chªÃl
;…++) {

173 
m_sub_·¹™iÚ
[
p
]->
	`visu®iz”_´št
(
visu®iz”_fe
);

175 
	}
}

178 
boŞ
 
	gmemÜy_·¹™iÚ_un™
::
	$ÿn_issue_to_d¿m
(
šÃr_sub_·¹™iÚ_id
)

180 
¥id
 = 
šÃr_sub_·¹™iÚ_id
;

181 
boŞ
 
sub_·¹™iÚ_cÚ‹ÁiÚ
 = 
m_sub_·¹™iÚ
[
¥id
]->
	`d¿m_L2_queue_fuÎ
();

182 
boŞ
 
has_d¿m_»sourû
 = 
m_¬b™¿tiÚ_m‘ad©a
.
	`has_üed™s
(
¥id
);

184 
	`MEMPART_DPRINTF
("sub…artition %d sub_partition_contention=%c has_dram_resource=%c\n",

185 
¥id
, (
sub_·¹™iÚ_cÚ‹ÁiÚ
)? 'T':'F', (
has_d¿m_»sourû
)? 'T':'F');

187  (
has_d¿m_»sourû
 && !
sub_·¹™iÚ_cÚ‹ÁiÚ
);

188 
	}
}

190 
	gmemÜy_·¹™iÚ_un™
::
	$glob®_sub_·¹™iÚ_id_to_loÿl_id
(
glob®_sub_·¹™iÚ_id
) const

192  (
glob®_sub_·¹™iÚ_id
 - 
m_id
 * 
m_cÚfig
->
m_n_sub_·¹™iÚ_³r_memÜy_chªÃl
);

193 
	}
}

195 
	gmemÜy_·¹™iÚ_un™
::
	$d¿m_cyşe
()

199 
mem_ãtch
* 
mf_»tuº
 = 
m_d¿m
->
	`»tuº_queue_tİ
();

200 ià(
mf_»tuº
) {

201 
de¡_glob®_¥id
 = 
mf_»tuº
->
	`g‘_sub_·¹™iÚ_id
();

202 
de¡_¥id
 = 
	`glob®_sub_·¹™iÚ_id_to_loÿl_id
(
de¡_glob®_¥id
);

203 
	`as£¹
(
m_sub_·¹™iÚ
[
de¡_¥id
]->
	`g‘_id
(è=ğ
de¡_glob®_¥id
);

204 ià(!
m_sub_·¹™iÚ
[
de¡_¥id
]->
	`d¿m_L2_queue_fuÎ
()) {

205 ifĞ
mf_»tuº
->
	`g‘_acûss_ty³
(è=ğ
L1_WRBK_ACC
 ) {

206 
m_sub_·¹™iÚ
[
de¡_¥id
]->
	`£t_dÚe
(
mf_»tuº
);

207 
d–‘e
 
mf_»tuº
;

209 
m_sub_·¹™iÚ
[
de¡_¥id
]->
	`d¿m_L2_queue_push
(
mf_»tuº
);

210 
mf_»tuº
->
	`£t_¡©us
(
IN_PARTITION_DRAM_TO_L2_QUEUE
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

211 
m_¬b™¿tiÚ_m‘ad©a
.
	`»tuº_üed™
(
de¡_¥id
);

212 
	`MEMPART_DPRINTF
("mem_ãtch„eque¡ %°»tuº from d¿mØsub…¬t™iÚ %d\n", 
mf_»tuº
, 
de¡_¥id
);

214 
m_d¿m
->
	`»tuº_queue_pİ
();

217 
m_d¿m
->
	`»tuº_queue_pİ
();

220 
m_d¿m
->
	`cyşe
();

221 
m_d¿m
->
	`d¿m_log
(
SAMPLELOG
);

223 ifĞ!
m_d¿m
->
	`fuÎ
() ) {

226 
Ï¡_issued_·¹™iÚ
 = 
m_¬b™¿tiÚ_m‘ad©a
.
	`Ï¡_bÜrow”
();

227 
p
 = 0;… < 
m_cÚfig
->
m_n_sub_·¹™iÚ_³r_memÜy_chªÃl
;…++) {

228 
¥id
 = (
p
 + 
Ï¡_issued_·¹™iÚ
 + 1è% 
m_cÚfig
->
m_n_sub_·¹™iÚ_³r_memÜy_chªÃl
;

229 ià(!
m_sub_·¹™iÚ
[
¥id
]->
	`L2_d¿m_queue_em±y
(è&& 
	`ÿn_issue_to_d¿m
(spid)) {

230 
mem_ãtch
 *
mf
 = 
m_sub_·¹™iÚ
[
¥id
]->
	`L2_d¿m_queue_tİ
();

231 
m_sub_·¹™iÚ
[
¥id
]->
	`L2_d¿m_queue_pİ
();

232 
	`MEMPART_DPRINTF
("Issumem_ãtch„eque¡ %°äom sub…¬t™iÚ %dØd¿m\n", 
mf
, 
¥id
);

233 
d¿m_d–ay_t
 
d
;

234 
d
.
»q
 = 
mf
;

235 
d
.
»ady_cyşe
 = 
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
 + 
m_cÚfig
->
d¿m_Ï‹ncy
;

236 
m_d¿m_Ï‹ncy_queue
.
	`push_back
(
d
);

237 
mf
->
	`£t_¡©us
(
IN_PARTITION_DRAM_LATENCY_QUEUE
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

238 
m_¬b™¿tiÚ_m‘ad©a
.
	`bÜrow_üed™
(
¥id
);

245 ifĞ!
m_d¿m_Ï‹ncy_queue
.
	`em±y
(è&& ( (
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
è>ğm_d¿m_Ï‹ncy_queue.
	`äÚt
().
»ady_cyşe
 ) && !
m_d¿m
->
	`fuÎ
() ) {

246 
mem_ãtch
* 
mf
 = 
m_d¿m_Ï‹ncy_queue
.
	`äÚt
().
»q
;

247 
m_d¿m_Ï‹ncy_queue
.
	`pİ_äÚt
();

248 
m_d¿m
->
	`push
(
mf
);

250 
	}
}

252 
	gmemÜy_·¹™iÚ_un™
::
	$£t_dÚe
Ğ
mem_ãtch
 *
mf
 )

254 
glob®_¥id
 = 
mf
->
	`g‘_sub_·¹™iÚ_id
();

255 
¥id
 = 
	`glob®_sub_·¹™iÚ_id_to_loÿl_id
(
glob®_¥id
);

256 
	`as£¹
(
m_sub_·¹™iÚ
[
¥id
]->
	`g‘_id
(è=ğ
glob®_¥id
);

257 ià(
mf
->
	`g‘_acûss_ty³
(è=ğ
L1_WRBK_ACC
 || mf->g‘_acûss_ty³(è=ğ
L2_WRBK_ACC
) {

258 
m_¬b™¿tiÚ_m‘ad©a
.
	`»tuº_üed™
(
¥id
);

259 
	`MEMPART_DPRINTF
("mem_ãtch„eque¡ %°»tuº from d¿mØsub…¬t™iÚ %d\n", 
mf
, 
¥id
);

261 
m_sub_·¹™iÚ
[
¥id
]->
	`£t_dÚe
(
mf
);

262 
	}
}

264 
	gmemÜy_·¹™iÚ_un™
::
	$£t_d¿m_pow”_¡©s
(&
n_cmd
,

265 &
n_aùiv™y
,

266 &
n_nİ
,

267 &
n_aù
,

268 &
n_´e
,

269 &
n_rd
,

270 &
n_wr
,

271 &
n_»q
) const

273 
m_d¿m
->
	`£t_d¿m_pow”_¡©s
(
n_cmd
, 
n_aùiv™y
, 
n_nİ
, 
n_aù
, 
n_´e
, 
n_rd
, 
n_wr
, 
n_»q
);

274 
	}
}

276 
	gmemÜy_·¹™iÚ_un™
::
	$´št
Ğ
FILE
 *
å
 ) const

278 
	`årštf
(
å
, "MemÜy P¬t™iÚ %u: \n", 
m_id
);

279 
p
 = 0;… < 
m_cÚfig
->
m_n_sub_·¹™iÚ_³r_memÜy_chªÃl
;…++) {

280 
m_sub_·¹™iÚ
[
p
]->
	`´št
(
å
);

282 
	`årštf
(
å
, "IÀD¿m L©’cy QueuÑÙ® = %zd): \n", 
m_d¿m_Ï‹ncy_queue
.
	`size
());

283 
¡d
::
li¡
<
d¿m_d–ay_t
>::
cÚ¡_™”©Ü
 
mf_dlq
 = 
m_d¿m_Ï‹ncy_queue
.
	`begš
();

284 
mf_dlq
 !ğ
m_d¿m_Ï‹ncy_queue
.
	`’d
(); ++mf_dlq) {

285 
mem_ãtch
 *
mf
 = 
mf_dlq
->
»q
;

286 
	`årštf
(
å
, "R—dy @ %Îu - ", 
mf_dlq
->
»ady_cyşe
);

287 ià(
mf
)

288 
mf
->
	`´št
(
å
);

290 
	`årštf
(
å
, " <NULL mem_fetch?>\n");

292 
m_d¿m
->
	`´št
(
å
);

293 
	}
}

295 
	gmemÜy_sub_·¹™iÚ
::
	$memÜy_sub_·¹™iÚ
Ğ
sub_·¹™iÚ_id
,

296 cÚ¡ 
memÜy_cÚfig
 *
cÚfig
,

297 
şass
 
memÜy_¡©s_t
 *
¡©s
 )

299 
m_id
 = 
sub_·¹™iÚ_id
;

300 
m_cÚfig
=
cÚfig
;

301 
m_¡©s
=
¡©s
;

303 
	`as£¹
(
m_id
 < 
m_cÚfig
->
m_n_mem_sub_·¹™iÚ
);

305 
L2c_Çme
[32];

306 
	`¢´štf
(
L2c_Çme
, 32, "L2_bªk_%03d", 
m_id
);

307 
m_L2š‹rçû
 = 
Ãw
 
	`L2š‹rçû
(
this
);

308 
m_mf_®loÿtÜ
 = 
Ãw
 
	`·¹™iÚ_mf_®loÿtÜ
(
cÚfig
);

310 if(!
m_cÚfig
->
m_L2_cÚfig
.
	`di§bËd
())

311 
m_L2ÿche
 = 
Ãw
 
	`l2_ÿche
(
L2c_Çme
,
m_cÚfig
->
m_L2_cÚfig
,-1,-1,
m_L2š‹rçû
,
m_mf_®loÿtÜ
,
IN_PARTITION_L2_MISS_QUEUE
);

313 
iút_L2
;

314 
L2_d¿m
;

315 
d¿m_L2
;

316 
L2_iút
;

317 
	`ssÿnf
(
m_cÚfig
->
gpgpu_L2_queue_cÚfig
,"%u:%u:%u:%u", &
iút_L2
,&
L2_d¿m
,&
d¿m_L2
,&
L2_iút
 );

318 
m_iút_L2_queue
 = 
Ãw
 
fifo_p–še
<
mem_ãtch
>("iút-to-L2",0,
iút_L2
);

319 
m_L2_d¿m_queue
 = 
Ãw
 
fifo_p–še
<
mem_ãtch
>("L2-to-d¿m",0,
L2_d¿m
);

320 
m_d¿m_L2_queue
 = 
Ãw
 
fifo_p–še
<
mem_ãtch
>("d¿m-to-L2",0,
d¿m_L2
);

321 
m_L2_iút_queue
 = 
Ãw
 
fifo_p–še
<
mem_ãtch
>("L2-to-iút",0,
L2_iút
);

322 
wb_addr
=-1;

323 
	}
}

325 
	gmemÜy_sub_·¹™iÚ
::~
	$memÜy_sub_·¹™iÚ
()

327 
d–‘e
 
m_iút_L2_queue
;

328 
d–‘e
 
m_L2_d¿m_queue
;

329 
d–‘e
 
m_d¿m_L2_queue
;

330 
d–‘e
 
m_L2_iút_queue
;

331 
d–‘e
 
m_L2ÿche
;

332 
d–‘e
 
m_L2š‹rçû
;

333 
	}
}

335 
	gmemÜy_sub_·¹™iÚ
::
	$ÿche_cyşe
Ğ
cyşe
 )

338 ifĞ!
m_cÚfig
->
m_L2_cÚfig
.
	`di§bËd
()) {

339 iàĞ
m_L2ÿche
->
	`acûss_»ady
(è&& !
m_L2_iút_queue
->
	`fuÎ
() ) {

340 
mem_ãtch
 *
mf
 = 
m_L2ÿche
->
	`Ãxt_acûss
();

341 if(
mf
->
	`g‘_acûss_ty³
(è!ğ
L2_WR_ALLOC_R
){

342 
mf
->
	`£t_»¶y
();

343 
mf
->
	`£t_¡©us
(
IN_PARTITION_L2_TO_ICNT_QUEUE
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

344 
m_L2_iút_queue
->
	`push
(
mf
);

346 
m_»que¡_Œack”
.
	`”a£
(
mf
);

347 
d–‘e
 
mf
;

353 iàĞ!
m_d¿m_L2_queue
->
	`em±y
() ) {

354 
mem_ãtch
 *
mf
 = 
m_d¿m_L2_queue
->
	`tİ
();

355 iàĞ!
m_cÚfig
->
m_L2_cÚfig
.
	`di§bËd
(è&& 
m_L2ÿche
->
	`wa™šg_fÜ_fl
(
mf
) ) {

356 ià(
m_L2ÿche
->
	`fl_pÜt_ä“
()) {

357 
mf
->
	`£t_¡©us
(
IN_PARTITION_L2_FILL_QUEUE
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

358 
m_L2ÿche
->
	`fl
(
mf
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

359 
m_d¿m_L2_queue
->
	`pİ
();

361 } iàĞ!
m_L2_iút_queue
->
	`fuÎ
() ) {

362 
mf
->
	`£t_¡©us
(
IN_PARTITION_L2_TO_ICNT_QUEUE
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

363 
m_L2_iút_queue
->
	`push
(
mf
);

364 
m_d¿m_L2_queue
->
	`pİ
();

369 ifĞ!
m_cÚfig
->
m_L2_cÚfig
.
	`di§bËd
() )

370 
m_L2ÿche
->
	`cyşe
();

373 iàĞ!
m_L2_d¿m_queue
->
	`fuÎ
(è&& !
m_iút_L2_queue
->
	`em±y
() ) {

374 
mem_ãtch
 *
mf
 = 
m_iút_L2_queue
->
	`tİ
();

375 iàĞ!
m_cÚfig
->
m_L2_cÚfig
.
	`di§bËd
() &&

376 Ğ(
m_cÚfig
->
m_L2_‹xu»_Úly
 && 
mf
->
	`i¡extu»
()) || (!m_config->m_L2_texure_only) )

379 
boŞ
 
ouut_fuÎ
 = 
m_L2_iút_queue
->
	`fuÎ
();

380 
boŞ
 
pÜt_ä“
 = 
m_L2ÿche
->
	`d©a_pÜt_ä“
();

381 iàĞ!
ouut_fuÎ
 && 
pÜt_ä“
 ) {

382 
¡d
::
li¡
<
ÿche_ev’t
> 
ev’ts
;

383 
ÿche_»que¡_¡©us
 
¡©us
 = 
m_L2ÿche
->
	`acûss
(
mf
->
	`g‘_addr
(),mf,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
,
ev’ts
);

384 
boŞ
 
wr™e_£Á
 = 
	`was_wr™e_£Á
(
ev’ts
);

385 
boŞ
 
»ad_£Á
 = 
	`was_»ad_£Á
(
ev’ts
);

387 iàĞ
¡©us
 =ğ
HIT
 ) {

388 ifĞ!
wr™e_£Á
 ) {

390 
	`as£¹
(!
»ad_£Á
);

391 ifĞ
mf
->
	`g‘_acûss_ty³
(è=ğ
L1_WRBK_ACC
 ) {

392 
m_»que¡_Œack”
.
	`”a£
(
mf
);

393 
d–‘e
 
mf
;

395 
mf
->
	`£t_»¶y
();

396 
mf
->
	`£t_¡©us
(
IN_PARTITION_L2_TO_ICNT_QUEUE
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

397 
m_L2_iút_queue
->
	`push
(
mf
);

399 
m_iút_L2_queue
->
	`pİ
();

401 
	`as£¹
(
wr™e_£Á
);

402 
m_iút_L2_queue
->
	`pİ
();

404 } iàĞ
¡©us
 !ğ
RESERVATION_FAIL
 ) {

406 
m_iút_L2_queue
->
	`pİ
();

408 
	`as£¹
(!
wr™e_£Á
);

409 
	`as£¹
(!
»ad_£Á
);

415 
mf
->
	`£t_¡©us
(
IN_PARTITION_L2_TO_DRAM_QUEUE
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

416 
m_L2_d¿m_queue
->
	`push
(
mf
);

417 
m_iút_L2_queue
->
	`pİ
();

422 ifĞ!
m_rİ
.
	`em±y
(è&& (
cyşe
 >ğm_rİ.
	`äÚt
().
»ady_cyşe
è&& !
m_iút_L2_queue
->
	`fuÎ
() ) {

423 
mem_ãtch
* 
mf
 = 
m_rİ
.
	`äÚt
().
»q
;

424 
m_rİ
.
	`pİ
();

425 
m_iút_L2_queue
->
	`push
(
mf
);

426 
mf
->
	`£t_¡©us
(
IN_PARTITION_ICNT_TO_L2_QUEUE
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

428 
	}
}

430 
boŞ
 
	gmemÜy_sub_·¹™iÚ
::
	$fuÎ
() const

432  
m_iút_L2_queue
->
	`fuÎ
();

433 
	}
}

435 
boŞ
 
	gmemÜy_sub_·¹™iÚ
::
	$L2_d¿m_queue_em±y
() const

437  
m_L2_d¿m_queue
->
	`em±y
();

438 
	}
}

440 
şass
 
mem_ãtch
* 
	gmemÜy_sub_·¹™iÚ
::
	$L2_d¿m_queue_tİ
() const

442  
m_L2_d¿m_queue
->
	`tİ
();

443 
	}
}

445 
	gmemÜy_sub_·¹™iÚ
::
	$L2_d¿m_queue_pİ
()

447 
m_L2_d¿m_queue
->
	`pİ
();

448 
	}
}

450 
boŞ
 
	gmemÜy_sub_·¹™iÚ
::
	$d¿m_L2_queue_fuÎ
() const

452  
m_d¿m_L2_queue
->
	`fuÎ
();

453 
	}
}

455 
	gmemÜy_sub_·¹™iÚ
::
	$d¿m_L2_queue_push
Ğ
şass
 
mem_ãtch
* 
mf
 )

457 
m_d¿m_L2_queue
->
	`push
(
mf
);

458 
	}
}

460 
	gmemÜy_sub_·¹™iÚ
::
	$´št_ÿche_¡©
(&
acûs£s
, &
mis£s
) const

462 
FILE
 *
å
 = 
¡dout
;

463 ifĞ!
m_cÚfig
->
m_L2_cÚfig
.
	`di§bËd
() )

464 
m_L2ÿche
->
	`´št
(
å
,
acûs£s
,
mis£s
);

465 
	}
}

467 
	gmemÜy_sub_·¹™iÚ
::
	$´št
Ğ
FILE
 *
å
 ) const

469 iàĞ!
m_»que¡_Œack”
.
	`em±y
() ) {

470 
	`årštf
(
å
,"MemÜy Sub P¬™iÚ %u:…’dšg memÜy„eque¡s:\n", 
m_id
);

471  
¡d
::
£t
<
mem_ãtch
*>::
cÚ¡_™”©Ü
 
r
=
m_»que¡_Œack”
.
	`begš
();„ !ğm_»que¡_Œack”.
	`’d
(); ++r ) {

472 
mem_ãtch
 *
mf
 = *
r
;

473 iàĞ
mf
 )

474 
mf
->
	`´št
(
å
);

476 
	`årštf
(
å
," <NULL mem_fetch?>\n");

479 ifĞ!
m_cÚfig
->
m_L2_cÚfig
.
	`di§bËd
() )

480 
m_L2ÿche
->
	`di¥Ïy_¡©e
(
å
);

481 
	}
}

483 
	gmemÜy_¡©s_t
::
	$visu®iz”_´št
Ğ
gzFe
 
visu®iz”_fe
 )

489 ià(
num_mfs
)

490 
	`gz´štf
(
visu®iz”_fe
, "av”agemæ©’cy: %Îd\n", 
mf_tÙ®_Ït
/
num_mfs
);

491 
	}
}

493 
	ggpgpu_sim
::
	$´št_d¿m_¡©s
(
FILE
 *
fout
) const

495 
cmd
=0;

496 
aùiv™y
=0;

497 
nİ
=0;

498 
aù
=0;

499 
´e
=0;

500 
rd
=0;

501 
wr
=0;

502 
»q
=0;

503 
tÙ_cmd
=0;

504 
tÙ_nİ
=0;

505 
tÙ_aù
=0;

506 
tÙ_´e
=0;

507 
tÙ_rd
=0;

508 
tÙ_wr
=0;

509 
tÙ_»q
=0;

511 
i
=0;i<
m_memÜy_cÚfig
->
m_n_mem
;i++){

512 
m_memÜy_·¹™iÚ_un™
[
i
]->
	`£t_d¿m_pow”_¡©s
(
cmd
,
aùiv™y
,
nİ
,
aù
,
´e
,
rd
,
wr
,
»q
);

513 
tÙ_cmd
+=
cmd
;

514 
tÙ_nİ
+=
nİ
;

515 
tÙ_aù
+=
aù
;

516 
tÙ_´e
+=
´e
;

517 
tÙ_rd
+=
rd
;

518 
tÙ_wr
+=
wr
;

519 
tÙ_»q
+=
»q
;

521 
	`årštf
(
fout
,"gpgpu_n_d¿m_»ad ğ%d\n",
tÙ_rd
 );

522 
	`årštf
(
fout
,"gpgpu_n_d¿m_wr™e ğ%d\n",
tÙ_wr
 );

523 
	`årštf
(
fout
,"gpgpu_n_d¿m_aùiv©ğ%d\n",
tÙ_aù
 );

524 
	`årštf
(
fout
,"gpgpu_n_d¿m_commªd ğ%d\n",
tÙ_cmd
);

525 
	`årštf
(
fout
,"gpgpu_n_d¿m_noİ ğ%d\n",
tÙ_nİ
 );

526 
	`årštf
(
fout
,"gpgpu_n_d¿m_´ech¬ge ğ%d\n",
tÙ_´e
 );

527 
	`årštf
(
fout
,"gpgpu_n_d¿m_»que¡ ğ%d\n",
tÙ_»q
 );

528 
	}
}

530 
	gmemÜy_sub_·¹™iÚ
::
	$æushL2
()

532 ià(!
m_cÚfig
->
m_L2_cÚfig
.
	`di§bËd
()) {

533 
m_L2ÿche
->
	`æush
();

536 
	}
}

538 
boŞ
 
	gmemÜy_sub_·¹™iÚ
::
	$busy
() const

540  !
m_»que¡_Œack”
.
	`em±y
();

541 
	}
}

543 
	gmemÜy_sub_·¹™iÚ
::
	$push
Ğ
mem_ãtch
* 
»q
, 
cyşe
 )

545 ià(
»q
) {

546 
m_»que¡_Œack”
.
	`š£¹
(
»q
);

547 
m_¡©s
->
	`memÏt¡©_iút2mem_pİ
(
»q
);

548 ifĞ
»q
->
	`i¡extu»
() ) {

549 
m_iút_L2_queue
->
	`push
(
»q
);

550 
»q
->
	`£t_¡©us
(
IN_PARTITION_ICNT_TO_L2_QUEUE
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

552 
rİ_d–ay_t
 
r
;

553 
r
.
»q
 =„eq;

554 
r
.
»ady_cyşe
 = 
cyşe
 + 
m_cÚfig
->
rİ_Ï‹ncy
;

555 
m_rİ
.
	`push
(
r
);

556 
»q
->
	`£t_¡©us
(
IN_PARTITION_ROP_DELAY
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

559 
	}
}

561 
mem_ãtch
* 
	gmemÜy_sub_·¹™iÚ
::
	$pİ
()

563 
mem_ãtch
* 
mf
 = 
m_L2_iút_queue
->
	`pİ
();

564 
m_»que¡_Œack”
.
	`”a£
(
mf
);

565 iàĞ
mf
 && mf->
	`i§tomic
() )

566 
mf
->
	`do_©omic
();

567 ifĞ
mf
 && (mf->
	`g‘_acûss_ty³
(è=ğ
L2_WRBK_ACC
 || mf->g‘_acûss_ty³(è=ğ
L1_WRBK_ACC
) ) {

568 
d–‘e
 
mf
;

569 
mf
 = 
NULL
;

571  
mf
;

572 
	}
}

574 
mem_ãtch
* 
	gmemÜy_sub_·¹™iÚ
::
	$tİ
()

576 
mem_ãtch
 *
mf
 = 
m_L2_iút_queue
->
	`tİ
();

577 ifĞ
mf
 && (mf->
	`g‘_acûss_ty³
(è=ğ
L2_WRBK_ACC
 || mf->g‘_acûss_ty³(è=ğ
L1_WRBK_ACC
) ) {

578 
m_L2_iút_queue
->
	`pİ
();

579 
m_»que¡_Œack”
.
	`”a£
(
mf
);

580 
d–‘e
 
mf
;

581 
mf
 = 
NULL
;

583  
mf
;

584 
	}
}

586 
	gmemÜy_sub_·¹™iÚ
::
	$£t_dÚe
Ğ
mem_ãtch
 *
mf
 )

588 
m_»que¡_Œack”
.
	`”a£
(
mf
);

589 
	}
}

591 
	gmemÜy_sub_·¹™iÚ
::
	$accumuÏ‹_L2ÿche_¡©s
(
şass
 
ÿche_¡©s
 &
l2_¡©s
) const {

592 ià(!
m_cÚfig
->
m_L2_cÚfig
.
	`di§bËd
()) {

593 
l2_¡©s
 +ğ
m_L2ÿche
->
	`g‘_¡©s
();

595 
	}
}

597 
	gmemÜy_sub_·¹™iÚ
::
	$g‘_L2ÿche_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const{

598 ià(!
m_cÚfig
->
m_L2_cÚfig
.
	`di§bËd
()) {

599 
m_L2ÿche
->
	`g‘_sub_¡©s
(
css
);

601 
	}
}

603 
	gmemÜy_sub_·¹™iÚ
::
	$visu®iz”_´št
Ğ
gzFe
 
visu®iz”_fe
 )

606 
	}
}

	@l2cache.h

28 #iâdeà
MC_PARTITION_INCLUDED


29 
	#MC_PARTITION_INCLUDED


	)

31 
	~"d¿m.h
"

32 
	~"../ab¡¿ù_h¬dw¬e_mod–.h
"

34 
	~<li¡
>

35 
	~<queue
>

37 
şass
 
	gmem_ãtch
;

39 şas 
	c·¹™iÚ_mf_®loÿtÜ
 : 
public
 
mem_ãtch_®loÿtÜ
 {

40 
public
:

41 
	$·¹™iÚ_mf_®loÿtÜ
ĞcÚ¡ 
memÜy_cÚfig
 *
cÚfig
 )

43 
m_memÜy_cÚfig
 = 
cÚfig
;

45 
vœtu®
 
mem_ãtch
 * 
	$®loc
(cÚ¡ 
şass
 
w¬p_š¡_t
 &
š¡
, cÚ¡ 
mem_acûss_t
 &
acûss
) const

47 
	`abÜt
();

48  
NULL
;

49 
	}
}

50 
vœtu®
 
mem_ãtch
 * 
	$®loc
(
Ãw_addr_ty³
 
addr
, 
mem_acûss_ty³
 
ty³
, 
size
, 
boŞ
 
wr
) const;

51 
´iv©e
:

52 cÚ¡ 
memÜy_cÚfig
 *
m_memÜy_cÚfig
;

53 
	}
};

58 şas 
	cmemÜy_·¹™iÚ_un™


60 
	mpublic
:

61 
memÜy_·¹™iÚ_un™
Ğ
·¹™iÚ_id
, cÚ¡ 
memÜy_cÚfig
 *
cÚfig
, 
şass
 
memÜy_¡©s_t
 *
¡©s
 );

62 ~
memÜy_·¹™iÚ_un™
();

64 
boŞ
 
	$busy
() const;

66 
	`ÿche_cyşe
Ğ
cyşe
 );

67 
	`d¿m_cyşe
();

69 
	`£t_dÚe
Ğ
mem_ãtch
 *
mf
 );

71 
	$visu®iz”_´št
Ğ
gzFe
 
visu®iz”_fe
 ) const;

72 
	$´št_¡©
Ğ
FILE
 *
å
 ) { 
m_d¿m
->
	`´št_¡©
(fp); }

73 
	$visu®ize
(ècÚ¡ { 
m_d¿m
->
	`visu®ize
(); 
	}
}

74 
	$´št
Ğ
FILE
 *
å
 ) const;

76 
şass
 
memÜy_sub_·¹™iÚ
 * 
	$g‘_sub_·¹™iÚ
(
sub_·¹™iÚ_id
)

78  
m_sub_·¹™iÚ
[
sub_·¹™iÚ_id
];

79 
	}
}

82 
	$£t_d¿m_pow”_¡©s
(&
n_cmd
,

83 &
n_aùiv™y
,

84 &
n_nİ
,

85 &
n_aù
,

86 &
n_´e
,

87 &
n_rd
,

88 &
n_wr
,

89 &
n_»q
) const;

91 
	$glob®_sub_·¹™iÚ_id_to_loÿl_id
(
glob®_sub_·¹™iÚ_id
) const;

93 
	$g‘_mpid
(ècÚ¡ {  
m_id
; 
	}
}

95 
	g´iv©e
:

97 
m_id
;

98 cÚ¡ 
memÜy_cÚfig
 *
	gm_cÚfig
;

99 
şass
 
memÜy_¡©s_t
 *
	gm_¡©s
;

100 
şass
 
memÜy_sub_·¹™iÚ
 **
	gm_sub_·¹™iÚ
;

101 
şass
 
d¿m_t
 *
	gm_d¿m
;

103 şas 
	c¬b™¿tiÚ_m‘ad©a


105 
	gpublic
:

106 
¬b™¿tiÚ_m‘ad©a
(cÚ¡ 
memÜy_cÚfig
 *
cÚfig
);

109 
boŞ
 
has_üed™s
(
šÃr_sub_·¹™iÚ_id
) const;

111 
bÜrow_üed™
(
šÃr_sub_·¹™iÚ_id
);

113 
»tuº_üed™
(
šÃr_sub_·¹™iÚ_id
);

116 
Ï¡_bÜrow”
(ècÚ¡ {  
	gm_Ï¡_bÜrow”
; }

118 
´št
Ğ
FILE
 *
å
 ) const;

119 
	g´iv©e
:

121 
m_Ï¡_bÜrow”
;

123 
	gm_sh¬ed_üed™_lim™
;

124 
	gm_´iv©e_üed™_lim™
;

127 
	g¡d
::
veùÜ
<> 
m_´iv©e_üed™
;

128 
	gm_sh¬ed_üed™
;

130 
¬b™¿tiÚ_m‘ad©a
 
	gm_¬b™¿tiÚ_m‘ad©a
;

133 
boŞ
 
ÿn_issue_to_d¿m
(
šÃr_sub_·¹™iÚ_id
);

136 
	sd¿m_d–ay_t


138 
	g»ady_cyşe
;

139 
şass
 
mem_ãtch
* 
	g»q
;

141 
	g¡d
::
li¡
<
d¿m_d–ay_t
> 
m_d¿m_Ï‹ncy_queue
;

144 şas 
	cmemÜy_sub_·¹™iÚ


146 
	mpublic
:

147 
memÜy_sub_·¹™iÚ
Ğ
sub_·¹™iÚ_id
, cÚ¡ 
memÜy_cÚfig
 *
cÚfig
, 
şass
 
memÜy_¡©s_t
 *
¡©s
 );

148 ~
memÜy_sub_·¹™iÚ
();

150 
	$g‘_id
(ècÚ¡ {  
m_id
; }

152 
boŞ
 
	$busy
() const;

154 
	`ÿche_cyşe
Ğ
cyşe
 );

156 
boŞ
 
	$fuÎ
() const;

157 
	`push
Ğ
şass
 
mem_ãtch
* 
mf
, 
şock_cyşe
 );

158 
şass
 
mem_ãtch
* 
	`pİ
();

159 
şass
 
mem_ãtch
* 
	`tİ
();

160 
	`£t_dÚe
Ğ
mem_ãtch
 *
mf
 );

162 
	`æushL2
();

165 
boŞ
 
	$L2_d¿m_queue_em±y
() const;

166 
şass
 
mem_ãtch
* 
	$L2_d¿m_queue_tİ
() const;

167 
	`L2_d¿m_queue_pİ
();

170 
boŞ
 
	$d¿m_L2_queue_fuÎ
() const;

171 
	`d¿m_L2_queue_push
Ğ
şass
 
mem_ãtch
* 
mf
 );

173 
	`visu®iz”_´št
Ğ
gzFe
 
visu®iz”_fe
 );

174 
	$´št_ÿche_¡©
(&
acûs£s
, &
mis£s
) const;

175 
	$´št
Ğ
FILE
 *
å
 ) const;

177 
	$accumuÏ‹_L2ÿche_¡©s
(
şass
 
ÿche_¡©s
 &
l2_¡©s
) const;

178 
	$g‘_L2ÿche_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const;

180 
´iv©e
:

182 
m_id
;

183 cÚ¡ 
memÜy_cÚfig
 *
m_cÚfig
;

184 
şass
 
l2_ÿche
 *
m_L2ÿche
;

185 
şass
 
L2š‹rçû
 *
m_L2š‹rçû
;

186 
·¹™iÚ_mf_®loÿtÜ
 *
m_mf_®loÿtÜ
;

189 
	srİ_d–ay_t


191 
»ady_cyşe
;

192 
şass
 
mem_ãtch
* 
»q
;

193 
	}
};

194 
	g¡d
::
queue
<
rİ_d–ay_t
> 
m_rİ
;

197 
	gfifo_p–še
<
	gmem_ãtch
> *
	gm_iút_L2_queue
;

198 
	gfifo_p–še
<
	gmem_ãtch
> *
	gm_L2_d¿m_queue
;

199 
	gfifo_p–še
<
	gmem_ãtch
> *
	gm_d¿m_L2_queue
;

200 
	gfifo_p–še
<
	gmem_ãtch
> *
	gm_L2_iút_queue
;

202 
şass
 
mem_ãtch
 *
	gL2d¿mout
;

203 
	gwb_addr
;

205 
şass
 
memÜy_¡©s_t
 *
	gm_¡©s
;

207 
	g¡d
::
£t
<
mem_ãtch
*> 
m_»que¡_Œack”
;

209 
ä›nd
 
şass
 
	gL2š‹rçû
;

212 şas 
	cL2š‹rçû
 : 
public
 
mem_ãtch_š‹rçû
 {

213 
public
:

214 
	$L2š‹rçû
Ğ
memÜy_sub_·¹™iÚ
 *
un™
 ) { 
m_un™
=unit; }

215 
vœtu®
 ~
	$L2š‹rçû
(è{
	}
}

216 
vœtu®
 
boŞ
 
	$fuÎ
Ğ
size
, 
boŞ
 
wr™e
) const

219  
m_un™
->
m_L2_d¿m_queue
->
	`fuÎ
();

220 
	}
}

221 
vœtu®
 
	$push
(
mem_ãtch
 *
mf
)

223 
mf
->
	`£t_¡©us
(
IN_PARTITION_L2_TO_DRAM_QUEUE
,0 );

224 
m_un™
->
m_L2_d¿m_queue
->
	`push
(
mf
);

225 
	}
}

226 
	g´iv©e
:

227 
memÜy_sub_·¹™iÚ
 *
m_un™
;

	@l2cache_trace.h

28 #´agm¨
Úû


30 
	~"../Œaû.h
"

32 #ià
TRACING_ON


34 
	#MEMPART_PRINT_STR
 
SIM_PRINT_STR
 " %d - "

	)

35 
	#MEMPART_DTRACE
(
x
èĞ
	`DTRACE
(xè&& (
T¿û
::
§m¶šg_memÜy_·¹™iÚ
 =ğ-1 || T¿û::§m¶šg_memÜy_·¹™iÚ =ğ()
	`g‘_mpid
()è)

	)

39 
	#MEMPART_DPRINTF
(...) do {\

40 ià(
	`MEMPART_DTRACE
(
MEMORY_PARTITION_UNIT
)) {\

41 
	`´štf
Ğ
MEMPART_PRINT_STR
,\

42 
gpu_sim_cyşe
 + 
gpu_tÙ_sim_cyşe
,\

43 
T¿û
::
Œaû_¡»ams_¡r
[T¿û::
MEMORY_PARTITION_UNIT
],\

44 
	`g‘_mpid
() );\

45 
	`´štf
(
__VA_ARGS__
);\

47 } 0)

	)

51 
	#MEMPART_DTRACE
(
x
è(
çl£
)

	)

52 
	#MEMPART_DPRINTF
(
x
, ...èdØ{} 0)

	)

	@mem_fetch.cc

28 
	~"mem_ãtch.h
"

29 
	~"mem_Ï‹ncy_¡©.h
"

30 
	~"shad”.h
"

31 
	~"visu®iz”.h
"

32 
	~"gpu-sim.h
"

34 
	gmem_ãtch
::
sm_Ãxt_mf_»que¡_uid
=1;

36 
	gmem_ãtch
::
	$mem_ãtch
ĞcÚ¡ 
mem_acûss_t
 &
acûss
,

37 cÚ¡ 
w¬p_š¡_t
 *
š¡
,

38 
ù¾_size
,

39 
wid
,

40 
sid
,

41 
c
,

42 cÚ¡ 
şass
 
memÜy_cÚfig
 *
cÚfig
 )

44 
m_»que¡_uid
 = 
sm_Ãxt_mf_»que¡_uid
++;

45 
m_acûss
 = 
acûss
;

46 ifĞ
š¡
 ) {

47 
m_š¡
 = *
š¡
;

48 
	`as£¹
Ğ
wid
 =ğ
m_š¡
.
	`w¬p_id
() );

50 
m_d©a_size
 = 
acûss
.
	`g‘_size
();

51 
m_ù¾_size
 = 
ù¾_size
;

52 
m_sid
 = 
sid
;

53 
m_c
 = 
c
;

54 
m_wid
 = 
wid
;

55 
cÚfig
->
m_add»ss_m­pšg
.
	`addrdec_x
(
acûss
.
	`g‘_addr
(),&
m_¿w_addr
);

56 
m_·¹™iÚ_addr
 = 
cÚfig
->
m_add»ss_m­pšg
.
	`·¹™iÚ_add»ss
(
acûss
.
	`g‘_addr
());

57 
m_ty³
 = 
m_acûss
.
	`is_wr™e
()?
WRITE_REQUEST
:
READ_REQUEST
;

58 
m_time¡amp
 = 
gpu_sim_cyşe
 + 
gpu_tÙ_sim_cyşe
;

59 
m_time¡amp2
 = 0;

60 
m_¡©us
 = 
MEM_FETCH_INITIALIZED
;

61 
m_¡©us_chªge
 = 
gpu_sim_cyşe
 + 
gpu_tÙ_sim_cyşe
;

62 
m_mem_cÚfig
 = 
cÚfig
;

63 
iút_æ™_size
 = 
cÚfig
->icnt_flit_size;

64 
	}
}

66 
	gmem_ãtch
::~
	$mem_ãtch
()

68 
m_¡©us
 = 
MEM_FETCH_DELETED
;

69 
	}
}

71 
	#MF_TUP_BEGIN
(
X
ècÚ¡ * 
Stus_¡r
[] = {

	)

72 
	#MF_TUP
(
X
è#X

	)

73 
	#MF_TUP_END
(
X
è};

	)

74 
	~"mem_ãtch_¡©us.tup
"

75 #undeà
MF_TUP_BEGIN


76 #undeà
MF_TUP


77 #undeà
MF_TUP_END


79 
	gmem_ãtch
::
	$´št
Ğ
FILE
 *
å
, 
boŞ
 
´št_š¡
 ) const

81 ifĞ
this
 =ğ
NULL
 ) {

82 
	`årštf
(
å
," <NULL mem_fetch…ointer>\n");

85 
	`årštf
(
å
," mf: uid=%6u, sid%02u:w%02u,…¬t=%u, ", 
m_»que¡_uid
, 
m_sid
, 
m_wid
, 
m_¿w_addr
.
ch
 );

86 
m_acûss
.
	`´št
(
å
);

87 ifĞ()
m_¡©us
 < 
NUM_MEM_REQ_STAT
 )

88 
	`årštf
(
å
," stu ğ% (%Îu), ", 
Stus_¡r
[
m_¡©us
], 
m_¡©us_chªge
 );

90 
	`årštf
(
å
," stu ğ%u??? (%Îu), ", 
m_¡©us
, 
m_¡©us_chªge
 );

91 ifĞ!
m_š¡
.
	`em±y
(è&& 
´št_š¡
 ) m_š¡.
	`´št
(
å
);

92 
	`årštf
(
å
,"\n");

93 
	}
}

95 
	gmem_ãtch
::
	$£t_¡©us
Ğ
mem_ãtch_¡©us
 
¡©us
, 
cyşe
 )

97 
m_¡©us
 = 
¡©us
;

98 
m_¡©us_chªge
 = 
cyşe
;

99 
	}
}

101 
boŞ
 
	gmem_ãtch
::
	$i§tomic
() const

103 ifĞ
m_š¡
.
	`em±y
(èè 
çl£
;

104  
m_š¡
.
	`i§tomic
();

105 
	}
}

107 
	gmem_ãtch
::
	$do_©omic
()

109 
m_š¡
.
	`do_©omic
Ğ
m_acûss
.
	`g‘_w¬p_mask
() );

110 
	}
}

112 
boŞ
 
	gmem_ãtch
::
	$i¡extu»
() const

114 ifĞ
m_š¡
.
	`em±y
(èè 
çl£
;

115  
m_š¡
.
¥aû
.
	`g‘_ty³
(è=ğ
‹x_¥aû
;

116 
	}
}

118 
boŞ
 
	gmem_ãtch
::
	$iscÚ¡
() const

120 ifĞ
m_š¡
.
	`em±y
(èè 
çl£
;

121  (
m_š¡
.
¥aû
.
	`g‘_ty³
(è=ğ
cÚ¡_¥aû
è|| (m_š¡.¥aû.g‘_ty³(è=ğ
·¿m_¥aû_k”Ãl
);

122 
	}
}

125 
	gmem_ãtch
::
	$g‘_num_æ™s
(
boŞ
 
simt_to_mem
){

126 
sz
=0;

128 ifĞ
	`i§tomic
(è|| (
simt_to_mem
 && 
	`g‘_is_wr™e
()) || !(simt_to_mem || get_is_write()) )

129 
sz
 = 
	`size
();

131 
sz
 = 
	`g‘_ù¾_size
();

133  (
sz
/
iút_æ™_size
) + ( (sz % icnt_flit_size)? 1:0);

134 
	}
}

	@mem_fetch.h

28 #iâdeà
MEM_FETCH_H


29 
	#MEM_FETCH_H


	)

31 
	~"addrdec.h
"

32 
	~"../ab¡¿ù_h¬dw¬e_mod–.h
"

33 
	~<b™£t
>

35 
	emf_ty³
 {

36 
	mREAD_REQUEST
 = 0,

37 
	mWRITE_REQUEST
,

38 
	mREAD_REPLY
,

39 
	mWRITE_ACK


42 
	#MF_TUP_BEGIN
(
X
è
	eX
 {

	)

43 
	#MF_TUP
(
X
è
	)
X

44 
	#MF_TUP_END
(
X
è};

	)

45 
	~"mem_ãtch_¡©us.tup
"

46 #undeà
MF_TUP_BEGIN


47 #undeà
MF_TUP


48 #undeà
MF_TUP_END


50 şas 
	cmem_ãtch
 {

51 
	mpublic
:

52 
mem_ãtch
ĞcÚ¡ 
mem_acûss_t
 &
acûss
,

53 cÚ¡ 
w¬p_š¡_t
 *
š¡
,

54 
ù¾_size
,

55 
wid
,

56 
sid
,

57 
c
,

58 cÚ¡ 
şass
 
memÜy_cÚfig
 *
cÚfig
 );

59 ~
mem_ãtch
();

61 
£t_¡©us
Ğ
mem_ãtch_¡©us
 
¡©us
, 
cyşe
 );

62 
	$£t_»¶y
()

64 
	`as£¹
Ğ
m_acûss
.
	`g‘_ty³
(è!ğ
L1_WRBK_ACC
 && m_acûss.g‘_ty³(è!ğ
L2_WRBK_ACC
 );

65 ifĞ
m_ty³
==
READ_REQUEST
 ) {

66 
	`as£¹
Ğ!
	`g‘_is_wr™e
() );

67 
m_ty³
 = 
READ_REPLY
;

68 } ifĞ
m_ty³
 =ğ
WRITE_REQUEST
 ) {

69 
	`as£¹
Ğ
	`g‘_is_wr™e
() );

70 
m_ty³
 = 
WRITE_ACK
;

73 
	`do_©omic
();

75 
	$´št
Ğ
FILE
 *
å
, 
boŞ
 
´št_š¡
 = 
Œue
 ) const;

77 cÚ¡ 
addrdec_t
 &
	$g‘_x_addr
(ècÚ¡ {  
m_¿w_addr
; 
	}
}

78 
	$g‘_d©a_size
(ècÚ¡ {  
m_d©a_size
; 
	}
}

79 
	$£t_d©a_size
Ğ
size
 ) { 
m_d©a_size
=size; 
	}
}

80 
	$g‘_ù¾_size
(ècÚ¡ {  
m_ù¾_size
; 
	}
}

81 
	$size
(ècÚ¡ {  
m_d©a_size
+
m_ù¾_size
; 
	}
}

82 
boŞ
 
	$is_wr™e
(è{ 
m_acûss
.
	`is_wr™e
();
	}
}

83 
	$£t_addr
(
Ãw_addr_ty³
 
addr
è{ 
m_acûss
.
	`£t_addr
×ddr); 
	}
}

84 
Ãw_addr_ty³
 
	$g‘_addr
(ècÚ¡ {  
m_acûss
.
	`g‘_addr
(); 
	}
}

85 
Ãw_addr_ty³
 
	$g‘_·¹™iÚ_addr
(ècÚ¡ {  
m_·¹™iÚ_addr
; 
	}
}

86 
	$g‘_sub_·¹™iÚ_id
(ècÚ¡ {  
m_¿w_addr
.
sub_·¹™iÚ
; 
	}
}

87 
boŞ
 
	$g‘_is_wr™e
(ècÚ¡ {  
m_acûss
.
	`is_wr™e
(); 
	}
}

88 
	$g‘_»que¡_uid
(ècÚ¡ {  
m_»que¡_uid
; 
	}
}

89 
	$g‘_sid
(ècÚ¡ {  
m_sid
; 
	}
}

90 
	$g‘_c
(ècÚ¡ {  
m_c
; 
	}
}

91 
	$g‘_wid
(ècÚ¡ {  
m_wid
; 
	}
}

92 
boŞ
 
	$i¡extu»
() const;

93 
boŞ
 
	$iscÚ¡
() const;

94 
mf_ty³
 
	$g‘_ty³
(ècÚ¡ {  
m_ty³
; 
	}
}

95 
boŞ
 
	$i§tomic
() const;

97 
	$£t_»tuº_time¡amp
Ğ
t
 ) { 
m_time¡amp2
ñ; 
	}
}

98 
	$£t_iút_»ûive_time
Ğ
t
 ) { 
m_iút_»ûive_time
ñ; 
	}
}

99 
	$g‘_time¡amp
(ècÚ¡ {  
m_time¡amp
; 
	}
}

100 
	$g‘_»tuº_time¡amp
(ècÚ¡ {  
m_time¡amp2
; 
	}
}

101 
	$g‘_iút_»ûive_time
(ècÚ¡ {  
m_iút_»ûive_time
; 
	}
}

103 
mem_acûss_ty³
 
	$g‘_acûss_ty³
(ècÚ¡ {  
m_acûss
.
	`g‘_ty³
(); 
	}
}

104 cÚ¡ 
	gaùive_mask_t
& 
	$g‘_acûss_w¬p_mask
(ècÚ¡ {  
m_acûss
.
	`g‘_w¬p_mask
(); 
	}
}

105 
mem_acûss_by‹_mask_t
 
	$g‘_acûss_by‹_mask
(ècÚ¡ {  
m_acûss
.
	`g‘_by‹_mask
(); 
	}
}

107 
add»ss_ty³
 
	$g‘_pc
(ècÚ¡ {  
m_š¡
.
	`em±y
()?-1:m_š¡.
pc
; 
	}
}

108 cÚ¡ 
	gw¬p_š¡_t
 &
	$g‘_š¡
(è{  
m_š¡
; 
	}
}

109 
mem_ãtch_¡©us
 
	$g‘_¡©us
(ècÚ¡ {  
m_¡©us
; 
	}
}

111 cÚ¡ 
memÜy_cÚfig
 *
	$g‘_mem_cÚfig
(){ 
m_mem_cÚfig
;
	}
}

113 
g‘_num_æ™s
(
boŞ
 
simt_to_mem
);

114 
	g´iv©e
:

116 
m_»que¡_uid
;

117 
	gm_sid
;

118 
	gm_c
;

119 
	gm_wid
;

122 
mem_ãtch_¡©us
 
	gm_¡©us
;

123 
	gm_¡©us_chªge
;

126 
mem_acûss_t
 
	gm_acûss
;

127 
	gm_d©a_size
;

128 
	gm_ù¾_size
;

129 
Ãw_addr_ty³
 
	gm_·¹™iÚ_addr
;

130 
addrdec_t
 
	gm_¿w_addr
;

131 
mf_ty³
 
	gm_ty³
;

134 
	gm_time¡amp
;

135 
	gm_time¡amp2
;

136 
	gm_iút_»ûive_time
;

139 
w¬p_š¡_t
 
	gm_š¡
;

141 
	gsm_Ãxt_mf_»que¡_uid
;

143 cÚ¡ 
şass
 
memÜy_cÚfig
 *
	gm_mem_cÚfig
;

144 
	giút_æ™_size
;

	@mem_latency_stat.cc

29 
	~"../ab¡¿ù_h¬dw¬e_mod–.h
"

30 
	~"mem_Ï‹ncy_¡©.h
"

31 
	~"gpu-sim.h
"

32 
	~"gpu-misc.h
"

33 
	~"gpu-ÿche.h
"

34 
	~"shad”.h
"

35 
	~"mem_ãtch.h
"

36 
	~"¡©-toŞ.h
"

37 
	~"../cuda-sim/±x-¡©s.h
"

38 
	~"visu®iz”.h
"

39 
	~"d¿m.h
"

41 
	~<¡ršg.h
>

42 
	~<¡dlib.h
>

43 
	~<¡dio.h
>

45 
	gmemÜy_¡©s_t
::
	$memÜy_¡©s_t
Ğ
n_shad”
, cÚ¡ 
shad”_cÜe_cÚfig
 *
shad”_cÚfig
, cÚ¡ 
memÜy_cÚfig
 *
mem_cÚfig
 )

47 
	`as£¹
Ğ
mem_cÚfig
->
m_v®id
 );

48 
	`as£¹
Ğ
shad”_cÚfig
->
m_v®id
 );

50 
i
,
j
;

53 
cÚcu¼’t_row_acûss
 = (**è
	`ÿÎoc
(
mem_cÚfig
->
m_n_mem
, (*));

54 
num_aùiv©es
 = (**è
	`ÿÎoc
(
mem_cÚfig
->
m_n_mem
, (*));

55 
row_acûss
 = (**è
	`ÿÎoc
(
mem_cÚfig
->
m_n_mem
, (*));

56 
max_cÚc_acûss2§m”ow
 = (**è
	`ÿÎoc
(
mem_cÚfig
->
m_n_mem
, (*));

57 
max_£rviûtime2§m”ow
 = (**è
	`ÿÎoc
(
mem_cÚfig
->
m_n_mem
, (*));

59 
i
=0;i<
mem_cÚfig
->
m_n_mem
 ;i++ ) {

60 
cÚcu¼’t_row_acûss
[
i
] = (*è
	`ÿÎoc
(
mem_cÚfig
->
nbk
, ());

61 
row_acûss
[
i
] = (*è
	`ÿÎoc
(
mem_cÚfig
->
nbk
, ());

62 
num_aùiv©es
[
i
] = (*è
	`ÿÎoc
(
mem_cÚfig
->
nbk
, ());

63 
max_cÚc_acûss2§m”ow
[
i
] = (*è
	`ÿÎoc
(
mem_cÚfig
->
nbk
, ());

64 
max_£rviûtime2§m”ow
[
i
] = (*è
	`ÿÎoc
(
mem_cÚfig
->
nbk
, ());

68 
m_n_shad”
=
n_shad”
;

69 
m_memÜy_cÚfig
=
mem_cÚfig
;

70 
tÙ®_n_acûss
=0;

71 
tÙ®_n_»ads
=0;

72 
tÙ®_n_wr™es
=0;

73 
max_mrq_Ï‹ncy
 = 0;

74 
max_dq_Ï‹ncy
 = 0;

75 
max_mf_Ï‹ncy
 = 0;

76 
max_iút2mem_Ï‹ncy
 = 0;

77 
max_iút2sh_Ï‹ncy
 = 0;

78 
	`mem£t
(
mrq_Ït_bË
, 0, ()*32);

79 
	`mem£t
(
dq_Ït_bË
, 0, ()*32);

80 
	`mem£t
(
mf_Ït_bË
, 0, ()*32);

81 
	`mem£t
(
iút2mem_Ït_bË
, 0, ()*24);

82 
	`mem£t
(
iút2sh_Ït_bË
, 0, ()*24);

83 
	`mem£t
(
mf_Ït_pw_bË
, 0, ()*32);

84 
mf_num_Ït_pw
 = 0;

85 
max_w¬ps
 = 
n_shad”
 * (
shad”_cÚfig
->
n_th»ad_³r_shad”
 / shad”_cÚfig->
w¬p_size
+1);

86 
mf_tÙ_Ït_pw
 = 0;

87 
mf_tÙ®_Ït
 = 0;

88 
num_mfs
 = 0;

89 
	`´štf
("*** Initializing Memory Statistics ***\n");

90 
tÙ®bªk»ads
 = (**è
	`ÿÎoc
(
mem_cÚfig
->
m_n_mem
, (*));

91 
tÙ®bªkwr™es
 = (**è
	`ÿÎoc
(
mem_cÚfig
->
m_n_mem
, (*));

92 
tÙ®bªkacûs£s
 = (**è
	`ÿÎoc
(
mem_cÚfig
->
m_n_mem
, (*));

93 
mf_tÙ®_Ït_bË
 = (**è
	`ÿÎoc
(
mem_cÚfig
->
m_n_mem
, (*));

94 
mf_max_Ït_bË
 = (**è
	`ÿÎoc
(
mem_cÚfig
->
m_n_mem
, (*));

95 
bªk»ads
 = (***è
	`ÿÎoc
(
n_shad”
, (**));

96 
bªkwr™es
 = (***è
	`ÿÎoc
(
n_shad”
, (**));

97 
num_MCBs_acûs£d
 = (*è
	`ÿÎoc
(
mem_cÚfig
->
m_n_mem
*mem_cÚfig->
nbk
, ());

98 ià(
mem_cÚfig
->
gpgpu_äfcfs_d¿m_sched_queue_size
) {

99 
pos™iÚ_of_mrq_cho£n
 = (*è
	`ÿÎoc
(
mem_cÚfig
->
gpgpu_äfcfs_d¿m_sched_queue_size
, ());

101 
pos™iÚ_of_mrq_cho£n
 = (*è
	`ÿÎoc
(1024, ());

102 
i
=0;i<
n_shad”
 ;i++ ) {

103 
bªk»ads
[
i
] = (**è
	`ÿÎoc
(
mem_cÚfig
->
m_n_mem
, (*));

104 
bªkwr™es
[
i
] = (**è
	`ÿÎoc
(
mem_cÚfig
->
m_n_mem
, (*));

105 
j
=0;j<
mem_cÚfig
->
m_n_mem
 ;j++ ) {

106 
bªk»ads
[
i
][
j
] = (*è
	`ÿÎoc
(
mem_cÚfig
->
nbk
, ());

107 
bªkwr™es
[
i
][
j
] = (*è
	`ÿÎoc
(
mem_cÚfig
->
nbk
, ());

111 
i
=0;i<
mem_cÚfig
->
m_n_mem
 ;i++ ) {

112 
tÙ®bªk»ads
[
i
] = (*è
	`ÿÎoc
(
mem_cÚfig
->
nbk
, ());

113 
tÙ®bªkwr™es
[
i
] = (*è
	`ÿÎoc
(
mem_cÚfig
->
nbk
, ());

114 
tÙ®bªkacûs£s
[
i
] = (*è
	`ÿÎoc
(
mem_cÚfig
->
nbk
, ());

115 
mf_tÙ®_Ït_bË
[
i
] = (*è
	`ÿÎoc
(
mem_cÚfig
->
nbk
, ());

116 
mf_max_Ït_bË
[
i
] = (*è
	`ÿÎoc
(
mem_cÚfig
->
nbk
, ());

119 
mem_acûss_ty³_¡©s
 = (***è
	`m®loc
(
NUM_MEM_ACCESS_TYPE
 * (**));

120 
i
 = 0; i < 
NUM_MEM_ACCESS_TYPE
; i++) {

121 
j
;

122 
mem_acûss_ty³_¡©s
[
i
] = (**è
	`ÿÎoc
(
mem_cÚfig
->
m_n_mem
, (*));

123 
j
=0; (èj< 
mem_cÚfig
->
m_n_mem
; j++) {

124 
mem_acûss_ty³_¡©s
[
i
][
j
] = (*è
	`ÿÎoc
((
mem_cÚfig
->
nbk
+1), (*));

128 
L2_cbtoL2Ëngth
 = (*è
	`ÿÎoc
(
mem_cÚfig
->
m_n_mem
, ());

129 
L2_cbtoL2wr™–’gth
 = (*è
	`ÿÎoc
(
mem_cÚfig
->
m_n_mem
, ());

130 
L2_L2tocbËngth
 = (*è
	`ÿÎoc
(
mem_cÚfig
->
m_n_mem
, ());

131 
L2_d¿mtoL2Ëngth
 = (*è
	`ÿÎoc
(
mem_cÚfig
->
m_n_mem
, ());

132 
L2_d¿mtoL2wr™–’gth
 = (*è
	`ÿÎoc
(
mem_cÚfig
->
m_n_mem
, ());

133 
L2_L2tod¿mËngth
 = (*è
	`ÿÎoc
(
mem_cÚfig
->
m_n_mem
, ());

134 
	}
}

137 
	gmemÜy_¡©s_t
::
	$memÏt¡©_dÚe
(
mem_ãtch
 *
mf
 )

139 
mf_Ï‹ncy
;

140 
mf_Ï‹ncy
 = (
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
è- 
mf
->
	`g‘_time¡amp
();

141 
mf_num_Ït_pw
++;

142 
mf_tÙ_Ït_pw
 +ğ
mf_Ï‹ncy
;

143 
idx
 = 
	`LOGB2
(
mf_Ï‹ncy
);

144 
	`as£¹
(
idx
<32);

145 
mf_Ït_bË
[
idx
]++;

146 
	`shad”_mem_Ït_log
(
mf
->
	`g‘_sid
(), 
mf_Ï‹ncy
);

147 
mf_tÙ®_Ït_bË
[
mf
->
	`g‘_x_addr
().
ch
][mf->g‘_x_addr().
bk
] +ğ
mf_Ï‹ncy
;

148 ià(
mf_Ï‹ncy
 > 
max_mf_Ï‹ncy
)

149 
max_mf_Ï‹ncy
 = 
mf_Ï‹ncy
;

150  
mf_Ï‹ncy
;

151 
	}
}

153 
	gmemÜy_¡©s_t
::
	$memÏt¡©_»ad_dÚe
(
mem_ãtch
 *
mf
)

155 ià(
m_memÜy_cÚfig
->
gpgpu_memÏ‹ncy_¡©
) {

156 
mf_Ï‹ncy
 = 
	`memÏt¡©_dÚe
(
mf
);

157 ià(
mf_Ï‹ncy
 > 
mf_max_Ït_bË
[
mf
->
	`g‘_x_addr
().
ch
][mf->g‘_x_addr().
bk
])

158 
mf_max_Ït_bË
[
mf
->
	`g‘_x_addr
().
ch
][mf->g‘_x_addr().
bk
] = 
mf_Ï‹ncy
;

159 
iút2sh_Ï‹ncy
;

160 
iút2sh_Ï‹ncy
 = (
gpu_tÙ_sim_cyşe
+
gpu_sim_cyşe
è- 
mf
->
	`g‘_»tuº_time¡amp
();

161 
iút2sh_Ït_bË
[
	`LOGB2
(
iút2sh_Ï‹ncy
)]++;

162 ià(
iút2sh_Ï‹ncy
 > 
max_iút2sh_Ï‹ncy
)

163 
max_iút2sh_Ï‹ncy
 = 
iút2sh_Ï‹ncy
;

165 
	}
}

167 
	gmemÜy_¡©s_t
::
	$memÏt¡©_d¿m_acûss
(
mem_ãtch
 *
mf
)

169 
d¿m_id
 = 
mf
->
	`g‘_x_addr
().
ch
;

170 
bªk
 = 
mf
->
	`g‘_x_addr
().
bk
;

171 ià(
m_memÜy_cÚfig
->
gpgpu_memÏ‹ncy_¡©
) {

172 ià(
mf
->
	`g‘_is_wr™e
()) {

173 iàĞ
mf
->
	`g‘_sid
(è< 
m_n_shad”
 ) {

174 
bªkwr™es
[
mf
->
	`g‘_sid
()][
d¿m_id
][
bªk
]++;

175 
	`shad”_mem_acc_log
Ğ
mf
->
	`g‘_sid
(), 
d¿m_id
, 
bªk
, 'w');

177 
tÙ®bªkwr™es
[
d¿m_id
][
bªk
]++;

179 
bªk»ads
[
mf
->
	`g‘_sid
()][
d¿m_id
][
bªk
]++;

180 
	`shad”_mem_acc_log
Ğ
mf
->
	`g‘_sid
(), 
d¿m_id
, 
bªk
, 'r');

181 
tÙ®bªk»ads
[
d¿m_id
][
bªk
]++;

183 
mem_acûss_ty³_¡©s
[
mf
->
	`g‘_acûss_ty³
()][
d¿m_id
][
bªk
]++;

185 ià(
mf
->
	`g‘_pc
() != ()-1)

186 
	`±x_fe_lše_¡©s_add_d¿m_Œaffic
(
mf
->
	`g‘_pc
(), mf->
	`g‘_d©a_size
());

187 
	}
}

189 
	gmemÜy_¡©s_t
::
	$memÏt¡©_iút2mem_pİ
(
mem_ãtch
 *
mf
)

191 ià(
m_memÜy_cÚfig
->
gpgpu_memÏ‹ncy_¡©
) {

192 
iút2mem_Ï‹ncy
;

193 
iút2mem_Ï‹ncy
 = (
gpu_tÙ_sim_cyşe
+
gpu_sim_cyşe
è- 
mf
->
	`g‘_time¡amp
();

194 
iút2mem_Ït_bË
[
	`LOGB2
(
iút2mem_Ï‹ncy
)]++;

195 ià(
iút2mem_Ï‹ncy
 > 
max_iút2mem_Ï‹ncy
)

196 
max_iút2mem_Ï‹ncy
 = 
iút2mem_Ï‹ncy
;

198 
	}
}

200 
	gmemÜy_¡©s_t
::
	$memÏt¡©_Ït_pw
()

202 ià(
mf_num_Ït_pw
 && 
m_memÜy_cÚfig
->
gpgpu_memÏ‹ncy_¡©
) {

203 
	`as£¹
(
mf_tÙ_Ït_pw
);

204 
mf_tÙ®_Ït
 +ğ
mf_tÙ_Ït_pw
;

205 
num_mfs
 +ğ
mf_num_Ït_pw
;

206 
mf_Ït_pw_bË
[
	`LOGB2
(
mf_tÙ_Ït_pw
/
mf_num_Ït_pw
)]++;

207 
mf_tÙ_Ït_pw
 = 0;

208 
mf_num_Ït_pw
 = 0;

210 
	}
}

213 
	gmemÜy_¡©s_t
::
	$memÏt¡©_´št
Ğ
n_mem
, 
gpu_mem_n_bk
 )

215 
i
,
j
,
k
,
l
,
m
;

216 
max_bªk_acûs£s
, 
mš_bªk_acûs£s
, 
max_ch_acûs£s
, 
mš_ch_acûs£s
;

218 ià(
m_memÜy_cÚfig
->
gpgpu_memÏ‹ncy_¡©
) {

219 
	`´štf
("maxmrqÏ‹ncy = %d \n", 
max_mrq_Ï‹ncy
);

220 
	`´štf
("maxdqÏ‹ncy = %d \n", 
max_dq_Ï‹ncy
);

221 
	`´štf
("maxmæ©’cy = %d \n", 
max_mf_Ï‹ncy
);

222 ià(
num_mfs
) {

223 
	`´štf
("av”agemæ©’cy = %Îd \n", 
mf_tÙ®_Ït
/
num_mfs
);

225 
	`´štf
("max_iút2mem_Ï‹ncy = %d \n", 
max_iút2mem_Ï‹ncy
);

226 
	`´štf
("max_iút2sh_Ï‹ncy = %d \n", 
max_iút2sh_Ï‹ncy
);

227 
	`´štf
("mrq_lat_table:");

228 
i
=0; i< 32; i++) {

229 
	`´štf
("%d \t", 
mrq_Ït_bË
[
i
]);

231 
	`´štf
("\n");

232 
	`´štf
("dq_lat_table:");

233 
i
=0; i< 32; i++) {

234 
	`´štf
("%d \t", 
dq_Ït_bË
[
i
]);

236 
	`´štf
("\n");

237 
	`´štf
("mf_lat_table:");

238 
i
=0; i< 32; i++) {

239 
	`´štf
("%d \t", 
mf_Ït_bË
[
i
]);

241 
	`´štf
("\n");

242 
	`´štf
("icnt2mem_lat_table:");

243 
i
=0; i< 24; i++) {

244 
	`´štf
("%d \t", 
iút2mem_Ït_bË
[
i
]);

246 
	`´štf
("\n");

247 
	`´štf
("icnt2sh_lat_table:");

248 
i
=0; i< 24; i++) {

249 
	`´štf
("%d \t", 
iút2sh_Ït_bË
[
i
]);

251 
	`´štf
("\n");

252 
	`´štf
("mf_lat_pw_table:");

253 
i
=0; i< 32; i++) {

254 
	`´štf
("%d \t", 
mf_Ït_pw_bË
[
i
]);

256 
	`´štf
("\n");

259 
	`´štf
("maximum concurrent‡ccesseso same„ow:\n");

260 
i
=0;i<
n_mem
 ;i++ ) {

261 
	`´štf
("d¿m[%d]: ", 
i
);

262 
j
=0;j<
gpu_mem_n_bk
;j++ ) {

263 
	`´štf
("%9d ",
max_cÚc_acûss2§m”ow
[
i
][
j
]);

265 
	`´štf
("\n");

269 
	`´štf
("maximum serviceimeo same„ow:\n");

270 
i
=0;i<
n_mem
 ;i++ ) {

271 
	`´štf
("d¿m[%d]: ", 
i
);

272 
j
=0;j<
gpu_mem_n_bk
;j++ ) {

273 
	`´štf
("%9d ",
max_£rviûtime2§m”ow
[
i
][
j
]);

275 
	`´štf
("\n");

279 
tÙ®_row_acûs£s
 = 0;

280 
tÙ®_num_aùiv©es
 = 0;

281 
	`´štf
("average„ow‡ccesses…er‡ctivate:\n");

282 
i
=0;i<
n_mem
 ;i++ ) {

283 
	`´štf
("d¿m[%d]: ", 
i
);

284 
j
=0;j<
gpu_mem_n_bk
;j++ ) {

285 
tÙ®_row_acûs£s
 +ğ
row_acûss
[
i
][
j
];

286 
tÙ®_num_aùiv©es
 +ğ
num_aùiv©es
[
i
][
j
];

287 
	`´štf
("%9à",(è
row_acûss
[
i
][
j
]/
num_aùiv©es
[i][j]);

289 
	`´štf
("\n");

291 
	`´štf
("av”agrow†oÿl™y = %d/%d = %f\n", 
tÙ®_row_acûs£s
, 
tÙ®_num_aùiv©es
, ()total_row_accesses/total_num_activates);

293 
k
 = 0;

294 
l
 = 0;

295 
m
 = 0;

296 
max_bªk_acûs£s
 = 0;

297 
max_ch_acûs£s
 = 0;

298 
mš_bªk_acûs£s
 = 0xFFFFFFFF;

299 
mš_ch_acûs£s
 = 0xFFFFFFFF;

300 
	`´štf
("number ofotal memory‡ccesses made:\n");

301 
i
=0;i<
n_mem
 ;i++ ) {

302 
	`´štf
("d¿m[%d]: ", 
i
);

303 
j
=0;j<
gpu_mem_n_bk
;j++ ) {

304 
l
 = 
tÙ®bªkacûs£s
[
i
][
j
];

305 ià(
l
 < 
mš_bªk_acûs£s
)

306 
mš_bªk_acûs£s
 = 
l
;

307 ià(
l
 > 
max_bªk_acûs£s
)

308 
max_bªk_acûs£s
 = 
l
;

309 
k
 +ğ
l
;

310 
m
 +ğ
l
;

311 
	`´štf
("%9d ",
l
);

313 ià(
m
 < 
mš_ch_acûs£s
)

314 
mš_ch_acûs£s
 = 
m
;

315 ià(
m
 > 
max_ch_acûs£s
)

316 
max_ch_acûs£s
 = 
m
;

317 
m
 = 0;

318 
	`´štf
("\n");

320 
	`´štf
("tÙ®‡cûs£s: %d\n", 
k
);

321 ià(
mš_bªk_acûs£s
)

322 
	`´štf
("bªk skew: %d/%d = %4.2f\n", 
max_bªk_acûs£s
, 
mš_bªk_acûs£s
, ()max_bank_accesses/min_bank_accesses);

324 
	`´štf
("min_bank_accesses = 0!\n");

325 ià(
mš_ch_acûs£s
)

326 
	`´štf
("ch skew: %d/%d = %4.2f\n", 
max_ch_acûs£s
, 
mš_ch_acûs£s
, ()max_chip_accesses/min_chip_accesses);

328 
	`´štf
("min_chip_accesses = 0!\n");

331 
k
 = 0;

332 
l
 = 0;

333 
m
 = 0;

334 
max_bªk_acûs£s
 = 0;

335 
max_ch_acûs£s
 = 0;

336 
mš_bªk_acûs£s
 = 0xFFFFFFFF;

337 
mš_ch_acûs£s
 = 0xFFFFFFFF;

338 
	`´štf
("number ofotal„ead‡ccesses:\n");

339 
i
=0;i<
n_mem
 ;i++ ) {

340 
	`´štf
("d¿m[%d]: ", 
i
);

341 
j
=0;j<
gpu_mem_n_bk
;j++ ) {

342 
l
 = 
tÙ®bªk»ads
[
i
][
j
];

343 ià(
l
 < 
mš_bªk_acûs£s
)

344 
mš_bªk_acûs£s
 = 
l
;

345 ià(
l
 > 
max_bªk_acûs£s
)

346 
max_bªk_acûs£s
 = 
l
;

347 
k
 +ğ
l
;

348 
m
 +ğ
l
;

349 
	`´štf
("%9d ",
l
);

351 ià(
m
 < 
mš_ch_acûs£s
)

352 
mš_ch_acûs£s
 = 
m
;

353 ià(
m
 > 
max_ch_acûs£s
)

354 
max_ch_acûs£s
 = 
m
;

355 
m
 = 0;

356 
	`´štf
("\n");

358 
	`´štf
("tÙ®„—ds: %d\n", 
k
);

359 ià(
mš_bªk_acûs£s
)

360 
	`´štf
("bªk skew: %d/%d = %4.2f\n", 
max_bªk_acûs£s
, 
mš_bªk_acûs£s
, ()max_bank_accesses/min_bank_accesses);

362 
	`´štf
("min_bank_accesses = 0!\n");

363 ià(
mš_ch_acûs£s
)

364 
	`´štf
("ch skew: %d/%d = %4.2f\n", 
max_ch_acûs£s
, 
mš_ch_acûs£s
, ()max_chip_accesses/min_chip_accesses);

366 
	`´štf
("min_chip_accesses = 0!\n");

369 
k
 = 0;

370 
l
 = 0;

371 
m
 = 0;

372 
max_bªk_acûs£s
 = 0;

373 
max_ch_acûs£s
 = 0;

374 
mš_bªk_acûs£s
 = 0xFFFFFFFF;

375 
mš_ch_acûs£s
 = 0xFFFFFFFF;

376 
	`´štf
("number ofotal write‡ccesses:\n");

377 
i
=0;i<
n_mem
 ;i++ ) {

378 
	`´štf
("d¿m[%d]: ", 
i
);

379 
j
=0;j<
gpu_mem_n_bk
;j++ ) {

380 
l
 = 
tÙ®bªkwr™es
[
i
][
j
];

381 ià(
l
 < 
mš_bªk_acûs£s
)

382 
mš_bªk_acûs£s
 = 
l
;

383 ià(
l
 > 
max_bªk_acûs£s
)

384 
max_bªk_acûs£s
 = 
l
;

385 
k
 +ğ
l
;

386 
m
 +ğ
l
;

387 
	`´štf
("%9d ",
l
);

389 ià(
m
 < 
mš_ch_acûs£s
)

390 
mš_ch_acûs£s
 = 
m
;

391 ià(
m
 > 
max_ch_acûs£s
)

392 
max_ch_acûs£s
 = 
m
;

393 
m
 = 0;

394 
	`´štf
("\n");

396 
	`´štf
("tÙ®„—ds: %d\n", 
k
);

397 ià(
mš_bªk_acûs£s
)

398 
	`´štf
("bªk skew: %d/%d = %4.2f\n", 
max_bªk_acûs£s
, 
mš_bªk_acûs£s
, ()max_bank_accesses/min_bank_accesses);

400 
	`´štf
("min_bank_accesses = 0!\n");

401 ià(
mš_ch_acûs£s
)

402 
	`´štf
("ch skew: %d/%d = %4.2f\n", 
max_ch_acûs£s
, 
mš_ch_acûs£s
, ()max_chip_accesses/min_chip_accesses);

404 
	`´štf
("min_chip_accesses = 0!\n");

408 
	`´štf
("average mf†atency…er bank:\n");

409 
i
=0;i<
n_mem
 ;i++ ) {

410 
	`´štf
("d¿m[%d]: ", 
i
);

411 
j
=0;j<
gpu_mem_n_bk
;j++ ) {

412 
k
 = 
tÙ®bªkwr™es
[
i
][
j
] + 
tÙ®bªk»ads
[i][j];

413 ià(
k
)

414 
	`´štf
("%10Îd", 
mf_tÙ®_Ït_bË
[
i
][
j
] / 
k
);

416 
	`´štf
("‚one ");

418 
	`´štf
("\n");

422 
	`´štf
("maximum mf†atency…er bank:\n");

423 
i
=0;i<
n_mem
 ;i++ ) {

424 
	`´štf
("d¿m[%d]: ", 
i
);

425 
j
=0;j<
gpu_mem_n_bk
;j++ ) {

426 
	`´štf
("%10d", 
mf_max_Ït_bË
[
i
][
j
]);

428 
	`´štf
("\n");

432 ià(
m_memÜy_cÚfig
->
gpgpu_memÏ‹ncy_¡©
 & 
GPU_MEMLATSTAT_MC
) {

433 
	`´štf
("\nNumber of Memory Banks Accessed…er Memory Operation…er Warp (from 0):\n");

434 
accum_MCBs_acûs£d
 = 0;

435 
tÙ_mem_İs_³r_w¬p
 = 0;

436 
i
=0;i< 
n_mem
*
gpu_mem_n_bk
 ; i++ ) {

437 
accum_MCBs_acûs£d
 +ğ
i
*
num_MCBs_acûs£d
[i];

438 
tÙ_mem_İs_³r_w¬p
 +ğ
num_MCBs_acûs£d
[
i
];

439 
	`´štf
("%d\t", 
num_MCBs_acûs£d
[
i
]);

442 
	`´štf
("\nAv”ag# oàMemÜy Bªk Acûs£d…” MemÜy O³¿tiÚ…” W¬p=%f\n", ()
accum_MCBs_acûs£d
/
tÙ_mem_İs_³r_w¬p
);

447 
	`´štf
("\nposition of mrq chosen\n");

449 ià(!
m_memÜy_cÚfig
->
gpgpu_äfcfs_d¿m_sched_queue_size
)

450 
j
 = 1024;

452 
j
 = 
m_memÜy_cÚfig
->
gpgpu_äfcfs_d¿m_sched_queue_size
;

453 
k
=0;
l
=0;

454 
i
=0;i< 
j
; i++ ) {

455 
	`´štf
("%d\t", 
pos™iÚ_of_mrq_cho£n
[
i
]);

456 
k
 +ğ
pos™iÚ_of_mrq_cho£n
[
i
];

457 
l
 +ğ
i
*
pos™iÚ_of_mrq_cho£n
[i];

459 
	`´štf
("\n");

460 
	`´štf
("\Çv”agpos™iÚ oàmrq cho£Àğ%f\n", ()
l
/
k
);

462 
	}
}

	@mem_latency_stat.h

28 #iâdeà
MEM_LATENCY_STAT_H


29 
	#MEM_LATENCY_STAT_H


	)

31 
	~<¡dio.h
>

32 
	~<zlib.h
>

33 
	~<m­
>

35 şas 
	cmemÜy_¡©s_t
 {

36 
	mpublic
:

37 
memÜy_¡©s_t
Ğ
n_shad”
,

38 cÚ¡ 
shad”_cÜe_cÚfig
 *
shad”_cÚfig
,

39 cÚ¡ 
memÜy_cÚfig
 *
mem_cÚfig
 );

41 
memÏt¡©_dÚe
Ğ
şass
 
mem_ãtch
 *
mf
 );

42 
memÏt¡©_»ad_dÚe
Ğ
şass
 
mem_ãtch
 *
mf
 );

43 
memÏt¡©_d¿m_acûss
Ğ
şass
 
mem_ãtch
 *
mf
 );

44 
memÏt¡©_iút2mem_pİ
Ğ
şass
 
mem_ãtch
 *
mf
);

45 
memÏt¡©_Ït_pw
();

46 
memÏt¡©_´št
(
n_mem
, 
gpu_mem_n_bk
);

48 
visu®iz”_´št
Ğ
gzFe
 
visu®iz”_fe
 );

50 
	mm_n_shad”
;

52 cÚ¡ 
shad”_cÜe_cÚfig
 *
	mm_shad”_cÚfig
;

53 cÚ¡ 
memÜy_cÚfig
 *
	mm_memÜy_cÚfig
;

55 
	mmax_mrq_Ï‹ncy
;

56 
	mmax_dq_Ï‹ncy
;

57 
	mmax_mf_Ï‹ncy
;

58 
	mmax_iút2mem_Ï‹ncy
;

59 
	mmax_iút2sh_Ï‹ncy
;

60 
	mmrq_Ït_bË
[32];

61 
	mdq_Ït_bË
[32];

62 
	mmf_Ït_bË
[32];

63 
	miút2mem_Ït_bË
[24];

64 
	miút2sh_Ït_bË
[24];

65 
	mmf_Ït_pw_bË
[32];

66 
	mmf_num_Ït_pw
;

67 
	mmax_w¬ps
;

68 
	mmf_tÙ_Ït_pw
;

69 
	mmf_tÙ®_Ït
;

70 ** 
	mmf_tÙ®_Ït_bË
;

71 ** 
	mmf_max_Ït_bË
;

72 
	mnum_mfs
;

73 ***
	mbªkwr™es
;

74 ***
	mbªk»ads
;

75 **
	mtÙ®bªkwr™es
;

76 **
	mtÙ®bªk»ads
;

77 **
	mtÙ®bªkacûs£s
;

78 *
	mnum_MCBs_acûs£d
;

79 *
	mpos™iÚ_of_mrq_cho£n
;

81 ***
	mmem_acûss_ty³_¡©s
;

85 *
	mL2_cbtoL2Ëngth
;

86 *
	mL2_cbtoL2wr™–’gth
;

87 *
	mL2_L2tocbËngth
;

88 *
	mL2_d¿mtoL2Ëngth
;

89 *
	mL2_d¿mtoL2wr™–’gth
;

90 *
	mL2_L2tod¿mËngth
;

93 **
	mcÚcu¼’t_row_acûss
;

94 **
	mnum_aùiv©es
;

95 **
	mrow_acûss
;

96 **
	mmax_cÚc_acûss2§m”ow
;

97 **
	mmax_£rviûtime2§m”ow
;

100 
	mtÙ®_n_acûss
;

101 
	mtÙ®_n_»ads
;

102 
	mtÙ®_n_wr™es
;

	@power_interface.cc

28 
	~"pow”_š‹rçû.h
"

30 
	$š™_mı©
(cÚ¡ 
gpgpu_sim_cÚfig
 &
cÚfig
, 
şass
 
gpgpu_sim_w¿µ”
 *
w¿µ”
, 
¡©_§m¶e_äeq
, 
tÙ_š¡
, 
š¡
){

32 
w¿µ”
->
	`š™_mı©
(
cÚfig
.
g_pow”_cÚfig_Çme
, cÚfig.
g_pow”_f’ame
, cÚfig.
g_pow”_Œaû_f’ame
,

33 
cÚfig
.
g_m‘ric_Œaû_f’ame
,cÚfig.
g_¡—dy_¡©e_Œackšg_f’ame
,cÚfig.
g_pow”_simuÏtiÚ_’abËd
,

34 
cÚfig
.
g_pow”_Œaû_’abËd
,cÚfig.
g_¡—dy_pow”_Ëv–s_’abËd
,cÚfig.
g_pow”_³r_cyşe_dump
,

35 
cÚfig
.
gpu_¡—dy_pow”_devŸtiÚ
,cÚfig.
gpu_¡—dy_mš_³riod
,cÚfig.
g_pow”_Œaû_zËv–
,

36 
tÙ_š¡
+
š¡
,
¡©_§m¶e_äeq


39 
	}
}

41 
	$mı©_cyşe
(cÚ¡ 
gpgpu_sim_cÚfig
 &
cÚfig
, cÚ¡ 
shad”_cÜe_cÚfig
 *
shdr_cÚfig
, 
şass
 
gpgpu_sim_w¿µ”
 *
w¿µ”
, cÏs 
pow”_¡©_t
 *
pow”_¡©s
, 
¡©_§m¶e_äeq
, 
tÙ_cyşe
, 
cyşe
, 
tÙ_š¡
, 
š¡
){

43 
boŞ
 
mı©_š™
=
Œue
;

45 if(
mı©_š™
){

46 
mı©_š™
=
çl£
;

50 ià((
tÙ_cyşe
+
cyşe
è% 
¡©_§m¶e_äeq
 == 0) {

52 
w¿µ”
->
	`£t_š¡_pow”
(
shdr_cÚfig
->
gpgpu_şock_g©ed_ÏÃs
,

53 
¡©_§m¶e_äeq
, stat_sample_freq,

54 
pow”_¡©s
->
	`g‘_tÙ®_š¡
(),…ow”_¡©s->
	`g‘_tÙ®_št_š¡
(),

55 
pow”_¡©s
->
	`g‘_tÙ®_å_š¡
(),…ow”_¡©s->
	`g‘_l1d_»ad_acûs£s
(),

56 
pow”_¡©s
->
	`g‘_l1d_wr™e_acûs£s
(),…ow”_¡©s->
	`g‘_comm™‹d_š¡
());

59 
w¿µ”
->
	`£t_»gfe_pow”
(
pow”_¡©s
->
	`g‘_»gfe_»ads
(),…ow”_¡©s->
	`g‘_»gfe_wr™es
(),…ow”_¡©s->
	`g‘_nÚ_»gfe_İ”ªds
());

62 
w¿µ”
->
	`£t_iÿche_pow”
(
pow”_¡©s
->
	`g‘_š¡_c_h™s
(),…ow”_¡©s->
	`g‘_š¡_c_mis£s
());

65 
w¿µ”
->
	`£t_cÿche_pow”
(
pow”_¡©s
->
	`g‘_cÚ¡ªt_c_h™s
(),…ow”_¡©s->
	`g‘_cÚ¡ªt_c_mis£s
());

66 
w¿µ”
->
	`£t_tÿche_pow”
(
pow”_¡©s
->
	`g‘_‹xtu»_c_h™s
(),…ow”_¡©s->
	`g‘_‹xtu»_c_mis£s
());

67 
w¿µ”
->
	`£t_shrd_mem_pow”
(
pow”_¡©s
->
	`g‘_shmem_»ad_acûss
());

69 
w¿µ”
->
	`£t_l1ÿche_pow”
(
pow”_¡©s
->
	`g‘_l1d_»ad_h™s
(),…ow”_¡©s->
	`g‘_l1d_»ad_mis£s
(),

70 
pow”_¡©s
->
	`g‘_l1d_wr™e_h™s
(),…ow”_¡©s->
	`g‘_l1d_wr™e_mis£s
());

73 
w¿µ”
->
	`£t_l2ÿche_pow”
(
pow”_¡©s
->
	`g‘_l2_»ad_h™s
(),…ow”_¡©s->
	`g‘_l2_»ad_mis£s
(),

74 
pow”_¡©s
->
	`g‘_l2_wr™e_h™s
(),…ow”_¡©s->
	`g‘_l2_wr™e_mis£s
());

77 
aùive_sms
=(*
pow”_¡©s
->
m_aùive_sms
)/
¡©_§m¶e_äeq
;

78 
num_cÜes
 = 
shdr_cÚfig
->
	`num_shad”
();

79 
num_idË_cÜe
 = 
num_cÜes
 - 
aùive_sms
;

80 
w¿µ”
->
	`£t_idË_cÜe_pow”
(
num_idË_cÜe
);

83 
p–še_duty_cyşe
=((*
pow”_¡©s
->
m_av”age_p–še_duty_cyşe
/Ğ
¡©_§m¶e_äeq
)) < 0.8)?((*power_stats->m_average_pipeline_duty_cycle)/stat_sample_freq):0.8;

84 
w¿µ”
->
	`£t_duty_cyşe_pow”
(
p–še_duty_cyşe
);

87 
w¿µ”
->
	`£t_mem_ù¾_pow”
(
pow”_¡©s
->
	`g‘_d¿m_rd
(),…ow”_¡©s->
	`g‘_d¿m_wr
(),…ow”_¡©s->
	`g‘_d¿m_´e
());

91 
w¿µ”
->
	`£t_exec_un™_pow”
(
pow”_¡©s
->
	`g‘_tÙ_åu_acûs£ss
(),…ow”_¡©s->
	`g‘_Ÿlu_acûs£ss
(),…ow”_¡©s->
	`g‘_tÙ_sfu_acûs£ss
());

94 
avg_¥_aùive_ÏÃs
=(
pow”_¡©s
->
	`g‘_¥_aùive_ÏÃs
())/
¡©_§m¶e_äeq
;

95 
avg_sfu_aùive_ÏÃs
=(
pow”_¡©s
->
	`g‘_sfu_aùive_ÏÃs
())/
¡©_§m¶e_äeq
;

96 
	`as£¹
(
avg_¥_aùive_ÏÃs
<=32);

97 
	`as£¹
(
avg_sfu_aùive_ÏÃs
<=32);

98 
w¿µ”
->
	`£t_aùive_ÏÃs_pow”
((
pow”_¡©s
->
	`g‘_¥_aùive_ÏÃs
())/
¡©_§m¶e_äeq
,

99 (
pow”_¡©s
->
	`g‘_sfu_aùive_ÏÃs
())/
¡©_§m¶e_äeq
);

102 
n_iút_simt_to_mem
 = ()
pow”_¡©s
->
	`g‘_iút_simt_to_mem
();

103 
n_iút_mem_to_simt
 = ()
pow”_¡©s
->
	`g‘_iút_mem_to_simt
();

104 
w¿µ”
->
	`£t_NoC_pow”
(
n_iút_mem_to_simt
, 
n_iút_simt_to_mem
);

106 
w¿µ”
->
	`compu‹
();

109 
w¿µ”
->
	`upd©e_compÚ’ts_pow”
();

110 
w¿µ”
->
	`´št_Œaû_fes
();

111 
pow”_¡©s
->
	`§ve_¡©s
();

113 
w¿µ”
->
	`d‘eù_´št_¡—dy_¡©e
(0,
tÙ_š¡
+
š¡
);

115 
w¿µ”
->
	`pow”_m‘rics_ÿlcuÏtiÚs
();

118 
w¿µ”
->
	`dump
();

121 
	}
}

123 
	$mı©_»£t_³rf_couÁ
(
şass
 
gpgpu_sim_w¿µ”
 *
w¿µ”
){

124 
w¿µ”
->
	`»£t_couÁ”s
();

125 
	}
}

	@power_interface.h

28 #iâdeà
POWER_INTERFACE_H_


29 
	#POWER_INTERFACE_H_


	)

31 
	~"gpu-sim.h
"

32 
	~"pow”_¡©.h
"

33 
	~"shad”.h
"

36 
	~"gpgpu_sim_w¿µ”.h
"

38 
š™_mı©
(cÚ¡ 
gpgpu_sim_cÚfig
 &
cÚfig
, 
şass
 
gpgpu_sim_w¿µ”
 *
w¿µ”
, 
¡©_§m¶e_äeq
, 
tÙ_š¡
, 
š¡
);

39 
mı©_cyşe
(cÚ¡ 
gpgpu_sim_cÚfig
 &
cÚfig
, cÚ¡ 
shad”_cÜe_cÚfig
 *
shdr_cÚfig
, 
şass
 
gpgpu_sim_w¿µ”
 *
w¿µ”
, cÏs 
pow”_¡©_t
 *
pow”_¡©s
,

40 
¡©_§m¶e_äeq
, 
tÙ_cyşe
, 
cyşe
, 
tÙ_š¡
, 
š¡
);

41 
mı©_»£t_³rf_couÁ
(
şass
 
gpgpu_sim_w¿µ”
 *
w¿µ”
);

	@power_stat.cc

28 
	~"../ab¡¿ù_h¬dw¬e_mod–.h
"

29 
	~"pow”_¡©.h
"

30 
	~"gpu-sim.h
"

31 
	~"gpu-misc.h
"

32 
	~"shad”.h
"

33 
	~"mem_ãtch.h
"

34 
	~"¡©-toŞ.h
"

35 
	~"../cuda-sim/±x-¡©s.h
"

36 
	~"visu®iz”.h
"

37 
	~"d¿m.h
"

39 
	~<¡ršg.h
>

40 
	~<¡dlib.h
>

41 
	~<¡dio.h
>

45 
	gpow”_mem_¡©_t
::
	$pow”_mem_¡©_t
(cÚ¡ 
memÜy_cÚfig
 *
mem_cÚfig
, cÚ¡ 
shad”_cÜe_cÚfig
 *
shdr_cÚfig
, 
memÜy_¡©s_t
 *
mem_¡©s
, 
shad”_cÜe_¡©s
 *
shdr_¡©s
){

46 
	`as£¹
Ğ
mem_cÚfig
->
m_v®id
 );

47 
m_mem_¡©s
 = 
mem_¡©s
;

48 
m_cÚfig
 = 
mem_cÚfig
;

49 
m_cÜe_¡©s
 = 
shdr_¡©s
;

50 
m_cÜe_cÚfig
 = 
shdr_cÚfig
;

52 
	`š™
();

53 
	}
}

55 
	gpow”_mem_¡©_t
::
	$š™
(){

57 
shmem_»ad_acûss
[
CURRENT_STAT_IDX
] = 
m_cÜe_¡©s
->
gpgpu_n_shmem_bªk_acûss
;

58 
shmem_»ad_acûss
[
PREV_STAT_IDX
] = (*)
	`ÿÎoc
(
m_cÜe_cÚfig
->
	`num_shad”
(),());

60 
i
=0; i<
NUM_STAT_IDX
; ++i){

61 
cÜe_ÿche_¡©s
[
i
].
	`ş—r
();

62 
l2_ÿche_¡©s
[
i
].
	`ş—r
();

64 
n_cmd
[
i
] = (*)
	`ÿÎoc
(
m_cÚfig
->
m_n_mem
,());

65 
n_aùiv™y
[
i
] = (*)
	`ÿÎoc
(
m_cÚfig
->
m_n_mem
,());

66 
n_nİ
[
i
] = (*)
	`ÿÎoc
(
m_cÚfig
->
m_n_mem
,());

67 
n_aù
[
i
] = (*)
	`ÿÎoc
(
m_cÚfig
->
m_n_mem
,());

68 
n_´e
[
i
] = (*)
	`ÿÎoc
(
m_cÚfig
->
m_n_mem
,());

69 
n_rd
[
i
] = (*)
	`ÿÎoc
(
m_cÚfig
->
m_n_mem
,());

70 
n_wr
[
i
] = (*)
	`ÿÎoc
(
m_cÚfig
->
m_n_mem
,());

71 
n_»q
[
i
] = (*)
	`ÿÎoc
(
m_cÚfig
->
m_n_mem
,());

74 
n_mem_to_simt
[
i
] = (*)
	`ÿÎoc
(
m_cÜe_cÚfig
->
n_simt_şu¡”s
,());

75 
n_simt_to_mem
[
i
] = (*)
	`ÿÎoc
(
m_cÜe_cÚfig
->
n_simt_şu¡”s
,());

77 
	}
}

79 
	gpow”_mem_¡©_t
::
	$§ve_¡©s
(){

81 
cÜe_ÿche_¡©s
[
PREV_STAT_IDX
] = cÜe_ÿche_¡©s[
CURRENT_STAT_IDX
];

82 
l2_ÿche_¡©s
[
PREV_STAT_IDX
] =†2_ÿche_¡©s[
CURRENT_STAT_IDX
];

84 
i
=0; i<
m_cÜe_cÚfig
->
	`num_shad”
(); ++i){

85 
shmem_»ad_acûss
[
PREV_STAT_IDX
][
i
] = shmem_»ad_acûss[
CURRENT_STAT_IDX
][i] ;

88 
i
=0; i<
m_cÚfig
->
m_n_mem
; ++i){

89 
n_cmd
[
PREV_STAT_IDX
][
i
] =‚_cmd[
CURRENT_STAT_IDX
][i];

90 
n_aùiv™y
[
PREV_STAT_IDX
][
i
] =‚_aùiv™y[
CURRENT_STAT_IDX
][i];

91 
n_nİ
[
PREV_STAT_IDX
][
i
] =‚_nİ[
CURRENT_STAT_IDX
][i];

92 
n_aù
[
PREV_STAT_IDX
][
i
] =‚_aù[
CURRENT_STAT_IDX
][i];

93 
n_´e
[
PREV_STAT_IDX
][
i
] =‚_´e[
CURRENT_STAT_IDX
][i];

94 
n_rd
[
PREV_STAT_IDX
][
i
] =‚_rd[
CURRENT_STAT_IDX
][i];

95 
n_wr
[
PREV_STAT_IDX
][
i
] =‚_wr[
CURRENT_STAT_IDX
][i];

96 
n_»q
[
PREV_STAT_IDX
][
i
] =‚_»q[
CURRENT_STAT_IDX
][i];

99 
i
=0; i<
m_cÜe_cÚfig
->
n_simt_şu¡”s
;i++){

100 
n_simt_to_mem
[
PREV_STAT_IDX
][
i
] =‚_simt_to_mem[
CURRENT_STAT_IDX
][i];

101 
n_mem_to_simt
[
PREV_STAT_IDX
][
i
] =‚_mem_to_simt[
CURRENT_STAT_IDX
][i];

103 
	}
}

105 
	gpow”_mem_¡©_t
::
	$visu®iz”_´št
Ğ
gzFe
 
pow”_visu®iz”_fe
 ){

107 
	}
}

109 
pow”_mem_¡©_t
::
	$´št
 (
FILE
 *
fout
) const {

110 
	`årštf
(
fout
, "\n\n==========Power Metrics -- Memory==========\n");

111 
tÙ®_mem_»ads
=0;

112 
tÙ®_mem_wr™es
=0;

113 
i
=0; i<
m_cÚfig
->
m_n_mem
; ++i){

114 
tÙ®_mem_»ads
 +ğ
n_rd
[
CURRENT_STAT_IDX
][
i
];

115 
tÙ®_mem_wr™es
 +ğ
n_wr
[
CURRENT_STAT_IDX
][
i
];

117 
	`årštf
(
fout
, "TÙ® memÜy cÚŒŞË¸acûs£s: %u\n", 
tÙ®_mem_»ads
+
tÙ®_mem_wr™es
);

118 
	`årštf
(
fout
, "TÙ® memÜy cÚŒŞË¸»ads: %u\n", 
tÙ®_mem_»ads
);

119 
	`årštf
(
fout
, "TÙ® memÜy cÚŒŞË¸wr™es: %u\n", 
tÙ®_mem_wr™es
);

121 
	`årštf
(
fout
, "Core cache stats:\n");

122 
cÜe_ÿche_¡©s
->
	`´št_¡©s
(
fout
);

123 
	`årštf
(
fout
, "L2 cache stats:\n");

124 
l2_ÿche_¡©s
->
	`´št_¡©s
(
fout
);

125 
	}
}

128 
	gpow”_cÜe_¡©_t
::
	$pow”_cÜe_¡©_t
ĞcÚ¡ 
shad”_cÜe_cÚfig
 *
shad”_cÚfig
, 
shad”_cÜe_¡©s
 *
cÜe_¡©s
 )

130 
	`as£¹
Ğ
shad”_cÚfig
->
m_v®id
 );

131 
m_cÚfig
 = 
shad”_cÚfig
;

132 
shad”_cÜe_pow”_¡©s_pod
 *
pod
 = 
this
;

133 
	`mem£t
(
pod
,0,(
shad”_cÜe_pow”_¡©s_pod
));

134 
m_cÜe_¡©s
=
cÜe_¡©s
;

136 
	`š™
();

138 
	}
}

140 
	gpow”_cÜe_¡©_t
::
	$visu®iz”_´št
Ğ
gzFe
 
visu®iz”_fe
 )

143 
	}
}

145 
pow”_cÜe_¡©_t
::
	$´št
 (
FILE
 *
fout
)

148 
	`årštf
(
fout
,"Power Metrics: \n");

149 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

150 
	`årštf
(
fout
,"cÜ%u:\n",
i
);

151 
	`årštf
(
fout
,"\–šduty cyş=%f\n",
m_p–še_duty_cyşe
[
CURRENT_STAT_IDX
][
i
]);

152 
	`årštf
(
fout
,"\tTÙ® Deocded In¡ruùiÚs=%u\n",
m_num_decoded_š¢
[
CURRENT_STAT_IDX
][
i
]);

153 
	`årštf
(
fout
,"\tTÙ® FP Deocded In¡ruùiÚs=%u\n",
m_num_FPdecoded_š¢
[
CURRENT_STAT_IDX
][
i
]);

154 
	`årštf
(
fout
,"\tTÙ® INT Deocded In¡ruùiÚs=%u\n",
m_num_INTdecoded_š¢
[
CURRENT_STAT_IDX
][
i
]);

155 
	`årštf
(
fout
,"\tTÙ® LOAD Queued In¡ruùiÚs=%u\n",
m_num_lßdqueued_š¢
[
CURRENT_STAT_IDX
][
i
]);

156 
	`årštf
(
fout
,"\tTÙ® STORE Queued In¡ruùiÚs=%u\n",
m_num_¡Üequeued_š¢
[
CURRENT_STAT_IDX
][
i
]);

157 
	`årštf
(
fout
,"\tTÙ® IALU Aûs£s=%u\n",
m_num_Ÿlu_aûs£s
[
CURRENT_STAT_IDX
][
i
]);

158 
	`årštf
(
fout
,"\tTÙ® FP Aûs£s=%u\n",
m_num_å_aûs£s
[
CURRENT_STAT_IDX
][
i
]);

159 
	`årštf
(
fout
,"\tTÙ® IMUL Aûs£s=%u\n",
m_num_imul_aûs£s
[
CURRENT_STAT_IDX
][
i
]);

160 
	`årštf
(
fout
,"\tTÙ® IMUL24 Aûs£s=%u\n",
m_num_imul24_aûs£s
[
CURRENT_STAT_IDX
][
i
]);

161 
	`årštf
(
fout
,"\tTÙ® IMUL32 Aûs£s=%u\n",
m_num_imul32_aûs£s
[
CURRENT_STAT_IDX
][
i
]);

162 
	`årštf
(
fout
,"\tTÙ® IDIV Aûs£s=%u\n",
m_num_idiv_aûs£s
[
CURRENT_STAT_IDX
][
i
]);

163 
	`årštf
(
fout
,"\tTÙ® FPMUL Aûs£s=%u\n",
m_num_åmul_aûs£s
[
CURRENT_STAT_IDX
][
i
]);

164 
	`årštf
(
fout
,"\tTÙ® SFU Aûs£s=%u\n",
m_num_Œªs_aûs£s
[
CURRENT_STAT_IDX
][
i
]);

165 
	`årštf
(
fout
,"\tTÙ® FPDIV Aûs£s=%u\n",
m_num_ådiv_aûs£s
[
CURRENT_STAT_IDX
][
i
]);

166 
	`årštf
(
fout
,"\tTÙ® SFU Aûs£s=%u\n",
m_num_sfu_aûs£s
[
CURRENT_STAT_IDX
][
i
]);

167 
	`årštf
(
fout
,"\tTÙ® SP Aûs£s=%u\n",
m_num_¥_aûs£s
[
CURRENT_STAT_IDX
][
i
]);

168 
	`årštf
(
fout
,"\tTÙ® MEM Aûs£s=%u\n",
m_num_mem_aûs£s
[
CURRENT_STAT_IDX
][
i
]);

169 
	`årštf
(
fout
,"\tTÙ® SFU CommissiÚs=%u\n",
m_num_sfu_comm™‹d
[
CURRENT_STAT_IDX
][
i
]);

170 
	`årštf
(
fout
,"\tTÙ® SP CommissiÚs=%u\n",
m_num_¥_comm™‹d
[
CURRENT_STAT_IDX
][
i
]);

171 
	`årštf
(
fout
,"\tTÙ® MEM CommissiÚs=%u\n",
m_num_mem_comm™‹d
[
CURRENT_STAT_IDX
][
i
]);

172 
	`årštf
(
fout
,"\tTÙ® REG R—ds=%u\n",
m_»ad_»gfe_aûs£s
[
CURRENT_STAT_IDX
][
i
]);

173 
	`årštf
(
fout
,"\tTÙ® REG Wr™es=%u\n",
m_wr™e_»gfe_aûs£s
[
CURRENT_STAT_IDX
][
i
]);

174 
	`årštf
(
fout
,"\tTÙ® NON REG=%u\n",
m_nÚ_rf_İ”ªds
[
CURRENT_STAT_IDX
][
i
]);

176 
	}
}

177 
	gpow”_cÜe_¡©_t
::
	$š™
()

179 
m_p–še_duty_cyşe
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_pipeline_duty_cycle;

180 
m_num_decoded_š¢
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_num_decoded_insn;

181 
m_num_FPdecoded_š¢
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_num_FPdecoded_insn;

182 
m_num_INTdecoded_š¢
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_num_INTdecoded_insn;

183 
m_num_¡Üequeued_š¢
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_num_storequeued_insn;

184 
m_num_lßdqueued_š¢
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_num_loadqueued_insn;

185 
m_num_Ÿlu_aûs£s
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_num_ialu_acesses;

186 
m_num_å_aûs£s
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_num_fp_acesses;

187 
m_num_imul_aûs£s
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_num_imul_acesses;

188 
m_num_imul24_aûs£s
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_num_imul24_acesses;

189 
m_num_imul32_aûs£s
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_num_imul32_acesses;

190 
m_num_åmul_aûs£s
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_num_fpmul_acesses;

191 
m_num_idiv_aûs£s
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_num_idiv_acesses;

192 
m_num_ådiv_aûs£s
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_num_fpdiv_acesses;

193 
m_num_¥_aûs£s
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_num_sp_acesses;

194 
m_num_sfu_aûs£s
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_num_sfu_acesses;

195 
m_num_Œªs_aûs£s
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_num_trans_acesses;

196 
m_num_mem_aûs£s
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_num_mem_acesses;

197 
m_num_¥_comm™‹d
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_num_sp_committed;

198 
m_num_sfu_comm™‹d
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_num_sfu_committed;

199 
m_num_mem_comm™‹d
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_num_mem_committed;

200 
m_»ad_»gfe_aûs£s
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_read_regfile_acesses;

201 
m_wr™e_»gfe_aûs£s
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_write_regfile_acesses;

202 
m_nÚ_rf_İ”ªds
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_non_rf_operands;

203 
m_aùive_¥_ÏÃs
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_active_sp_lanes;

204 
m_aùive_sfu_ÏÃs
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_active_sfu_lanes;

205 
m_num_‹x_š¡
[
CURRENT_STAT_IDX
]=
m_cÜe_¡©s
->m_num_tex_inst;

208 
m_p–še_duty_cyşe
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

209 
m_num_decoded_š¢
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

210 
m_num_FPdecoded_š¢
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

211 
m_num_INTdecoded_š¢
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

212 
m_num_¡Üequeued_š¢
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

213 
m_num_lßdqueued_š¢
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

214 
m_num_Ÿlu_aûs£s
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

215 
m_num_å_aûs£s
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

216 
m_num_‹x_š¡
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

217 
m_num_imul_aûs£s
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

218 
m_num_imul24_aûs£s
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

219 
m_num_imul32_aûs£s
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

220 
m_num_åmul_aûs£s
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

221 
m_num_idiv_aûs£s
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

222 
m_num_ådiv_aûs£s
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

223 
m_num_¥_aûs£s
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

224 
m_num_sfu_aûs£s
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

225 
m_num_Œªs_aûs£s
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

226 
m_num_mem_aûs£s
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

227 
m_num_¥_comm™‹d
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

228 
m_num_sfu_comm™‹d
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

229 
m_num_mem_comm™‹d
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

230 
m_»ad_»gfe_aûs£s
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

231 
m_wr™e_»gfe_aûs£s
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

232 
m_nÚ_rf_İ”ªds
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

233 
m_aùive_¥_ÏÃs
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

234 
m_aùive_sfu_ÏÃs
[
PREV_STAT_IDX
]=(*)
	`ÿÎoc
(
m_cÚfig
->
	`num_shad”
(),());

235 
	}
}

237 
	gpow”_cÜe_¡©_t
::
	$§ve_¡©s
(){

238 
i
=0; i<
m_cÚfig
->
	`num_shad”
(); ++i){

239 
m_p–še_duty_cyşe
[
PREV_STAT_IDX
][
i
]=m_p–še_duty_cyşe[
CURRENT_STAT_IDX
][i];

240 
m_num_decoded_š¢
[
PREV_STAT_IDX
][
i
]ğm_num_decoded_š¢[
CURRENT_STAT_IDX
][i];

241 
m_num_FPdecoded_š¢
[
PREV_STAT_IDX
][
i
]=m_num_FPdecoded_š¢[
CURRENT_STAT_IDX
][i];

242 
m_num_INTdecoded_š¢
[
PREV_STAT_IDX
][
i
]=m_num_INTdecoded_š¢[
CURRENT_STAT_IDX
][i];

243 
m_num_¡Üequeued_š¢
[
PREV_STAT_IDX
][
i
]=m_num_¡Üequeued_š¢[
CURRENT_STAT_IDX
][i];

244 
m_num_lßdqueued_š¢
[
PREV_STAT_IDX
][
i
]=m_num_lßdqueued_š¢[
CURRENT_STAT_IDX
][i];

245 
m_num_Ÿlu_aûs£s
[
PREV_STAT_IDX
][
i
]=m_num_Ÿlu_aûs£s[
CURRENT_STAT_IDX
][i];

246 
m_num_å_aûs£s
[
PREV_STAT_IDX
][
i
]=m_num_å_aûs£s[
CURRENT_STAT_IDX
][i];

247 
m_num_‹x_š¡
[
PREV_STAT_IDX
][
i
]=m_num_‹x_š¡[
CURRENT_STAT_IDX
][i];

248 
m_num_imul_aûs£s
[
PREV_STAT_IDX
][
i
]=m_num_imul_aûs£s[
CURRENT_STAT_IDX
][i];

249 
m_num_imul24_aûs£s
[
PREV_STAT_IDX
][
i
]=m_num_imul24_aûs£s[
CURRENT_STAT_IDX
][i];

250 
m_num_imul32_aûs£s
[
PREV_STAT_IDX
][
i
]=m_num_imul32_aûs£s[
CURRENT_STAT_IDX
][i];

251 
m_num_åmul_aûs£s
[
PREV_STAT_IDX
][
i
]=m_num_åmul_aûs£s[
CURRENT_STAT_IDX
][i];

252 
m_num_idiv_aûs£s
[
PREV_STAT_IDX
][
i
]=m_num_idiv_aûs£s[
CURRENT_STAT_IDX
][i];

253 
m_num_ådiv_aûs£s
[
PREV_STAT_IDX
][
i
]=m_num_ådiv_aûs£s[
CURRENT_STAT_IDX
][i];

254 
m_num_¥_aûs£s
[
PREV_STAT_IDX
][
i
]=m_num_¥_aûs£s[
CURRENT_STAT_IDX
][i];

255 
m_num_sfu_aûs£s
[
PREV_STAT_IDX
][
i
]=m_num_sfu_aûs£s[
CURRENT_STAT_IDX
][i];

256 
m_num_Œªs_aûs£s
[
PREV_STAT_IDX
][
i
]=m_num_Œªs_aûs£s[
CURRENT_STAT_IDX
][i];

257 
m_num_mem_aûs£s
[
PREV_STAT_IDX
][
i
]=m_num_mem_aûs£s[
CURRENT_STAT_IDX
][i];

258 
m_num_¥_comm™‹d
[
PREV_STAT_IDX
][
i
]=m_num_¥_comm™‹d[
CURRENT_STAT_IDX
][i];

259 
m_num_sfu_comm™‹d
[
PREV_STAT_IDX
][
i
]=m_num_sfu_comm™‹d[
CURRENT_STAT_IDX
][i];

260 
m_num_mem_comm™‹d
[
PREV_STAT_IDX
][
i
]=m_num_mem_comm™‹d[
CURRENT_STAT_IDX
][i];

261 
m_»ad_»gfe_aûs£s
[
PREV_STAT_IDX
][
i
]=m_»ad_»gfe_aûs£s[
CURRENT_STAT_IDX
][i];

262 
m_wr™e_»gfe_aûs£s
[
PREV_STAT_IDX
][
i
]=m_wr™e_»gfe_aûs£s[
CURRENT_STAT_IDX
][i];

263 
m_nÚ_rf_İ”ªds
[
PREV_STAT_IDX
][
i
]=m_nÚ_rf_İ”ªds[
CURRENT_STAT_IDX
][i];

264 
m_aùive_¥_ÏÃs
[
PREV_STAT_IDX
][
i
]=m_aùive_¥_ÏÃs[
CURRENT_STAT_IDX
][i];

265 
m_aùive_sfu_ÏÃs
[
PREV_STAT_IDX
][
i
]=m_aùive_sfu_ÏÃs[
CURRENT_STAT_IDX
][i];

267 
	}
}

269 
	gpow”_¡©_t
::
	$pow”_¡©_t
ĞcÚ¡ 
shad”_cÜe_cÚfig
 *
shad”_cÚfig
,* 
av”age_p–še_duty_cyşe
,*
aùive_sms
,
shad”_cÜe_¡©s
 * 
shad”_¡©s
, cÚ¡ 
memÜy_cÚfig
 *
mem_cÚfig
,
memÜy_¡©s_t
 * 
memÜy_¡©s
)

271 
	`as£¹
Ğ
shad”_cÚfig
->
m_v®id
 );

272 
	`as£¹
Ğ
mem_cÚfig
->
m_v®id
 );

273 
pwr_cÜe_¡©
ğ
Ãw
 
	`pow”_cÜe_¡©_t
(
shad”_cÚfig
,
shad”_¡©s
);

274 
pwr_mem_¡©
ğ
Ãw
 
	`pow”_mem_¡©_t
(
mem_cÚfig
,
shad”_cÚfig
, 
memÜy_¡©s
, 
shad”_¡©s
);

275 
m_av”age_p–še_duty_cyşe
=
av”age_p–še_duty_cyşe
;

276 
m_aùive_sms
=
aùive_sms
;

277 
m_cÚfig
 = 
shad”_cÚfig
;

278 
m_mem_cÚfig
 = 
mem_cÚfig
;

279 
	}
}

281 
	gpow”_¡©_t
::
	$visu®iz”_´št
Ğ
gzFe
 
visu®iz”_fe
 )

283 
pwr_cÜe_¡©
->
	`visu®iz”_´št
(
visu®iz”_fe
);

284 
pwr_mem_¡©
->
	`visu®iz”_´št
(
visu®iz”_fe
);

285 
	}
}

287 
	gpow”_¡©_t
::
	$´št
 (
FILE
 *
fout
) const

289 
	`årštf
(
fout
,"av”age_p–še_duty_cyşe=%f\n",*
m_av”age_p–še_duty_cyşe
);

290 
pwr_cÜe_¡©
->
	`´št
(
fout
);

291 
pwr_mem_¡©
->
	`´št
(
fout
);

292 
	}
}

	@power_stat.h

28 #iâdeà
POWER_STAT_H


29 
	#POWER_STAT_H


	)

31 
	~<¡dio.h
>

32 
	~<zlib.h
>

33 
	~"mem_Ï‹ncy_¡©.h
"

34 
	~"gpu-sim.h
"

36 
	e_¡©_idx
{

37 
	mCURRENT_STAT_IDX
 = 0,

38 
	mPREV_STAT_IDX
,

39 
	mNUM_STAT_IDX


40 }
	t¡©_idx
;

43 
	sshad”_cÜe_pow”_¡©s_pod
 {

45 *
	mm_p–še_duty_cyşe
[
NUM_STAT_IDX
];

46 *
	mm_num_decoded_š¢
[
NUM_STAT_IDX
];

47 *
	mm_num_FPdecoded_š¢
[
NUM_STAT_IDX
];

48 *
	mm_num_INTdecoded_š¢
[
NUM_STAT_IDX
];

49 *
	mm_num_¡Üequeued_š¢
[
NUM_STAT_IDX
];

50 *
	mm_num_lßdqueued_š¢
[
NUM_STAT_IDX
];

51 *
	mm_num_Ÿlu_aûs£s
[
NUM_STAT_IDX
];

52 *
	mm_num_å_aûs£s
[
NUM_STAT_IDX
];

53 *
	mm_num_‹x_š¡
[
NUM_STAT_IDX
];

54 *
	mm_num_imul_aûs£s
[
NUM_STAT_IDX
];

55 *
	mm_num_imul32_aûs£s
[
NUM_STAT_IDX
];

56 *
	mm_num_imul24_aûs£s
[
NUM_STAT_IDX
];

57 *
	mm_num_åmul_aûs£s
[
NUM_STAT_IDX
];

58 *
	mm_num_idiv_aûs£s
[
NUM_STAT_IDX
];

59 *
	mm_num_ådiv_aûs£s
[
NUM_STAT_IDX
];

60 *
	mm_num_¥_aûs£s
[
NUM_STAT_IDX
];

61 *
	mm_num_sfu_aûs£s
[
NUM_STAT_IDX
];

62 *
	mm_num_Œªs_aûs£s
[
NUM_STAT_IDX
];

63 *
	mm_num_mem_aûs£s
[
NUM_STAT_IDX
];

64 *
	mm_num_¥_comm™‹d
[
NUM_STAT_IDX
];

65 *
	mm_num_sfu_comm™‹d
[
NUM_STAT_IDX
];

66 *
	mm_num_mem_comm™‹d
[
NUM_STAT_IDX
];

67 *
	mm_aùive_¥_ÏÃs
[
NUM_STAT_IDX
];

68 *
	mm_aùive_sfu_ÏÃs
[
NUM_STAT_IDX
];

69 *
	mm_»ad_»gfe_aûs£s
[
NUM_STAT_IDX
];

70 *
	mm_wr™e_»gfe_aûs£s
[
NUM_STAT_IDX
];

71 *
	mm_nÚ_rf_İ”ªds
[
NUM_STAT_IDX
];

74 şas 
	cpow”_cÜe_¡©_t
 : 
public
 
shad”_cÜe_pow”_¡©s_pod
 {

75 
public
:

76 
pow”_cÜe_¡©_t
(cÚ¡ 
shad”_cÜe_cÚfig
 *
shad”_cÚfig
, 
shad”_cÜe_¡©s
 *
cÜe_¡©s
);

77 
visu®iz”_´št
Ğ
gzFe
 
visu®iz”_fe
 );

78 
´št
 (
FILE
 *
fout
);

79 
š™
();

80 
§ve_¡©s
();

82 
	m´iv©e
:

83 
shad”_cÜe_¡©s
 * 
m_cÜe_¡©s
;

84 cÚ¡ 
shad”_cÜe_cÚfig
 *
	mm_cÚfig
;

85 
	mav”age_duty_cyşe
;

90 
	smem_pow”_¡©s_pod
{

92 
şass
 
ÿche_¡©s
 
	mcÜe_ÿche_¡©s
[
NUM_STAT_IDX
];

93 
şass
 
ÿche_¡©s
 
	ml2_ÿche_¡©s
[
NUM_STAT_IDX
];

95 *
	mshmem_»ad_acûss
[
NUM_STAT_IDX
];

98 *
	mn_cmd
[
NUM_STAT_IDX
];

99 *
	mn_aùiv™y
[
NUM_STAT_IDX
];

100 *
	mn_nİ
[
NUM_STAT_IDX
];

101 *
	mn_aù
[
NUM_STAT_IDX
];

102 *
	mn_´e
[
NUM_STAT_IDX
];

103 *
	mn_rd
[
NUM_STAT_IDX
];

104 *
	mn_wr
[
NUM_STAT_IDX
];

105 *
	mn_»q
[
NUM_STAT_IDX
];

108 *
	mn_simt_to_mem
[
NUM_STAT_IDX
];

109 *
	mn_mem_to_simt
[
NUM_STAT_IDX
];

114 şas 
	cpow”_mem_¡©_t
 : 
public
 
mem_pow”_¡©s_pod
{

115 
public
:

116 
pow”_mem_¡©_t
(cÚ¡ 
memÜy_cÚfig
 *
mem_cÚfig
, cÚ¡ 
shad”_cÜe_cÚfig
 *
shdr_cÚfig
, 
memÜy_¡©s_t
 *
mem_¡©s
, 
shad”_cÜe_¡©s
 *
shdr_¡©s
);

117 
visu®iz”_´št
Ğ
gzFe
 
visu®iz”_fe
 );

118 
	$´št
 (
FILE
 *
fout
) const;

119 
	`š™
();

120 
	`§ve_¡©s
();

121 
´iv©e
:

122 
memÜy_¡©s_t
 *
m_mem_¡©s
;

123 
shad”_cÜe_¡©s
 * 
m_cÜe_¡©s
;

124 cÚ¡ 
memÜy_cÚfig
 *
m_cÚfig
;

125 cÚ¡ 
shad”_cÜe_cÚfig
 *
m_cÜe_cÚfig
;

129 şas 
	cpow”_¡©_t
 {

130 
public
:

131 
	`pow”_¡©_t
ĞcÚ¡ 
shad”_cÜe_cÚfig
 *
shad”_cÚfig
,* 
av”age_p–še_duty_cyşe
,* 
aùive_sms
,
shad”_cÜe_¡©s
 * 
shad”_¡©s
, cÚ¡ 
memÜy_cÚfig
 *
mem_cÚfig
,
memÜy_¡©s_t
 * 
memÜy_¡©s
);

132 
	`visu®iz”_´št
Ğ
gzFe
 
visu®iz”_fe
 );

133 
	$´št
 (
FILE
 *
fout
) const;

134 
	$§ve_¡©s
(){

135 
pwr_cÜe_¡©
->
	`§ve_¡©s
();

136 
pwr_mem_¡©
->
	`§ve_¡©s
();

137 *
m_av”age_p–še_duty_cyşe
=0;

138 *
m_aùive_sms
=0;

141 
	$g‘_tÙ®_š¡
(){

142 
tÙ®_š¡
=0;

143 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

144 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_num_decoded_š¢
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_decoded_š¢[
PREV_STAT_IDX
][i]);

146  
tÙ®_š¡
;

147 
	}
}

148 
	$g‘_tÙ®_št_š¡
(){

149 
tÙ®_š¡
=0;

150 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

151 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_num_INTdecoded_š¢
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_INTdecoded_š¢[
PREV_STAT_IDX
][i]);

153  
tÙ®_š¡
;

154 
	}
}

155 
	$g‘_tÙ®_å_š¡
(){

156 
tÙ®_š¡
=0;

157 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

158 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_num_FPdecoded_š¢
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_FPdecoded_š¢[
PREV_STAT_IDX
][i]);

160  
tÙ®_š¡
;

161 
	}
}

162 
	$g‘_tÙ®_lßd_š¡
(){

163 
tÙ®_š¡
=0;

164 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

165 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_num_lßdqueued_š¢
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_lßdqueued_š¢[
PREV_STAT_IDX
][i]);

167  
tÙ®_š¡
;

168 
	}
}

169 
	$g‘_tÙ®_¡Üe_š¡
(){

170 
tÙ®_š¡
=0;

171 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

172 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_num_¡Üequeued_š¢
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_¡Üequeued_š¢[
PREV_STAT_IDX
][i]);

174  
tÙ®_š¡
;

175 
	}
}

176 
	$g‘_¥_comm™‹d_š¡
(){

177 
tÙ®_š¡
=0;

178 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

179 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_num_¥_comm™‹d
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_¥_comm™‹d[
PREV_STAT_IDX
][i]);

181  
tÙ®_š¡
;

182 
	}
}

183 
	$g‘_sfu_comm™‹d_š¡
(){

184 
tÙ®_š¡
=0;

185 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

186 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_num_sfu_comm™‹d
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_sfu_comm™‹d[
PREV_STAT_IDX
][i]);

188  
tÙ®_š¡
;

189 
	}
}

190 
	$g‘_mem_comm™‹d_š¡
(){

191 
tÙ®_š¡
=0;

192 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

193 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_num_mem_comm™‹d
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_mem_comm™‹d[
PREV_STAT_IDX
][i]);

195  
tÙ®_š¡
;

196 
	}
}

197 
	$g‘_comm™‹d_š¡
(){

198 
tÙ®_š¡
=0;

199 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

200 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_num_mem_comm™‹d
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_mem_comm™‹d[
PREV_STAT_IDX
][i])

201 +(
pwr_cÜe_¡©
->
m_num_sfu_comm™‹d
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_sfu_comm™‹d[
PREV_STAT_IDX
][i])

202 +(
pwr_cÜe_¡©
->
m_num_¥_comm™‹d
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_¥_comm™‹d[
PREV_STAT_IDX
][i]);

204  
tÙ®_š¡
;

205 
	}
}

206 
	$g‘_»gfe_»ads
(){

207 
tÙ®_š¡
=0;

208 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

209 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_»ad_»gfe_aûs£s
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_»ad_»gfe_aûs£s[
PREV_STAT_IDX
][i]);

211  
tÙ®_š¡
;

212 
	}
}

213 
	$g‘_»gfe_wr™es
(){

214 
tÙ®_š¡
=0;

215 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

216 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_wr™e_»gfe_aûs£s
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_wr™e_»gfe_aûs£s[
PREV_STAT_IDX
][i]);

218  
tÙ®_š¡
;

219 
	}
}

221 
	$g‘_p–še_duty
(){

222 
tÙ®_š¡
=0;

223 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

224 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_p–še_duty_cyşe
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_p–še_duty_cyşe[
PREV_STAT_IDX
][i]);

226  
tÙ®_š¡
;

227 
	}
}

229 
	$g‘_nÚ_»gfe_İ”ªds
(){

230 
tÙ®_š¡
=0;

231 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

232 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_nÚ_rf_İ”ªds
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_nÚ_rf_İ”ªds[
PREV_STAT_IDX
][i]);

234  
tÙ®_š¡
;

235 
	}
}

237 
	$g‘_¥_acûs£ss
(){

238 
tÙ®_š¡
=0;

239 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

240 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_num_¥_aûs£s
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_¥_aûs£s[
PREV_STAT_IDX
][i]);

242  
tÙ®_š¡
;

243 
	}
}

245 
	$g‘_sfu_acûs£ss
(){

246 
tÙ®_š¡
=0;

247 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

248 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_num_sfu_aûs£s
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_sfu_aûs£s[
PREV_STAT_IDX
][i]);

250  
tÙ®_š¡
;

251 
	}
}

252 
	$g‘_Œªs_acûs£ss
(){

253 
tÙ®_š¡
=0;

254 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

255 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_num_Œªs_aûs£s
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_Œªs_aûs£s[
PREV_STAT_IDX
][i]);

257  
tÙ®_š¡
;

258 
	}
}

260 
	$g‘_mem_acûs£ss
(){

261 
tÙ®_š¡
=0;

262 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

263 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_num_mem_aûs£s
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_mem_aûs£s[
PREV_STAT_IDX
][i]);

265  
tÙ®_š¡
;

266 
	}
}

268 
	$g‘_štdiv_acûs£ss
(){

269 
tÙ®_š¡
=0;

270 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

271 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_num_idiv_aûs£s
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_idiv_aûs£s[
PREV_STAT_IDX
][i]);

273  
tÙ®_š¡
;

274 
	}
}

276 
	$g‘_ådiv_acûs£ss
(){

277 
tÙ®_š¡
=0;

278 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

279 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_num_ådiv_aûs£s
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_ådiv_aûs£s[
PREV_STAT_IDX
][i]);

281  
tÙ®_š¡
;

282 
	}
}

284 
	$g‘_štmul32_acûs£ss
(){

285 
tÙ®_š¡
=0;

286 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

287 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_num_imul32_aûs£s
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_imul32_aûs£s[
PREV_STAT_IDX
][i]);

289  
tÙ®_š¡
;

290 
	}
}

292 
	$g‘_štmul24_acûs£ss
(){

293 
tÙ®_š¡
=0;

294 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

295 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_num_imul24_aûs£s
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_imul24_aûs£s[
PREV_STAT_IDX
][i]);

297  
tÙ®_š¡
;

298 
	}
}

300 
	$g‘_štmul_acûs£ss
(){

301 
tÙ®_š¡
=0;

302 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

303 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_num_imul_aûs£s
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_imul_aûs£s[
PREV_STAT_IDX
][i])+

304 (
pwr_cÜe_¡©
->
m_num_imul24_aûs£s
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_imul24_aûs£s[
PREV_STAT_IDX
][i])+

305 (
pwr_cÜe_¡©
->
m_num_imul32_aûs£s
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_imul32_aûs£s[
PREV_STAT_IDX
][i]);

307  
tÙ®_š¡
;

308 
	}
}

310 
	$g‘_åmul_acûs£ss
(){

311 
tÙ®_š¡
=0;

312 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

313 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_num_å_aûs£s
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_å_aûs£s[
PREV_STAT_IDX
][i]);

315  
tÙ®_š¡
;

316 
	}
}

318 
	$g‘_¥_aùive_ÏÃs
(){

319 
tÙ®_š¡
=0;

320 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

321 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_aùive_¥_ÏÃs
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_aùive_¥_ÏÃs[
PREV_STAT_IDX
][i]);

323  (
tÙ®_š¡
/
m_cÚfig
->
	`num_shad”
())/m_cÚfig->
gpgpu_num_¥_un™s
;

324 
	}
}

326 
	$g‘_sfu_aùive_ÏÃs
(){

327 
tÙ®_š¡
=0;

328 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

329 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_aùive_sfu_ÏÃs
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_aùive_sfu_ÏÃs[
PREV_STAT_IDX
][i]);

332  (
tÙ®_š¡
/
m_cÚfig
->
	`num_shad”
())/m_cÚfig->
gpgpu_num_sfu_un™s
;

333 
	}
}

335 
	$g‘_tÙ_åu_acûs£ss
(){

336 
tÙ®_š¡
=0;

337 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

338 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_num_å_aûs£s
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_å_aûs£s[
PREV_STAT_IDX
][i])+

339 (
pwr_cÜe_¡©
->
m_num_ådiv_aûs£s
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_ådiv_aûs£s[
PREV_STAT_IDX
][i])+

340 (
pwr_cÜe_¡©
->
m_num_åmul_aûs£s
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_åmul_aûs£s[
PREV_STAT_IDX
][i])+

341 (
pwr_cÜe_¡©
->
m_num_imul24_aûs£s
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_imul24_aûs£s[
PREV_STAT_IDX
][i])+

342 (
pwr_cÜe_¡©
->
m_num_imul_aûs£s
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_imul_aûs£s[
PREV_STAT_IDX
][i]);

344 
tÙ®_š¡
 +ğ
	`g‘_tÙ®_lßd_š¡
()+
	`g‘_tÙ®_¡Üe_š¡
()+
	`g‘_‹x_š¡
();

345  
tÙ®_š¡
;

346 
	}
}

348 
	$g‘_tÙ_sfu_acûs£ss
(){

349 
tÙ®_š¡
=0;

350 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

351 
tÙ®_š¡
+ğ(
pwr_cÜe_¡©
->
m_num_idiv_aûs£s
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_idiv_aûs£s[
PREV_STAT_IDX
][i])+

352 (
pwr_cÜe_¡©
->
m_num_imul32_aûs£s
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_imul32_aûs£s[
PREV_STAT_IDX
][i])+

353 (
pwr_cÜe_¡©
->
m_num_Œªs_aûs£s
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_Œªs_aûs£s[
PREV_STAT_IDX
][i]);

355  
tÙ®_š¡
;

356 
	}
}

358 
	$g‘_Ÿlu_acûs£ss
(){

359 
tÙ®_š¡
=0;

360 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

361 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_num_Ÿlu_aûs£s
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_Ÿlu_aûs£s[
PREV_STAT_IDX
][i]);

363  
tÙ®_š¡
;

364 
	}
}

366 
	$g‘_‹x_š¡
(){

367 
tÙ®_š¡
=0;

368 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

369 
tÙ®_š¡
+=(
pwr_cÜe_¡©
->
m_num_‹x_š¡
[
CURRENT_STAT_IDX
][
i
]è- (pwr_cÜe_¡©->m_num_‹x_š¡[
PREV_STAT_IDX
][i]);

371  
tÙ®_š¡
;

372 
	}
}

374 
	$g‘_cÚ¡ªt_c_acûs£s
(){

375 
mem_acûss_ty³
 
acûss_ty³
[] = {
CONST_ACC_R
};

376 
ÿche_»que¡_¡©us
 
»que¡_¡©us
[] = {
HIT
, 
MISS
, 
HIT_RESERVED
};

377 
num_acûss_ty³
 = (
acûss_ty³
)/(
mem_acûss_ty³
);

378 
num_»que¡_¡©us
 = (
»que¡_¡©us
)/(
ÿche_»que¡_¡©us
);

380  (
pwr_mem_¡©
->
cÜe_ÿche_¡©s
[
CURRENT_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
)) -

381 (
pwr_mem_¡©
->
cÜe_ÿche_¡©s
[
PREV_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
));

382 
	}
}

383 
	$g‘_cÚ¡ªt_c_mis£s
(){

384 
mem_acûss_ty³
 
acûss_ty³
[] = {
CONST_ACC_R
};

385 
ÿche_»que¡_¡©us
 
»que¡_¡©us
[] = {
MISS
};

386 
num_acûss_ty³
 = (
acûss_ty³
)/(
mem_acûss_ty³
);

387 
num_»que¡_¡©us
 = (
»que¡_¡©us
)/(
ÿche_»que¡_¡©us
);

389  (
pwr_mem_¡©
->
cÜe_ÿche_¡©s
[
CURRENT_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
)) -

390 (
pwr_mem_¡©
->
cÜe_ÿche_¡©s
[
PREV_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
));

391 
	}
}

392 
	$g‘_cÚ¡ªt_c_h™s
(){

393  (
	`g‘_cÚ¡ªt_c_acûs£s
()-
	`g‘_cÚ¡ªt_c_mis£s
());

394 
	}
}

395 
	$g‘_‹xtu»_c_acûs£s
(){

396 
mem_acûss_ty³
 
acûss_ty³
[] = {
TEXTURE_ACC_R
};

397 
ÿche_»que¡_¡©us
 
»que¡_¡©us
[] = {
HIT
, 
MISS
, 
HIT_RESERVED
};

398 
num_acûss_ty³
 = (
acûss_ty³
)/(
mem_acûss_ty³
);

399 
num_»que¡_¡©us
 = (
»que¡_¡©us
)/(
ÿche_»que¡_¡©us
);

401  (
pwr_mem_¡©
->
cÜe_ÿche_¡©s
[
CURRENT_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
)) -

402 (
pwr_mem_¡©
->
cÜe_ÿche_¡©s
[
PREV_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
));

403 
	}
}

404 
	$g‘_‹xtu»_c_mis£s
(){

405 
mem_acûss_ty³
 
acûss_ty³
[] = {
TEXTURE_ACC_R
};

406 
ÿche_»que¡_¡©us
 
»que¡_¡©us
[] = {
MISS
};

407 
num_acûss_ty³
 = (
acûss_ty³
)/(
mem_acûss_ty³
);

408 
num_»que¡_¡©us
 = (
»que¡_¡©us
)/(
ÿche_»que¡_¡©us
);

410  (
pwr_mem_¡©
->
cÜe_ÿche_¡©s
[
CURRENT_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
)) -

411 (
pwr_mem_¡©
->
cÜe_ÿche_¡©s
[
PREV_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
));

412 
	}
}

413 
	$g‘_‹xtu»_c_h™s
(){

414  ( 
	`g‘_‹xtu»_c_acûs£s
()- 
	`g‘_‹xtu»_c_mis£s
());

415 
	}
}

416 
	$g‘_š¡_c_acûs£s
(){

417 
mem_acûss_ty³
 
acûss_ty³
[] = {
INST_ACC_R
};

418 
ÿche_»que¡_¡©us
 
»que¡_¡©us
[] = {
HIT
, 
MISS
, 
HIT_RESERVED
};

419 
num_acûss_ty³
 = (
acûss_ty³
)/(
mem_acûss_ty³
);

420 
num_»que¡_¡©us
 = (
»que¡_¡©us
)/(
ÿche_»que¡_¡©us
);

422  (
pwr_mem_¡©
->
cÜe_ÿche_¡©s
[
CURRENT_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
)) -

423 (
pwr_mem_¡©
->
cÜe_ÿche_¡©s
[
PREV_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
));

424 
	}
}

425 
	$g‘_š¡_c_mis£s
(){

426 
mem_acûss_ty³
 
acûss_ty³
[] = {
INST_ACC_R
};

427 
ÿche_»que¡_¡©us
 
»que¡_¡©us
[] = {
MISS
};

428 
num_acûss_ty³
 = (
acûss_ty³
)/(
mem_acûss_ty³
);

429 
num_»que¡_¡©us
 = (
»que¡_¡©us
)/(
ÿche_»que¡_¡©us
);

431  (
pwr_mem_¡©
->
cÜe_ÿche_¡©s
[
CURRENT_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
)) -

432 (
pwr_mem_¡©
->
cÜe_ÿche_¡©s
[
PREV_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
));

433 
	}
}

434 
	$g‘_š¡_c_h™s
(){

435  (
	`g‘_š¡_c_acûs£s
()-
	`g‘_š¡_c_mis£s
());

436 
	}
}

438 
	$g‘_l1d_»ad_acûs£s
(){

439 
mem_acûss_ty³
 
acûss_ty³
[] = {
GLOBAL_ACC_R
, 
LOCAL_ACC_R
};

440 
ÿche_»que¡_¡©us
 
»que¡_¡©us
[] = {
HIT
, 
MISS
, 
HIT_RESERVED
};

441 
num_acûss_ty³
 = (
acûss_ty³
)/(
mem_acûss_ty³
);

442 
num_»que¡_¡©us
 = (
»que¡_¡©us
)/(
ÿche_»que¡_¡©us
);

444  (
pwr_mem_¡©
->
cÜe_ÿche_¡©s
[
CURRENT_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
)) -

445 (
pwr_mem_¡©
->
cÜe_ÿche_¡©s
[
PREV_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
));

446 
	}
}

447 
	$g‘_l1d_»ad_mis£s
(){

448 
mem_acûss_ty³
 
acûss_ty³
[] = {
GLOBAL_ACC_R
, 
LOCAL_ACC_R
};

449 
ÿche_»que¡_¡©us
 
»que¡_¡©us
[] = {
MISS
};

450 
num_acûss_ty³
 = (
acûss_ty³
)/(
mem_acûss_ty³
);

451 
num_»que¡_¡©us
 = (
»que¡_¡©us
)/(
ÿche_»que¡_¡©us
);

453  (
pwr_mem_¡©
->
cÜe_ÿche_¡©s
[
CURRENT_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
)) -

454 (
pwr_mem_¡©
->
cÜe_ÿche_¡©s
[
PREV_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
));

455 
	}
}

456 
	$g‘_l1d_»ad_h™s
(){

457  (
	`g‘_l1d_»ad_acûs£s
()-
	`g‘_l1d_»ad_mis£s
());

458 
	}
}

459 
	$g‘_l1d_wr™e_acûs£s
(){

460 
mem_acûss_ty³
 
acûss_ty³
[] = {
GLOBAL_ACC_W
, 
LOCAL_ACC_W
};

461 
ÿche_»que¡_¡©us
 
»que¡_¡©us
[] = {
HIT
, 
MISS
, 
HIT_RESERVED
};

462 
num_acûss_ty³
 = (
acûss_ty³
)/(
mem_acûss_ty³
);

463 
num_»que¡_¡©us
 = (
»que¡_¡©us
)/(
ÿche_»que¡_¡©us
);

465  (
pwr_mem_¡©
->
cÜe_ÿche_¡©s
[
CURRENT_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
)) -

466 (
pwr_mem_¡©
->
cÜe_ÿche_¡©s
[
PREV_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
));

467 
	}
}

468 
	$g‘_l1d_wr™e_mis£s
(){

469 
mem_acûss_ty³
 
acûss_ty³
[] = {
GLOBAL_ACC_W
, 
LOCAL_ACC_W
};

470 
ÿche_»que¡_¡©us
 
»que¡_¡©us
[] = {
MISS
};

471 
num_acûss_ty³
 = (
acûss_ty³
)/(
mem_acûss_ty³
);

472 
num_»que¡_¡©us
 = (
»que¡_¡©us
)/(
ÿche_»que¡_¡©us
);

474  (
pwr_mem_¡©
->
cÜe_ÿche_¡©s
[
CURRENT_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
)) -

475 (
pwr_mem_¡©
->
cÜe_ÿche_¡©s
[
PREV_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
));

476 
	}
}

477 
	$g‘_l1d_wr™e_h™s
(){

478  (
	`g‘_l1d_wr™e_acûs£s
()-
	`g‘_l1d_wr™e_mis£s
());

479 
	}
}

480 
	$g‘_ÿche_mis£s
(){

481  
	`g‘_l1d_»ad_mis£s
()+
	`g‘_cÚ¡ªt_c_mis£s
()+
	`g‘_l1d_wr™e_mis£s
()+
	`g‘_‹xtu»_c_mis£s
();

482 
	}
}

484 
	$g‘_ÿche_»ad_mis£s
(){

485  
	`g‘_l1d_»ad_mis£s
()+
	`g‘_cÚ¡ªt_c_mis£s
()+
	`g‘_‹xtu»_c_mis£s
();

486 
	}
}

488 
	$g‘_ÿche_wr™e_mis£s
(){

489  
	`g‘_l1d_wr™e_mis£s
();

490 
	}
}

492 
	$g‘_shmem_»ad_acûss
(){

493 
tÙ®_š¡
=0;

494 
i
=0; i<
m_cÚfig
->
	`num_shad”
();i++){

495 
tÙ®_š¡
+=(
pwr_mem_¡©
->
shmem_»ad_acûss
[
CURRENT_STAT_IDX
][
i
]è- (pwr_mem_¡©->shmem_»ad_acûss[
PREV_STAT_IDX
][i]);

497  
tÙ®_š¡
;

498 
	}
}

500 
	$g‘_l2_»ad_acûs£s
(){

501 
mem_acûss_ty³
 
acûss_ty³
[] = {
GLOBAL_ACC_R
, 
LOCAL_ACC_R
, 
CONST_ACC_R
, 
TEXTURE_ACC_R
, 
INST_ACC_R
};

502 
ÿche_»que¡_¡©us
 
»que¡_¡©us
[] = {
HIT
, 
MISS
, 
HIT_RESERVED
};

503 
num_acûss_ty³
 = (
acûss_ty³
)/(
mem_acûss_ty³
);

504 
num_»que¡_¡©us
 = (
»que¡_¡©us
)/(
ÿche_»que¡_¡©us
);

506  (
pwr_mem_¡©
->
l2_ÿche_¡©s
[
CURRENT_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
)) -

507 (
pwr_mem_¡©
->
l2_ÿche_¡©s
[
PREV_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
));

508 
	}
}

510 
	$g‘_l2_»ad_mis£s
(){

511 
mem_acûss_ty³
 
acûss_ty³
[] = {
GLOBAL_ACC_R
, 
LOCAL_ACC_R
, 
CONST_ACC_R
, 
TEXTURE_ACC_R
, 
INST_ACC_R
};

512 
ÿche_»que¡_¡©us
 
»que¡_¡©us
[] = {
MISS
};

513 
num_acûss_ty³
 = (
acûss_ty³
)/(
mem_acûss_ty³
);

514 
num_»que¡_¡©us
 = (
»que¡_¡©us
)/(
ÿche_»que¡_¡©us
);

516  (
pwr_mem_¡©
->
l2_ÿche_¡©s
[
CURRENT_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
)) -

517 (
pwr_mem_¡©
->
l2_ÿche_¡©s
[
PREV_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
));

518 
	}
}

520 
	$g‘_l2_»ad_h™s
(){

521  (
	`g‘_l2_»ad_acûs£s
()-
	`g‘_l2_»ad_mis£s
());

522 
	}
}

524 
	$g‘_l2_wr™e_acûs£s
(){

525 
mem_acûss_ty³
 
acûss_ty³
[] = {
GLOBAL_ACC_W
, 
LOCAL_ACC_W
, 
L1_WRBK_ACC
};

526 
ÿche_»que¡_¡©us
 
»que¡_¡©us
[] = {
HIT
, 
MISS
, 
HIT_RESERVED
};

527 
num_acûss_ty³
 = (
acûss_ty³
)/(
mem_acûss_ty³
);

528 
num_»que¡_¡©us
 = (
»que¡_¡©us
)/(
ÿche_»que¡_¡©us
);

530  (
pwr_mem_¡©
->
l2_ÿche_¡©s
[
CURRENT_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
)) -

531 (
pwr_mem_¡©
->
l2_ÿche_¡©s
[
PREV_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
));

532 
	}
}

534 
	$g‘_l2_wr™e_mis£s
(){

535 
mem_acûss_ty³
 
acûss_ty³
[] = {
GLOBAL_ACC_W
, 
LOCAL_ACC_W
, 
L1_WRBK_ACC
};

536 
ÿche_»que¡_¡©us
 
»que¡_¡©us
[] = {
MISS
};

537 
num_acûss_ty³
 = (
acûss_ty³
)/(
mem_acûss_ty³
);

538 
num_»que¡_¡©us
 = (
»que¡_¡©us
)/(
ÿche_»que¡_¡©us
);

540  (
pwr_mem_¡©
->
l2_ÿche_¡©s
[
CURRENT_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
)) -

541 (
pwr_mem_¡©
->
l2_ÿche_¡©s
[
PREV_STAT_IDX
].
	`g‘_¡©s
(
acûss_ty³
, 
num_acûss_ty³
, 
»que¡_¡©us
, 
num_»que¡_¡©us
));

542 
	}
}

543 
	$g‘_l2_wr™e_h™s
(){

544  (
	`g‘_l2_wr™e_acûs£s
()-
	`g‘_l2_wr™e_mis£s
());

545 
	}
}

546 
	$g‘_d¿m_cmd
(){

547 
tÙ®
=0;

548 
i
=0; i<
m_mem_cÚfig
->
m_n_mem
; ++i){

549 
tÙ®
 +ğ(
pwr_mem_¡©
->
n_cmd
[
CURRENT_STAT_IDX
][
i
] -…wr_mem_¡©->n_cmd[
PREV_STAT_IDX
][i]);

551  
tÙ®
;

552 
	}
}

553 
	$g‘_d¿m_aùiv™y
(){

554 
tÙ®
=0;

555 
i
=0; i<
m_mem_cÚfig
->
m_n_mem
; ++i){

556 
tÙ®
 +ğ(
pwr_mem_¡©
->
n_aùiv™y
[
CURRENT_STAT_IDX
][
i
] -…wr_mem_¡©->n_aùiv™y[
PREV_STAT_IDX
][i]);

558  
tÙ®
;

559 
	}
}

560 
	$g‘_d¿m_nİ
(){

561 
tÙ®
=0;

562 
i
=0; i<
m_mem_cÚfig
->
m_n_mem
; ++i){

563 
tÙ®
 +ğ(
pwr_mem_¡©
->
n_nİ
[
CURRENT_STAT_IDX
][
i
] -…wr_mem_¡©->n_nİ[
PREV_STAT_IDX
][i]);

565  
tÙ®
;

566 
	}
}

567 
	$g‘_d¿m_aù
(){

568 
tÙ®
=0;

569 
i
=0; i<
m_mem_cÚfig
->
m_n_mem
; ++i){

570 
tÙ®
 +ğ(
pwr_mem_¡©
->
n_aù
[
CURRENT_STAT_IDX
][
i
] -…wr_mem_¡©->n_aù[
PREV_STAT_IDX
][i]);

572  
tÙ®
;

573 
	}
}

574 
	$g‘_d¿m_´e
(){

575 
tÙ®
=0;

576 
i
=0; i<
m_mem_cÚfig
->
m_n_mem
; ++i){

577 
tÙ®
 +ğ(
pwr_mem_¡©
->
n_´e
[
CURRENT_STAT_IDX
][
i
] -…wr_mem_¡©->n_´e[
PREV_STAT_IDX
][i]);

579  
tÙ®
;

580 
	}
}

581 
	$g‘_d¿m_rd
(){

582 
tÙ®
=0;

583 
i
=0; i<
m_mem_cÚfig
->
m_n_mem
; ++i){

584 
tÙ®
 +ğ(
pwr_mem_¡©
->
n_rd
[
CURRENT_STAT_IDX
][
i
] -…wr_mem_¡©->n_rd[
PREV_STAT_IDX
][i]);

586  
tÙ®
;

587 
	}
}

588 
	$g‘_d¿m_wr
(){

589 
tÙ®
=0;

590 
i
=0; i<
m_mem_cÚfig
->
m_n_mem
; ++i){

591 
tÙ®
 +ğ(
pwr_mem_¡©
->
n_wr
[
CURRENT_STAT_IDX
][
i
] -…wr_mem_¡©->n_wr[
PREV_STAT_IDX
][i]);

593  
tÙ®
;

594 
	}
}

595 
	$g‘_d¿m_»q
(){

596 
tÙ®
=0;

597 
i
=0; i<
m_mem_cÚfig
->
m_n_mem
; ++i){

598 
tÙ®
 +ğ(
pwr_mem_¡©
->
n_»q
[
CURRENT_STAT_IDX
][
i
] -…wr_mem_¡©->n_»q[
PREV_STAT_IDX
][i]);

600  
tÙ®
;

601 
	}
}

603 
	$g‘_iút_simt_to_mem
(){

604 
tÙ®
=0;

605 
i
=0; i<
m_cÚfig
->
n_simt_şu¡”s
; ++i){

606 
tÙ®
 +ğ(
pwr_mem_¡©
->
n_simt_to_mem
[
CURRENT_STAT_IDX
][
i
] -…wr_mem_¡©->n_simt_to_mem[
PREV_STAT_IDX
][i]);

608  
tÙ®
;

609 
	}
}

611 
	$g‘_iút_mem_to_simt
(){

612 
tÙ®
=0;

613 
i
=0; i<
m_cÚfig
->
n_simt_şu¡”s
; ++i){

614 
tÙ®
 +ğ(
pwr_mem_¡©
->
n_mem_to_simt
[
CURRENT_STAT_IDX
][
i
] -…wr_mem_¡©->n_mem_to_simt[
PREV_STAT_IDX
][i]);

616  
tÙ®
;

617 
	}
}

619 
pow”_cÜe_¡©_t
 * 
	gpwr_cÜe_¡©
;

620 
pow”_mem_¡©_t
 * 
	gpwr_mem_¡©
;

621 * 
	gm_av”age_p–še_duty_cyşe
;

622 * 
	gm_aùive_sms
;

623 cÚ¡ 
shad”_cÜe_cÚfig
 *
	gm_cÚfig
;

624 cÚ¡ 
memÜy_cÚfig
 *
	gm_mem_cÚfig
;

	@scoreboard.cc

28 
	~"scÜebßrd.h
"

29 
	~"shad”.h
"

30 
	~"../cuda-sim/±x_sim.h
"

31 
	~"shad”_Œaû.h
"

35 
	gScÜebßrd
::
	$ScÜebßrd
Ğ
sid
, 
n_w¬ps
 )

36 : 
	$lÚgİ»gs
()

38 
m_sid
 = 
sid
;

40 
»g_bË
.
	`»size
(
n_w¬ps
);

41 
lÚgİ»gs
.
	`»size
(
n_w¬ps
);

42 
	}
}

45 
	gScÜebßrd
::
	$´štCÚ‹Ás
() const

47 
	`´štf
("scÜebßrd cÚ‹Á (sid=%d): \n", 
m_sid
);

48 
i
=0; i<
»g_bË
.
	`size
(); i++) {

49 if(
»g_bË
[
i
].
	`size
() == 0 ) ;

50 
	`´štf
(" wid = %2d: ", 
i
);

51 
¡d
::
£t
<>::
cÚ¡_™”©Ü
 
™
;

52  
™
=
»g_bË
[
i
].
	`begš
(è; iˆ!ğ»g_bË[i].
	`’d
(); it++ )

53 
	`´štf
("%u ", *
™
);

54 
	`´štf
("\n");

56 
	}
}

58 
	gScÜebßrd
::
	$»£rveRegi¡”
(
wid
, 
»gnum
)

60 ifĞ!(
»g_bË
[
wid
].
	`fšd
(
»gnum
è=ğ»g_bË[wid].
	`’d
()) ){

61 
	`´štf
("E¼Ü:ryšgØ»£rvª‡Ì—dy„e£rved„egi¡” (sid=%d, wid=%d,„egnum=%d).", 
m_sid
, 
wid
, 
»gnum
);

62 
	`abÜt
();

64 
	`SHADER_DPRINTF
Ğ
SCOREBOARD
,

65 "Re£rved Regi¡” - w¬p:%d,„eg: %d\n", 
wid
, 
»gnum
 );

66 
»g_bË
[
wid
].
	`š£¹
(
»gnum
);

67 
	}
}

70 
	gScÜebßrd
::
	$»Ëa£Regi¡”
(
wid
, 
»gnum
)

72 ifĞ!(
»g_bË
[
wid
].
	`fšd
(
»gnum
è!ğ»g_bË[wid].
	`’d
()) )

74 
	`SHADER_DPRINTF
Ğ
SCOREBOARD
,

75 "R–—£„egi¡” - w¬p:%d,„eg: %d\n", 
wid
, 
»gnum
 );

76 
»g_bË
[
wid
].
	`”a£
(
»gnum
);

77 
lÚgİ»gs
[
wid
].
	`”a£
(
»gnum
);

78 
	}
}

80 cÚ¡ 
boŞ
 
	gScÜebßrd
::
	$i¦Úgİ
 (
w¬p_id
,
»gnum
) {

81  
lÚgİ»gs
[
w¬p_id
].
	`fšd
(
»gnum
è!ğlÚgİ»gs[w¬p_id].
	`’d
();

82 
	}
}

84 
	gScÜebßrd
::
	$»£rveRegi¡”s
(cÚ¡ 
şass
 
w¬p_š¡_t
* 
š¡
)

86  
r
=0;„ < 4;„++) {

87 if(
š¡
->
out
[
r
] > 0) {

88 
	`»£rveRegi¡”
(
š¡
->
	`w¬p_id
(), in¡->
out
[
r
]);

89 
	`SHADER_DPRINTF
Ğ
SCOREBOARD
,

91 
š¡
->
	`w¬p_id
(),

92 
š¡
->
out
[
r
] );

97 ià(
š¡
->
	`is_lßd
() &&

98 Ğ
š¡
->
¥aû
.
	`g‘_ty³
(è=ğ
glob®_¥aû
 ||

99 
š¡
->
¥aû
.
	`g‘_ty³
(è=ğ
loÿl_¥aû
 ||

100 
š¡
->
¥aû
.
	`g‘_ty³
(è=ğ
·¿m_¥aû_k”Ãl
 ||

101 
š¡
->
¥aû
.
	`g‘_ty³
(è=ğ
·¿m_¥aû_loÿl
 ||

102 
š¡
->
¥aû
.
	`g‘_ty³
(è=ğ
·¿m_¥aû_unşassif›d
 ||

103 
š¡
->
¥aû
.
	`g‘_ty³
(è=ğ
‹x_¥aû
)){

104  
r
=0;„<4;„++) {

105 if(
š¡
->
out
[
r
] > 0) {

106 
	`SHADER_DPRINTF
Ğ
SCOREBOARD
,

108 
š¡
->
	`w¬p_id
(),

109 
š¡
->
out
[
r
] );

110 
lÚgİ»gs
[
š¡
->
	`w¬p_id
()].
	`š£¹
(š¡->
out
[
r
]);

114 
	}
}

117 
	gScÜebßrd
::
	$»Ëa£Regi¡”s
(cÚ¡ 
şass
 
w¬p_š¡_t
 *
š¡
)

119  
r
=0;„ < 4;„++) {

120 if(
š¡
->
out
[
r
] > 0) {

121 
	`SHADER_DPRINTF
Ğ
SCOREBOARD
,

123 
š¡
->
	`w¬p_id
(),

124 
š¡
->
out
[
r
] );

125 
	`»Ëa£Regi¡”
(
š¡
->
	`w¬p_id
(), in¡->
out
[
r
]);

126 
lÚgİ»gs
[
š¡
->
	`w¬p_id
()].
	`”a£
(š¡->
out
[
r
]);

129 
	}
}

137 
boŞ
 
	gScÜebßrd
::
	$checkCŞlisiÚ
Ğ
wid
, cÚ¡ 
şass
 
š¡_t
 *
š¡
 ) const

140 
¡d
::
£t
<> 
š¡_»gs
;

142 if(
š¡
->
out
[0] > 0è
š¡_»gs
.
	`š£¹
(inst->out[0]);

143 if(
š¡
->
out
[1] > 0è
š¡_»gs
.
	`š£¹
(inst->out[1]);

144 if(
š¡
->
out
[2] > 0è
š¡_»gs
.
	`š£¹
(inst->out[2]);

145 if(
š¡
->
out
[3] > 0è
š¡_»gs
.
	`š£¹
(inst->out[3]);

146 if(
š¡
->
š
[0] > 0è
š¡_»gs
.
	`š£¹
(inst->in[0]);

147 if(
š¡
->
š
[1] > 0è
š¡_»gs
.
	`š£¹
(inst->in[1]);

148 if(
š¡
->
š
[2] > 0è
š¡_»gs
.
	`š£¹
(inst->in[2]);

149 if(
š¡
->
š
[3] > 0è
š¡_»gs
.
	`š£¹
(inst->in[3]);

150 if(
š¡
->
´ed
 > 0è
š¡_»gs
.
	`š£¹
(inst->pred);

151 if(
š¡
->
¬1
 > 0è
š¡_»gs
.
	`š£¹
(inst->ar1);

152 if(
š¡
->
¬2
 > 0è
š¡_»gs
.
	`š£¹
(inst->ar2);

155 
¡d
::
£t
<>::
cÚ¡_™”©Ü
 
™2
;

156  
™2
=
š¡_»gs
.
	`begš
(è; it2 !ğš¡_»gs.
	`’d
(); it2++ )

157 if(
»g_bË
[
wid
].
	`fšd
(*
™2
è!ğ»g_bË[wid].
	`’d
()) {

158  
Œue
;

160  
çl£
;

161 
	}
}

163 
boŞ
 
	gScÜebßrd
::
	$³ndšgWr™es
(
wid
) const

165  !
»g_bË
[
wid
].
	`em±y
();

166 
	}
}

	@scoreboard.h

28 
	~<¡dio.h
>

29 
	~<¡dlib.h
>

30 
	~<veùÜ
>

31 
	~<£t
>

32 
	~"as£¹.h
"

34 #iâdeà
SCOREBOARD_H_


35 
	#SCOREBOARD_H_


	)

37 
	~"../ab¡¿ù_h¬dw¬e_mod–.h
"

39 şas 
	cScÜebßrd
 {

40 
	mpublic
:

41 
ScÜebßrd
Ğ
sid
, 
n_w¬ps
 );

43 
»£rveRegi¡”s
(cÚ¡ 
w¬p_š¡_t
 *
š¡
);

44 
»Ëa£Regi¡”s
(cÚ¡ 
w¬p_š¡_t
 *
š¡
);

45 
»Ëa£Regi¡”
(
wid
, 
»gnum
);

47 
boŞ
 
	$checkCŞlisiÚ
(
wid
, cÚ¡ 
š¡_t
 *
š¡
) const;

48 
boŞ
 
	$³ndšgWr™es
(
wid
) const;

49 
	$´štCÚ‹Ás
() const;

50 cÚ¡ 
boŞ
 
	`i¦Úgİ
(
w¬p_id
, 
»gnum
);

51 
´iv©e
:

52 
	`»£rveRegi¡”
(
wid
, 
»gnum
);

53 
	$g‘_sid
(ècÚ¡ {  
m_sid
; }

55 
m_sid
;

59 
¡d
::
veùÜ
< std::
£t
<> > 
»g_bË
;

61 
¡d
::
veùÜ
< std::
£t
<> > 
lÚgİ»gs
;

62 
	}
};

	@shader.cc

29 
	~<æßt.h
>

30 
	~"shad”.h
"

31 
	~"gpu-sim.h
"

32 
	~"addrdec.h
"

33 
	~"d¿m.h
"

34 
	~"¡©-toŞ.h
"

35 
	~"gpu-misc.h
"

36 
	~"../cuda-sim/±x_sim.h
"

37 
	~"../cuda-sim/±x-¡©s.h
"

38 
	~"../cuda-sim/cuda-sim.h
"

39 
	~"gpu-sim.h
"

40 
	~"mem_ãtch.h
"

41 
	~"mem_Ï‹ncy_¡©.h
"

42 
	~"visu®iz”.h
"

43 
	~"../¡©w¿µ”.h
"

44 
	~"iút_w¿µ”.h
"

45 
	~<¡ršg.h
>

46 
	~<lim™s.h
>

47 
	~"Œaffic_b»akdown.h
"

48 
	~"shad”_Œaû.h
"

50 
	#PRIORITIZE_MSHR_OVER_WB
 1

	)

51 
	#MAX
(
a
,
b
è((×)>(b))?×):(b))

	)

52 
	#MIN
(
a
,
b
è((×)<(b))?×):(b))

	)

57 
	g¡d
::
li¡
<> 
shad”_cÜe_ùx
::
	$g‘_»gs_wr™‹n
ĞcÚ¡ 
š¡_t
 &
fvt
 ) const

59 
¡d
::
li¡
<> 
»suÉ
;

60  
İ
=0; o°< 
MAX_REG_OPERANDS
; op++ ) {

61 
»g_num
 = 
fvt
.
¬ch_»g
.
d¡
[
İ
];

62 ifĞ
»g_num
 >= 0 )

63 
»suÉ
.
	`push_back
(
»g_num
);

65  
»suÉ
;

66 
	}
}

68 
	gshad”_cÜe_ùx
::
	$shad”_cÜe_ùx
Ğ
şass
 
gpgpu_sim
 *
gpu
,

69 
şass
 
simt_cÜe_şu¡”
 *
şu¡”
,

70 
shad”_id
,

71 
c_id
,

72 cÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
,

73 cÚ¡ 
memÜy_cÚfig
 *
mem_cÚfig
,

74 
shad”_cÜe_¡©s
 *
¡©s
 )

75 : 
	`cÜe_t
Ğ
gpu
, 
NULL
, 
cÚfig
->
w¬p_size
, cÚfig->
n_th»ad_³r_shad”
 ),

76 
	`m_b¬r›rs
Ğ
cÚfig
->
max_w¬ps_³r_shad”
, cÚfig->
max_ùa_³r_cÜe
 ),

77 
	$m_dyÇmic_w¬p_id
(0)

79 
m_şu¡”
 = 
şu¡”
;

80 
m_cÚfig
 = 
cÚfig
;

81 
m_memÜy_cÚfig
 = 
mem_cÚfig
;

82 
m_¡©s
 = 
¡©s
;

83 
w¬p_size
=
cÚfig
->warp_size;

85 
m_sid
 = 
shad”_id
;

86 
m_c
 = 
c_id
;

88 
m_p–še_»g
.
	`»£rve
(
N_PIPELINE_STAGES
);

89 
j
 = 0; j<
N_PIPELINE_STAGES
; j++) {

90 
m_p–še_»g
.
	`push_back
(
	`»gi¡”_£t
(
m_cÚfig
->
pe_widths
[
j
],
p–še_¡age_Çme_decode
[j]));

93 
m_th»adS‹
 = (
th»ad_ùx_t
*è
	`ÿÎoc
(Ñh»ad_ùx_t), 
cÚfig
->
n_th»ad_³r_shad”
);

95 
m_nÙ_com¶‘ed
 = 0;

96 
m_aùive_th»ads
.
	`»£t
();

97 
m_n_aùive_ùa
 = 0;

98  
i
 = 0; i<
MAX_CTA_PER_SHADER
; i++ )

99 
m_ùa_¡©us
[
i
]=0;

100 
i
 = 0; i<
cÚfig
->
n_th»ad_³r_shad”
; i++) {

101 
m_th»ad
[
i
]ğ
NULL
;

102 
m_th»adS‹
[
i
].
m_ùa_id
 = -1;

103 
m_th»adS‹
[
i
].
m_aùive
 = 
çl£
;

107 iàĞ
m_cÚfig
->
gpgpu_³rãù_mem
 ) {

108 
m_iút
 = 
Ãw
 
	`³rãù_memÜy_š‹rçû
(
this
,
şu¡”
);

110 
m_iút
 = 
Ãw
 
	`shad”_memÜy_š‹rçû
(
this
,
şu¡”
);

112 
m_mem_ãtch_®loÿtÜ
 = 
Ãw
 
	`shad”_cÜe_mem_ãtch_®loÿtÜ
(
shad”_id
,
c_id
,
mem_cÚfig
);

115 
m_Ï¡_w¬p_ãtched
 = 0;

117 
	#STRSIZE
 1024

	)

118 
Çme
[
STRSIZE
];

119 
	`¢´štf
(
Çme
, 
STRSIZE
, "L1I_%03d", 
m_sid
);

120 
m_L1I
 = 
Ãw
 
	`»ad_Úly_ÿche
Ğ
Çme
,
m_cÚfig
->
m_L1I_cÚfig
,
m_sid
,
	`g‘_shad”_š¡ruùiÚ_ÿche_id
(),
m_iút
,
IN_L1I_MISS_QUEUE
);

122 
m_w¬p
.
	`»size
(
m_cÚfig
->
max_w¬ps_³r_shad”
, 
	`shd_w¬p_t
(
this
, 
w¬p_size
));

123 
m_scÜebßrd
 = 
Ãw
 
	`ScÜebßrd
(
m_sid
, 
m_cÚfig
->
max_w¬ps_³r_shad”
);

127 
¡d
::
¡ršg
 
sched_cÚfig
 = 
m_cÚfig
->
gpgpu_scheduËr_¡ršg
;

128 cÚ¡ 
cÚü‘e_scheduËr
 
scheduËr
 = 
sched_cÚfig
.
	`fšd
("Ìr"è!ğ
¡d
::
¡ršg
::
Åos
 ?

129 
CONCRETE_SCHEDULER_LRR
 :

130 
sched_cÚfig
.
	`fšd
("two_Ëv–_aùive"è!ğ
¡d
::
¡ršg
::
Åos
 ?

131 
CONCRETE_SCHEDULER_TWO_LEVEL_ACTIVE
 :

132 
sched_cÚfig
.
	`fšd
("gto_i_gto_o"è!=
¡d
::
¡ršg
::
Åos
 ?

133 
CONCRETE_SCHEDULER_GTO_INNER_GTO_OUTER
 :

134 
sched_cÚfig
.
	`fšd
("g»edy_i_gto_o"è!=
¡d
::
¡ršg
::
Åos
 ?

135 
CONCRETE_SCHEDULER_GREEDY_INNER_GTO_OUTER
 :

136 
sched_cÚfig
.
	`fšd
("¼_i_gto_o"è!=
¡d
::
¡ršg
::
Åos
 ?

137 
CONCRETE_SCHEDULER_RR_INNER_GTO_OUTER
 :

138 
sched_cÚfig
.
	`fšd
("¼_i_g»edy_o"è!=
¡d
::
¡ršg
::
Åos
 ?

139 
CONCRETE_SCHEDULER_RR_INNER_GREEDY_OUTER
 :

140 
sched_cÚfig
.
	`fšd
("gto"è!ğ
¡d
::
¡ršg
::
Åos
 ?

141 
CONCRETE_SCHEDULER_GTO
 :

142 
sched_cÚfig
.
	`fšd
("w¬p_lim™šg"è!ğ
¡d
::
¡ršg
::
Åos
 ?

143 
CONCRETE_SCHEDULER_WARP_LIMITING
:

144 
NUM_CONCRETE_SCHEDULERS
;

145 
	`as£¹
 ( 
scheduËr
 !ğ
NUM_CONCRETE_SCHEDULERS
 );

147 
i
 = 0; i < 
m_cÚfig
->
gpgpu_num_sched_³r_cÜe
; i++) {

148  
scheduËr
 )

150 
CONCRETE_SCHEDULER_LRR
:

151 
scheduËrs
.
	`push_back
(

152 
Ãw
 
	`Ìr_scheduËr
Ğ
m_¡©s
,

153 
this
,

154 
m_scÜebßrd
,

155 
m_simt_¡ack
,

156 &
m_w¬p
,

157 &
m_p–še_»g
[
ID_OC_SP
],

158 &
m_p–še_»g
[
ID_OC_SFU
],

159 &
m_p–še_»g
[
ID_OC_MEM
],

160 
i


164 
CONCRETE_SCHEDULER_TWO_LEVEL_ACTIVE
:

165 
scheduËrs
.
	`push_back
(

166 
Ãw
 
	`two_Ëv–_aùive_scheduËr
Ğ
m_¡©s
,

167 
this
,

168 
m_scÜebßrd
,

169 
m_simt_¡ack
,

170 &
m_w¬p
,

171 &
m_p–še_»g
[
ID_OC_SP
],

172 &
m_p–še_»g
[
ID_OC_SFU
],

173 &
m_p–še_»g
[
ID_OC_MEM
],

174 
i
,

175 
cÚfig
->
gpgpu_scheduËr_¡ršg


179 
CONCRETE_SCHEDULER_GTO
:

180 
scheduËrs
.
	`push_back
(

181 
Ãw
 
	`gto_scheduËr
Ğ
m_¡©s
,

182 
this
,

183 
m_scÜebßrd
,

184 
m_simt_¡ack
,

185 &
m_w¬p
,

186 &
m_p–še_»g
[
ID_OC_SP
],

187 &
m_p–še_»g
[
ID_OC_SFU
],

188 &
m_p–še_»g
[
ID_OC_MEM
],

189 
i


193 
CONCRETE_SCHEDULER_GTO_INNER_GTO_OUTER
:

194 
scheduËrs
.
	`push_back
(

195 
Ãw
 
	`gto_šÃr_gto_ou‹r_scheduËr
Ğ
m_¡©s
,

196 
this
,

197 
m_scÜebßrd
,

198 
m_simt_¡ack
,

199 &
m_w¬p
,

200 &
m_p–še_»g
[
ID_OC_SP
],

201 &
m_p–še_»g
[
ID_OC_SFU
],

202 &
m_p–še_»g
[
ID_OC_MEM
],

203 
i
,

204 
cÚfig
->
gpgpu_scheduËr_¡ršg


208 
CONCRETE_SCHEDULER_GREEDY_INNER_GTO_OUTER
 :

209 
scheduËrs
.
	`push_back
(

210 
Ãw
 
	`g»edy_šÃr_gto_ou‹r_scheduËr
Ğ
m_¡©s
,

211 
this
,

212 
m_scÜebßrd
,

213 
m_simt_¡ack
,

214 &
m_w¬p
,

215 &
m_p–še_»g
[
ID_OC_SP
],

216 &
m_p–še_»g
[
ID_OC_SFU
],

217 &
m_p–še_»g
[
ID_OC_MEM
],

218 
i
,

219 
cÚfig
->
gpgpu_scheduËr_¡ršg


223 
CONCRETE_SCHEDULER_RR_INNER_GTO_OUTER
 :

224 
scheduËrs
.
	`push_back
(

225 
Ãw
 
	`¼_šÃr_gto_ou‹r_scheduËr
Ğ
m_¡©s
,

226 
this
,

227 
m_scÜebßrd
,

228 
m_simt_¡ack
,

229 &
m_w¬p
,

230 &
m_p–še_»g
[
ID_OC_SP
],

231 &
m_p–še_»g
[
ID_OC_SFU
],

232 &
m_p–še_»g
[
ID_OC_MEM
],

233 
i
,

234 
cÚfig
->
gpgpu_scheduËr_¡ršg


238 
CONCRETE_SCHEDULER_RR_INNER_GREEDY_OUTER
 :

239 
scheduËrs
.
	`push_back
(

240 
Ãw
 
	`¼_šÃr_g»edy_ou‹r_scheduËr
Ğ
m_¡©s
,

241 
this
,

242 
m_scÜebßrd
,

243 
m_simt_¡ack
,

244 &
m_w¬p
,

245 &
m_p–še_»g
[
ID_OC_SP
],

246 &
m_p–še_»g
[
ID_OC_SFU
],

247 &
m_p–še_»g
[
ID_OC_MEM
],

248 
i
,

249 
cÚfig
->
gpgpu_scheduËr_¡ršg


253 
CONCRETE_SCHEDULER_WARP_LIMITING
:

254 
scheduËrs
.
	`push_back
(

255 
Ãw
 
	`swl_scheduËr
Ğ
m_¡©s
,

256 
this
,

257 
m_scÜebßrd
,

258 
m_simt_¡ack
,

259 &
m_w¬p
,

260 &
m_p–še_»g
[
ID_OC_SP
],

261 &
m_p–še_»g
[
ID_OC_SFU
],

262 &
m_p–še_»g
[
ID_OC_MEM
],

263 
i
,

264 
cÚfig
->
gpgpu_scheduËr_¡ršg


269 
	`abÜt
();

273 
i
 = 0; i < 
m_w¬p
.
	`size
(); i++) {

275 
scheduËrs
[
i
%
m_cÚfig
->
gpgpu_num_sched_³r_cÜe
]->
	`add_su³rvi£d_w¬p_id
(i);

277  
i
 = 0; i < 
m_cÚfig
->
gpgpu_num_sched_³r_cÜe
; ++i ) {

278 
scheduËrs
[
i
]->
	`dÚe_addšg_su³rvi£d_w¬ps
();

282 ’um { 
SP_CUS
, 
SFU_CUS
, 
MEM_CUS
, 
GEN_CUS
 };

283 
m_İ”ªd_cŞËùÜ
.
	`add_cu_£t
(
SP_CUS
, 
m_cÚfig
->
gpgpu_İ”ªd_cŞËùÜ_num_un™s_¥
, m_cÚfig->
gpgpu_İ”ªd_cŞËùÜ_num_out_pÜts_¥
);

284 
m_İ”ªd_cŞËùÜ
.
	`add_cu_£t
(
SFU_CUS
, 
m_cÚfig
->
gpgpu_İ”ªd_cŞËùÜ_num_un™s_sfu
, m_cÚfig->
gpgpu_İ”ªd_cŞËùÜ_num_out_pÜts_sfu
);

285 
m_İ”ªd_cŞËùÜ
.
	`add_cu_£t
(
MEM_CUS
, 
m_cÚfig
->
gpgpu_İ”ªd_cŞËùÜ_num_un™s_mem
, m_cÚfig->
gpgpu_İ”ªd_cŞËùÜ_num_out_pÜts_mem
);

286 
m_İ”ªd_cŞËùÜ
.
	`add_cu_£t
(
GEN_CUS
, 
m_cÚfig
->
gpgpu_İ”ªd_cŞËùÜ_num_un™s_g’
, m_cÚfig->
gpgpu_İ”ªd_cŞËùÜ_num_out_pÜts_g’
);

288 
İndcŞl_rfu_t
::
pÜt_veùÜ_t
 
š_pÜts
;

289 
İndcŞl_rfu_t
::
pÜt_veùÜ_t
 
out_pÜts
;

290 
İndcŞl_rfu_t
::
ušt_veùÜ_t
 
cu_£ts
;

291 
i
 = 0; i < 
m_cÚfig
->
gpgpu_İ”ªd_cŞËùÜ_num_š_pÜts_¥
; i++) {

292 
š_pÜts
.
	`push_back
(&
m_p–še_»g
[
ID_OC_SP
]);

293 
out_pÜts
.
	`push_back
(&
m_p–še_»g
[
OC_EX_SP
]);

294 
cu_£ts
.
	`push_back
(()
SP_CUS
);

295 
cu_£ts
.
	`push_back
(()
GEN_CUS
);

296 
m_İ”ªd_cŞËùÜ
.
	`add_pÜt
(
š_pÜts
,
out_pÜts
,
cu_£ts
);

297 
š_pÜts
.
	`ş—r
(),
out_pÜts
.ş—r(),
cu_£ts
.clear();

300 
i
 = 0; i < 
m_cÚfig
->
gpgpu_İ”ªd_cŞËùÜ_num_š_pÜts_sfu
; i++) {

301 
š_pÜts
.
	`push_back
(&
m_p–še_»g
[
ID_OC_SFU
]);

302 
out_pÜts
.
	`push_back
(&
m_p–še_»g
[
OC_EX_SFU
]);

303 
cu_£ts
.
	`push_back
(()
SFU_CUS
);

304 
cu_£ts
.
	`push_back
(()
GEN_CUS
);

305 
m_İ”ªd_cŞËùÜ
.
	`add_pÜt
(
š_pÜts
,
out_pÜts
,
cu_£ts
);

306 
š_pÜts
.
	`ş—r
(),
out_pÜts
.ş—r(),
cu_£ts
.clear();

309 
i
 = 0; i < 
m_cÚfig
->
gpgpu_İ”ªd_cŞËùÜ_num_š_pÜts_mem
; i++) {

310 
š_pÜts
.
	`push_back
(&
m_p–še_»g
[
ID_OC_MEM
]);

311 
out_pÜts
.
	`push_back
(&
m_p–še_»g
[
OC_EX_MEM
]);

312 
cu_£ts
.
	`push_back
(()
MEM_CUS
);

313 
cu_£ts
.
	`push_back
(()
GEN_CUS
);

314 
m_İ”ªd_cŞËùÜ
.
	`add_pÜt
(
š_pÜts
,
out_pÜts
,
cu_£ts
);

315 
š_pÜts
.
	`ş—r
(),
out_pÜts
.ş—r(),
cu_£ts
.clear();

319 
i
 = 0; i < 
m_cÚfig
->
gpgpu_İ”ªd_cŞËùÜ_num_š_pÜts_g’
; i++) {

320 
š_pÜts
.
	`push_back
(&
m_p–še_»g
[
ID_OC_SP
]);

321 
š_pÜts
.
	`push_back
(&
m_p–še_»g
[
ID_OC_SFU
]);

322 
š_pÜts
.
	`push_back
(&
m_p–še_»g
[
ID_OC_MEM
]);

323 
out_pÜts
.
	`push_back
(&
m_p–še_»g
[
OC_EX_SP
]);

324 
out_pÜts
.
	`push_back
(&
m_p–še_»g
[
OC_EX_SFU
]);

325 
out_pÜts
.
	`push_back
(&
m_p–še_»g
[
OC_EX_MEM
]);

326 
cu_£ts
.
	`push_back
(()
GEN_CUS
);

327 
m_İ”ªd_cŞËùÜ
.
	`add_pÜt
(
š_pÜts
,
out_pÜts
,
cu_£ts
);

328 
š_pÜts
.
	`ş—r
(),
out_pÜts
.ş—r(),
cu_£ts
.clear();

331 
m_İ”ªd_cŞËùÜ
.
	`š™
Ğ
m_cÚfig
->
gpgpu_num_»g_bªks
, 
this
 );

334 
m_num_funùiÚ_un™s
 = 
m_cÚfig
->
gpgpu_num_¥_un™s
 + m_cÚfig->
gpgpu_num_sfu_un™s
 + 1;

340 
k
 = 0; k < 
m_cÚfig
->
gpgpu_num_¥_un™s
; k++) {

341 
m_fu
.
	`push_back
(
Ãw
 
	`¥_un™
Ğ&
m_p–še_»g
[
EX_WB
], 
m_cÚfig
, 
this
 ));

342 
m_di¥©ch_pÜt
.
	`push_back
(
ID_OC_SP
);

343 
m_issue_pÜt
.
	`push_back
(
OC_EX_SP
);

346 
k
 = 0; k < 
m_cÚfig
->
gpgpu_num_sfu_un™s
; k++) {

347 
m_fu
.
	`push_back
(
Ãw
 
	`sfu
Ğ&
m_p–še_»g
[
EX_WB
], 
m_cÚfig
, 
this
 ));

348 
m_di¥©ch_pÜt
.
	`push_back
(
ID_OC_SFU
);

349 
m_issue_pÜt
.
	`push_back
(
OC_EX_SFU
);

352 
m_ld¡_un™
 = 
Ãw
 
	`ld¡_un™
Ğ
m_iút
, 
m_mem_ãtch_®loÿtÜ
, 
this
, &
m_İ”ªd_cŞËùÜ
, 
m_scÜebßrd
, 
cÚfig
, 
mem_cÚfig
, 
¡©s
, 
shad”_id
, 
c_id
 );

353 
m_fu
.
	`push_back
(
m_ld¡_un™
);

354 
m_di¥©ch_pÜt
.
	`push_back
(
ID_OC_MEM
);

355 
m_issue_pÜt
.
	`push_back
(
OC_EX_MEM
);

357 
	`as£¹
(
m_num_funùiÚ_un™s
 =ğ
m_fu
.
	`size
(è
ªd
 m_fu.size(è=ğ
m_di¥©ch_pÜt
.size(èªd m_fu.size(è=ğ
m_issue_pÜt
.size());

360 
num_»suÉ_bus
 = 
cÚfig
->
pe_widths
[
EX_WB
];

361 
i
=0; i<
num_»suÉ_bus
; i++){

362 
this
->
m_»suÉ_bus
.
	`push_back
(
Ãw
 
¡d
::
b™£t
<
MAX_ALU_LATENCY
>());

365 
m_Ï¡_š¡_gpu_sim_cyşe
 = 0;

366 
m_Ï¡_š¡_gpu_tÙ_sim_cyşe
 = 0;

367 
	}
}

369 
	gshad”_cÜe_ùx
::
	$»š™
(
¡¬t_th»ad
, 
’d_th»ad
, 
boŞ
 
»£t_nÙ_com¶‘ed
 )

371 ifĞ
»£t_nÙ_com¶‘ed
 ) {

372 
m_nÙ_com¶‘ed
 = 0;

373 
m_aùive_th»ads
.
	`»£t
();

375 
i
 = 
¡¬t_th»ad
; i<
’d_th»ad
; i++) {

376 
m_th»adS‹
[
i
].
n_š¢
 = 0;

377 
m_th»adS‹
[
i
].
m_ùa_id
 = -1;

379 
i
 = 
¡¬t_th»ad
 / 
m_cÚfig
->
w¬p_size
; i < 
’d_th»ad
 / m_config->warp_size; ++i) {

380 
m_w¬p
[
i
].
	`»£t
();

381 
m_simt_¡ack
[
i
]->
	`»£t
();

383 
	}
}

385 
	gshad”_cÜe_ùx
::
	$š™_w¬ps
Ğ
ùa_id
, 
¡¬t_th»ad
, 
’d_th»ad
 )

387 
add»ss_ty³
 
¡¬t_pc
 = 
	`Ãxt_pc
(
¡¬t_th»ad
);

388 ià(
m_cÚfig
->
mod–
 =ğ
POST_DOMINATOR
) {

389 
¡¬t_w¬p
 = 
¡¬t_th»ad
 / 
m_cÚfig
->
w¬p_size
;

390 
’d_w¬p
 = 
’d_th»ad
 / 
m_cÚfig
->
w¬p_size
 + ((end_thread % m_config->warp_size)? 1 : 0);

391 
i
 = 
¡¬t_w¬p
; i < 
’d_w¬p
; ++i) {

392 
n_aùive
=0;

393 
simt_mask_t
 
aùive_th»ads
;

394 
t
 = 0; < 
m_cÚfig
->
w¬p_size
;++) {

395 
hwtid
 = 
i
 * 
m_cÚfig
->
w¬p_size
 + 
t
;

396 iàĞ
hwtid
 < 
’d_th»ad
 ) {

397 
n_aùive
++;

398 
	`as£¹
Ğ!
m_aùive_th»ads
.
	`‹¡
(
hwtid
) );

399 
m_aùive_th»ads
.
	`£t
Ğ
hwtid
 );

400 
aùive_th»ads
.
	`£t
(
t
);

403 
m_simt_¡ack
[
i
]->
	`Ïunch
(
¡¬t_pc
,
aùive_th»ads
);

404 
m_w¬p
[
i
].
	`š™
(
¡¬t_pc
,
ùa_id
,i,
aùive_th»ads
, 
m_dyÇmic_w¬p_id
);

405 ++
m_dyÇmic_w¬p_id
;

406 
m_nÙ_com¶‘ed
 +ğ
n_aùive
;

409 
	}
}

412 
add»ss_ty³
 
	gshad”_cÜe_ùx
::
	$Ãxt_pc
Ğ
tid
 ) const

414 ifĞ
tid
 == -1 )

416 
±x_th»ad_šfo
 *
the_th»ad
 = 
m_th»ad
[
tid
];

417 iàĞ
the_th»ad
 =ğ
NULL
 )

419  
the_th»ad
->
	`g‘_pc
();

420 
	}
}

422 
	ggpgpu_sim
::
	$g‘_pdom_¡ack_tİ_šfo
Ğ
sid
, 
tid
, *
pc
, *
½c
 )

424 
şu¡”_id
 = 
m_shad”_cÚfig
->
	`sid_to_şu¡”
(
sid
);

425 
m_şu¡”
[
şu¡”_id
]->
	`g‘_pdom_¡ack_tİ_šfo
(
sid
,
tid
,
pc
,
½c
);

426 
	}
}

428 
	gshad”_cÜe_ùx
::
	$g‘_pdom_¡ack_tİ_šfo
Ğ
tid
, *
pc
, *
½c
 ) const

430 
w¬p_id
 = 
tid
/
m_cÚfig
->
w¬p_size
;

431 
m_simt_¡ack
[
w¬p_id
]->
	`g‘_pdom_¡ack_tİ_šfo
(
pc
,
½c
);

432 
	}
}

434 
	gshad”_cÜe_¡©s
::
	$´št
Ğ
FILE
* 
fout
 ) const

436 
th»ad_icouÁ_u¬ch
=0;

437 
w¬p_icouÁ_u¬ch
=0;

439 
i
=0; i < 
m_cÚfig
->
	`num_shad”
(); i++) {

440 
th»ad_icouÁ_u¬ch
 +ğ
m_num_sim_š¢
[
i
];

441 
w¬p_icouÁ_u¬ch
 +ğ
m_num_sim_wš¢
[
i
];

443 
	`årštf
(
fout
,"gpgpu_n_tÙ_thrd_icouÁ = %Îd\n", 
th»ad_icouÁ_u¬ch
);

444 
	`årštf
(
fout
,"gpgpu_n_tÙ_w_icouÁ = %Îd\n", 
w¬p_icouÁ_u¬ch
);

446 
	`årštf
(
fout
,"gpgpu_n_¡®l_shd_mem = %d\n", 
gpgpu_n_¡®l_shd_mem
 );

447 
	`årštf
(
fout
,"gpgpu_n_mem_»ad_loÿÈğ%d\n", 
gpgpu_n_mem_»ad_loÿl
);

448 
	`årštf
(
fout
,"gpgpu_n_mem_wr™e_loÿÈğ%d\n", 
gpgpu_n_mem_wr™e_loÿl
);

449 
	`årštf
(
fout
,"gpgpu_n_mem_»ad_glob® = %d\n", 
gpgpu_n_mem_»ad_glob®
);

450 
	`årštf
(
fout
,"gpgpu_n_mem_wr™e_glob® = %d\n", 
gpgpu_n_mem_wr™e_glob®
);

451 
	`årštf
(
fout
,"gpgpu_n_mem_‹xtu» = %d\n", 
gpgpu_n_mem_‹xtu»
);

452 
	`årštf
(
fout
,"gpgpu_n_mem_cÚ¡ = %d\n", 
gpgpu_n_mem_cÚ¡
);

454 
	`årštf
(
fout
, "gpgpu_n_lßd_š¢ = %d\n", 
gpgpu_n_lßd_š¢
);

455 
	`årštf
(
fout
, "gpgpu_n_¡Üe_š¢ = %d\n", 
gpgpu_n_¡Üe_š¢
);

456 
	`årštf
(
fout
, "gpgpu_n_shmem_š¢ = %d\n", 
gpgpu_n_shmem_š¢
);

457 
	`årštf
(
fout
, "gpgpu_n_‹x_š¢ = %d\n", 
gpgpu_n_‹x_š¢
);

458 
	`årštf
(
fout
, "gpgpu_n_cÚ¡_mem_š¢ = %d\n", 
gpgpu_n_cÚ¡_š¢
);

459 
	`årštf
(
fout
, "gpgpu_n_·¿m_mem_š¢ = %d\n", 
gpgpu_n_·¿m_š¢
);

461 
	`årštf
(
fout
, "gpgpu_n_shmem_bkcÚæiù = %d\n", 
gpgpu_n_shmem_bkcÚæiù
);

462 
	`årštf
(
fout
, "gpgpu_n_ÿche_bkcÚæiù = %d\n", 
gpgpu_n_ÿche_bkcÚæiù
);

464 
	`årštf
(
fout
, "gpgpu_n_šŒaw¬p_mshr_m”gğ%d\n", 
gpgpu_n_šŒaw¬p_mshr_m”ge
);

465 
	`årštf
(
fout
, "gpgpu_n_cmem_pÜtcÚæiù = %d\n", 
gpgpu_n_cmem_pÜtcÚæiù
);

467 
	`årštf
(
fout
, "gpgpu_¡®l_shd_mem[c_mem][bk_cÚf] = %d\n", 
gpu_¡®l_shd_mem_b»akdown
[
C_MEM
][
BK_CONF
]);

468 
	`årštf
(
fout
, "gpgpu_¡®l_shd_mem[c_mem][mshr_rc] = %d\n", 
gpu_¡®l_shd_mem_b»akdown
[
C_MEM
][
MSHR_RC_FAIL
]);

469 
	`årštf
(
fout
, "gpgpu_¡®l_shd_mem[c_mem][iút_rc] = %d\n", 
gpu_¡®l_shd_mem_b»akdown
[
C_MEM
][
ICNT_RC_FAIL
]);

470 
	`årštf
(
fout
, "gpgpu_¡®l_shd_mem[c_mem][d©a_pÜt_¡®l] = %d\n", 
gpu_¡®l_shd_mem_b»akdown
[
C_MEM
][
DATA_PORT_STALL
]);

471 
	`årštf
(
fout
, "gpgpu_¡®l_shd_mem[t_mem][mshr_rc] = %d\n", 
gpu_¡®l_shd_mem_b»akdown
[
T_MEM
][
MSHR_RC_FAIL
]);

472 
	`årštf
(
fout
, "gpgpu_¡®l_shd_mem[t_mem][iút_rc] = %d\n", 
gpu_¡®l_shd_mem_b»akdown
[
T_MEM
][
ICNT_RC_FAIL
]);

473 
	`årštf
(
fout
, "gpgpu_¡®l_shd_mem[t_mem][d©a_pÜt_¡®l] = %d\n", 
gpu_¡®l_shd_mem_b»akdown
[
T_MEM
][
DATA_PORT_STALL
]);

474 
	`årštf
(
fout
, "gpgpu_¡®l_shd_mem[s_mem][bk_cÚf] = %d\n", 
gpu_¡®l_shd_mem_b»akdown
[
S_MEM
][
BK_CONF
]);

475 
	`årštf
(
fout
, "gpgpu_stall_shd_mem[gl_mem][bk_conf] = %d\n",

476 
gpu_¡®l_shd_mem_b»akdown
[
G_MEM_LD
][
BK_CONF
] +

477 
gpu_¡®l_shd_mem_b»akdown
[
G_MEM_ST
][
BK_CONF
] +

478 
gpu_¡®l_shd_mem_b»akdown
[
L_MEM_LD
][
BK_CONF
] +

479 
gpu_¡®l_shd_mem_b»akdown
[
L_MEM_ST
][
BK_CONF
]

481 
	`årštf
(
fout
, "gpgpu_stall_shd_mem[gl_mem][coal_stall] = %d\n",

482 
gpu_¡®l_shd_mem_b»akdown
[
G_MEM_LD
][
COAL_STALL
] +

483 
gpu_¡®l_shd_mem_b»akdown
[
G_MEM_ST
][
COAL_STALL
] +

484 
gpu_¡®l_shd_mem_b»akdown
[
L_MEM_LD
][
COAL_STALL
] +

485 
gpu_¡®l_shd_mem_b»akdown
[
L_MEM_ST
][
COAL_STALL
]

487 
	`årštf
(
fout
, "gpgpu_stall_shd_mem[gl_mem][data_port_stall] = %d\n",

488 
gpu_¡®l_shd_mem_b»akdown
[
G_MEM_LD
][
DATA_PORT_STALL
] +

489 
gpu_¡®l_shd_mem_b»akdown
[
G_MEM_ST
][
DATA_PORT_STALL
] +

490 
gpu_¡®l_shd_mem_b»akdown
[
L_MEM_LD
][
DATA_PORT_STALL
] +

491 
gpu_¡®l_shd_mem_b»akdown
[
L_MEM_ST
][
DATA_PORT_STALL
]

493 
	`årštf
(
fout
, "gpgpu_¡®l_shd_mem[g_mem_ld][mshr_rc] = %d\n", 
gpu_¡®l_shd_mem_b»akdown
[
G_MEM_LD
][
MSHR_RC_FAIL
]);

494 
	`årštf
(
fout
, "gpgpu_¡®l_shd_mem[g_mem_ld][iút_rc] = %d\n", 
gpu_¡®l_shd_mem_b»akdown
[
G_MEM_LD
][
ICNT_RC_FAIL
]);

495 
	`årštf
(
fout
, "gpgpu_¡®l_shd_mem[g_mem_ld][wb_iút_rc] = %d\n", 
gpu_¡®l_shd_mem_b»akdown
[
G_MEM_LD
][
WB_ICNT_RC_FAIL
]);

496 
	`årštf
(
fout
, "gpgpu_¡®l_shd_mem[g_mem_ld][wb_r¤v_ç] = %d\n", 
gpu_¡®l_shd_mem_b»akdown
[
G_MEM_LD
][
WB_CACHE_RSRV_FAIL
]);

497 
	`årštf
(
fout
, "gpgpu_¡®l_shd_mem[g_mem_¡][mshr_rc] = %d\n", 
gpu_¡®l_shd_mem_b»akdown
[
G_MEM_ST
][
MSHR_RC_FAIL
]);

498 
	`årštf
(
fout
, "gpgpu_¡®l_shd_mem[g_mem_¡][iút_rc] = %d\n", 
gpu_¡®l_shd_mem_b»akdown
[
G_MEM_ST
][
ICNT_RC_FAIL
]);

499 
	`årštf
(
fout
, "gpgpu_¡®l_shd_mem[g_mem_¡][wb_iút_rc] = %d\n", 
gpu_¡®l_shd_mem_b»akdown
[
G_MEM_ST
][
WB_ICNT_RC_FAIL
]);

500 
	`årštf
(
fout
, "gpgpu_¡®l_shd_mem[g_mem_¡][wb_r¤v_ç] = %d\n", 
gpu_¡®l_shd_mem_b»akdown
[
G_MEM_ST
][
WB_CACHE_RSRV_FAIL
]);

501 
	`årštf
(
fout
, "gpgpu_¡®l_shd_mem[l_mem_ld][mshr_rc] = %d\n", 
gpu_¡®l_shd_mem_b»akdown
[
L_MEM_LD
][
MSHR_RC_FAIL
]);

502 
	`årštf
(
fout
, "gpgpu_¡®l_shd_mem[l_mem_ld][iút_rc] = %d\n", 
gpu_¡®l_shd_mem_b»akdown
[
L_MEM_LD
][
ICNT_RC_FAIL
]);

503 
	`årštf
(
fout
, "gpgpu_¡®l_shd_mem[l_mem_ld][wb_iút_rc] = %d\n", 
gpu_¡®l_shd_mem_b»akdown
[
L_MEM_LD
][
WB_ICNT_RC_FAIL
]);

504 
	`årštf
(
fout
, "gpgpu_¡®l_shd_mem[l_mem_ld][wb_r¤v_ç] = %d\n", 
gpu_¡®l_shd_mem_b»akdown
[
L_MEM_LD
][
WB_CACHE_RSRV_FAIL
]);

505 
	`årštf
(
fout
, "gpgpu_¡®l_shd_mem[l_mem_¡][mshr_rc] = %d\n", 
gpu_¡®l_shd_mem_b»akdown
[
L_MEM_ST
][
MSHR_RC_FAIL
]);

506 
	`årštf
(
fout
, "gpgpu_¡®l_shd_mem[l_mem_¡][iút_rc] = %d\n", 
gpu_¡®l_shd_mem_b»akdown
[
L_MEM_ST
][
ICNT_RC_FAIL
]);

507 
	`årštf
(
fout
, "gpgpu_¡®l_shd_mem[l_mem_ld][wb_iút_rc] = %d\n", 
gpu_¡®l_shd_mem_b»akdown
[
L_MEM_ST
][
WB_ICNT_RC_FAIL
]);

508 
	`årštf
(
fout
, "gpgpu_¡®l_shd_mem[l_mem_ld][wb_r¤v_ç] = %d\n", 
gpu_¡®l_shd_mem_b»akdown
[
L_MEM_ST
][
WB_CACHE_RSRV_FAIL
]);

510 
	`årštf
(
fout
, "gpu_»g_bªk_cÚæiù_¡®l ğ%d\n", 
gpu_»g_bªk_cÚæiù_¡®ls
);

512 
	`årštf
(
fout
, "Warp Occupancy Distribution:\n");

513 
	`årštf
(
fout
, "SÎ:%d\t", 
shad”_cyşe_di¡ro
[2]);

514 
	`årštf
(
fout
, "W0_IdË:%d\t", 
shad”_cyşe_di¡ro
[0]);

515 
	`årštf
(
fout
, "W0_ScÜebßrd:%d", 
shad”_cyşe_di¡ro
[1]);

516 
i
 = 3; i < 
m_cÚfig
->
w¬p_size
 + 3; i++)

517 
	`årštf
(
fout
, "\tW%d:%d", 
i
-2, 
shad”_cyşe_di¡ro
[i]);

518 
	`årštf
(
fout
, "\n");

520 
m_outgošg_Œaffic_¡©s
->
	`´št
(
fout
);

521 
m_šcomšg_Œaffic_¡©s
->
	`´št
(
fout
);

522 
	}
}

524 
	gshad”_cÜe_¡©s
::
	$ev’t_w¬p_issued
Ğ
s_id
, 
w¬p_id
, 
num_issued
, 
dyÇmic_w¬p_id
 ) {

525 
	`as£¹
Ğ
w¬p_id
 <ğ
m_cÚfig
->
max_w¬ps_³r_shad”
 );

526  
i
 = 0; i < 
num_issued
; ++i ) {

527 iàĞ
m_shad”_dyÇmic_w¬p_issue_di¡ro
[ 
s_id
 ].
	`size
(è<ğ
dyÇmic_w¬p_id
 ) {

528 
m_shad”_dyÇmic_w¬p_issue_di¡ro
[ 
s_id
 ].
	`»size
(
dyÇmic_w¬p_id
 + 1);

530 ++
m_shad”_dyÇmic_w¬p_issue_di¡ro
[ 
s_id
 ][ 
dyÇmic_w¬p_id
 ];

531 iàĞ
m_shad”_w¬p_¦Ù_issue_di¡ro
[ 
s_id
 ].
	`size
(è<ğ
w¬p_id
 ) {

532 
m_shad”_w¬p_¦Ù_issue_di¡ro
[ 
s_id
 ].
	`»size
(
w¬p_id
 + 1);

534 ++
m_shad”_w¬p_¦Ù_issue_di¡ro
[ 
s_id
 ][ 
w¬p_id
 ];

536 
	}
}

538 
	gshad”_cÜe_¡©s
::
	$visu®iz”_´št
Ğ
gzFe
 
visu®iz”_fe
 )

541 
	`gz´štf
(
visu®iz”_fe
, "WarpDivergenceBreakdown:");

542 
tÙ®
=0;

543 
cf
 = (
m_cÚfig
->
gpgpu_w¬pdi¡ro_shad”
==-1)?m_cÚfig->
	`num_shad”
():1;

544 
	`gz´štf
(
visu®iz”_fe
, " %d", (
shad”_cyşe_di¡ro
[0] - 
Ï¡_shad”_cyşe_di¡ro
[0]è/ 
cf
 );

545 
	`gz´štf
(
visu®iz”_fe
, " %d", (
shad”_cyşe_di¡ro
[1] - 
Ï¡_shad”_cyşe_di¡ro
[1]è/ 
cf
 );

546 
	`gz´štf
(
visu®iz”_fe
, " %d", (
shad”_cyşe_di¡ro
[2] - 
Ï¡_shad”_cyşe_di¡ro
[2]è/ 
cf
 );

547 
i
=0; i<
m_cÚfig
->
w¬p_size
+3; i++) {

548 iàĞ
i
>=3 ) {

549 
tÙ®
 +ğ(
shad”_cyşe_di¡ro
[
i
] - 
Ï¡_shad”_cyşe_di¡ro
[i]);

550 iàĞ((
i
-3è% (
m_cÚfig
->
w¬p_size
/8)) == ((m_config->warp_size/8)-1) ) {

551 
	`gz´štf
(
visu®iz”_fe
, " %d", 
tÙ®
 / 
cf
 );

552 
tÙ®
=0;

555 
Ï¡_shad”_cyşe_di¡ro
[
i
] = 
shad”_cyşe_di¡ro
[i];

557 
	`gz´štf
(
visu®iz”_fe
,"\n");

560 
sid
 = 
m_cÚfig
->
gpgpu_w¬p_issue_shad”
;

561 
couÁ
 = 0;

562 
w¬p_id_issued_sum
 = 0;

563 
	`gz´štf
(
visu®iz”_fe
, "WarpIssueSlotBreakdown:");

564 if(
m_shad”_w¬p_¦Ù_issue_di¡ro
[
sid
].
	`size
() > 0){

565  
¡d
::
veùÜ
<>::
cÚ¡_™”©Ü
 
™”
 = 
m_shad”_w¬p_¦Ù_issue_di¡ro
[ 
sid
 ].
	`begš
();

566 
™”
 !ğ
m_shad”_w¬p_¦Ù_issue_di¡ro
[ 
sid
 ].
	`’d
(); i‹r++, 
couÁ
++ ) {

567 
diff
 = 
couÁ
 < 
m_Ï¡_shad”_w¬p_¦Ù_issue_di¡ro
.
	`size
() ?

568 *
™”
 - 
m_Ï¡_shad”_w¬p_¦Ù_issue_di¡ro
[ 
couÁ
 ] :

569 *
™”
;

570 
	`gz´štf
Ğ
visu®iz”_fe
, " %d", 
diff
 );

571 
w¬p_id_issued_sum
 +ğ
diff
;

573 
m_Ï¡_shad”_w¬p_¦Ù_issue_di¡ro
 = 
m_shad”_w¬p_¦Ù_issue_di¡ro
[ 
sid
 ];

575 
	`gz´štf
Ğ
visu®iz”_fe
, " 0");

577 
	`gz´štf
(
visu®iz”_fe
,"\n");

579 
	#DYNAMIC_WARP_PRINT_RESOLUTION
 32

	)

580 
tÙ®_issued_this_»sŞutiÚ
 = 0;

581 
dyÇmic_id_issued_sum
 = 0;

582 
couÁ
 = 0;

583 
	`gz´štf
(
visu®iz”_fe
, "WarpIssueDynamicIdBreakdown:");

584 if(
m_shad”_dyÇmic_w¬p_issue_di¡ro
[
sid
].
	`size
() > 0){

585  
¡d
::
veùÜ
<>::
cÚ¡_™”©Ü
 
™”
 = 
m_shad”_dyÇmic_w¬p_issue_di¡ro
[ 
sid
 ].
	`begš
();

586 
™”
 !ğ
m_shad”_dyÇmic_w¬p_issue_di¡ro
[ 
sid
 ].
	`’d
(); i‹r++, 
couÁ
++ ) {

587 
diff
 = 
couÁ
 < 
m_Ï¡_shad”_dyÇmic_w¬p_issue_di¡ro
.
	`size
() ?

588 *
™”
 - 
m_Ï¡_shad”_dyÇmic_w¬p_issue_di¡ro
[ 
couÁ
 ] :

589 *
™”
;

590 
tÙ®_issued_this_»sŞutiÚ
 +ğ
diff
;

591 iàĞĞ
couÁ
 + 1 ) % 
DYNAMIC_WARP_PRINT_RESOLUTION
 == 0 ) {

592 
	`gz´štf
Ğ
visu®iz”_fe
, " %d", 
tÙ®_issued_this_»sŞutiÚ
 );

593 
dyÇmic_id_issued_sum
 +ğ
tÙ®_issued_this_»sŞutiÚ
;

594 
tÙ®_issued_this_»sŞutiÚ
 = 0;

597 iàĞ
couÁ
 % 
DYNAMIC_WARP_PRINT_RESOLUTION
 != 0 ) {

598 
	`gz´štf
Ğ
visu®iz”_fe
, " %d", 
tÙ®_issued_this_»sŞutiÚ
 );

599 
dyÇmic_id_issued_sum
 +ğ
tÙ®_issued_this_»sŞutiÚ
;

601 
m_Ï¡_shad”_dyÇmic_w¬p_issue_di¡ro
 = 
m_shad”_dyÇmic_w¬p_issue_di¡ro
[ 
sid
 ];

602 
	`as£¹
Ğ
w¬p_id_issued_sum
 =ğ
dyÇmic_id_issued_sum
 );

604 
	`gz´štf
Ğ
visu®iz”_fe
, " 0");

606 
	`gz´štf
(
visu®iz”_fe
,"\n");

609 
	`gz´štf
(
visu®iz”_fe
, "gpgpu_n_ÿche_bkcÚæiù: %d\n", 
gpgpu_n_ÿche_bkcÚæiù
);

610 
	`gz´štf
(
visu®iz”_fe
, "gpgpu_n_shmem_bkcÚæiù: %d\n", 
gpgpu_n_shmem_bkcÚæiù
);

614 
	`gz´štf
(
visu®iz”_fe
, "shaderinsncount: ");

615 
i
=0;i<
m_cÚfig
->
	`num_shad”
();i++)

616 
	`gz´štf
(
visu®iz”_fe
, "%u ", 
m_num_sim_š¢
[
i
] );

617 
	`gz´štf
(
visu®iz”_fe
, "\n");

619 
	`gz´štf
(
visu®iz”_fe
, "shaderwarpinsncount: ");

620 
i
=0;i<
m_cÚfig
->
	`num_shad”
();i++)

621 
	`gz´štf
(
visu®iz”_fe
, "%u ", 
m_num_sim_wš¢
[
i
] );

622 
	`gz´štf
(
visu®iz”_fe
, "\n");

624 
	`gz´štf
(
visu®iz”_fe
, "shaderwarpdiv: ");

625 
i
=0;i<
m_cÚfig
->
	`num_shad”
();i++)

626 
	`gz´štf
(
visu®iz”_fe
, "%u ", 
m_n_div”ge
[
i
] );

627 
	`gz´štf
(
visu®iz”_fe
, "\n");

628 
	}
}

630 
	#PROGRAM_MEM_START
 0xF0000000

	)

633 
	gshad”_cÜe_ùx
::
	$decode
()

635 ifĞ
m_š¡_ãtch_bufãr
.
m_v®id
 ) {

637 
add»ss_ty³
 
pc
 = 
m_š¡_ãtch_bufãr
.
m_pc
;

638 cÚ¡ 
w¬p_š¡_t
* 
pI1
 = 
	`±x_ãtch_š¡
(
pc
);

639 
m_w¬p
[
m_š¡_ãtch_bufãr
.
m_w¬p_id
].
	`ibufãr_fl
(0,
pI1
);

640 
m_w¬p
[
m_š¡_ãtch_bufãr
.
m_w¬p_id
].
	`šc_š¡_š_p–še
();

641 ifĞ
pI1
 ) {

642 
m_¡©s
->
m_num_decoded_š¢
[
m_sid
]++;

643 if(
pI1
->
İºd_ty³
==
INT_OP
){

644 
m_¡©s
->
m_num_INTdecoded_š¢
[
m_sid
]++;

645 }if(
pI1
->
İºd_ty³
==
FP_OP
) {

646 
m_¡©s
->
m_num_FPdecoded_š¢
[
m_sid
]++;

648 cÚ¡ 
w¬p_š¡_t
* 
pI2
 = 
	`±x_ãtch_š¡
(
pc
+
pI1
->
isize
);

649 ifĞ
pI2
 ) {

650 
m_w¬p
[
m_š¡_ãtch_bufãr
.
m_w¬p_id
].
	`ibufãr_fl
(1,
pI2
);

651 
m_w¬p
[
m_š¡_ãtch_bufãr
.
m_w¬p_id
].
	`šc_š¡_š_p–še
();

652 
m_¡©s
->
m_num_decoded_š¢
[
m_sid
]++;

653 if(
pI2
->
İºd_ty³
==
INT_OP
){

654 
m_¡©s
->
m_num_INTdecoded_š¢
[
m_sid
]++;

655 }if(
pI2
->
İºd_ty³
==
FP_OP
) {

656 
m_¡©s
->
m_num_FPdecoded_š¢
[
m_sid
]++;

660 
m_š¡_ãtch_bufãr
.
m_v®id
 = 
çl£
;

662 
	}
}

664 
	gshad”_cÜe_ùx
::
	$ãtch
()

666 ifĞ!
m_š¡_ãtch_bufãr
.
m_v®id
 ) {

669  
i
=0; i < 
m_cÚfig
->
max_w¬ps_³r_shad”
; i++ ) {

670 
w¬p_id
 = (
m_Ï¡_w¬p_ãtched
+1+
i
è% 
m_cÚfig
->
max_w¬ps_³r_shad”
;

673 ifĞ
m_w¬p
[
w¬p_id
].
	`h¬dw¬e_dÚe
(è&& !
m_scÜebßrd
->
	`³ndšgWr™es
(w¬p_idè&& !m_w¬p[w¬p_id].
	`dÚe_ex™
() ) {

674 
boŞ
 
did_ex™
=
çl£
;

675  
t
=0;<
m_cÚfig
->
w¬p_size
;t++) {

676 
tid
=
w¬p_id
*
m_cÚfig
->
w¬p_size
+
t
;

677 ifĞ
m_th»adS‹
[
tid
].
m_aùive
 =ğ
Œue
 ) {

678 
m_th»adS‹
[
tid
].
m_aùive
 = 
çl£
;

679 
ùa_id
 = 
m_w¬p
[
w¬p_id
].
	`g‘_ùa_id
();

680 
	`»gi¡”_ùa_th»ad_ex™
(
ùa_id
);

681 
m_nÙ_com¶‘ed
 -= 1;

682 
m_aùive_th»ads
.
	`»£t
(
tid
);

683 
	`as£¹
Ğ
m_th»ad
[
tid
]!ğ
NULL
 );

684 
did_ex™
=
Œue
;

687 ifĞ
did_ex™
 )

688 
m_w¬p
[
w¬p_id
].
	`£t_dÚe_ex™
();

692 ifĞ!
m_w¬p
[
w¬p_id
].
	`funùiÚ®_dÚe
(è&& !m_w¬p[w¬p_id].
	`imiss_³ndšg
(è&& m_w¬p[w¬p_id].
	`ibufãr_em±y
() ) {

693 
add»ss_ty³
 
pc
 = 
m_w¬p
[
w¬p_id
].
	`g‘_pc
();

694 
add»ss_ty³
 
µc
 = 
pc
 + 
PROGRAM_MEM_START
;

695 
nby‹s
=16;

696 
off£t_š_block
 = 
pc
 & (
m_cÚfig
->
m_L1I_cÚfig
.
	`g‘_lše_sz
()-1);

697 ifĞ(
off£t_š_block
+
nby‹s
è> 
m_cÚfig
->
m_L1I_cÚfig
.
	`g‘_lše_sz
() )

698 
nby‹s
 = (
m_cÚfig
->
m_L1I_cÚfig
.
	`g‘_lše_sz
()-
off£t_š_block
);

702 
mem_acûss_t
 
	`acc
(
INST_ACC_R
,
µc
,
nby‹s
,
çl£
);

703 
mem_ãtch
 *
mf
 = 
Ãw
 
	`mem_ãtch
(
acc
,

704 
NULL
 ,

705 
READ_PACKET_SIZE
,

706 
w¬p_id
,

707 
m_sid
,

708 
m_c
,

709 
m_memÜy_cÚfig
 );

710 
¡d
::
li¡
<
ÿche_ev’t
> 
ev’ts
;

711 
ÿche_»que¡_¡©us
 
¡©us
 = 
m_L1I
->
	`acûss
Ğ(
Ãw_addr_ty³
)
µc
, 
mf
, 
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
,
ev’ts
);

712 ifĞ
¡©us
 =ğ
MISS
 ) {

713 
m_Ï¡_w¬p_ãtched
=
w¬p_id
;

714 
m_w¬p
[
w¬p_id
].
	`£t_imiss_³ndšg
();

715 
m_w¬p
[
w¬p_id
].
	`£t_Ï¡_ãtch
(
gpu_sim_cyşe
);

716 } ifĞ
¡©us
 =ğ
HIT
 ) {

717 
m_Ï¡_w¬p_ãtched
=
w¬p_id
;

718 
m_š¡_ãtch_bufãr
 = 
	`iãtch_bufãr_t
(
pc
,
nby‹s
,
w¬p_id
);

719 
m_w¬p
[
w¬p_id
].
	`£t_Ï¡_ãtch
(
gpu_sim_cyşe
);

720 
d–‘e
 
mf
;

722 
m_Ï¡_w¬p_ãtched
=
w¬p_id
;

723 
	`as£¹
Ğ
¡©us
 =ğ
RESERVATION_FAIL
 );

724 
d–‘e
 
mf
;

731 
m_L1I
->
	`cyşe
();

733 ifĞ
m_L1I
->
	`acûss_»ady
() ) {

734 
mem_ãtch
 *
mf
 = 
m_L1I
->
	`Ãxt_acûss
();

735 
m_w¬p
[
mf
->
	`g‘_wid
()].
	`ş—r_imiss_³ndšg
();

736 
d–‘e
 
mf
;

738 
	}
}

740 
	gshad”_cÜe_ùx
::
	$func_exec_š¡
Ğ
w¬p_š¡_t
 &
š¡
 )

742 
	`execu‹_w¬p_š¡_t
(
š¡
);

743 ifĞ
š¡
.
	`is_lßd
(è|| in¡.
	`is_¡Üe
() )

744 
š¡
.
	`g’”©e_mem_acûs£s
();

745 
	}
}

747 
	gshad”_cÜe_ùx
::
	$issue_w¬p
Ğ
»gi¡”_£t
& 
pe_»g_£t
, cÚ¡ 
w¬p_š¡_t
* 
Ãxt_š¡
, cÚ¡ 
aùive_mask_t
 &
aùive_mask
, 
w¬p_id
 )

749 
w¬p_š¡_t
** 
pe_»g
 = 
pe_»g_£t
.
	`g‘_ä“
();

750 
	`as£¹
(
pe_»g
);

752 
m_w¬p
[
w¬p_id
].
	`ibufãr_ä“
();

753 
	`as£¹
(
Ãxt_š¡
->
	`v®id
());

754 **
pe_»g
 = *
Ãxt_š¡
;

755 (*
pe_»g
)->
	`issue
Ğ
aùive_mask
, 
w¬p_id
, 
gpu_tÙ_sim_cyşe
 + 
gpu_sim_cyşe
, 
m_w¬p
[w¬p_id].
	`g‘_dyÇmic_w¬p_id
() );

756 
m_¡©s
->
shad”_cyşe_di¡ro
[2+(*
pe_»g
)->
	`aùive_couÁ
()]++;

757 
	`func_exec_š¡
Ğ**
pe_»g
 );

758 ifĞ
Ãxt_š¡
->
İ
 =ğ
BARRIER_OP
 )

759 
m_b¬r›rs
.
	`w¬p_»aches_b¬r›r
(
m_w¬p
[
w¬p_id
].
	`g‘_ùa_id
(),warp_id);

760 ifĞ
Ãxt_š¡
->
İ
 =ğ
MEMORY_BARRIER_OP
 )

761 
m_w¬p
[
w¬p_id
].
	`£t_memb¬
();

763 
	`upd©eSIMTSck
(
w¬p_id
,*
pe_»g
);

764 
m_scÜebßrd
->
	`»£rveRegi¡”s
(*
pe_»g
);

765 
m_w¬p
[
w¬p_id
].
	`£t_Ãxt_pc
(
Ãxt_š¡
->
pc
 +‚ext_š¡->
isize
);

766 
	}
}

768 
	gshad”_cÜe_ùx
::
	$issue
(){

770 
i
 = 0; i < 
scheduËrs
.
	`size
(); i++) {

771 
scheduËrs
[
i
]->
	`cyşe
();

773 
	}
}

775 
	gshd_w¬p_t
& 
	gscheduËr_un™
::
	$w¬p
(
i
){

776  (*
m_w¬p
)[
i
];

777 
	}
}

799 
	g‹m¶©e
 < 
şass
 
	gT
 >

800 
	gscheduËr_un™
::
Üd”_Ìr
Ğ
¡d
::
veùÜ
< 
T
 >& 
»suÉ_li¡
,

801 cÚ¡ 
ty³Çme
 
¡d
::
veùÜ
< 
T
 >& 
šput_li¡
,

802 cÚ¡ 
ty³Çme
 
¡d
::
veùÜ
< 
T
 >::
cÚ¡_™”©Ü
& 
Ï¡_issued_äom_šput
,

803 
num_w¬ps_to_add
 )

805 
as£¹
Ğ
num_w¬ps_to_add
 <ğ
šput_li¡
.
size
() );

806 
	g»suÉ_li¡
.
ş—r
();

807 
ty³Çme
 
	g¡d
::
veùÜ
< 
T
 >::
cÚ¡_™”©Ü
 
™”


808 ğĞ
Ï¡_issued_äom_šput
 =ğ
šput_li¡
.
’d
(èè? iÅut_li¡.
begš
()

809 : 
Ï¡_issued_äom_šput
 + 1;

811  
	gcouÁ
 = 0;

812 
	gcouÁ
 < 
	gnum_w¬ps_to_add
;

813 ++
	g™”
, ++
	gcouÁ
) {

814 iàĞ
	g™”
 =ğ
šput_li¡
.
’d
() ) {

815 
™”
 = 
šput_li¡
.
begš
();

817 
	g»suÉ_li¡
.
push_back
Ğ*
™”
 );

832 
	g‹m¶©e
 < 
şass
 
	gT
 >

833 
	gscheduËr_un™
::
Üd”_by_´iÜ™y
Ğ
¡d
::
veùÜ
< 
T
 >& 
»suÉ_li¡
,

834 cÚ¡ 
ty³Çme
 
¡d
::
veùÜ
< 
T
 >& 
šput_li¡
,

835 cÚ¡ 
ty³Çme
 
¡d
::
veùÜ
< 
T
 >::
cÚ¡_™”©Ü
& 
Ï¡_issued_äom_šput
,

836 
num_w¬ps_to_add
,

837 
Ord”šgTy³
 
Üd”šg
,

838 
	$boŞ
 (*
´iÜ™y_func
)(
T
 
lhs
, T 
rhs
) )

840 
	`as£¹
Ğ
num_w¬ps_to_add
 <ğ
šput_li¡
.
	`size
() );

841 
»suÉ_li¡
.
	`ş—r
();

842 
ty³Çme
 
¡d
::
veùÜ
< 
T
 > 
‹mp
 = 
šput_li¡
;

844 iàĞ
ORDERING_GREEDY_THEN_PRIORITY_FUNC
 =ğ
Üd”šg
 ) {

845 
T
 
g»edy_v®ue
 = *
Ï¡_issued_äom_šput
;

846 
»suÉ_li¡
.
	`push_back
Ğ
g»edy_v®ue
 );

848 
¡d
::
	`sÜt
Ğ
‹mp
.
	`begš
(),emp.
	`’d
(), 
´iÜ™y_func
 );

849 
ty³Çme
 
¡d
::
veùÜ
< 
T
 >::
™”©Ü
 
™”
 = 
‹mp
.
	`begš
();

850  
couÁ
 = 0; couÁ < 
num_w¬ps_to_add
; ++couÁ, ++
™”
 ) {

851 iàĞ*
™”
 !ğ
g»edy_v®ue
 ) {

852 
»suÉ_li¡
.
	`push_back
Ğ*
™”
 );

855 } iàĞ
ORDERED_PRIORITY_FUNC_ONLY
 =ğ
Üd”šg
 ) {

856 
¡d
::
	`sÜt
Ğ
‹mp
.
	`begš
(),emp.
	`’d
(), 
´iÜ™y_func
 );

857 
ty³Çme
 
¡d
::
veùÜ
< 
T
 >::
™”©Ü
 
™”
 = 
‹mp
.
	`begš
();

858  
couÁ
 = 0; couÁ < 
num_w¬ps_to_add
; ++couÁ, ++
™”
 ) {

859 
»suÉ_li¡
.
	`push_back
Ğ*
™”
 );

862 
	`årštf
Ğ
¡d”r
, "UnknowÀÜd”šg - %d\n", 
Üd”šg
 );

863 
	`abÜt
();

865 
	}
}

867 
	gscheduËr_un™
::
	$cyşe
()

869 
	`SCHED_DPRINTF
( "scheduler_unit::cycle()\n" );

870 
boŞ
 
v®id_š¡
 = 
çl£
;

871 
boŞ
 
»ady_š¡
 = 
çl£
;

872 
boŞ
 
issued_š¡
 = 
çl£
;

874 
	`Üd”_w¬ps
();

875  
¡d
::
veùÜ
< 
shd_w¬p_t
* >::
cÚ¡_™”©Ü
 
™”
 = 
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`begš
();

876 
™”
 !ğ
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`’d
();

877 
™”
++ ) {

879 iàĞ(*
™”
è=ğ
NULL
 || (*™”)->
	`dÚe_ex™
() ) {

882 
	`SCHED_DPRINTF
( "Testing (warp_id %u, dynamic_warp_id %u)\n",

883 (*
™”
)->
	`g‘_w¬p_id
(), (*™”)->
	`g‘_dyÇmic_w¬p_id
() );

884 
w¬p_id
 = (*
™”
)->
	`g‘_w¬p_id
();

885 
checked
=0;

886 
issued
=0;

887 
max_issue
 = 
m_shad”
->
m_cÚfig
->
gpgpu_max_š¢_issue_³r_w¬p
;

888  !
	`w¬p
(
w¬p_id
).
	`wa™šg
(è&& !w¬p(w¬p_id).
	`ibufãr_em±y
(è&& (
checked
 < 
max_issue
è&& (checked <ğ
issued
) && (issued < max_issue) ) {

889 cÚ¡ 
w¬p_š¡_t
 *
pI
 = 
	`w¬p
(
w¬p_id
).
	`ibufãr_Ãxt_š¡
();

890 
boŞ
 
v®id
 = 
	`w¬p
(
w¬p_id
).
	`ibufãr_Ãxt_v®id
();

891 
boŞ
 
w¬p_š¡_issued
 = 
çl£
;

892 
pc
,
½c
;

893 
m_simt_¡ack
[
w¬p_id
]->
	`g‘_pdom_¡ack_tİ_šfo
(&
pc
,&
½c
);

894 
	`SCHED_DPRINTF
( "Warp (warp_id %u, dynamic_warp_id %u) has valid instruction (%s)\n",

895 (*
™”
)->
	`g‘_w¬p_id
(), (*™”)->
	`g‘_dyÇmic_w¬p_id
(),

896 
	`±x_g‘_š¢_¡r
Ğ
pc
).
	`c_¡r
() );

897 ifĞ
pI
 ) {

898 
	`as£¹
(
v®id
);

899 ifĞ
pc
 !ğ
pI
->pc ) {

900 
	`SCHED_DPRINTF
( "Warp (warp_id %u, dynamic_warp_id %u) control hazard instruction flush\n",

901 (*
™”
)->
	`g‘_w¬p_id
(), (*™”)->
	`g‘_dyÇmic_w¬p_id
() );

903 
	`w¬p
(
w¬p_id
).
	`£t_Ãxt_pc
(
pc
);

904 
	`w¬p
(
w¬p_id
).
	`ibufãr_æush
();

906 
v®id_š¡
 = 
Œue
;

907 iàĞ!
m_scÜebßrd
->
	`checkCŞlisiÚ
(
w¬p_id
, 
pI
) ) {

908 
	`SCHED_DPRINTF
( "Warp (warp_id %u, dynamic_warp_id %u)…asses scoreboard\n",

909 (*
™”
)->
	`g‘_w¬p_id
(), (*™”)->
	`g‘_dyÇmic_w¬p_id
() );

910 
»ady_š¡
 = 
Œue
;

911 cÚ¡ 
aùive_mask_t
 &
aùive_mask
 = 
m_simt_¡ack
[
w¬p_id
]->
	`g‘_aùive_mask
();

912 
	`as£¹
Ğ
	`w¬p
(
w¬p_id
).
	`š¡_š_p–še
() );

913 iàĞ(
pI
->
İ
 =ğ
LOAD_OP
è|| (pI->İ =ğ
STORE_OP
è|| (pI->İ =ğ
MEMORY_BARRIER_OP
) ) {

914 ifĞ
m_mem_out
->
	`has_ä“
() ) {

915 
m_shad”
->
	`issue_w¬p
(*
m_mem_out
,
pI
,
aùive_mask
,
w¬p_id
);

916 
issued
++;

917 
issued_š¡
=
Œue
;

918 
w¬p_š¡_issued
 = 
Œue
;

921 
boŞ
 
¥_pe_ava
 = 
m_¥_out
->
	`has_ä“
();

922 
boŞ
 
sfu_pe_ava
 = 
m_sfu_out
->
	`has_ä“
();

923 ifĞ
¥_pe_ava
 && (
pI
->
İ
 !ğ
SFU_OP
) ) {

925 
m_shad”
->
	`issue_w¬p
(*
m_¥_out
,
pI
,
aùive_mask
,
w¬p_id
);

926 
issued
++;

927 
issued_š¡
=
Œue
;

928 
w¬p_š¡_issued
 = 
Œue
;

929 } iàĞ(
pI
->
İ
 =ğ
SFU_OP
è|| (pI->İ =ğ
ALU_SFU_OP
) ) {

930 ifĞ
sfu_pe_ava
 ) {

931 
m_shad”
->
	`issue_w¬p
(*
m_sfu_out
,
pI
,
aùive_mask
,
w¬p_id
);

932 
issued
++;

933 
issued_š¡
=
Œue
;

934 
w¬p_š¡_issued
 = 
Œue
;

939 
	`SCHED_DPRINTF
( "Warp (warp_id %u, dynamic_warp_id %u) fails scoreboard\n",

940 (*
™”
)->
	`g‘_w¬p_id
(), (*™”)->
	`g‘_dyÇmic_w¬p_id
() );

943 } ifĞ
v®id
 ) {

945 
	`SCHED_DPRINTF
( "Warp (warp_id %u, dynamic_warp_id %u)„eturn from diverged warp flush\n",

946 (*
™”
)->
	`g‘_w¬p_id
(), (*™”)->
	`g‘_dyÇmic_w¬p_id
() );

947 
	`w¬p
(
w¬p_id
).
	`£t_Ãxt_pc
(
pc
);

948 
	`w¬p
(
w¬p_id
).
	`ibufãr_æush
();

950 if(
w¬p_š¡_issued
) {

951 
	`SCHED_DPRINTF
( "Warp (warp_id %u, dynamic_warp_id %u) issued %u instructions\n",

952 (*
™”
)->
	`g‘_w¬p_id
(),

953 (*
™”
)->
	`g‘_dyÇmic_w¬p_id
(),

954 
issued
 );

955 if(
	`g‘_sid
()==1)

956 
	`årštf
(
issue_¡©us_fe
,"%Îu,%u\n",
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
,
w¬p_id
);

957 
	`do_Ú_w¬p_issued
Ğ
w¬p_id
, 
issued
, 
™”
 );

959 
checked
++;

961 iàĞ
issued
 ) {

967  
¡d
::
veùÜ
< 
shd_w¬p_t
* >::
cÚ¡_™”©Ü
 
su³rvi£d_™”
 = 
m_su³rvi£d_w¬ps
.
	`begš
();

968 
su³rvi£d_™”
 !ğ
m_su³rvi£d_w¬ps
.
	`’d
();

969 ++
su³rvi£d_™”
 ) {

970 iàĞ*
™”
 =ğ*
su³rvi£d_™”
 ) {

971 
m_Ï¡_su³rvi£d_issued
 = 
su³rvi£d_™”
;

984 ifĞ!
v®id_š¡
 )

985 
m_¡©s
->
shad”_cyşe_di¡ro
[0]++;

986 ifĞ!
»ady_š¡
 )

987 
m_¡©s
->
shad”_cyşe_di¡ro
[1]++;

988 ifĞ!
issued_š¡
 )

989 
m_¡©s
->
shad”_cyşe_di¡ro
[2]++;

990 
	}
}

992 
	gscheduËr_un™
::
do_Ú_w¬p_issued
Ğ
w¬p_id
,

993 
num_issued
,

994 cÚ¡ 
¡d
::
veùÜ
< 
shd_w¬p_t
* >::
cÚ¡_™”©Ü
& 
´iÜ™ized_™”
 )

996 
m_¡©s
->
ev’t_w¬p_issued
Ğ
m_shad”
->
g‘_sid
(),

997 
w¬p_id
,

998 
num_issued
,

999 
w¬p
(
w¬p_id
).
g‘_dyÇmic_w¬p_id
() );

1000 
w¬p
(
w¬p_id
).
ibufãr_¡•
();

1003 
boŞ
 
	gscheduËr_un™
::
	$sÜt_w¬ps_by_Şde¡_dyÇmic_id
(
shd_w¬p_t
* 
lhs
, shd_w¬p_t* 
rhs
)

1005 ià(
rhs
 && 
lhs
) {

1006 iàĞ
lhs
->
	`dÚe_ex™
(è||†hs->
	`wa™šg
() ) {

1007  
çl£
;

1008 } iàĞ
rhs
->
	`dÚe_ex™
(è||„hs->
	`wa™šg
() ) {

1009  
Œue
;

1011  
lhs
->
	`g‘_dyÇmic_w¬p_id
(è< 
rhs
->get_dynamic_warp_id();

1014  
lhs
 < 
rhs
;

1016 
	}
}

1018 
	gÌr_scheduËr
::
	$Üd”_w¬ps
()

1020 
	`Üd”_Ìr
Ğ
m_Ãxt_cyşe_´iÜ™ized_w¬ps
,

1021 
m_su³rvi£d_w¬ps
,

1022 
m_Ï¡_su³rvi£d_issued
,

1023 
m_su³rvi£d_w¬ps
.
	`size
() );

1024 
	}
}

1026 
	ggto_scheduËr
::
	$Üd”_w¬ps
()

1028 
	`Üd”_by_´iÜ™y
Ğ
m_Ãxt_cyşe_´iÜ™ized_w¬ps
,

1029 
m_su³rvi£d_w¬ps
,

1030 
m_Ï¡_su³rvi£d_issued
,

1031 
m_su³rvi£d_w¬ps
.
	`size
(),

1032 
ORDERING_GREEDY_THEN_PRIORITY_FUNC
,

1033 
scheduËr_un™
::
sÜt_w¬ps_by_Şde¡_dyÇmic_id
 );

1034 
	}
}

1037 
	gtwo_Ëv–_aùive_scheduËr
::
do_Ú_w¬p_issued
Ğ
w¬p_id
,

1038 
num_issued
,

1039 cÚ¡ 
¡d
::
veùÜ
< 
shd_w¬p_t
* >::
cÚ¡_™”©Ü
& 
´iÜ™ized_™”
 )

1041 
scheduËr_un™
::
do_Ú_w¬p_issued
Ğ
w¬p_id
, 
num_issued
, 
´iÜ™ized_™”
 );

1042 iàĞ
	gSCHEDULER_PRIORITIZATION_LRR
 =ğ
m_šÃr_Ëv–_´iÜ™iz©iÚ
 ) {

1043 
¡d
::
veùÜ
< 
shd_w¬p_t
* > 
Ãw_aùive
;

1044 
Üd”_Ìr
Ğ
Ãw_aùive
,

1045 
m_Ãxt_cyşe_´iÜ™ized_w¬ps
,

1046 
´iÜ™ized_™”
,

1047 
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
size
() );

1048 
	gm_Ãxt_cyşe_´iÜ™ized_w¬ps
 = 
Ãw_aùive
;

1050 
årštf
Ğ
¡d”r
,

1052 
m_šÃr_Ëv–_´iÜ™iz©iÚ
 );

1053 
abÜt
();

1057 
	gtwo_Ëv–_aùive_scheduËr
::
	$Üd”_w¬ps
()

1060 
num_demÙed
 = 0;

1061  
¡d
::
veùÜ
< 
shd_w¬p_t
* >::
™”©Ü
 
™”
 = 
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`begš
();

1062 
™”
 !ğ
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`’d
(); ) {

1063 
boŞ
 
wa™šg
 = (*
™”
)->
	`wa™šg
();

1064 
i
=0; i<4; i++){

1065 cÚ¡ 
w¬p_š¡_t
* 
š¡
 = (*
™”
)->
	`ibufãr_Ãxt_š¡
();

1067 iàĞ
š¡
 && in¡->
š
[
i
] > 0 && 
this
->
m_scÜebßrd
->
	`i¦Úgİ
((*
™”
)->
	`g‘_w¬p_id
(), inst->in[i])){

1068 
wa™šg
 = 
Œue
;

1072 ifĞ
wa™šg
 ) {

1073 
m_³ndšg_w¬ps
.
	`push_back
(*
™”
);

1074 
™”
 = 
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`”a£
(iter);

1075 
	`SCHED_DPRINTF
( "DEMOTED warp_id=%d, dynamic_warp_id=%d\n",

1076 (*
™”
)->
	`g‘_w¬p_id
(),

1077 (*
™”
)->
	`g‘_dyÇmic_w¬p_id
() );

1078 ++
num_demÙed
;

1080 ++
™”
;

1085 
num_´omÙed
 = 0;

1086 iàĞ
SCHEDULER_PRIORITIZATION_SRR
 =ğ
m_ou‹r_Ëv–_´iÜ™iz©iÚ
 ) {

1087  
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`size
(è< 
m_max_aùive_w¬ps
 ) {

1088 
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`push_back
(
m_³ndšg_w¬ps
.
	`äÚt
());

1089 
m_³ndšg_w¬ps
.
	`pİ_äÚt
();

1090 
	`SCHED_DPRINTF
( "PROMOTED warp_id=%d, dynamic_warp_id=%d\n",

1091 (
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`back
())->
	`g‘_w¬p_id
(),

1092 (
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`back
())->
	`g‘_dyÇmic_w¬p_id
() );

1093 ++
num_´omÙed
;

1096 
	`årštf
Ğ
¡d”r
,

1098 
m_ou‹r_Ëv–_´iÜ™iz©iÚ
 );

1099 
	`abÜt
();

1101 
	`as£¹
Ğ
num_´omÙed
 =ğ
num_demÙed
 );

1102 
	}
}

1105 
	ggto_šÃr_gto_ou‹r_scheduËr
::
	$Üd”_w¬ps
(){

1107 
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`ş—r
();

1109 
group_™”_couÁ”
=0;

1111 
¡d
::
veùÜ
<
issue_group_queue
>::
™”©Ü
 
group_™”
=
m_issue_w¬ps_m©rix
.
	`begš
();

1112 (
group_™”
!ğ
m_issue_w¬ps_m©rix
.
	`’d
())&&(
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`size
()<
m_max_aùive_w¬ps
)&&(
group_™”_couÁ”
<
m_num_of_issue_groups
);){

1113 if(
group_™”
->
group_®l_¡®l_d‘
==
Œue
){

1115 
issue_group_queue
 
ÿche_queue
;

1116 
ÿche_queue
.
group_id
=
group_™”
->group_id;

1117 
ÿche_queue
.
group_®l_¡®l_d‘
=
çl£
;

1119 
ÿche_queue
.
w¬ps_queue
=
group_™”
->warps_queue;

1122 
group_™”
=
m_issue_w¬ps_m©rix
.
	`”a£
(group_iter);

1123 
m_issue_w¬ps_m©rix
.
	`push_back
(
ÿche_queue
);

1124 
group_™”_couÁ”
++;

1127 
lÚg_İ_couÁ
=0;

1128 
š_group_couÁ
=0;

1129 
¡d
::
veùÜ
<
shd_w¬p_t
*>::
™”©Ü
 
™”
=(
group_™”
->
w¬ps_queue
).
	`begš
();

1130 (
š_group_couÁ
<
m_issue_group_size
)&&(
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`size
()<
m_max_aùive_w¬ps
);){

1136 
boŞ
 
wa™šg
 = (*
™”
)->
	`wa™šg
();

1137 cÚ¡ 
w¬p_š¡_t
* 
š¡
 = (*
™”
)->
	`ibufãr_Ãxt_š¡
();

1145 
i
=0; i<4; i++){

1147 iàĞ
š¡
 && in¡->
š
[
i
] > 0 && 
this
->
m_scÜebßrd
->
	`i¦Úgİ
((*
™”
)->
	`g‘_w¬p_id
(), inst->in[i])){

1149 
wa™šg
=
Œue
;

1154 ifĞ
wa™šg
 ) {

1158 
lÚg_İ_couÁ
++;

1159 
shd_w¬p_t
*
tmp
=(*
™”
);

1160 
™”
 = (
group_™”
->
w¬ps_queue
).
	`”a£
(iter);

1161 (
group_™”
->
w¬ps_queue
).
	`push_back
(
tmp
);

1164 
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`push_back
(*
™”
);

1165 ++
™”
;

1167 
š_group_couÁ
++;

1170 if(
lÚg_İ_couÁ
==
m_issue_group_size
){

1171 
group_™”
->
group_®l_¡®l_d‘
=
Œue
;

1177 
group_™”
->
group_®l_¡®l_d‘
=
çl£
;

1179 ++
group_™”
;

1180 ++
group_™”_couÁ”
;

1185 
	}
}

1187 
	gswl_scheduËr
::
swl_scheduËr
 ( 
shad”_cÜe_¡©s
* 
¡©s
, 
shad”_cÜe_ùx
* 
shad”
,

1188 
ScÜebßrd
* 
scÜebßrd
, 
simt_¡ack
** 
simt
,

1189 
¡d
::
veùÜ
<
shd_w¬p_t
>* 
w¬p
,

1190 
»gi¡”_£t
* 
¥_out
,

1191 
»gi¡”_£t
* 
sfu_out
,

1192 
»gi¡”_£t
* 
mem_out
,

1193 
id
,

1194 * 
cÚfig_¡ršg
 )

1195 : 
	$scheduËr_un™
 ( 
¡©s
, 
shad”
, 
scÜebßrd
, 
simt
, 
w¬p
, 
¥_out
, 
sfu_out
, 
mem_out
, 
id
 )

1197 
m_´iÜ™iz©iÚ_»adš
;

1198 
»t
 = 
	`ssÿnf
Ğ
cÚfig_¡ršg
,

1200 &
m_´iÜ™iz©iÚ_»adš
,

1201 &
m_num_w¬ps_to_lim™


1203 
	`as£¹
Ğ2 =ğ
»t
 );

1204 
m_´iÜ™iz©iÚ
 = (
scheduËr_´iÜ™iz©iÚ_ty³
)
m_´iÜ™iz©iÚ_»adš
;

1206 
	`as£¹
Ğ
m_´iÜ™iz©iÚ
 =ğ
SCHEDULER_PRIORITIZATION_GTO
 );

1207 
	`as£¹
Ğ
m_num_w¬ps_to_lim™
 <ğ
shad”
->
	`g‘_cÚfig
()->
max_w¬ps_³r_shad”
 );

1208 
	}
}

1210 
	gg»edy_šÃr_gto_ou‹r_scheduËr
::
	$Üd”_w¬ps
(){

1211 
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`ş—r
();

1213 
group_™”_couÁ”
=0;

1215 
¡d
::
veùÜ
<
issue_group_queue
>::
™”©Ü
 
group_™”
=
m_issue_w¬ps_m©rix
.
	`begš
();

1216 (
group_™”
!ğ
m_issue_w¬ps_m©rix
.
	`’d
())&&(
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`size
()<
m_max_aùive_w¬ps
)&&(
group_™”_couÁ”
<
m_num_of_issue_groups
);){

1217 if(
group_™”
->
group_®l_¡®l_d‘
==
Œue
){

1219 
issue_group_queue
 
ÿche_queue
;

1220 
ÿche_queue
.
group_id
=
group_™”
->group_id;

1221 
ÿche_queue
.
group_®l_¡®l_d‘
=
çl£
;

1223 
ÿche_queue
.
w¬ps_queue
=
group_™”
->warps_queue;

1226 
group_™”
=
m_issue_w¬ps_m©rix
.
	`”a£
(group_iter);

1227 
m_issue_w¬ps_m©rix
.
	`push_back
(
ÿche_queue
);

1228 
group_™”_couÁ”
++;

1231 
lÚg_İ_couÁ
=0;

1232 
š_group_couÁ
=0;

1233 
¡d
::
veùÜ
<
shd_w¬p_t
*>::
™”©Ü
 
™”
=(
group_™”
->
w¬ps_queue
).
	`begš
();

1234 (
š_group_couÁ
<
m_issue_group_size
)&&(
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`size
()<
m_max_aùive_w¬ps
);){

1237 
boŞ
 
wa™šg
 = (*
™”
)->
	`wa™šg
();

1238 cÚ¡ 
w¬p_š¡_t
* 
š¡
 = (*
™”
)->
	`ibufãr_Ãxt_š¡
();

1240 
i
=0; i<4; i++){

1242 iàĞ
š¡
 && in¡->
š
[
i
] > 0 && 
this
->
m_scÜebßrd
->
	`i¦Úgİ
((*
™”
)->
	`g‘_w¬p_id
(), inst->in[i])){

1244 
wa™šg
=
Œue
;

1249 ifĞ
wa™šg
 ) {

1250 
lÚg_İ_couÁ
++;

1256 
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`push_back
(*
™”
);

1258 ++
™”
;

1259 
š_group_couÁ
++;

1262 if(
lÚg_İ_couÁ
==
m_issue_group_size
)

1263 
group_™”
->
group_®l_¡®l_d‘
=
Œue
;

1265 
group_™”
->
group_®l_¡®l_d‘
=
çl£
;

1267 ++
group_™”
;

1268 ++
group_™”_couÁ”
;

1271 
	}
}

1273 
	g¼_šÃr_gto_ou‹r_scheduËr
::
	$Üd”_w¬ps
(){

1275 
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`ş—r
();

1277 
group_™”_couÁ”
=0;

1279 
¡d
::
veùÜ
<
issue_group_queue
>::
™”©Ü
 
group_™”
=
m_issue_w¬ps_m©rix
.
	`begš
();

1280 (
group_™”
!ğ
m_issue_w¬ps_m©rix
.
	`’d
())&&(
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`size
()<
m_max_aùive_w¬ps
)&&(
group_™”_couÁ”
<
m_num_of_issue_groups
);){

1281 if(
group_™”
->
group_®l_¡®l_d‘
==
Œue
){

1283 
issue_group_queue
 
ÿche_queue
;

1284 
ÿche_queue
.
group_id
=
group_™”
->group_id;

1285 
ÿche_queue
.
group_®l_¡®l_d‘
=
çl£
;

1287 
ÿche_queue
.
w¬ps_queue
=
group_™”
->warps_queue;

1290 
group_™”
=
m_issue_w¬ps_m©rix
.
	`”a£
(group_iter);

1291 
m_issue_w¬ps_m©rix
.
	`push_back
(
ÿche_queue
);

1292 
group_™”_couÁ”
++;

1295 
lÚg_İ_couÁ
=0;

1296 
š_group_couÁ
=0;

1297 
¡d
::
veùÜ
<
shd_w¬p_t
*>::
™”©Ü
 
™”
=(
group_™”
->
w¬ps_queue
).
	`begš
();

1298 (
š_group_couÁ
<
m_issue_group_size
)&&(
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`size
()<
m_max_aùive_w¬ps
);){

1301 
boŞ
 
wa™šg
 = (*
™”
)->
	`wa™šg
();

1302 cÚ¡ 
w¬p_š¡_t
* 
š¡
 = (*
™”
)->
	`ibufãr_Ãxt_š¡
();

1304 
i
=0; i<4; i++){

1306 iàĞ
š¡
 && in¡->
š
[
i
] > 0 && 
this
->
m_scÜebßrd
->
	`i¦Úgİ
((*
™”
)->
	`g‘_w¬p_id
(), inst->in[i])){

1308 
wa™šg
=
Œue
;

1313 ifĞ
wa™šg
 ) {

1314 
lÚg_İ_couÁ
++;

1317 
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`push_back
(*
™”
);

1319 ++
™”
;

1320 
š_group_couÁ
++;

1323 if(
lÚg_İ_couÁ
==
m_issue_group_size
)

1324 
group_™”
->
group_®l_¡®l_d‘
=
Œue
;

1326 
group_™”
->
group_®l_¡®l_d‘
=
çl£
;

1328 ++
group_™”
;

1329 ++
group_™”_couÁ”
;

1333 
	}
}

1336 
	g¼_šÃr_gto_ou‹r_scheduËr
::
do_Ú_w¬p_issued
Ğ
w¬p_id
,

1337 
num_issued
,

1338 cÚ¡ 
¡d
::
veùÜ
< 
shd_w¬p_t
* >::
cÚ¡_™”©Ü
& 
´iÜ™ized_™”
 )

1340 
scheduËr_un™
::
do_Ú_w¬p_issued
Ğ
w¬p_id
, 
num_issued
, 
´iÜ™ized_™”
 );

1341 
	gissue_group_id
=
w¬p
(
w¬p_id
).
g‘_issue_group_id
();

1342 
	gtmp_group_id
=0;

1345 
	g¡d
::
veùÜ
<
issue_group_queue
>::
™”©Ü
 
tmp_™”
=
m_issue_w¬ps_m©rix
.
begš
();

1346 (
	gtmp_™”
!ğ
m_issue_w¬ps_m©rix
.
’d
())&&(
issue_group_id
!=
tmp_™”
->
group_id
);tmp_iter++)

1347 
	gtmp_group_id
++;

1349 iàĞ
	gSCHEDULER_PRIORITIZATION_LRR
 =ğ
m_šÃr_Ëv–_´iÜ™iz©iÚ
 ) {

1350 
¡d
::
veùÜ
< 
shd_w¬p_t
* > 
Ãw_w¬ps_queue
;

1351 
	g¡d
::
veùÜ
< 
shd_w¬p_t
* >::
cÚ¡_™”©Ü
 
™”_fšd”
;

1354  
	g¡d
::
veùÜ
< 
shd_w¬p_t
* >::
cÚ¡_™”©Ü
 
issue_™”
 = 
m_issue_w¬ps_m©rix
[
tmp_group_id
].
w¬ps_queue
.
begš
();

1355 
	gissue_™”
 !ğ
m_issue_w¬ps_m©rix
[
tmp_group_id
].
w¬ps_queue
.
’d
();

1356 ++
	gissue_™”
 ) {

1357 iàĞ*
	g´iÜ™ized_™”
 =ğ*
issue_™”
 ) {

1358 
™”_fšd”
 = 
issue_™”
;

1361 
Üd”_Ìr
Ğ
Ãw_w¬ps_queue
,

1362 
m_issue_w¬ps_m©rix
[
tmp_group_id
].
w¬ps_queue
,

1363 
™”_fšd”
,

1364 
m_issue_w¬ps_m©rix
[
tmp_group_id
].
w¬ps_queue
.
size
() );

1365 
	gm_issue_w¬ps_m©rix
[
tmp_group_id
].
	gw¬ps_queue
=
Ãw_w¬ps_queue
;

1367 
årštf
Ğ
¡d”r
,

1369 
m_šÃr_Ëv–_´iÜ™iz©iÚ
 );

1370 
abÜt
();

1374 
	g¼_šÃr_g»edy_ou‹r_scheduËr
::
	$Üd”_w¬ps
(){

1376 
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`ş—r
();

1378 
group_™”_couÁ”
=0;

1380 
¡d
::
veùÜ
<
issue_group_queue
>::
™”©Ü
 
group_™”
=
m_issue_w¬ps_m©rix
.
	`begš
();

1381 (
group_™”
!ğ
m_issue_w¬ps_m©rix
.
	`’d
())&&(
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`size
()<
m_max_aùive_w¬ps
)&&(
group_™”_couÁ”
<
m_num_of_issue_groups
);){

1397 
š_group_couÁ
=0;

1398 
¡d
::
veùÜ
<
shd_w¬p_t
*>::
™”©Ü
 
™”
=(
group_™”
->
w¬ps_queue
).
	`begš
();

1399 (
š_group_couÁ
<
m_issue_group_size
)&&(
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`size
()<
m_max_aùive_w¬ps
);){

1402 
boŞ
 
wa™šg
 = (*
™”
)->
	`wa™šg
();

1403 cÚ¡ 
w¬p_š¡_t
* 
š¡
 = (*
™”
)->
	`ibufãr_Ãxt_š¡
();

1405 
i
=0; i<4; i++){

1407 iàĞ
š¡
 && in¡->
š
[
i
] > 0 && 
this
->
m_scÜebßrd
->
	`i¦Úgİ
((*
™”
)->
	`g‘_w¬p_id
(), inst->in[i])){

1409 
wa™šg
=
Œue
;

1414 ifĞ!
wa™šg
 ) {

1418 
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`push_back
(*
™”
);

1420 ++
™”
;

1421 
š_group_couÁ
++;

1429 ++
group_™”
;

1430 ++
group_™”_couÁ”
;

1432 
	}
}

1436 
	g¼_šÃr_g»edy_ou‹r_scheduËr
::
do_Ú_w¬p_issued
Ğ
w¬p_id
,

1437 
num_issued
,

1438 cÚ¡ 
¡d
::
veùÜ
< 
shd_w¬p_t
* >::
cÚ¡_™”©Ü
& 
´iÜ™ized_™”
 )

1440 
scheduËr_un™
::
do_Ú_w¬p_issued
Ğ
w¬p_id
, 
num_issued
, 
´iÜ™ized_™”
 );

1441 
	gissue_group_id
=
w¬p
(
w¬p_id
).
g‘_issue_group_id
();

1442 
	gtmp_group_id
=0;

1445 
	g¡d
::
veùÜ
<
issue_group_queue
>::
™”©Ü
 
tmp_™”
=
m_issue_w¬ps_m©rix
.
begš
();

1446 (
	gtmp_™”
!ğ
m_issue_w¬ps_m©rix
.
’d
())&&(
issue_group_id
!=
tmp_™”
->
group_id
);tmp_iter++)

1447 
	gtmp_group_id
++;

1449 iàĞ
	gSCHEDULER_PRIORITIZATION_LRR
 =ğ
m_šÃr_Ëv–_´iÜ™iz©iÚ
 ) {

1450 
¡d
::
veùÜ
< 
shd_w¬p_t
* > 
Ãw_w¬ps_queue
;

1451 
	g¡d
::
veùÜ
< 
shd_w¬p_t
* >::
cÚ¡_™”©Ü
 
™”_fšd”
;

1454  
	g¡d
::
veùÜ
< 
shd_w¬p_t
* >::
cÚ¡_™”©Ü
 
issue_™”
 = 
m_issue_w¬ps_m©rix
[
tmp_group_id
].
w¬ps_queue
.
begš
();

1455 
	gissue_™”
 !ğ
m_issue_w¬ps_m©rix
[
tmp_group_id
].
w¬ps_queue
.
’d
();

1456 ++
	gissue_™”
 ) {

1457 iàĞ*
	g´iÜ™ized_™”
 =ğ*
issue_™”
 ) {

1458 
™”_fšd”
 = 
issue_™”
;

1461 
Üd”_Ìr
Ğ
Ãw_w¬ps_queue
,

1462 
m_issue_w¬ps_m©rix
[
tmp_group_id
].
w¬ps_queue
,

1463 
™”_fšd”
,

1464 
m_issue_w¬ps_m©rix
[
tmp_group_id
].
w¬ps_queue
.
size
() );

1465 
	gm_issue_w¬ps_m©rix
[
tmp_group_id
].
	gw¬ps_queue
=
Ãw_w¬ps_queue
;

1467 
årštf
Ğ
¡d”r
,

1469 
m_šÃr_Ëv–_´iÜ™iz©iÚ
 );

1470 
abÜt
();

1474 
	gswl_scheduËr
::
	$Üd”_w¬ps
()

1476 iàĞ
SCHEDULER_PRIORITIZATION_GTO
 =ğ
m_´iÜ™iz©iÚ
 ) {

1477 
	`Üd”_by_´iÜ™y
Ğ
m_Ãxt_cyşe_´iÜ™ized_w¬ps
,

1478 
m_su³rvi£d_w¬ps
,

1479 
m_Ï¡_su³rvi£d_issued
,

1480 
	`MIN
Ğ
m_num_w¬ps_to_lim™
, 
m_su³rvi£d_w¬ps
.
	`size
() ),

1481 
ORDERING_GREEDY_THEN_PRIORITY_FUNC
,

1482 
scheduËr_un™
::
sÜt_w¬ps_by_Şde¡_dyÇmic_id
 );

1484 
	`årštf
(
¡d”r
, "swl_scheduË¸m_´iÜ™iz©iÚ = %d\n", 
m_´iÜ™iz©iÚ
);

1485 
	`abÜt
();

1487 
	}
}

1489 
	gshad”_cÜe_ùx
::
	$»ad_İ”ªds
()

1491 
	}
}

1493 
add»ss_ty³
 
	$cßËsûd_£gm’t
(
add»ss_ty³
 
addr
, 
£gm’t_size_lg2by‹s
)

1495  (
addr
 >> 
£gm’t_size_lg2by‹s
);

1496 
	}
}

1499 
	gshad”_cÜe_ùx
::
	$Œª¦©e_loÿl_memaddr
Ğ
add»ss_ty³
 
loÿÏddr
, 
tid
, 
num_shad”
, 
d©asize
, 
Ãw_addr_ty³
* 
Œª¦©ed_addrs
 )

1504 
add»ss_ty³
 
th»ad_ba£
 = 0;

1505 
max_cÚcu¼’t_th»ads
=0;

1506 ià(
m_cÚfig
->
gpgpu_loÿl_mem_m­
) {

1519 
th»ad_ba£
 = 4*(
k”Ãl_·dded_th»ads_³r_ùa
 * (
m_sid
 + 
num_shad”
 * (
tid
 / kernel_padded_threads_per_cta))

1520 + 
tid
 % 
k”Ãl_·dded_th»ads_³r_ùa
);

1521 
max_cÚcu¼’t_th»ads
 = 
k”Ãl_·dded_th»ads_³r_ùa
 * 
k”Ãl_max_ùa_³r_shad”
 * 
num_shad”
;

1525 
th»ad_ba£
 = 4*(
m_cÚfig
->
n_th»ad_³r_shad”
 * 
m_sid
 + 
tid
);

1526 
max_cÚcu¼’t_th»ads
 = 
num_shad”
 * 
m_cÚfig
->
n_th»ad_³r_shad”
;

1528 
	`as£¹
Ğ
th»ad_ba£
 < 4 *
max_cÚcu¼’t_th»ads
 );

1532 
num_acûs£s
 = 0;

1534 if(
d©asize
 >= 4) {

1536 
	`as£¹
(
d©asize
%4 == 0);

1537 
num_acûs£s
 = 
d©asize
/4;

1538 
	`as£¹
(
num_acûs£s
 <ğ
MAX_ACCESSES_PER_INSN_PER_THREAD
);

1539 
	`as£¹
(
loÿÏddr
%4 == 0);

1540 
i
=0; i<
num_acûs£s
; i++) {

1541 
add»ss_ty³
 
loÿl_wÜd
 = 
loÿÏddr
/4 + 
i
;

1542 
add»ss_ty³
 
lš—r_add»ss
 = 
loÿl_wÜd
*
max_cÚcu¼’t_th»ads
*4 + 
th»ad_ba£
 + 
LOCAL_GENERIC_START
;

1543 
Œª¦©ed_addrs
[
i
] = 
lš—r_add»ss
;

1547 
	`as£¹
(
d©asize
 > 0);

1548 
num_acûs£s
 = 1;

1549 
add»ss_ty³
 
loÿl_wÜd
 = 
loÿÏddr
/4;

1550 
add»ss_ty³
 
loÿl_wÜd_off£t
 = 
loÿÏddr
%4;

1551 
	`as£¹
Ğ(
loÿÏddr
+
d©asize
-1)/4 =ğ
loÿl_wÜd
 );

1552 
add»ss_ty³
 
lš—r_add»ss
 = 
loÿl_wÜd
*
max_cÚcu¼’t_th»ads
*4 + 
loÿl_wÜd_off£t
 + 
th»ad_ba£
 + 
LOCAL_GENERIC_START
;

1553 
Œª¦©ed_addrs
[0] = 
lš—r_add»ss
;

1555  
num_acûs£s
;

1556 
	}
}

1559 
	gshad”_cÜe_ùx
::
	$‹¡_»s_bus
(
Ï‹ncy
){

1560 
i
=0; i<
num_»suÉ_bus
; i++){

1561 if(!
m_»suÉ_bus
[
i
]->
	`‹¡
(
Ï‹ncy
)){ i;}

1564 
	}
}

1566 
	gshad”_cÜe_ùx
::
	$execu‹
()

1568 
i
=0; i<
num_»suÉ_bus
; i++){

1569 *(
m_»suÉ_bus
[
i
]) >>=1;

1571  
n
=0;‚ < 
m_num_funùiÚ_un™s
;‚++ ) {

1572 
muÉl›r
 = 
m_fu
[
n
]->
	`şock_muÉl›r
();

1573  
c
=0; c < 
muÉl›r
; c++ )

1574 
m_fu
[
n
]->
	`cyşe
();

1575 
m_fu
[
n
]->
	`aùive_ÏÃs_š_p–še
();

1576 
p–še_¡age_Çme_t
 
issue_pÜt
 = 
m_issue_pÜt
[
n
];

1577 
»gi¡”_£t
& 
issue_š¡
 = 
m_p–še_»g
[ 
issue_pÜt
 ];

1578 
w¬p_š¡_t
** 
»ady_»g
 = 
issue_š¡
.
	`g‘_»ady
();

1579 ifĞ
issue_š¡
.
	`has_»ady
(è&& 
m_fu
[
n
]->
	`ÿn_issue
Ğ**
»ady_»g
 ) ) {

1580 
boŞ
 
scheduË_wb_now
 = !
m_fu
[
n
]->
	`¡®ÏbË
();

1581 
»sbus
 = -1;

1582 ifĞ
scheduË_wb_now
 && (
»sbus
=
	`‹¡_»s_bus
Ğ(*
»ady_»g
)->
Ï‹ncy
 ))!=-1 ) {

1583 
	`as£¹
Ğ(*
»ady_»g
)->
Ï‹ncy
 < 
MAX_ALU_LATENCY
 );

1584 
m_»suÉ_bus
[
»sbus
]->
	`£t
Ğ(*
»ady_»g
)->
Ï‹ncy
 );

1585 
m_fu
[
n
]->
	`issue
Ğ
issue_š¡
 );

1586 } ifĞ!
scheduË_wb_now
 ) {

1587 
m_fu
[
n
]->
	`issue
Ğ
issue_š¡
 );

1593 
	}
}

1595 
	gld¡_un™
::
	$´št_ÿche_¡©s
Ğ
FILE
 *
å
, & 
dl1_acûs£s
, & 
dl1_mis£s
 ) {

1596 ifĞ
m_L1D
 ) {

1597 
m_L1D
->
	`´št
Ğ
å
, 
dl1_acûs£s
, 
dl1_mis£s
 );

1599 
	}
}

1601 
	gld¡_un™
::
	$g‘_ÿche_¡©s
(
ÿche_¡©s
 &
cs
) {

1603 if(
m_L1D
)

1604 
cs
 +ğ
m_L1D
->
	`g‘_¡©s
();

1605 if(
m_L1C
)

1606 
cs
 +ğ
m_L1C
->
	`g‘_¡©s
();

1607 if(
m_L1T
)

1608 
cs
 +ğ
m_L1T
->
	`g‘_¡©s
();

1610 
	}
}

1612 
	gld¡_un™
::
	$g‘_L1D_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const{

1613 if(
m_L1D
)

1614 
m_L1D
->
	`g‘_sub_¡©s
(
css
);

1615 
	}
}

1616 
	gld¡_un™
::
	$g‘_L1C_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const{

1617 if(
m_L1C
)

1618 
m_L1C
->
	`g‘_sub_¡©s
(
css
);

1619 
	}
}

1620 
	gld¡_un™
::
	$g‘_L1T_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const{

1621 if(
m_L1T
)

1622 
m_L1T
->
	`g‘_sub_¡©s
(
css
);

1623 
	}
}

1625 
	gshad”_cÜe_ùx
::
	$w¬p_š¡_com¶‘e
(cÚ¡ 
w¬p_š¡_t
 &
š¡
)

1628 
	`´štf
("[warp_inst_complete] uid=%u core=%u warp=%u…c=%#x @ime=%llu issued@%llu\n",

1629 
š¡
.
	`g‘_uid
(), 
m_sid
, in¡.
	`w¬p_id
(), in¡.
pc
, 
gpu_tÙ_sim_cyşe
 + 
gpu_sim_cyşe
, in¡.
	`g‘_issue_cyşe
());

1631 if(
š¡
.
İ_pe
==
SP__OP
)

1632 
m_¡©s
->
m_num_¥_comm™‹d
[
m_sid
]++;

1633 if(
š¡
.
İ_pe
==
SFU__OP
)

1634 
m_¡©s
->
m_num_sfu_comm™‹d
[
m_sid
]++;

1635 if(
š¡
.
İ_pe
==
MEM__OP
)

1636 
m_¡©s
->
m_num_mem_comm™‹d
[
m_sid
]++;

1638 if(
m_cÚfig
->
gpgpu_şock_g©ed_ÏÃs
==
çl£
)

1639 
m_¡©s
->
m_num_sim_š¢
[
m_sid
] +ğ
m_cÚfig
->
w¬p_size
;

1641 
m_¡©s
->
m_num_sim_š¢
[
m_sid
] +ğ
š¡
.
	`aùive_couÁ
();

1643 
m_¡©s
->
m_num_sim_wš¢
[
m_sid
]++;

1644 
m_gpu
->
gpu_sim_š¢
 +ğ
š¡
.
	`aùive_couÁ
();

1645 
š¡
.
	`com¶‘ed
(
gpu_tÙ_sim_cyşe
 + 
gpu_sim_cyşe
);

1646 
	}
}

1648 
	gshad”_cÜe_ùx
::
	$wr™eback
()

1651 
max_comm™‹d_th»ad_š¡ruùiÚs
=
m_cÚfig
->
w¬p_size
 * (m_cÚfig->
pe_widths
[
EX_WB
]);

1652 
m_¡©s
->
m_p–še_duty_cyşe
[
m_sid
]=(()(m_¡©s->
m_num_sim_š¢
[m_sid]-m_¡©s->
m_Ï¡_num_sim_š¢
[m_sid]))/
max_comm™‹d_th»ad_š¡ruùiÚs
;

1654 
m_¡©s
->
m_Ï¡_num_sim_š¢
[
m_sid
]=m_¡©s->
m_num_sim_š¢
[m_sid];

1655 
m_¡©s
->
m_Ï¡_num_sim_wš¢
[
m_sid
]=m_¡©s->
m_num_sim_wš¢
[m_sid];

1657 
w¬p_š¡_t
** 
´eg
 = 
m_p–še_»g
[
EX_WB
].
	`g‘_»ady
();

1658 
w¬p_š¡_t
* 
pe_»g
 = (
´eg
==
NULL
)? NULL:*preg;

1659  
´eg
 
ªd
 !
pe_»g
->
	`em±y
() ) {

1676 
m_İ”ªd_cŞËùÜ
.
	`wr™eback
(*
pe_»g
);

1677 
w¬p_id
 = 
pe_»g
->
	`w¬p_id
();

1678 
m_scÜebßrd
->
	`»Ëa£Regi¡”s
Ğ
pe_»g
 );

1679 
m_w¬p
[
w¬p_id
].
	`dec_š¡_š_p–še
();

1680 
	`w¬p_š¡_com¶‘e
(*
pe_»g
);

1681 
m_gpu
->
gpu_sim_š¢_Ï¡_upd©e_sid
 = 
m_sid
;

1682 
m_gpu
->
gpu_sim_š¢_Ï¡_upd©e
 = 
gpu_sim_cyşe
;

1683 
m_Ï¡_š¡_gpu_sim_cyşe
 = 
gpu_sim_cyşe
;

1684 
m_Ï¡_š¡_gpu_tÙ_sim_cyşe
 = 
gpu_tÙ_sim_cyşe
;

1685 
pe_»g
->
	`ş—r
();

1686 
´eg
 = 
m_p–še_»g
[
EX_WB
].
	`g‘_»ady
();

1687 
pe_»g
 = (
´eg
==
NULL
)? NULL:*preg;

1689 
	}
}

1691 
boŞ
 
	gld¡_un™
::
	$sh¬ed_cyşe
Ğ
w¬p_š¡_t
 &
š¡
, 
mem_¡age_¡®l_ty³
 &
rc_ç
, 
mem_¡age_acûss_ty³
 &
ç_ty³
)

1693 ifĞ
š¡
.
¥aû
.
	`g‘_ty³
(è!ğ
sh¬ed_¥aû
 )

1694  
Œue
;

1696 if(
š¡
.
	`has_di¥©ch_d–ay
()){

1697 
m_¡©s
->
gpgpu_n_shmem_bªk_acûss
[
m_sid
]++;

1700 
boŞ
 
¡®l
 = 
š¡
.
	`di¥©ch_d–ay
();

1701 ifĞ
¡®l
 ) {

1702 
ç_ty³
 = 
S_MEM
;

1703 
rc_ç
 = 
BK_CONF
;

1705 
rc_ç
 = 
NO_RC_FAIL
;

1706  !
¡®l
;

1707 
	}
}

1709 
mem_¡age_¡®l_ty³


1710 
	gld¡_un™
::
´oûss_ÿche_acûss
Ğ
ÿche_t
* 
ÿche
,

1711 
Ãw_addr_ty³
 
add»ss
,

1712 
w¬p_š¡_t
 &
š¡
,

1713 
¡d
::
li¡
<
ÿche_ev’t
>& 
ev’ts
,

1714 
mem_ãtch
 *
mf
,

1715 
ÿche_»que¡_¡©us
 
¡©us
 )

1717 
mem_¡age_¡®l_ty³
 
	g»suÉ
 = 
NO_RC_FAIL
;

1718 
boŞ
 
	gwr™e_£Á
 = 
was_wr™e_£Á
(
ev’ts
);

1719 
boŞ
 
	g»ad_£Á
 = 
was_»ad_£Á
(
ev’ts
);

1720 ifĞ
	gwr™e_£Á
 )

1721 
	gm_cÜe
->
šc_¡Üe_»q
Ğ
š¡
.
w¬p_id
() );

1722 iàĞ
	g¡©us
 =ğ
HIT
 ) {

1723 
as£¹
Ğ!
»ad_£Á
 );

1724 
	gš¡
.
acûssq_pİ_back
();

1725 iàĞ
	gš¡
.
is_lßd
() ) {

1726  
	gr
=0;„ < 4;„++)

1727 ià(
	gš¡
.
	gout
[
r
] > 0)

1728 
	gm_³ndšg_wr™es
[
š¡
.
w¬p_id
()][š¡.
out
[
r
]]--;

1730 ifĞ!
	gwr™e_£Á
 )

1731 
d–‘e
 
	gmf
;

1732 } iàĞ
	g¡©us
 =ğ
RESERVATION_FAIL
 ) {

1733 
»suÉ
 = 
COAL_STALL
;

1734 
as£¹
Ğ!
»ad_£Á
 );

1735 
as£¹
Ğ!
wr™e_£Á
 );

1736 
d–‘e
 
	gmf
;

1738 
as£¹
Ğ
¡©us
 =ğ
MISS
 || stu =ğ
HIT_RESERVED
 );

1740 
	gš¡
.
acûssq_pİ_back
();

1742 ifĞ!
	gš¡
.
acûssq_em±y
() )

1743 
	g»suÉ
 = 
BK_CONF
;

1744  
	g»suÉ
;

1747 
mem_¡age_¡®l_ty³
 
	gld¡_un™
::
	$´oûss_memÜy_acûss_queue
Ğ
ÿche_t
 *
ÿche
, 
w¬p_š¡_t
 &
š¡
 )

1749 
mem_¡age_¡®l_ty³
 
»suÉ
 = 
NO_RC_FAIL
;

1750 ifĞ
š¡
.
	`acûssq_em±y
() )

1751  
»suÉ
;

1753 ifĞ!
ÿche
->
	`d©a_pÜt_ä“
() )

1754  
DATA_PORT_STALL
;

1757 
mem_ãtch
 *
mf
 = 
m_mf_®loÿtÜ
->
	`®loc
(
š¡
,š¡.
	`acûssq_back
());

1758 
¡d
::
li¡
<
ÿche_ev’t
> 
ev’ts
;

1759 
ÿche_»que¡_¡©us
 
¡©us
 = 
ÿche
->
	`acûss
(
mf
->
	`g‘_addr
(),mf,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
,
ev’ts
);

1760  
	`´oûss_ÿche_acûss
Ğ
ÿche
, 
mf
->
	`g‘_addr
(), 
š¡
, 
ev’ts
, mf, 
¡©us
 );

1761 
	}
}

1763 
boŞ
 
	gld¡_un™
::
	$cÚ¡ªt_cyşe
Ğ
w¬p_š¡_t
 &
š¡
, 
mem_¡age_¡®l_ty³
 &
rc_ç
, 
mem_¡age_acûss_ty³
 &
ç_ty³
)

1765 ifĞ
š¡
.
	`em±y
(è|| ((š¡.
¥aû
.
	`g‘_ty³
(è!ğ
cÚ¡_¥aû
è&& (š¡.¥aû.g‘_ty³(è!ğ
·¿m_¥aû_k”Ãl
)) )

1766  
Œue
;

1767 ifĞ
š¡
.
	`aùive_couÁ
() == 0 )

1768  
Œue
;

1769 
mem_¡age_¡®l_ty³
 
ç
 = 
	`´oûss_memÜy_acûss_queue
(
m_L1C
,
š¡
);

1770 ià(
ç
 !ğ
NO_RC_FAIL
){

1771 
rc_ç
 = 
ç
;

1772 
ç_ty³
 = 
C_MEM
;

1773 ià(
rc_ç
 =ğ
BK_CONF
 
Ü
„c_ç =ğ
COAL_STALL
) {

1774 
m_¡©s
->
gpgpu_n_cmem_pÜtcÚæiù
++;

1777  
š¡
.
	`acûssq_em±y
();

1778 
	}
}

1780 
boŞ
 
	gld¡_un™
::
	$‹xtu»_cyşe
Ğ
w¬p_š¡_t
 &
š¡
, 
mem_¡age_¡®l_ty³
 &
rc_ç
, 
mem_¡age_acûss_ty³
 &
ç_ty³
)

1782 ifĞ
š¡
.
	`em±y
(è|| in¡.
¥aû
.
	`g‘_ty³
(è!ğ
‹x_¥aû
 )

1783  
Œue
;

1784 ifĞ
š¡
.
	`aùive_couÁ
() == 0 )

1785  
Œue
;

1786 
mem_¡age_¡®l_ty³
 
ç
 = 
	`´oûss_memÜy_acûss_queue
(
m_L1T
,
š¡
);

1787 ià(
ç
 !ğ
NO_RC_FAIL
){

1788 
rc_ç
 = 
ç
;

1789 
ç_ty³
 = 
T_MEM
;

1791  
š¡
.
	`acûssq_em±y
();

1792 
	}
}

1794 
boŞ
 
	gld¡_un™
::
	$memÜy_cyşe
Ğ
w¬p_š¡_t
 &
š¡
, 
mem_¡age_¡®l_ty³
 &
¡®l_»asÚ
, 
mem_¡age_acûss_ty³
 &
acûss_ty³
 )

1796 ifĞ
š¡
.
	`em±y
() ||

1797 ((
š¡
.
¥aû
.
	`g‘_ty³
(è!ğ
glob®_¥aû
) &&

1798 (
š¡
.
¥aû
.
	`g‘_ty³
(è!ğ
loÿl_¥aû
) &&

1799 (
š¡
.
¥aû
.
	`g‘_ty³
(è!ğ
·¿m_¥aû_loÿl
)) )

1800  
Œue
;

1801 ifĞ
š¡
.
	`aùive_couÁ
() == 0 )

1802  
Œue
;

1803 
	`as£¹
Ğ!
š¡
.
	`acûssq_em±y
() );

1804 
mem_¡age_¡®l_ty³
 
¡®l_cÚd
 = 
NO_RC_FAIL
;

1805 cÚ¡ 
mem_acûss_t
 &
acûss
 = 
š¡
.
	`acûssq_back
();

1807 
boŞ
 
by·ssL1D
 = 
çl£
;

1808 iàĞ
CACHE_GLOBAL
 =ğ
š¡
.
ÿche_İ
 || (
m_L1D
 =ğ
NULL
) ) {

1809 
by·ssL1D
 = 
Œue
;

1810 } ià(
š¡
.
¥aû
.
	`is_glob®
()) {

1812 ià(
m_cÜe
->
	`g‘_cÚfig
()->
gmem_sk_L1D
)

1813 
by·ssL1D
 = 
Œue
;

1816 ifĞ
by·ssL1D
 ) {

1818 
cÚŒŞ_size
 = 
š¡
.
	`is_¡Üe
(è? 
WRITE_PACKET_SIZE
 : 
READ_PACKET_SIZE
;

1819 
size
 = 
acûss
.
	`g‘_size
(è+ 
cÚŒŞ_size
;

1820 ifĞ
m_iút
->
	`fuÎ
(
size
, 
š¡
.
	`is_¡Üe
(è|| in¡.
	`i§tomic
()) ) {

1821 
¡®l_cÚd
 = 
ICNT_RC_FAIL
;

1823 
mem_ãtch
 *
mf
 = 
m_mf_®loÿtÜ
->
	`®loc
(
š¡
,
acûss
);

1824 
m_iút
->
	`push
(
mf
);

1825 
š¡
.
	`acûssq_pİ_back
();

1827 ifĞ
š¡
.
	`is_lßd
() ) {

1828  
r
=0;„ < 4;„++)

1829 if(
š¡
.
out
[
r
] > 0)

1830 
	`as£¹
Ğ
m_³ndšg_wr™es
[
š¡
.
	`w¬p_id
()][š¡.
out
[
r
]] > 0 );

1831 } ifĞ
š¡
.
	`is_¡Üe
() )

1832 
m_cÜe
->
	`šc_¡Üe_»q
Ğ
š¡
.
	`w¬p_id
() );

1835 
	`as£¹
Ğ
CACHE_UNDEFINED
 !ğ
š¡
.
ÿche_İ
 );

1836 
¡®l_cÚd
 = 
	`´oûss_memÜy_acûss_queue
(
m_L1D
,
š¡
);

1838 ifĞ!
š¡
.
	`acûssq_em±y
() )

1839 
¡®l_cÚd
 = 
COAL_STALL
;

1840 ià(
¡®l_cÚd
 !ğ
NO_RC_FAIL
) {

1841 
¡®l_»asÚ
 = 
¡®l_cÚd
;

1842 
boŞ
 
iswr™e
 = 
š¡
.
	`is_¡Üe
();

1843 ià(
š¡
.
¥aû
.
	`is_loÿl
())

1844 
acûss_ty³
 = (
iswr™e
)?
L_MEM_ST
:
L_MEM_LD
;

1846 
acûss_ty³
 = (
iswr™e
)?
G_MEM_ST
:
G_MEM_LD
;

1848  
š¡
.
	`acûssq_em±y
();

1849 
	}
}

1852 
boŞ
 
	gld¡_un™
::
	$»¥Ú£_bufãr_fuÎ
() const

1854  
m_»¥Ú£_fifo
.
	`size
(è>ğ
m_cÚfig
->
ld¡_un™_»¥Ú£_queue_size
;

1855 
	}
}

1857 
	gld¡_un™
::
	$fl
Ğ
mem_ãtch
 *
mf
 )

1859 
mf
->
	`£t_¡©us
(
IN_SHADER_LDST_RESPONSE_FIFO
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

1860 
m_»¥Ú£_fifo
.
	`push_back
(
mf
);

1861 
	}
}

1863 
	gld¡_un™
::
	$æush
(){

1865 
m_L1D
->
	`æush
();

1866 
	}
}

1868 
	gsimd_funùiÚ_un™
::
	$simd_funùiÚ_un™
ĞcÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
 )

1870 
m_cÚfig
=
cÚfig
;

1871 
m_di¥©ch_»g
 = 
Ãw
 
	`w¬p_š¡_t
(
cÚfig
);

1872 
	}
}

1875 
	gsfu
:: 
	$sfu
Ğ
»gi¡”_£t
* 
»suÉ_pÜt
, cÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
,
shad”_cÜe_ùx
 *
cÜe
 )

1876 : 
	`p–šed_simd_un™
(
»suÉ_pÜt
,
cÚfig
,cÚfig->
max_sfu_Ï‹ncy
,
cÜe
)

1878 
m_Çme
 = "SFU";

1879 
	}
}

1881 
	gsfu
::
	$issue
Ğ
»gi¡”_£t
& 
sourû_»g
 )

1883 
w¬p_š¡_t
** 
»ady_»g
 = 
sourû_»g
.
	`g‘_»ady
();

1886 (*
»ady_»g
)->
İ_pe
=
SFU__OP
;

1887 
m_cÜe
->
	`šcsfu_¡©
(m_cÜe->
	`g‘_cÚfig
()->
w¬p_size
,(*
»ady_»g
)->
Ï‹ncy
);

1888 
p–šed_simd_un™
::
	`issue
(
sourû_»g
);

1889 
	}
}

1891 
	gld¡_un™
::
	$aùive_ÏÃs_š_p–še
(){

1892 
aùive_couÁ
=
p–šed_simd_un™
::
	`g‘_aùive_ÏÃs_š_p–še
();

1893 
	`as£¹
(
aùive_couÁ
<=
m_cÜe
->
	`g‘_cÚfig
()->
w¬p_size
);

1894 
m_cÜe
->
	`šcfumemaùiv–ªes_¡©
(
aùive_couÁ
);

1895 
	}
}

1896 
	g¥_un™
::
	$aùive_ÏÃs_š_p–še
(){

1897 
aùive_couÁ
=
p–šed_simd_un™
::
	`g‘_aùive_ÏÃs_š_p–še
();

1898 
	`as£¹
(
aùive_couÁ
<=
m_cÜe
->
	`g‘_cÚfig
()->
w¬p_size
);

1899 
m_cÜe
->
	`šc¥aùiv–ªes_¡©
(
aùive_couÁ
);

1900 
m_cÜe
->
	`šcfuaùiv–ªes_¡©
(
aùive_couÁ
);

1901 
m_cÜe
->
	`šcfumemaùiv–ªes_¡©
(
aùive_couÁ
);

1902 
	}
}

1904 
	gsfu
::
	$aùive_ÏÃs_š_p–še
(){

1905 
aùive_couÁ
=
p–šed_simd_un™
::
	`g‘_aùive_ÏÃs_š_p–še
();

1906 
	`as£¹
(
aùive_couÁ
<=
m_cÜe
->
	`g‘_cÚfig
()->
w¬p_size
);

1907 
m_cÜe
->
	`šcsfuaùiv–ªes_¡©
(
aùive_couÁ
);

1908 
m_cÜe
->
	`šcfuaùiv–ªes_¡©
(
aùive_couÁ
);

1909 
m_cÜe
->
	`šcfumemaùiv–ªes_¡©
(
aùive_couÁ
);

1910 
	}
}

1912 
	g¥_un™
::
	$¥_un™
Ğ
»gi¡”_£t
* 
»suÉ_pÜt
, cÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
,
shad”_cÜe_ùx
 *
cÜe
)

1913 : 
	`p–šed_simd_un™
(
»suÉ_pÜt
,
cÚfig
,cÚfig->
max_¥_Ï‹ncy
,
cÜe
)

1915 
m_Çme
 = "SP ";

1916 
	}
}

1918 
	g¥_un™
 :: 
	$issue
(
»gi¡”_£t
& 
sourû_»g
)

1920 
w¬p_š¡_t
** 
»ady_»g
 = 
sourû_»g
.
	`g‘_»ady
();

1922 (*
»ady_»g
)->
İ_pe
=
SP__OP
;

1923 
m_cÜe
->
	`šc¥_¡©
(m_cÜe->
	`g‘_cÚfig
()->
w¬p_size
,(*
»ady_»g
)->
Ï‹ncy
);

1924 
p–šed_simd_un™
::
	`issue
(
sourû_»g
);

1925 
	}
}

1928 
	gp–šed_simd_un™
::
	$p–šed_simd_un™
Ğ
»gi¡”_£t
* 
»suÉ_pÜt
, cÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
, 
max_Ï‹ncy
,
shad”_cÜe_ùx
 *
cÜe
 )

1929 : 
	$simd_funùiÚ_un™
(
cÚfig
)

1931 
m_»suÉ_pÜt
 = 
»suÉ_pÜt
;

1932 
m_p–še_d•th
 = 
max_Ï‹ncy
;

1933 
m_p–še_»g
 = 
Ãw
 
w¬p_š¡_t
*[
m_p–še_d•th
];

1934  
i
=0; i < 
m_p–še_d•th
; i++ )

1935 
m_p–še_»g
[
i
] = 
Ãw
 
	`w¬p_š¡_t
Ğ
cÚfig
 );

1936 
m_cÜe
=
cÜe
;

1937 
	}
}

1940 
	gp–šed_simd_un™
::
	$issue
Ğ
»gi¡”_£t
& 
sourû_»g
 )

1943 
w¬p_š¡_t
** 
»ady_»g
 = 
sourû_»g
.
	`g‘_»ady
();

1944 
m_cÜe
->
	`šûxec¡©
((*
»ady_»g
));

1946 
simd_funùiÚ_un™
::
	`issue
(
sourû_»g
);

1947 
	}
}

1958 
	gld¡_un™
::
	$š™
Ğ
mem_ãtch_š‹rçû
 *
iút
,

1959 
shad”_cÜe_mem_ãtch_®loÿtÜ
 *
mf_®loÿtÜ
,

1960 
shad”_cÜe_ùx
 *
cÜe
,

1961 
İndcŞl_rfu_t
 *
İ”ªd_cŞËùÜ
,

1962 
ScÜebßrd
 *
scÜebßrd
,

1963 cÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
,

1964 cÚ¡ 
memÜy_cÚfig
 *
mem_cÚfig
,

1965 
shad”_cÜe_¡©s
 *
¡©s
,

1966 
sid
,

1967 
c
 )

1969 
m_memÜy_cÚfig
 = 
mem_cÚfig
;

1970 
m_iút
 = 
iút
;

1971 
m_mf_®loÿtÜ
=
mf_®loÿtÜ
;

1972 
m_cÜe
 = 
cÜe
;

1973 
m_İ”ªd_cŞËùÜ
 = 
İ”ªd_cŞËùÜ
;

1974 
m_scÜebßrd
 = 
scÜebßrd
;

1975 
m_¡©s
 = 
¡©s
;

1976 
m_sid
 = 
sid
;

1977 
m_c
 = 
c
;

1978 
	#STRSIZE
 1024

	)

1979 
L1T_Çme
[
STRSIZE
];

1980 
L1C_Çme
[
STRSIZE
];

1981 
	`¢´štf
(
L1T_Çme
, 
STRSIZE
, "L1T_%03d", 
m_sid
);

1982 
	`¢´štf
(
L1C_Çme
, 
STRSIZE
, "L1C_%03d", 
m_sid
);

1983 
m_L1T
 = 
Ãw
 
	`‹x_ÿche
(
L1T_Çme
,
m_cÚfig
->
m_L1T_cÚfig
,
m_sid
,
	`g‘_shad”_‹xtu»_ÿche_id
(),
iút
,
IN_L1T_MISS_QUEUE
,
IN_SHADER_L1T_ROB
);

1984 
m_L1C
 = 
Ãw
 
	`»ad_Úly_ÿche
(
L1C_Çme
,
m_cÚfig
->
m_L1C_cÚfig
,
m_sid
,
	`g‘_shad”_cÚ¡ªt_ÿche_id
(),
iút
,
IN_L1C_MISS_QUEUE
);

1985 
m_L1D
 = 
NULL
;

1986 
m_mem_rc
 = 
NO_RC_FAIL
;

1987 
m_num_wr™eback_ş›Ás
=5;

1988 
m_wr™eback_¬b
 = 0;

1989 
m_Ãxt_glob®
=
NULL
;

1990 
m_Ï¡_š¡_gpu_sim_cyşe
=0;

1991 
m_Ï¡_š¡_gpu_tÙ_sim_cyşe
=0;

1992 
	}
}

1995 
	gld¡_un™
::
	$ld¡_un™
Ğ
mem_ãtch_š‹rçû
 *
iút
,

1996 
shad”_cÜe_mem_ãtch_®loÿtÜ
 *
mf_®loÿtÜ
,

1997 
shad”_cÜe_ùx
 *
cÜe
,

1998 
İndcŞl_rfu_t
 *
İ”ªd_cŞËùÜ
,

1999 
ScÜebßrd
 *
scÜebßrd
,

2000 cÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
,

2001 cÚ¡ 
memÜy_cÚfig
 *
mem_cÚfig
,

2002 
shad”_cÜe_¡©s
 *
¡©s
,

2003 
sid
,

2004 
c
 ) : 
	`p–šed_simd_un™
(
NULL
,
cÚfig
,3,
cÜe
), 
	$m_Ãxt_wb
(
cÚfig
)

2006 
	`š™
Ğ
iút
,

2007 
mf_®loÿtÜ
,

2008 
cÜe
,

2009 
İ”ªd_cŞËùÜ
,

2010 
scÜebßrd
,

2011 
cÚfig
,

2012 
mem_cÚfig
,

2013 
¡©s
,

2014 
sid
,

2015 
c
 );

2016 ifĞ!
m_cÚfig
->
m_L1D_cÚfig
.
	`di§bËd
() ) {

2017 
L1D_Çme
[
STRSIZE
];

2018 
	`¢´štf
(
L1D_Çme
, 
STRSIZE
, "L1D_%03d", 
m_sid
);

2019 
m_L1D
 = 
Ãw
 
	`l1_ÿche
Ğ
L1D_Çme
,

2020 
m_cÚfig
->
m_L1D_cÚfig
,

2021 
m_sid
,

2022 
	`g‘_shad”_nÜm®_ÿche_id
(),

2023 
m_iút
,

2024 
m_mf_®loÿtÜ
,

2025 
IN_L1D_MISS_QUEUE
 );

2027 
	}
}

2029 
	gld¡_un™
::
	$ld¡_un™
Ğ
mem_ãtch_š‹rçû
 *
iút
,

2030 
shad”_cÜe_mem_ãtch_®loÿtÜ
 *
mf_®loÿtÜ
,

2031 
shad”_cÜe_ùx
 *
cÜe
,

2032 
İndcŞl_rfu_t
 *
İ”ªd_cŞËùÜ
,

2033 
ScÜebßrd
 *
scÜebßrd
,

2034 cÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
,

2035 cÚ¡ 
memÜy_cÚfig
 *
mem_cÚfig
,

2036 
shad”_cÜe_¡©s
 *
¡©s
,

2037 
sid
,

2038 
c
,

2039 
l1_ÿche
* 
Ãw_l1d_ÿche
 )

2040 : 
	`p–šed_simd_un™
(
NULL
,
cÚfig
,3,
cÜe
), 
	`m_L1D
(
Ãw_l1d_ÿche
), 
	$m_Ãxt_wb
(
cÚfig
)

2042 
	`š™
Ğ
iút
,

2043 
mf_®loÿtÜ
,

2044 
cÜe
,

2045 
İ”ªd_cŞËùÜ
,

2046 
scÜebßrd
,

2047 
cÚfig
,

2048 
mem_cÚfig
,

2049 
¡©s
,

2050 
sid
,

2051 
c
 );

2052 
	}
}

2054 
	gld¡_un™
:: 
	$issue
Ğ
»gi¡”_£t
 &
»g_£t
 )

2056 
w¬p_š¡_t
* 
š¡
 = *(
»g_£t
.
	`g‘_»ady
());

2059 
	`as£¹
(
š¡
->
	`em±y
(è=ğ
çl£
);

2060 ià(
š¡
->
	`is_lßd
(è
ªd
 in¡->
¥aû
.
	`g‘_ty³
(è!ğ
sh¬ed_¥aû
) {

2061 
w¬p_id
 = 
š¡
->
	`w¬p_id
();

2062 
n_acûs£s
 = 
š¡
->
	`acûssq_couÁ
();

2063 
r
 = 0;„ < 4;„++) {

2064 
»g_id
 = 
š¡
->
out
[
r
];

2065 ià(
»g_id
 > 0) {

2066 
m_³ndšg_wr™es
[
w¬p_id
][
»g_id
] +ğ
n_acûs£s
;

2072 
š¡
->
İ_pe
=
MEM__OP
;

2074 
m_cÜe
->
	`mem_š¡ruùiÚ_¡©s
(*
š¡
);

2075 
m_cÜe
->
	`šcmem_¡©
(m_cÜe->
	`g‘_cÚfig
()->
w¬p_size
,1);

2076 
p–šed_simd_un™
::
	`issue
(
»g_£t
);

2077 
	}
}

2079 
	gld¡_un™
::
	$wr™eback
()

2082 ifĞ!
m_Ãxt_wb
.
	`em±y
() ) {

2083 ifĞ
m_İ”ªd_cŞËùÜ
->
	`wr™eback
(
m_Ãxt_wb
) ) {

2084 
boŞ
 
š¢_com¶‘ed
 = 
çl£
;

2085  
r
=0;„ < 4;„++ ) {

2086 ifĞ
m_Ãxt_wb
.
out
[
r
] > 0 ) {

2087 ifĞ
m_Ãxt_wb
.
¥aû
.
	`g‘_ty³
(è!ğ
sh¬ed_¥aû
 ) {

2088 
	`as£¹
Ğ
m_³ndšg_wr™es
[
m_Ãxt_wb
.
	`w¬p_id
()][m_Ãxt_wb.
out
[
r
]] > 0 );

2089 
¡l_³ndšg
 = --
m_³ndšg_wr™es
[
m_Ãxt_wb
.
	`w¬p_id
()][m_Ãxt_wb.
out
[
r
]];

2090 ifĞ!
¡l_³ndšg
 ) {

2091 
m_³ndšg_wr™es
[
m_Ãxt_wb
.
	`w¬p_id
()].
	`”a£
(m_Ãxt_wb.
out
[
r
]);

2092 
m_scÜebßrd
->
	`»Ëa£Regi¡”
Ğ
m_Ãxt_wb
.
	`w¬p_id
(), m_Ãxt_wb.
out
[
r
] );

2093 
š¢_com¶‘ed
 = 
Œue
;

2096 
m_scÜebßrd
->
	`»Ëa£Regi¡”
Ğ
m_Ãxt_wb
.
	`w¬p_id
(), m_Ãxt_wb.
out
[
r
] );

2097 
š¢_com¶‘ed
 = 
Œue
;

2101 ifĞ
š¢_com¶‘ed
 ) {

2102 
m_cÜe
->
	`w¬p_š¡_com¶‘e
(
m_Ãxt_wb
);

2104 
m_Ãxt_wb
.
	`ş—r
();

2105 
m_Ï¡_š¡_gpu_sim_cyşe
 = 
gpu_sim_cyşe
;

2106 
m_Ï¡_š¡_gpu_tÙ_sim_cyşe
 = 
gpu_tÙ_sim_cyşe
;

2110 
£rviûd_ş›Á
 = -1;

2111  
c
 = 0; 
m_Ãxt_wb
.
	`em±y
(è&& (ø< 
m_num_wr™eback_ş›Ás
); c++ ) {

2112 
Ãxt_ş›Á
 = (
c
+
m_wr™eback_¬b
)%
m_num_wr™eback_ş›Ás
;

2113  
Ãxt_ş›Á
 ) {

2115 ifĞ!
m_p–še_»g
[0]->
	`em±y
() ) {

2116 
m_Ãxt_wb
 = *
m_p–še_»g
[0];

2117 if(
m_Ãxt_wb
.
	`i§tomic
()) {

2118 
m_Ãxt_wb
.
	`do_©omic
();

2119 
m_cÜe
->
	`deüem’t_©omic_couÁ
(
m_Ãxt_wb
.
	`w¬p_id
(), m_Ãxt_wb.
	`aùive_couÁ
());

2121 
m_cÜe
->
	`dec_š¡_š_p–še
(
m_p–še_»g
[0]->
	`w¬p_id
());

2122 
m_p–še_»g
[0]->
	`ş—r
();

2123 
£rviûd_ş›Á
 = 
Ãxt_ş›Á
;

2127 ifĞ
m_L1T
->
	`acûss_»ady
() ) {

2128 
mem_ãtch
 *
mf
 = 
m_L1T
->
	`Ãxt_acûss
();

2129 
m_Ãxt_wb
 = 
mf
->
	`g‘_š¡
();

2130 
d–‘e
 
mf
;

2131 
£rviûd_ş›Á
 = 
Ãxt_ş›Á
;

2135 ifĞ
m_L1C
->
	`acûss_»ady
() ) {

2136 
mem_ãtch
 *
mf
 = 
m_L1C
->
	`Ãxt_acûss
();

2137 
m_Ãxt_wb
 = 
mf
->
	`g‘_š¡
();

2138 
d–‘e
 
mf
;

2139 
£rviûd_ş›Á
 = 
Ãxt_ş›Á
;

2143 ifĞ
m_Ãxt_glob®
 ) {

2144 
m_Ãxt_wb
 = 
m_Ãxt_glob®
->
	`g‘_š¡
();

2145 ifĞ
m_Ãxt_glob®
->
	`i§tomic
() )

2146 
m_cÜe
->
	`deüem’t_©omic_couÁ
(
m_Ãxt_glob®
->
	`g‘_wid
(),m_Ãxt_glob®->
	`g‘_acûss_w¬p_mask
().
	`couÁ
());

2147 
d–‘e
 
m_Ãxt_glob®
;

2148 
m_Ãxt_glob®
 = 
NULL
;

2149 
£rviûd_ş›Á
 = 
Ãxt_ş›Á
;

2153 ifĞ
m_L1D
 && m_L1D->
	`acûss_»ady
() ) {

2154 
mem_ãtch
 *
mf
 = 
m_L1D
->
	`Ãxt_acûss
();

2155 
m_Ãxt_wb
 = 
mf
->
	`g‘_š¡
();

2156 
d–‘e
 
mf
;

2157 
£rviûd_ş›Á
 = 
Ãxt_ş›Á
;

2160 : 
	`abÜt
();

2166 ià(
£rviûd_ş›Á
 != ()-1) {

2167 
m_wr™eback_¬b
 = (
£rviûd_ş›Á
 + 1è% 
m_num_wr™eback_ş›Ás
;

2169 
	}
}

2171 
	gld¡_un™
::
	$şock_muÉl›r
() const

2173  
m_cÚfig
->
mem_w¬p_·¹s
;

2174 
	}
}

2198 
	gld¡_un™
::
	$cyşe
()

2200 
	`wr™eback
();

2201 
m_İ”ªd_cŞËùÜ
->
	`¡•
();

2202  
¡age
=0; (¡age+1)<
m_p–še_d•th
; stage++ )

2203 ifĞ
m_p–še_»g
[
¡age
]->
	`em±y
() && !m_pipeline_reg[stage+1]->empty() )

2204 
	`move_w¬p
(
m_p–še_»g
[
¡age
], m_pipeline_reg[stage+1]);

2206 ifĞ!
m_»¥Ú£_fifo
.
	`em±y
() ) {

2207 
mem_ãtch
 *
mf
 = 
m_»¥Ú£_fifo
.
	`äÚt
();

2208 ià(
mf
->
	`i¡extu»
()) {

2209 ià(
m_L1T
->
	`fl_pÜt_ä“
()) {

2210 
m_L1T
->
	`fl
(
mf
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

2211 
m_»¥Ú£_fifo
.
	`pİ_äÚt
();

2213 } ià(
mf
->
	`iscÚ¡
()) {

2214 ià(
m_L1C
->
	`fl_pÜt_ä“
()) {

2215 
mf
->
	`£t_¡©us
(
IN_SHADER_FETCHED
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

2216 
m_L1C
->
	`fl
(
mf
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

2217 
m_»¥Ú£_fifo
.
	`pİ_äÚt
();

2220 ifĞ
mf
->
	`g‘_ty³
(è=ğ
WRITE_ACK
 || ( 
m_cÚfig
->
gpgpu_³rãù_mem
 && mf->
	`g‘_is_wr™e
() )) {

2221 
m_cÜe
->
	`¡Üe_ack
(
mf
);

2222 
m_»¥Ú£_fifo
.
	`pİ_äÚt
();

2223 
d–‘e
 
mf
;

2225 
	`as£¹
Ğ!
mf
->
	`g‘_is_wr™e
() );

2227 
boŞ
 
by·ssL1D
 = 
çl£
;

2228 iàĞ
CACHE_GLOBAL
 =ğ
mf
->
	`g‘_š¡
().
ÿche_İ
 || (
m_L1D
 =ğ
NULL
) ) {

2229 
by·ssL1D
 = 
Œue
;

2230 } ià(
mf
->
	`g‘_acûss_ty³
(è=ğ
GLOBAL_ACC_R
 || mf->g‘_acûss_ty³(è=ğ
GLOBAL_ACC_W
) {

2231 ià(
m_cÜe
->
	`g‘_cÚfig
()->
gmem_sk_L1D
)

2232 
by·ssL1D
 = 
Œue
;

2234 ifĞ
by·ssL1D
 ) {

2235 iàĞ
m_Ãxt_glob®
 =ğ
NULL
 ) {

2236 
mf
->
	`£t_¡©us
(
IN_SHADER_FETCHED
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

2237 
m_»¥Ú£_fifo
.
	`pİ_äÚt
();

2238 
m_Ãxt_glob®
 = 
mf
;

2241 ià(
m_L1D
->
	`fl_pÜt_ä“
()) {

2242 
m_L1D
->
	`fl
(
mf
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

2243 
m_»¥Ú£_fifo
.
	`pİ_äÚt
();

2250 
m_L1T
->
	`cyşe
();

2251 
m_L1C
->
	`cyşe
();

2252 ifĞ
m_L1D
 ) m_L1D->
	`cyşe
();

2254 
w¬p_š¡_t
 &
pe_»g
 = *
m_di¥©ch_»g
;

2255 
mem_¡age_¡®l_ty³
 
rc_ç
 = 
NO_RC_FAIL
;

2256 
mem_¡age_acûss_ty³
 
ty³
;

2257 
boŞ
 
dÚe
 = 
Œue
;

2258 
dÚe
 &ğ
	`sh¬ed_cyşe
(
pe_»g
, 
rc_ç
, 
ty³
);

2259 
dÚe
 &ğ
	`cÚ¡ªt_cyşe
(
pe_»g
, 
rc_ç
, 
ty³
);

2260 
dÚe
 &ğ
	`‹xtu»_cyşe
(
pe_»g
, 
rc_ç
, 
ty³
);

2261 
dÚe
 &ğ
	`memÜy_cyşe
(
pe_»g
, 
rc_ç
, 
ty³
);

2262 
m_mem_rc
 = 
rc_ç
;

2264 ià(!
dÚe
) {

2265 
	`as£¹
(
rc_ç
 !ğ
NO_RC_FAIL
);

2266 
m_¡©s
->
gpgpu_n_¡®l_shd_mem
++;

2267 
m_¡©s
->
gpu_¡®l_shd_mem_b»akdown
[
ty³
][
rc_ç
]++;

2271 ifĞ!
pe_»g
.
	`em±y
() ) {

2272 
w¬p_id
 = 
pe_»g
.
	`w¬p_id
();

2273 ifĞ
pe_»g
.
	`is_lßd
() ) {

2274 ifĞ
pe_»g
.
¥aû
.
	`g‘_ty³
(è=ğ
sh¬ed_¥aû
 ) {

2275 ifĞ
m_p–še_»g
[2]->
	`em±y
() ) {

2277 
	`move_w¬p
(
m_p–še_»g
[2],
m_di¥©ch_»g
);

2278 
m_di¥©ch_»g
->
	`ş—r
();

2286 
boŞ
 
³ndšg_»que¡s
=
çl£
;

2287  
r
=0;„<4;„++ ) {

2288 
»g_id
 = 
pe_»g
.
out
[
r
];

2289 ifĞ
»g_id
 > 0 ) {

2290 ifĞ
m_³ndšg_wr™es
[
w¬p_id
].
	`fšd
(
»g_id
è!ğm_³ndšg_wr™es[w¬p_id].
	`’d
() ) {

2291 iàĞ
m_³ndšg_wr™es
[
w¬p_id
][
»g_id
] > 0 ) {

2292 
³ndšg_»que¡s
=
Œue
;

2296 
m_³ndšg_wr™es
[
w¬p_id
].
	`”a£
(
»g_id
);

2301 ifĞ!
³ndšg_»que¡s
 ) {

2302 
m_cÜe
->
	`w¬p_š¡_com¶‘e
(*
m_di¥©ch_»g
);

2303 
m_scÜebßrd
->
	`»Ëa£Regi¡”s
(
m_di¥©ch_»g
);

2305 
m_cÜe
->
	`dec_š¡_š_p–še
(
w¬p_id
);

2306 
m_di¥©ch_»g
->
	`ş—r
();

2310 
m_cÜe
->
	`dec_š¡_š_p–še
(
w¬p_id
);

2311 
m_cÜe
->
	`w¬p_š¡_com¶‘e
(*
m_di¥©ch_»g
);

2312 
m_di¥©ch_»g
->
	`ş—r
();

2315 
	}
}

2317 
	gshad”_cÜe_ùx
::
	$»gi¡”_ùa_th»ad_ex™
Ğ
ùa_num
 )

2319 
	`as£¹
Ğ
m_ùa_¡©us
[
ùa_num
] > 0 );

2320 
m_ùa_¡©us
[
ùa_num
]--;

2321 ià(!
m_ùa_¡©us
[
ùa_num
]) {

2322 
m_n_aùive_ùa
--;

2323 
m_b¬r›rs
.
	`d—Îoÿ‹_b¬r›r
(
ùa_num
);

2324 
	`shad”_CTA_couÁ_uÆog
(
m_sid
, 1);

2325 
	`´štf
("GPGPU-Sim uArch: Shad” %d fšished CTA #%d (%Îd,%Îd), %u CTA ruÂšg\n", 
m_sid
, 
ùa_num
, 
gpu_sim_cyşe
, 
gpu_tÙ_sim_cyşe
,

2326 
m_n_aùive_ùa
 );

2327 ifĞ
m_n_aùive_ùa
 == 0 ) {

2328 
	`as£¹
Ğ
m_k”Ãl
 !ğ
NULL
 );

2329 
m_k”Ãl
->
	`dec_ruÂšg
();

2330 
	`´štf
("GPGPU-Sim uArch: Shad” %uƒm±y (»Ëa£ k”ÃÈ%u \'%s\').\n", 
m_sid
, 
m_k”Ãl
->
	`g‘_uid
(),

2331 
m_k”Ãl
->
	`Çme
().
	`c_¡r
() );

2332 ifĞ
m_k”Ãl
->
	`no_mÜe_ùas_to_run
() ) {

2333 ifĞ!
m_k”Ãl
->
	`ruÂšg
() ) {

2334 
	`´štf
("GPGPU-Sim uArch: GPU d‘eùed k”ÃÈ\'%s\' fšished oÀshad” %u.\n", 
m_k”Ãl
->
	`Çme
().
	`c_¡r
(), 
m_sid
 );

2335 
m_gpu
->
	`£t_k”Ãl_dÚe
Ğ
m_k”Ãl
 );

2338 
m_k”Ãl
=
NULL
;

2339 
	`fæush
(
¡dout
);

2342 
	}
}

2344 
	ggpgpu_sim
::
	$shad”_´št_ruÁime_¡©
Ğ
FILE
 *
fout
 )

2365 
	}
}

2368 
gpgpu_sim
::
	$shad”_´št_scheduËr_¡©
Ğ
FILE
* 
fout
, 
boŞ
 
´št_dyÇmic_šfo
 ) const

2371 cÚ¡ 
scheduËr_§m¶šg_cÜe
 = 
m_shad”_cÚfig
->
gpgpu_w¬p_issue_shad”
;

2372 
	#STR_SIZE
 55

	)

2373 
Çme_buff
[ 
STR_SIZE
 ];

2374 
Çme_buff
[ 
STR_SIZE
 - 1 ] = '\0';

2375 cÚ¡ 
¡d
::
veùÜ
< >& 
di¡ro


2376 ğ
´št_dyÇmic_šfo
 ?

2377 
m_shad”_¡©s
->
	`g‘_dyÇmic_w¬p_issue
()[ 
scheduËr_§m¶šg_cÜe
 ] :

2378 
m_shad”_¡©s
->
	`g‘_w¬p_¦Ù_issue
()[ 
scheduËr_§m¶šg_cÜe
 ];

2379 iàĞ
´št_dyÇmic_šfo
 ) {

2380 
	`¢´štf
Ğ
Çme_buff
, 
STR_SIZE
 - 1, "dynamic_warp_id" );

2382 
	`¢´štf
Ğ
Çme_buff
, 
STR_SIZE
 - 1, "warp_id" );

2384 
	`årštf
Ğ
fout
,

2386 
scheduËr_§m¶šg_cÜe
,

2387 
Çme_buff
 );

2388 cÚ¡ 
num_w¬p_ids
 = 
di¡ro
.
	`size
();

2390 
	`årštf
Ğ
fout
, "%s:\n", 
Çme_buff
 );

2391  
w¬p_id
 = 0;

2392 
w¬p_id
 < 
num_w¬p_ids
;

2393 ++
w¬p_id
 ) {

2394 
	`årštf
Ğ
fout
, "%d, ", 
w¬p_id
 );

2397 
	`årštf
Ğ
fout
, "\ndistro:\n" );

2399  
¡d
::
veùÜ
< >::
cÚ¡_™”©Ü
 
™”
 = 
di¡ro
.
	`begš
();

2400 
™”
 !ğ
di¡ro
.
	`’d
();

2401 
™”
++ ) {

2402 
	`årštf
Ğ
fout
, "%d, ", *
™”
 );

2404 
	`årštf
Ğ
fout
, "\n" );

2405 
	}
}

2407 
	ggpgpu_sim
::
	$shad”_´št_ÿche_¡©s
Ğ
FILE
 *
fout
 ) const{

2410 
ÿche_sub_¡©s
 
tÙ®_css
;

2411 
ÿche_sub_¡©s
 
css
;

2413 if(!
m_shad”_cÚfig
->
m_L1I_cÚfig
.
	`di§bËd
()){

2414 
tÙ®_css
.
	`ş—r
();

2415 
css
.
	`ş—r
();

2416 
	`årštf
(
fout
, "\n========= Core cache stats =========\n");

2417 
	`årštf
(
fout
, "L1I_cache:\n");

2418  
i
 = 0; i < 
m_shad”_cÚfig
->
n_simt_şu¡”s
; ++i ) {

2419 
m_şu¡”
[
i
]->
	`g‘_L1I_sub_¡©s
(
css
);

2420 
tÙ®_css
 +ğ
css
;

2422 
	`årštf
(
fout
, "\tL1I_tÙ®_ÿche_acûs£ ğ%u\n", 
tÙ®_css
.
acûs£s
);

2423 
	`årštf
(
fout
, "\tL1I_tÙ®_ÿche_mis£ ğ%u\n", 
tÙ®_css
.
mis£s
);

2424 if(
tÙ®_css
.
acûs£s
 > 0){

2425 
	`årštf
(
fout
, "\tL1I_tÙ®_ÿche_miss_¿‹ = %.4lf\n", ()
tÙ®_css
.
mis£s
 / (éÙ®_css.
acûs£s
);

2427 
	`årštf
(
fout
, "\tL1I_tÙ®_ÿche_³ndšg_h™ ğ%u\n", 
tÙ®_css
.
³ndšg_h™s
);

2428 
	`årštf
(
fout
, "\tL1I_tÙ®_ÿche_»£rv©iÚ_ç ğ%u\n", 
tÙ®_css
.
»s_çs
);

2432 if(!
m_shad”_cÚfig
->
m_L1D_cÚfig
.
	`di§bËd
()){

2433 
tÙ®_css
.
	`ş—r
();

2434 
css
.
	`ş—r
();

2435 
	`årštf
(
fout
, "L1D_cache:\n");

2436 
i
=0;i<
m_shad”_cÚfig
->
n_simt_şu¡”s
;i++){

2437 
m_şu¡”
[
i
]->
	`g‘_L1D_sub_¡©s
(
css
);

2439 
	`årštf
Ğ
¡dout
, "\tL1D_cache_core[%d]: Access = %d, Miss = %d, Miss_rate = %.3lf, Pending_hits = %u, Reservation_fails = %u\n",

2440 
i
, 
css
.
acûs£s
, css.
mis£s
, ()css.mis£ / ()css.acûs£s, css.
³ndšg_h™s
, css.
»s_çs
);

2442 
tÙ®_css
 +ğ
css
;

2444 
	`årštf
(
fout
, "\tL1D_tÙ®_ÿche_acûs£ ğ%u\n", 
tÙ®_css
.
acûs£s
);

2445 
	`årštf
(
fout
, "\tL1D_tÙ®_ÿche_mis£ ğ%u\n", 
tÙ®_css
.
mis£s
);

2446 if(
tÙ®_css
.
acûs£s
 > 0){

2447 
	`årštf
(
fout
, "\tL1D_tÙ®_ÿche_miss_¿‹ = %.4lf\n", ()
tÙ®_css
.
mis£s
 / (éÙ®_css.
acûs£s
);

2449 
	`årštf
(
fout
, "\tL1D_tÙ®_ÿche_³ndšg_h™ ğ%u\n", 
tÙ®_css
.
³ndšg_h™s
);

2450 
	`årštf
(
fout
, "\tL1D_tÙ®_ÿche_»£rv©iÚ_ç ğ%u\n", 
tÙ®_css
.
»s_çs
);

2451 
tÙ®_css
.
	`´št_pÜt_¡©s
(
fout
, "\tL1D_cache");

2455 if(!
m_shad”_cÚfig
->
m_L1C_cÚfig
.
	`di§bËd
()){

2456 
tÙ®_css
.
	`ş—r
();

2457 
css
.
	`ş—r
();

2458 
	`årštf
(
fout
, "L1C_cache:\n");

2459  
i
 = 0; i < 
m_shad”_cÚfig
->
n_simt_şu¡”s
; ++i ) {

2460 
m_şu¡”
[
i
]->
	`g‘_L1C_sub_¡©s
(
css
);

2461 
tÙ®_css
 +ğ
css
;

2463 
	`årštf
(
fout
, "\tL1C_tÙ®_ÿche_acûs£ ğ%u\n", 
tÙ®_css
.
acûs£s
);

2464 
	`årštf
(
fout
, "\tL1C_tÙ®_ÿche_mis£ ğ%u\n", 
tÙ®_css
.
mis£s
);

2465 if(
tÙ®_css
.
acûs£s
 > 0){

2466 
	`årštf
(
fout
, "\tL1C_tÙ®_ÿche_miss_¿‹ = %.4lf\n", ()
tÙ®_css
.
mis£s
 / (éÙ®_css.
acûs£s
);

2468 
	`årštf
(
fout
, "\tL1C_tÙ®_ÿche_³ndšg_h™ ğ%u\n", 
tÙ®_css
.
³ndšg_h™s
);

2469 
	`årštf
(
fout
, "\tL1C_tÙ®_ÿche_»£rv©iÚ_ç ğ%u\n", 
tÙ®_css
.
»s_çs
);

2473 if(!
m_shad”_cÚfig
->
m_L1T_cÚfig
.
	`di§bËd
()){

2474 
tÙ®_css
.
	`ş—r
();

2475 
css
.
	`ş—r
();

2476 
	`årštf
(
fout
, "L1T_cache:\n");

2477  
i
 = 0; i < 
m_shad”_cÚfig
->
n_simt_şu¡”s
; ++i ) {

2478 
m_şu¡”
[
i
]->
	`g‘_L1T_sub_¡©s
(
css
);

2479 
tÙ®_css
 +ğ
css
;

2481 
	`årštf
(
fout
, "\tL1T_tÙ®_ÿche_acûs£ ğ%u\n", 
tÙ®_css
.
acûs£s
);

2482 
	`årštf
(
fout
, "\tL1T_tÙ®_ÿche_mis£ ğ%u\n", 
tÙ®_css
.
mis£s
);

2483 if(
tÙ®_css
.
acûs£s
 > 0){

2484 
	`årštf
(
fout
, "\tL1T_tÙ®_ÿche_miss_¿‹ = %.4lf\n", ()
tÙ®_css
.
mis£s
 / (éÙ®_css.
acûs£s
);

2486 
	`årštf
(
fout
, "\tL1T_tÙ®_ÿche_³ndšg_h™ ğ%u\n", 
tÙ®_css
.
³ndšg_h™s
);

2487 
	`årštf
(
fout
, "\tL1T_tÙ®_ÿche_»£rv©iÚ_ç ğ%u\n", 
tÙ®_css
.
»s_çs
);

2489 
	}
}

2491 
	ggpgpu_sim
::
	$shad”_´št_l1_miss_¡©
Ğ
FILE
 *
fout
 ) const

2493 
tÙ®_d1_mis£s
 = 0, 
tÙ®_d1_acûs£s
 = 0;

2494  
i
 = 0; i < 
m_shad”_cÚfig
->
n_simt_şu¡”s
; ++i ) {

2495 
cu¡”_d1_mis£s
 = 0, 
şu¡”_d1_acûs£s
 = 0;

2496 
m_şu¡”
[ 
i
 ]->
	`´št_ÿche_¡©s
Ğ
fout
, 
şu¡”_d1_acûs£s
, 
cu¡”_d1_mis£s
 );

2497 
tÙ®_d1_mis£s
 +ğ
cu¡”_d1_mis£s
;

2498 
tÙ®_d1_acûs£s
 +ğ
şu¡”_d1_acûs£s
;

2500 
	`årštf
Ğ
fout
, "tÙ®_dl1_mis£s=%d\n", 
tÙ®_d1_mis£s
 );

2501 
	`årštf
Ğ
fout
, "tÙ®_dl1_acûs£s=%d\n", 
tÙ®_d1_acûs£s
 );

2502 
	`årštf
Ğ
fout
, "tÙ®_dl1_miss_¿‹ğ%f\n", ()
tÙ®_d1_mis£s
 / ()
tÙ®_d1_acûs£s
 );

2553 
	}
}

2555 
	gw¬p_š¡_t
::
	$´št
Ğ
FILE
 *
fout
 ) const

2561 
	`årštf
(
fout
,"0x%04x ", 
pc
 );

2562 
	`årštf
(
fout
, "w%02d[", 
m_w¬p_id
);

2563 
j
=0; j<
m_cÚfig
->
w¬p_size
; j++)

2564 
	`årštf
(
fout
, "%c", (
	`aùive
(
j
)?'1':'0') );

2565 
	`årštf
(
fout
, "]: ");

2566 
	`±x_´št_š¢
Ğ
pc
, 
fout
 );

2567 
	`årštf
(
fout
, "\n");

2568 
	}
}

2569 
	gshad”_cÜe_ùx
::
	$šûxec¡©
(
w¬p_š¡_t
 *&
š¡
)

2571 if(
š¡
->
mem_İ
==
TEX
)

2572 
	`šùex_¡©
(
š¡
->
	`aùive_couÁ
(),1);

2578 
š¡
->
¥_İ
){

2579 
INT__OP
:

2580 
	`šcŸlu_¡©
(
š¡
->
	`aùive_couÁ
(),25);

2582 
INT_MUL_OP
:

2583 
	`šcimul_¡©
(
š¡
->
	`aùive_couÁ
(),7.2);

2585 
INT_MUL24_OP
:

2586 
	`šcimul24_¡©
(
š¡
->
	`aùive_couÁ
(),4.2);

2588 
INT_MUL32_OP
:

2589 
	`šcimul32_¡©
(
š¡
->
	`aùive_couÁ
(),4);

2591 
INT_DIV_OP
:

2592 
	`šcidiv_¡©
(
š¡
->
	`aùive_couÁ
(),40);

2594 
FP__OP
:

2595 
	`šcå®u_¡©
(
š¡
->
	`aùive_couÁ
(),1);

2597 
FP_MUL_OP
:

2598 
	`šcåmul_¡©
(
š¡
->
	`aùive_couÁ
(),1.8);

2600 
FP_DIV_OP
:

2601 
	`šcådiv_¡©
(
š¡
->
	`aùive_couÁ
(),48);

2603 
FP_SQRT_OP
:

2604 
	`šù¿ns_¡©
(
š¡
->
	`aùive_couÁ
(),25);

2606 
FP_LG_OP
:

2607 
	`šù¿ns_¡©
(
š¡
->
	`aùive_couÁ
(),35);

2609 
FP_SIN_OP
:

2610 
	`šù¿ns_¡©
(
š¡
->
	`aùive_couÁ
(),12);

2612 
FP_EXP_OP
:

2613 
	`šù¿ns_¡©
(
š¡
->
	`aùive_couÁ
(),35);

2618 
	}
}

2619 
	gshad”_cÜe_ùx
::
	$´št_¡age
(
¡age
, 
FILE
 *
fout
 ) const

2621 
m_p–še_»g
[
¡age
].
	`´št
(
fout
);

2623 
	}
}

2625 
	gshad”_cÜe_ùx
::
	$di¥Ïy_simt_¡©e
(
FILE
 *
fout
, 
mask
 ) const

2627 iàĞ(
mask
 & 4è&& 
m_cÚfig
->
mod–
 =ğ
POST_DOMINATOR
 ) {

2628 
	`årštf
(
fout
,"per warp SIMT control-flow state:\n");

2629 
n
 = 
m_cÚfig
->
n_th»ad_³r_shad”
 / m_cÚfig->
w¬p_size
;

2630 
i
=0; i < 
n
; i++) {

2631 
Çùive
 = 0;

2632 
j
=0; j<
m_cÚfig
->
w¬p_size
; j++ ) {

2633 
tid
 = 
i
*
m_cÚfig
->
w¬p_size
 + 
j
;

2634 
dÚe
 = 
	`±x_th»ad_dÚe
(
tid
);

2635 
Çùive
 +ğ(
	`±x_th»ad_dÚe
(
tid
)?0:1);

2636 iàĞ
dÚe
 && (
mask
 & 8) ) {

2637 
dÚe_cyşe
 = 
m_th»ad
[
tid
]->
	`dÚecyşe
();

2638 iàĞ
dÚe_cyşe
 ) {

2639 
	`´štf
("\Àw%02u:t%03u: dÚ@ cyş%u", 
i
, 
tid
, 
dÚe_cyşe
 );

2643 iàĞ
Çùive
 == 0 ) {

2646 
m_simt_¡ack
[
i
]->
	`´št
(
fout
);

2648 
	`årštf
(
fout
,"\n");

2650 
	}
}

2652 
	gld¡_un™
::
	$´št
(
FILE
 *
fout
) const

2654 
	`årštf
(
fout
,"LD/ST unit = ");

2655 
m_di¥©ch_»g
->
	`´št
(
fout
);

2656 iàĞ
m_mem_rc
 !ğ
NO_RC_FAIL
 ) {

2657 
	`årštf
(
fout
," LD/ST stall condition: ");

2658  
m_mem_rc
 ) {

2659 
BK_CONF
: 
	`årštf
(
fout
,"BK_CONF"); ;

2660 
MSHR_RC_FAIL
: 
	`årštf
(
fout
,"MSHR_RC_FAIL"); ;

2661 
ICNT_RC_FAIL
: 
	`årštf
(
fout
,"ICNT_RC_FAIL"); ;

2662 
COAL_STALL
: 
	`årštf
(
fout
,"COAL_STALL"); ;

2663 
WB_ICNT_RC_FAIL
: 
	`årštf
(
fout
,"WB_ICNT_RC_FAIL"); ;

2664 
WB_CACHE_RSRV_FAIL
: 
	`årštf
(
fout
,"WB_CACHE_RSRV_FAIL"); ;

2665 
N_MEM_STAGE_STALL_TYPE
: 
	`årštf
(
fout
,"N_MEM_STAGE_STALL_TYPE"); ;

2666 : 
	`abÜt
();

2668 
	`årštf
(
fout
,"\n");

2670 
	`årštf
(
fout
,"LD/ST wb = ");

2671 
m_Ãxt_wb
.
	`´št
(
fout
);

2672 
	`årštf
(
fout
, "Last LD/ST writeback @ %llu + %llu (gpu_sim_cycle+gpu_tot_sim_cycle)\n",

2673 
m_Ï¡_š¡_gpu_sim_cyşe
, 
m_Ï¡_š¡_gpu_tÙ_sim_cyşe
 );

2674 
	`årštf
(
fout
,"Pending„egister writes:\n");

2675 
¡d
::
m­
<, std::m­<,> >::
cÚ¡_™”©Ü
 
w
;

2676  
w
=
m_³ndšg_wr™es
.
	`begš
(); w!=m_³ndšg_wr™es.
	`’d
(); w++ ) {

2677 
w¬p_id
 = 
w
->
fœ¡
;

2678 cÚ¡ 
¡d
::
m­
<,> &
w¬p_šfo
 = 
w
->
£cÚd
;

2679 ifĞ
w¬p_šfo
.
	`em±y
() )

2681 
	`årštf
(
fout
," w%2u : ", 
w¬p_id
 );

2682 
¡d
::
m­
<,>::
cÚ¡_™”©Ü
 
r
;

2683  
r
=
w¬p_šfo
.
	`begš
();„!=w¬p_šfo.
	`’d
(); ++r ) {

2684 
	`årštf
(
fout
," %u(%u)", 
r
->
fœ¡
,„->
£cÚd
 );

2686 
	`årštf
(
fout
,"\n");

2688 
m_L1C
->
	`di¥Ïy_¡©e
(
fout
);

2689 
m_L1T
->
	`di¥Ïy_¡©e
(
fout
);

2690 ifĞ!
m_cÚfig
->
m_L1D_cÚfig
.
	`di§bËd
() )

2691 
m_L1D
->
	`di¥Ïy_¡©e
(
fout
);

2692 
	`årštf
(
fout
,"LD/ST„e¥Ú£ FIFO (occu·ncy = %zu):\n", 
m_»¥Ú£_fifo
.
	`size
() );

2693  
¡d
::
li¡
<
mem_ãtch
*>::
cÚ¡_™”©Ü
 
i
=
m_»¥Ú£_fifo
.
	`begš
(); i !ğm_»¥Ú£_fifo.
	`’d
(); i++ ) {

2694 cÚ¡ 
mem_ãtch
 *
mf
 = *
i
;

2695 
mf
->
	`´št
(
fout
);

2697 
	}
}

2699 
	gshad”_cÜe_ùx
::
	$di¥Ïy_p–še
(
FILE
 *
fout
, 
´št_mem
, 
mask
 ) const

2701 
	`årštf
(
fout
, "=================================================\n");

2702 
	`årštf
(
fout
, "shad” %u‡ˆcyş%Lu+%Lu (%uh»ad ruÂšg)\n", 
m_sid
,

2703 
gpu_tÙ_sim_cyşe
, 
gpu_sim_cyşe
, 
m_nÙ_com¶‘ed
);

2704 
	`årštf
(
fout
, "=================================================\n");

2706 
	`dump_w¬p_¡©e
(
fout
);

2707 
	`årštf
(
fout
,"\n");

2709 
m_L1I
->
	`di¥Ïy_¡©e
(
fout
);

2711 
	`årštf
(
fout
, "IF/ID = ");

2712 ifĞ!
m_š¡_ãtch_bufãr
.
m_v®id
 )

2713 
	`årštf
(
fout
,"bubble\n");

2715 
	`årštf
(
fout
,"w%2u :…c = 0x%x,‚bytes = %u\n",

2716 
m_š¡_ãtch_bufãr
.
m_w¬p_id
,

2717 
m_š¡_ãtch_bufãr
.
m_pc
,

2718 
m_š¡_ãtch_bufãr
.
m_nby‹s
 );

2720 
	`årštf
(
fout
,"\nibuffer status:\n");

2721  
i
=0; i<
m_cÚfig
->
max_w¬ps_³r_shad”
; i++) {

2722 ifĞ!
m_w¬p
[
i
].
	`ibufãr_em±y
() )

2723 
m_w¬p
[
i
].
	`´št_ibufãr
(
fout
);

2725 
	`årštf
(
fout
,"\n");

2726 
	`di¥Ïy_simt_¡©e
(
fout
,
mask
);

2727 
	`årštf
(
fout
, "-------------------------- Scoreboard\n");

2728 
m_scÜebßrd
->
	`´štCÚ‹Ás
();

2737 
	`årštf
(
fout
, "-------------------------- OP COL\n");

2738 
m_İ”ªd_cŞËùÜ
.
	`dump
(
fout
);

2746 
	`årštf
(
fout
, "-------------------------- Pipe Regs\n");

2748 
i
 = 0; i < 
N_PIPELINE_STAGES
; i++) {

2749 
	`årštf
(
fout
,"--- % ---\n",
p–še_¡age_Çme_decode
[
i
]);

2750 
	`´št_¡age
(
i
,
fout
);
	`årštf
(fout,"\n");

2753 
	`årštf
(
fout
, "-------------------------- Fu\n");

2754  
n
=0;‚ < 
m_num_funùiÚ_un™s
;‚++ ){

2755 
m_fu
[
n
]->
	`´št
(
fout
);

2756 
	`årštf
(
fout
, "---------------\n");

2758 
	`årštf
(
fout
, "-------------------------- other:\n");

2760 
i
=0; i<
num_»suÉ_bus
; i++){

2761 
¡d
::
¡ršg
 
b™s
 = 
m_»suÉ_bus
[
i
]->
	`to_¡ršg
();

2762 
	`årštf
(
fout
, "EX/WB sched[%d]ğ%s\n", 
i
, 
b™s
.
	`c_¡r
() );

2764 
	`årštf
(
fout
, "EX/WB = ");

2765 
	`´št_¡age
(
EX_WB
, 
fout
);

2766 
	`årštf
(
fout
, "\n");

2767 
	`årštf
(
fout
, "Last EX/WB writeback @ %llu + %llu (gpu_sim_cycle+gpu_tot_sim_cycle)\n",

2768 
m_Ï¡_š¡_gpu_sim_cyşe
, 
m_Ï¡_š¡_gpu_tÙ_sim_cyşe
 );

2770 ifĞ
m_aùive_th»ads
.
	`couÁ
(è<ğ2*
m_cÚfig
->
w¬p_size
 ) {

2771 
	`årštf
(
fout
,"Active Threads : ");

2772 
Ï¡_w¬p_id
 = -1;

2773 
tid
=0;id < 
m_aùive_th»ads
.
	`size
();id++ ) {

2774 
w¬p_id
 = 
tid
/
m_cÚfig
->
w¬p_size
;

2775 ifĞ
m_aùive_th»ads
.
	`‹¡
(
tid
) ) {

2776 ifĞ
w¬p_id
 !ğ
Ï¡_w¬p_id
 ) {

2777 
	`årštf
(
fout
,"\À w¬°%u : ", 
w¬p_id
 );

2778 
Ï¡_w¬p_id
=
w¬p_id
;

2780 
	`årštf
(
fout
,"%u ", 
tid
 );

2785 
	}
}

2787 
	gshad”_cÜe_cÚfig
::
	$max_ùa
ĞcÚ¡ 
k”Ãl_šfo_t
 &
k
 ) const

2789 
th»ads_³r_ùa
 = 
k
.
	`th»ads_³r_ùa
();

2790 cÚ¡ 
şass
 
funùiÚ_šfo
 *
k”Ãl
 = 
k
.
	`’Œy
();

2791 
·dded_ùa_size
 = 
th»ads_³r_ùa
;

2792 ià(
·dded_ùa_size
%
w¬p_size
)

2793 
·dded_ùa_size
 = (Õadded_ùa_size/
w¬p_size
)+1)*(warp_size);

2796 
»suÉ_th»ad
 = 
n_th»ad_³r_shad”
 / 
·dded_ùa_size
;

2798 cÚ¡ 
gpgpu_±x_sim_k”Ãl_šfo
 *
k”Ãl_šfo
 = 
	`±x_sim_k”Ãl_šfo
(
k”Ãl
);

2801 
»suÉ_shmem
 = ()-1;

2802 ià(
k”Ãl_šfo
->
smem
 > 0)

2803 
»suÉ_shmem
 = 
gpgpu_shmem_size
 / 
k”Ãl_šfo
->
smem
;

2806 
»suÉ_»gs
 = ()-1;

2807 ià(
k”Ãl_šfo
->
»gs
 > 0)

2808 
»suÉ_»gs
 = 
gpgpu_shad”_»gi¡”s
 / (
·dded_ùa_size
 * ((
k”Ãl_šfo
->
»gs
+3)&~3));

2811 
»suÉ_ùa
 = 
max_ùa_³r_cÜe
;

2813 
»suÉ
 = 
»suÉ_th»ad
;

2814 
»suÉ
 = 
	`gs_mš2
ÔesuÉ, 
»suÉ_shmem
);

2815 
»suÉ
 = 
	`gs_mš2
ÔesuÉ, 
»suÉ_»gs
);

2816 
»suÉ
 = 
	`gs_mš2
ÔesuÉ, 
»suÉ_ùa
);

2818 cÚ¡ 
gpgpu_±x_sim_k”Ãl_šfo
* 
Ï¡_kšfo
 = 
NULL
;

2819 ià(
Ï¡_kšfo
 !ğ
k”Ãl_šfo
) {

2820 
Ï¡_kšfo
 = 
k”Ãl_šfo
;

2821 
	`´štf
 ("GPGPU-Sim uArch: CTA/cÜğ%u,†im™ed by:", 
»suÉ
);

2822 ià(
»suÉ
 =ğ
»suÉ_th»ad
è
	`´štf
 ("hreads");

2823 ià(
»suÉ
 =ğ
»suÉ_shmem
è
	`´štf
 (" shmem");

2824 ià(
»suÉ
 =ğ
»suÉ_»gs
è
	`´štf
 ("„egs");

2825 ià(
»suÉ
 =ğ
»suÉ_ùa
è
	`´štf
 (" cta_limit");

2826 
	`´štf
 ("\n");

2830 ifĞ
k
.
	`num_blocks
(è< 
»suÉ
*
	`num_shad”
() ) {

2831 
»suÉ
 = 
k
.
	`num_blocks
(è/ 
	`num_shad”
();

2832 ià(
k
.
	`num_blocks
(è% 
	`num_shad”
())

2833 
»suÉ
++;

2836 
	`as£¹
Ğ
»suÉ
 <ğ
MAX_CTA_PER_SHADER
 );

2837 ià(
»suÉ
 < 1) {

2838 
	`´štf
 ("GPGPU-Sim uArch: ERROR ** Kernel„equires more„esourceshan shader has.\n");

2839 
	`abÜt
();

2842  
»suÉ
;

2843 
	}
}

2845 
	gshad”_cÜe_ùx
::
	$cyşe
()

2847 
m_¡©s
->
shad”_cyşes
[
m_sid
]++;

2858 
	`wr™eback
();

2859 
	`execu‹
();

2860 
	`»ad_İ”ªds
();

2861 
	`issue
();

2862 
	`decode
();

2863 
	`ãtch
();

2864 
	}
}

2868 
	gshad”_cÜe_ùx
::
	$ÿche_æush
()

2870 
m_ld¡_un™
->
	`æush
();

2871 
	}
}

2874 
	g¡d
::
li¡
<
İndcŞl_rfu_t
::
İ_t
> o²dcŞl_rfu_t::
¬b™”_t
::
	$®loÿ‹_»ads
()

2876 
¡d
::
li¡
<
İ_t
> 
»suÉ
;

2878 
šput
;

2879 
ouut
;

2880 
_šputs
 = 
m_num_bªks
;

2881 
_ouuts
 = 
m_num_cŞËùÜs
;

2882 
_squ¬e
 = ( 
_šputs
 > 
_ouuts
 ) ? _inputs : _outputs;

2883 
	`as£¹
(
_squ¬e
 > 0);

2884 
_´i
 = ()
m_Ï¡_cu
;

2887  
i
 = 0; i < 
_šputs
; ++i )

2888 
_šm©ch
[
i
] = -1;

2889  
j
 = 0; j < 
_ouuts
; ++j )

2890 
_outm©ch
[
j
] = -1;

2892  
i
=0; i<
m_num_bªks
; i++) {

2893  
j
=0; j<
m_num_cŞËùÜs
; j++) {

2894 
	`as£¹
Ğ
i
 < ()
_šputs
 );

2895 
	`as£¹
Ğ
j
 < ()
_ouuts
 );

2896 
_»que¡
[
i
][
j
] = 0;

2898 ifĞ!
m_queue
[
i
].
	`em±y
() ) {

2899 cÚ¡ 
İ_t
 &
İ
 = 
m_queue
[
i
].
	`äÚt
();

2900 
oc_id
 = 
İ
.
	`g‘_oc_id
();

2901 
	`as£¹
Ğ
i
 < ()
_šputs
 );

2902 
	`as£¹
Ğ
oc_id
 < 
_ouuts
 );

2903 
_»que¡
[
i
][
oc_id
] = 1;

2905 ifĞ
m_®loÿ‹d_bªk
[
i
].
	`is_wr™e
() ) {

2906 
	`as£¹
Ğ
i
 < ()
_šputs
 );

2907 
_šm©ch
[
i
] = 0;

2915  
p
 = 0;… < 
_squ¬e
; ++p ) {

2916 
ouut
 = ( 
_´i
 + 
p
 ) % 
_squ¬e
;

2919  
šput
 = 0; iÅuˆ< 
_šputs
; ++input ) {

2920 
	`as£¹
Ğ
šput
 < 
_šputs
 );

2921 
	`as£¹
Ğ
ouut
 < 
_ouuts
 );

2922 iàĞĞ
ouut
 < 
_ouuts
 ) &&

2923 Ğ
_šm©ch
[
šput
] == -1 ) &&

2924 Ğ
_outm©ch
[
ouut
] == -1 ) &&

2925 Ğ
_»que¡
[
šput
][
ouut
] ) ) {

2927 
_šm©ch
[
šput
] = 
ouut
;

2928 
_outm©ch
[
ouut
] = 
šput
;

2931 
ouut
 = ( ouuˆ+ 1 ) % 
_squ¬e
;

2936 
_´i
 = ( _´˜+ 1 ) % 
_squ¬e
;

2940 
m_Ï¡_cu
 = 
_´i
;

2941  
i
=0; i < 
m_num_bªks
; i++ ) {

2942 ifĞ
_šm©ch
[
i
] != -1 ) {

2943 ifĞ!
m_®loÿ‹d_bªk
[
i
].
	`is_wr™e
() ) {

2944 
bªk
 = ()
i
;

2945 
İ_t
 &
İ
 = 
m_queue
[
bªk
].
	`äÚt
();

2946 
»suÉ
.
	`push_back
(
İ
);

2947 
m_queue
[
bªk
].
	`pİ_äÚt
();

2952  
»suÉ
;

2953 
	}
}

2955 
	gb¬r›r_£t_t
::
	$b¬r›r_£t_t
Ğ
max_w¬ps_³r_cÜe
, 
max_ùa_³r_cÜe
 )

2957 
m_max_w¬ps_³r_cÜe
 = 
max_w¬ps_³r_cÜe
;

2958 
m_max_ùa_³r_cÜe
 = 
max_ùa_³r_cÜe
;

2959 ifĞ
max_w¬ps_³r_cÜe
 > 
WARP_PER_CTA_MAX
 ) {

2960 
	`´štf
("ERROR ** increase WARP_PER_CTA_MAX in shader.h from %uo >= %u or warps…er cta in gpgpusim.config\n",

2961 
WARP_PER_CTA_MAX
, 
max_w¬ps_³r_cÜe
 );

2962 
	`ex™
(1);

2964 
m_w¬p_aùive
.
	`»£t
();

2965 
m_w¬p_©_b¬r›r
.
	`»£t
();

2966 
	}
}

2969 
	gb¬r›r_£t_t
::
	$®loÿ‹_b¬r›r
Ğ
ùa_id
, 
w¬p_£t_t
 
w¬ps
 )

2971 
	`as£¹
Ğ
ùa_id
 < 
m_max_ùa_³r_cÜe
 );

2972 
ùa_to_w¬p_t
::
™”©Ü
 
w
=
m_ùa_to_w¬ps
.
	`fšd
(
ùa_id
);

2973 
	`as£¹
Ğ
w
 =ğ
m_ùa_to_w¬ps
.
	`’d
() );

2974 
m_ùa_to_w¬ps
[
ùa_id
] = 
w¬ps
;

2975 
	`as£¹
Ğ
m_ùa_to_w¬ps
.
	`size
(è<ğ
m_max_ùa_³r_cÜe
 );

2977 
m_w¬p_aùive
 |ğ
w¬ps
;

2978 
m_w¬p_©_b¬r›r
 &ğ~
w¬ps
;

2979 
	}
}

2982 
	gb¬r›r_£t_t
::
	$d—Îoÿ‹_b¬r›r
Ğ
ùa_id
 )

2984 
ùa_to_w¬p_t
::
™”©Ü
 
w
=
m_ùa_to_w¬ps
.
	`fšd
(
ùa_id
);

2985 ifĞ
w
 =ğ
m_ùa_to_w¬ps
.
	`’d
() )

2987 
w¬p_£t_t
 
w¬ps
 = 
w
->
£cÚd
;

2988 
w¬p_£t_t
 
©_b¬r›r
 = 
w¬ps
 & 
m_w¬p_©_b¬r›r
;

2989 
	`as£¹
Ğ
©_b¬r›r
.
	`ªy
(è=ğ
çl£
 );

2990 
w¬p_£t_t
 
aùive
 = 
w¬ps
 & 
m_w¬p_aùive
;

2991 
	`as£¹
Ğ
aùive
.
	`ªy
(è=ğ
çl£
 );

2992 
m_w¬p_aùive
 &ğ~
w¬ps
;

2993 
m_w¬p_©_b¬r›r
 &ğ~
w¬ps
;

2994 
m_ùa_to_w¬ps
.
	`”a£
(
w
);

2995 
	}
}

2998 
	gb¬r›r_£t_t
::
	$w¬p_»aches_b¬r›r
Ğ
ùa_id
, 
w¬p_id
 )

3000 
ùa_to_w¬p_t
::
™”©Ü
 
w
=
m_ùa_to_w¬ps
.
	`fšd
(
ùa_id
);

3002 ifĞ
w
 =ğ
m_ùa_to_w¬ps
.
	`’d
() ) {

3003 
	`´štf
("ERROR ** c_id %u‚Ù found iÀb¬r›¸£ˆÚ cyş%Îu+%Îu...\n", 
ùa_id
, 
gpu_tÙ_sim_cyşe
, 
gpu_sim_cyşe
 );

3004 
	`dump
();

3005 
	`abÜt
();

3007 
	`as£¹
Ğ
w
->
£cÚd
.
	`‹¡
(
w¬p_id
è=ğ
Œue
 );

3009 
m_w¬p_©_b¬r›r
.
	`£t
(
w¬p_id
);

3011 
w¬p_£t_t
 
w¬ps_š_ùa
 = 
w
->
£cÚd
;

3012 
w¬p_£t_t
 
©_b¬r›r
 = 
w¬ps_š_ùa
 & 
m_w¬p_©_b¬r›r
;

3013 
w¬p_£t_t
 
aùive
 = 
w¬ps_š_ùa
 & 
m_w¬p_aùive
;

3015 ifĞ
©_b¬r›r
 =ğ
aùive
 ) {

3017 
m_w¬p_©_b¬r›r
 &ğ~
©_b¬r›r
;

3019 
	}
}

3022 
boŞ
 
	gb¬r›r_£t_t
::
	$avaabË_fÜ_ãtch
Ğ
w¬p_id
 ) const

3024  
m_w¬p_aùive
.
	`‹¡
(
w¬p_id
è&& 
m_w¬p_©_b¬r›r
.test(warp_id);

3025 
	}
}

3028 
	gb¬r›r_£t_t
::
	$w¬p_ex™
Ğ
w¬p_id
 )

3032 
m_w¬p_aùive
.
	`»£t
(
w¬p_id
);

3035 
ùa_to_w¬p_t
::
™”©Ü
 
w
=
m_ùa_to_w¬ps
.
	`begš
();

3036 ; 
w
 !ğ
m_ùa_to_w¬ps
.
	`’d
(); ++w) {

3037 ià(
w
->
£cÚd
.
	`‹¡
(
w¬p_id
è=ğ
Œue
) ;

3039 
w¬p_£t_t
 
w¬ps_š_ùa
 = 
w
->
£cÚd
;

3040 
w¬p_£t_t
 
©_b¬r›r
 = 
w¬ps_š_ùa
 & 
m_w¬p_©_b¬r›r
;

3041 
w¬p_£t_t
 
aùive
 = 
w¬ps_š_ùa
 & 
m_w¬p_aùive
;

3043 ifĞ
©_b¬r›r
 =ğ
aùive
 ) {

3045 
m_w¬p_©_b¬r›r
 &ğ~
©_b¬r›r
;

3047 
	}
}

3050 
boŞ
 
	gb¬r›r_£t_t
::
	$w¬p_wa™šg_©_b¬r›r
Ğ
w¬p_id
 ) const

3052  
m_w¬p_©_b¬r›r
.
	`‹¡
(
w¬p_id
);

3053 
	}
}

3055 
	gb¬r›r_£t_t
::
	$dump
() const

3057 
	`´štf
( "barrier set information\n");

3058 
	`´štf
Ğ" m_max_ùa_³r_cÜğ%u\n", 
m_max_ùa_³r_cÜe
 );

3059 
	`´štf
Ğ" m_max_w¬ps_³r_cÜğ%u\n", 
m_max_w¬ps_³r_cÜe
 );

3060 
	`´štf
( " cta_to_warps:\n");

3062 
ùa_to_w¬p_t
::
cÚ¡_™”©Ü
 
i
;

3063  
i
=
m_ùa_to_w¬ps
.
	`begš
(); i!=m_ùa_to_w¬ps.
	`’d
(); i++ ) {

3064 
ùa_id
 = 
i
->
fœ¡
;

3065 
w¬p_£t_t
 
w¬ps
 = 
i
->
£cÚd
;

3066 
	`´štf
(" c_id %u : %s\n", 
ùa_id
, 
w¬ps
.
	`to_¡ršg
().
	`c_¡r
() );

3068 
	`´štf
(" w¬p_aùive: %s\n", 
m_w¬p_aùive
.
	`to_¡ršg
().
	`c_¡r
() );

3069 
	`´štf
(" w¬p_©_b¬r›r: %s\n", 
m_w¬p_©_b¬r›r
.
	`to_¡ršg
().
	`c_¡r
() );

3070 
	`fæush
(
¡dout
);

3071 
	}
}

3073 
	gshad”_cÜe_ùx
::
	$w¬p_ex™
Ğ
w¬p_id
 )

3075 
boŞ
 
dÚe
 = 
Œue
;

3076  
i
 = 
w¬p_id
*
	`g‘_cÚfig
()->
w¬p_size
;

3077 
i
 < (
w¬p_id
+1)*
	`g‘_cÚfig
()->
w¬p_size
;

3078 
i
++ ) {

3085 ià(
m_th»ad
[
i
] && !m_th»ad[i]->
	`is_dÚe
()è
dÚe
 = 
çl£
;

3089 ià(
dÚe
)

3090 
m_b¬r›rs
.
	`w¬p_ex™
Ğ
w¬p_id
 );

3091 
	}
}

3093 
boŞ
 
	gshad”_cÜe_ùx
::
	$w¬p_wa™šg_©_b¬r›r
Ğ
w¬p_id
 ) const

3095  
m_b¬r›rs
.
	`w¬p_wa™šg_©_b¬r›r
(
w¬p_id
);

3096 
	}
}

3098 
boŞ
 
	gshad”_cÜe_ùx
::
	$w¬p_wa™šg_©_mem_b¬r›r
Ğ
w¬p_id
 )

3100 ifĞ!
m_w¬p
[
w¬p_id
].
	`g‘_memb¬
() )

3101  
çl£
;

3102 ifĞ!
m_scÜebßrd
->
	`³ndšgWr™es
(
w¬p_id
) ) {

3103 
m_w¬p
[
w¬p_id
].
	`ş—r_memb¬
();

3104  
çl£
;

3106  
Œue
;

3107 
	}
}

3109 
	gshad”_cÜe_ùx
::
	$£t_max_ùa
ĞcÚ¡ 
k”Ãl_šfo_t
 &
k”Ãl
 )

3112 
k”Ãl_max_ùa_³r_shad”
 = 
m_cÚfig
->
	`max_ùa
(
k”Ãl
);

3113 
gpu_ùa_size
 = 
k”Ãl
.
	`th»ads_³r_ùa
();

3114 
k”Ãl_·dded_th»ads_³r_ùa
 = (
gpu_ùa_size
%
m_cÚfig
->
w¬p_size
) ?

3115 
m_cÚfig
->
w¬p_size
*((
gpu_ùa_size
/m_config->warp_size)+1) :

3116 
gpu_ùa_size
;

3117 
	}
}

3119 
	gshad”_cÜe_ùx
::
	$deüem’t_©omic_couÁ
Ğ
wid
, 
n
 )

3121 
	`as£¹
Ğ
m_w¬p
[
wid
].
	`g‘_n_©omic
(è>ğ
n
 );

3122 
m_w¬p
[
wid
].
	`dec_n_©omic
(
n
);

3123 
	}
}

3126 
boŞ
 
	gshad”_cÜe_ùx
::
	$ãtch_un™_»¥Ú£_bufãr_fuÎ
() const

3128  
çl£
;

3129 
	}
}

3131 
	gshad”_cÜe_ùx
::
	$acû±_ãtch_»¥Ú£
Ğ
mem_ãtch
 *
mf
 )

3133 
mf
->
	`£t_¡©us
(
IN_SHADER_FETCHED
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

3134 
m_L1I
->
	`fl
(
mf
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

3135 
	}
}

3137 
boŞ
 
	gshad”_cÜe_ùx
::
	$ld¡_un™_»¥Ú£_bufãr_fuÎ
() const

3139  
m_ld¡_un™
->
	`»¥Ú£_bufãr_fuÎ
();

3140 
	}
}

3142 
	gshad”_cÜe_ùx
::
	$acû±_ld¡_un™_»¥Ú£
(
mem_ãtch
 * 
mf
)

3144 
m_ld¡_un™
->
	`fl
(
mf
);

3145 
	}
}

3147 
	gshad”_cÜe_ùx
::
	$¡Üe_ack
Ğ
şass
 
mem_ãtch
 *
mf
 )

3149 
	`as£¹
Ğ
mf
->
	`g‘_ty³
(è=ğ
WRITE_ACK
 || ( 
m_cÚfig
->
gpgpu_³rãù_mem
 && mf->
	`g‘_is_wr™e
() ) );

3150 
w¬p_id
 = 
mf
->
	`g‘_wid
();

3151 
m_w¬p
[
w¬p_id
].
	`dec_¡Üe_»q
();

3152 
	}
}

3154 
	gshad”_cÜe_ùx
::
	$´št_ÿche_¡©s
Ğ
FILE
 *
å
, & 
dl1_acûs£s
, & 
dl1_mis£s
 ) {

3155 
m_ld¡_un™
->
	`´št_ÿche_¡©s
Ğ
å
, 
dl1_acûs£s
, 
dl1_mis£s
 );

3156 
	}
}

3158 
	gshad”_cÜe_ùx
::
	$g‘_ÿche_¡©s
(
ÿche_¡©s
 &
cs
){

3160 
cs
 +ğ
m_L1I
->
	`g‘_¡©s
();

3161 
m_ld¡_un™
->
	`g‘_ÿche_¡©s
(
cs
);

3162 
	}
}

3164 
	gshad”_cÜe_ùx
::
	$g‘_L1I_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const{

3165 if(
m_L1I
)

3166 
m_L1I
->
	`g‘_sub_¡©s
(
css
);

3167 
	}
}

3168 
	gshad”_cÜe_ùx
::
	$g‘_L1D_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const{

3169 
m_ld¡_un™
->
	`g‘_L1D_sub_¡©s
(
css
);

3170 
	}
}

3171 
	gshad”_cÜe_ùx
::
	$g‘_L1C_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const{

3172 
m_ld¡_un™
->
	`g‘_L1C_sub_¡©s
(
css
);

3173 
	}
}

3174 
	gshad”_cÜe_ùx
::
	$g‘_L1T_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const{

3175 
m_ld¡_un™
->
	`g‘_L1T_sub_¡©s
(
css
);

3176 
	}
}

3178 
	gshad”_cÜe_ùx
::
	$g‘_iút_pow”_¡©s
(&
n_simt_to_mem
, &
n_mem_to_simt
) const{

3179 
n_simt_to_mem
 +ğ
m_¡©s
->n_simt_to_mem[
m_sid
];

3180 
n_mem_to_simt
 +ğ
m_¡©s
->n_mem_to_simt[
m_sid
];

3181 
	}
}

3183 
boŞ
 
	gshd_w¬p_t
::
	$funùiÚ®_dÚe
() const

3185  
	`g‘_n_com¶‘ed
(è=ğ
m_w¬p_size
;

3186 
	}
}

3188 
boŞ
 
	gshd_w¬p_t
::
	$h¬dw¬e_dÚe
() const

3190  
	`funùiÚ®_dÚe
(è&& 
	`¡Ües_dÚe
(è&& !
	`š¡_š_p–še
();

3191 
	}
}

3193 
boŞ
 
	gshd_w¬p_t
::
	$wa™šg
()

3195 iàĞ
	`funùiÚ®_dÚe
() ) {

3197  
Œue
;

3198 } iàĞ
m_shad”
->
	`w¬p_wa™šg_©_b¬r›r
(
m_w¬p_id
) ) {

3200  
Œue
;

3201 } iàĞ
m_shad”
->
	`w¬p_wa™šg_©_mem_b¬r›r
(
m_w¬p_id
) ) {

3203  
Œue
;

3204 } iàĞ
m_n_©omic
 >0 ) {

3210  
Œue
;

3212  
çl£
;

3213 
	}
}

3215 
	gshd_w¬p_t
::
	$´št
Ğ
FILE
 *
fout
 ) const

3217 ifĞ!
	`dÚe_ex™
() ) {

3218 
	`årštf
Ğ
fout
, "w%02u‚pc: 0x%04x, done:%c%c%c%c:%2u i:%u s:%u‡:%u (done: ",

3219 
m_w¬p_id
,

3220 
m_Ãxt_pc
,

3221 (
	`funùiÚ®_dÚe
()?'f':' '),

3222 (
	`¡Ües_dÚe
()?'s':' '),

3223 (
	`š¡_š_p–še
()?' ':'i'),

3224 (
	`dÚe_ex™
()?'e':' '),

3225 
n_com¶‘ed
,

3226 
m_š¡_š_p–še
,

3227 
m_¡Ües_out¡ªdšg
,

3228 
m_n_©omic
 );

3229 
i
 = 
m_w¬p_id
*
m_w¬p_size
; i < (m_warp_id+1)*m_warp_size; i++ ) {

3230 iàĞ
m_shad”
->
	`±x_th»ad_dÚe
(
i
èè
	`årštf
(
fout
,"1");

3231 
	`årštf
(
fout
,"0");

3232 iàĞ(((
i
+1)%4è=ğ0è&& (i+1è< (
m_w¬p_id
+1)*
m_w¬p_size
 )

3233 
	`årštf
(
fout
,",");

3235 
	`årštf
(
fout
,") ");

3236 
	`årštf
(
fout
,"‡ùive=%s", 
m_aùive_th»ads
.
	`to_¡ršg
().
	`c_¡r
() );

3237 
	`årštf
(
fout
,"†a¡ f‘ched @ %5Îu", 
m_Ï¡_ãtch
);

3238 ifĞ
m_imiss_³ndšg
 )

3239 
	`årštf
(
fout
," i-miss…ending");

3240 
	`årštf
(
fout
,"\n");

3242 
	}
}

3244 
	gshd_w¬p_t
::
	$´št_ibufãr
Ğ
FILE
 *
fout
 ) const

3246 
	`årštf
(
fout
," ibufãr[%2u] : ", 
m_w¬p_id
 );

3247  
i
=0; i < 
IBUFFER_SIZE
; i++) {

3248 cÚ¡ 
š¡_t
 *
š¡
 = 
m_ibufãr
[
i
].
m_š¡
;

3249 ifĞ
š¡
 ) in¡->
	`´št_š¢
(
fout
);

3250 ifĞ
m_ibufãr
[
i
].
m_v®id
 )

3251 
	`årštf
(
fout
," <invalid instruction> ");

3252 
	`årštf
(
fout
," <empty> ");

3254 
	`årštf
(
fout
,"\n");

3255 
	}
}

3257 
	gİndcŞl_rfu_t
::
	$add_cu_£t
(
£t_id
, 
num_cu
, 
num_di¥©ch
){

3258 
m_cus
[
£t_id
].
	`»£rve
(
num_cu
);

3259 
i
 = 0; i < 
num_cu
; i++) {

3260 
m_cus
[
£t_id
].
	`push_back
(
	`cŞËùÜ_un™_t
());

3261 
m_cu
.
	`push_back
(&
m_cus
[
£t_id
].
	`back
());

3264 
i
 = 0; i < 
num_di¥©ch
; i++) {

3265 
m_di¥©ch_un™s
.
	`push_back
(
	`di¥©ch_un™_t
(&
m_cus
[
£t_id
]));

3267 
	}
}

3270 
	gİndcŞl_rfu_t
::
	$add_pÜt
(
pÜt_veùÜ_t
 & 
šput
,…Üt_veùÜ_ˆ& 
ouut
, 
ušt_veùÜ_t
 
cu_£ts
)

3280 
m_š_pÜts
.
	`push_back
(
	`šput_pÜt_t
(
šput
,
ouut
,
cu_£ts
));

3281 
	}
}

3283 
	gİndcŞl_rfu_t
::
	$š™
Ğ
num_bªks
, 
shad”_cÜe_ùx
 *
shad”
 )

3285 
m_shad”
=
shad”
;

3286 
m_¬b™”
.
	`š™
(
m_cu
.
	`size
(),
num_bªks
);

3289 
m_num_bªks
 = 
num_bªks
;

3290 
m_bªk_w¬p_shiá
 = 0;

3291 
m_w¬p_size
 = 
shad”
->
	`g‘_cÚfig
()->
w¬p_size
;

3292 
m_bªk_w¬p_shiá
 = ()(è(
	`log
(
m_w¬p_size
+0.5) /†og(2.0));

3293 
	`as£¹
Ğ(
m_bªk_w¬p_shiá
 =ğ5è|| (
m_w¬p_size
 != 32) );

3295  
j
=0; j<
m_cu
.
	`size
(); j++) {

3296 
m_cu
[
j
]->
	`š™
(j,
num_bªks
,
m_bªk_w¬p_shiá
,
shad”
->
	`g‘_cÚfig
(),
this
);

3298 
m_š™Ÿlized
=
Œue
;

3299 
	}
}

3301 
	$»gi¡”_bªk
(
»gnum
, 
wid
, 
num_bªks
, 
bªk_w¬p_shiá
)

3303 
bªk
 = 
»gnum
;

3304 ià(
bªk_w¬p_shiá
)

3305 
bªk
 +ğ
wid
;

3306  
bªk
 % 
num_bªks
;

3307 
	}
}

3309 
boŞ
 
	gİndcŞl_rfu_t
::
	$wr™eback
ĞcÚ¡ 
w¬p_š¡_t
 &
š¡
 )

3311 
	`as£¹
Ğ!
š¡
.
	`em±y
() );

3312 
¡d
::
li¡
<> 
»gs
 = 
m_shad”
->
	`g‘_»gs_wr™‹n
(
š¡
);

3313 
¡d
::
li¡
<>::
™”©Ü
 
r
;

3314 
n
=0;

3315  
r
=
»gs
.
	`begš
();„!ôegs.
	`’d
();r++,
n
++ ) {

3316 
»g
 = *
r
;

3317 
bªk
 = 
	`»gi¡”_bªk
(
»g
,
š¡
.
	`w¬p_id
(),
m_num_bªks
,
m_bªk_w¬p_shiá
);

3318 ifĞ
m_¬b™”
.
	`bªk_idË
(
bªk
) ) {

3319 
m_¬b™”
.
	`®loÿ‹_bªk_fÜ_wr™e
(
bªk
,
	`İ_t
(&
š¡
,
»g
,
m_num_bªks
,
m_bªk_w¬p_shiá
));

3321  
çl£
;

3324 
i
=0;i<()
»gs
.
	`size
();i++){

3325 if(
m_shad”
->
	`g‘_cÚfig
()->
gpgpu_şock_g©ed_»g_fe
){

3326 
aùive_couÁ
=0;

3327 
i
=0;i<
m_shad”
->
	`g‘_cÚfig
()->
w¬p_size
;i=i+m_shad”->g‘_cÚfig()->
n_»gfe_g©šg_group
){

3328 
j
=0;j<
m_shad”
->
	`g‘_cÚfig
()->
n_»gfe_g©šg_group
;j++){

3329 if(
š¡
.
	`g‘_aùive_mask
().
	`‹¡
(
i
+
j
)){

3330 
aùive_couÁ
+=
m_shad”
->
	`g‘_cÚfig
()->
n_»gfe_g©šg_group
;

3335 
m_shad”
->
	`šüegfe_wr™es
(
aùive_couÁ
);

3337 
m_shad”
->
	`šüegfe_wr™es
(m_shad”->
	`g‘_cÚfig
()->
w¬p_size
);

3340  
Œue
;

3341 
	}
}

3343 
	gİndcŞl_rfu_t
::
	$di¥©ch_»ady_cu
()

3345  
p
=0;… < 
m_di¥©ch_un™s
.
	`size
(); ++p ) {

3346 
di¥©ch_un™_t
 &
du
 = 
m_di¥©ch_un™s
[
p
];

3347 
cŞËùÜ_un™_t
 *
cu
 = 
du
.
	`fšd_»ady
();

3348 ifĞ
cu
 ) {

3349 
i
=0;i<(
cu
->
	`g‘_num_İ”ªds
()-cu->
	`g‘_num_»gs
());i++){

3350 if(
m_shad”
->
	`g‘_cÚfig
()->
gpgpu_şock_g©ed_»g_fe
){

3351 
aùive_couÁ
=0;

3352 
i
=0;i<
m_shad”
->
	`g‘_cÚfig
()->
w¬p_size
;i=i+m_shad”->g‘_cÚfig()->
n_»gfe_g©šg_group
){

3353 
j
=0;j<
m_shad”
->
	`g‘_cÚfig
()->
n_»gfe_g©šg_group
;j++){

3354 if(
cu
->
	`g‘_aùive_mask
().
	`‹¡
(
i
+
j
)){

3355 
aùive_couÁ
+=
m_shad”
->
	`g‘_cÚfig
()->
n_»gfe_g©šg_group
;

3360 
m_shad”
->
	`šúÚ_rf_İ”ªds
(
aùive_couÁ
);

3362 
m_shad”
->
	`šúÚ_rf_İ”ªds
(m_shad”->
	`g‘_cÚfig
()->
w¬p_size
);

3365 
cu
->
	`di¥©ch
();

3368 
	}
}

3370 
	gİndcŞl_rfu_t
::
	$®loÿ‹_cu
Ğ
pÜt_num
 )

3372 
šput_pÜt_t
& 
šp
 = 
m_š_pÜts
[
pÜt_num
];

3373 
i
 = 0; i < 
šp
.
m_š
.
	`size
(); i++) {

3374 ifĞ(*
šp
.
m_š
[
i
]).
	`has_»ady
() ) {

3376 
j
 = 0; j < 
šp
.
m_cu_£ts
.
	`size
(); j++) {

3377 
¡d
::
veùÜ
<
cŞËùÜ_un™_t
> & 
cu_£t
 = 
m_cus
[
šp
.
m_cu_£ts
[
j
]];

3378 
boŞ
 
®loÿ‹d
 = 
çl£
;

3379 
k
 = 0; k < 
cu_£t
.
	`size
(); k++) {

3380 if(
cu_£t
[
k
].
	`is_ä“
()) {

3381 
cŞËùÜ_un™_t
 *
cu
 = &
cu_£t
[
k
];

3382 
®loÿ‹d
 = 
cu
->
	`®loÿ‹
(
šp
.
m_š
[
i
],šp.
m_out
[i]);

3383 
m_¬b™”
.
	`add_»ad_»que¡s
(
cu
);

3387 ià(
®loÿ‹d
) ;

3392 
	}
}

3394 
	gİndcŞl_rfu_t
::
	$®loÿ‹_»ads
()

3397 
¡d
::
li¡
<
İ_t
> 
®loÿ‹d
 = 
m_¬b™”
.
	`®loÿ‹_»ads
();

3398 
¡d
::
m­
<,
İ_t
> 
»ad_İs
;

3399  
¡d
::
li¡
<
İ_t
>::
™”©Ü
 
r
=
®loÿ‹d
.
	`begš
();„!÷Îoÿ‹d.
	`’d
();„++ ) {

3400 cÚ¡ 
İ_t
 &
¼
 = *
r
;

3401 
»g
 = 
¼
.
	`g‘_»g
();

3402 
wid
 = 
¼
.
	`g‘_wid
();

3403 
bªk
 = 
	`»gi¡”_bªk
(
»g
,
wid
,
m_num_bªks
,
m_bªk_w¬p_shiá
);

3404 
m_¬b™”
.
	`®loÿ‹_fÜ_»ad
(
bªk
,
¼
);

3405 
»ad_İs
[
bªk
] = 
¼
;

3407 
¡d
::
m­
<,
İ_t
>::
™”©Ü
 
r
;

3408 
r
=
»ad_İs
.
	`begš
();r!ô—d_İs.
	`’d
();++r ) {

3409 
İ_t
 &
İ
 = 
r
->
£cÚd
;

3410 
cu
 = 
İ
.
	`g‘_oc_id
();

3411 
İ”ªd
 = 
İ
.
	`g‘_İ”ªd
();

3412 
m_cu
[
cu
]->
	`cŞËù_İ”ªd
(
İ”ªd
);

3413 if(
m_shad”
->
	`g‘_cÚfig
()->
gpgpu_şock_g©ed_»g_fe
){

3414 
aùive_couÁ
=0;

3415 
i
=0;i<
m_shad”
->
	`g‘_cÚfig
()->
w¬p_size
;i=i+m_shad”->g‘_cÚfig()->
n_»gfe_g©šg_group
){

3416 
j
=0;j<
m_shad”
->
	`g‘_cÚfig
()->
n_»gfe_g©šg_group
;j++){

3417 if(
İ
.
	`g‘_aùive_mask
().
	`‹¡
(
i
+
j
)){

3418 
aùive_couÁ
+=
m_shad”
->
	`g‘_cÚfig
()->
n_»gfe_g©šg_group
;

3423 
m_shad”
->
	`šüegfe_»ads
(
aùive_couÁ
);

3425 
m_shad”
->
	`šüegfe_»ads
(m_shad”->
	`g‘_cÚfig
()->
w¬p_size
);

3428 
	}
}

3430 
boŞ
 
	gİndcŞl_rfu_t
::
cŞËùÜ_un™_t
::
	$»ady
() const

3432  (!
m_ä“
è&& 
m_nÙ_»ady
.
	`nÚe
(è&& (*
m_ouut_»gi¡”
).
	`has_ä“
();

3433 
	}
}

3435 
	gİndcŞl_rfu_t
::
cŞËùÜ_un™_t
::
	$dump
(
FILE
 *
å
, cÚ¡ 
shad”_cÜe_ùx
 *
shad”
 ) const

3437 ifĞ
m_ä“
 ) {

3438 
	`årštf
(
å
," <free>\n");

3440 
m_w¬p
->
	`´št
(
å
);

3441  
i
=0; i < 
MAX_REG_OPERANDS
*2; i++ ) {

3442 ifĞ
m_nÙ_»ady
.
	`‹¡
(
i
) ) {

3443 
¡d
::
¡ršg
 
r
 = 
m_¤c_İ
[
i
].
	`g‘_»g_¡ršg
();

3444 
	`årštf
(
å
," '%s'‚Ù„—dy\n", 
r
.
	`c_¡r
() );

3448 
	}
}

3450 
	gİndcŞl_rfu_t
::
cŞËùÜ_un™_t
::
	$š™
Ğ
n
,

3451 
num_bªks
,

3452 
log2_w¬p_size
,

3453 cÚ¡ 
cÜe_cÚfig
 *
cÚfig
,

3454 
İndcŞl_rfu_t
 *
rfu
 )

3456 
m_rfu
=
rfu
;

3457 
m_cuid
=
n
;

3458 
m_num_bªks
=
num_bªks
;

3459 
	`as£¹
(
m_w¬p
==
NULL
);

3460 
m_w¬p
 = 
Ãw
 
	`w¬p_š¡_t
(
cÚfig
);

3461 
m_bªk_w¬p_shiá
=
log2_w¬p_size
;

3462 
	}
}

3464 
boŞ
 
	gİndcŞl_rfu_t
::
cŞËùÜ_un™_t
::
	$®loÿ‹
Ğ
»gi¡”_£t
* 
p–še_»g_£t
,„egi¡”_£t* 
ouut_»g_£t
 )

3466 
	`as£¹
(
m_ä“
);

3467 
	`as£¹
(
m_nÙ_»ady
.
	`nÚe
());

3468 
m_ä“
 = 
çl£
;

3469 
m_ouut_»gi¡”
 = 
ouut_»g_£t
;

3470 
w¬p_š¡_t
 **
p–še_»g
 = 
p–še_»g_£t
->
	`g‘_»ady
();

3471 ifĞ(
p–še_»g
è
ªd
 !((*p–še_»g)->
	`em±y
()) ) {

3472 
m_w¬p_id
 = (*
p–še_»g
)->
	`w¬p_id
();

3473  
İ
=0; o°< 
MAX_REG_OPERANDS
; op++ ) {

3474 
»g_num
 = (*
p–še_»g
)->
¬ch_»g
.
¤c
[
İ
];

3475 ifĞ
»g_num
 >= 0 ) {

3476 
m_¤c_İ
[
İ
] = 
	`İ_t
Ğ
this
, op, 
»g_num
, 
m_num_bªks
, 
m_bªk_w¬p_shiá
 );

3477 
m_nÙ_»ady
.
	`£t
(
İ
);

3479 
m_¤c_İ
[
İ
] = 
	`İ_t
();

3482 
p–še_»g_£t
->
	`move_out_to
(
m_w¬p
);

3483  
Œue
;

3485  
çl£
;

3486 
	}
}

3488 
	gİndcŞl_rfu_t
::
cŞËùÜ_un™_t
::
	$di¥©ch
()

3490 
	`as£¹
Ğ
m_nÙ_»ady
.
	`nÚe
() );

3492 
m_ouut_»gi¡”
->
	`move_š
(
m_w¬p
);

3493 
m_ä“
=
Œue
;

3494 
m_ouut_»gi¡”
 = 
NULL
;

3495  
i
=0; i<
MAX_REG_OPERANDS
*2;i++)

3496 
m_¤c_İ
[
i
].
	`»£t
();

3497 
	}
}

3499 
	gsimt_cÜe_şu¡”
::
	$simt_cÜe_şu¡”
Ğ
şass
 
gpgpu_sim
 *
gpu
,

3500 
şu¡”_id
,

3501 cÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
,

3502 cÚ¡ 
memÜy_cÚfig
 *
mem_cÚfig
,

3503 
shad”_cÜe_¡©s
 *
¡©s
,

3504 
şass
 
memÜy_¡©s_t
 *
m¡©s
 )

3506 
m_cÚfig
 = 
cÚfig
;

3507 
m_ùa_issue_Ãxt_cÜe
=
m_cÚfig
->
n_simt_cÜes_³r_şu¡”
-1;

3508 
m_şu¡”_id
=
şu¡”_id
;

3509 
m_gpu
 = 
gpu
;

3510 
m_¡©s
 = 
¡©s
;

3511 
m_memÜy_¡©s
 = 
m¡©s
;

3512 
m_cÜe
 = 
Ãw
 
shad”_cÜe_ùx
*[ 
cÚfig
->
n_simt_cÜes_³r_şu¡”
 ];

3513  
i
=0; i < 
cÚfig
->
n_simt_cÜes_³r_şu¡”
; i++ ) {

3514 
sid
 = 
m_cÚfig
->
	`cid_to_sid
(
i
,
m_şu¡”_id
);

3515 
m_cÜe
[
i
] = 
Ãw
 
	`shad”_cÜe_ùx
(
gpu
,
this
,
sid
,
m_şu¡”_id
,
cÚfig
,
mem_cÚfig
,
¡©s
);

3516 
m_cÜe_sim_Üd”
.
	`push_back
(
i
);

3518 
	}
}

3520 
	gsimt_cÜe_şu¡”
::
	$cÜe_cyşe
()

3522  
¡d
::
li¡
<>::
™”©Ü
 
™
 = 
m_cÜe_sim_Üd”
.
	`begš
(); iˆ!ğm_cÜe_sim_Üd”.
	`’d
(); ++it ) {

3523 
m_cÜe
[*
™
]->
	`cyşe
();

3526 ià(
m_cÚfig
->
simt_cÜe_sim_Üd”
 == 1) {

3527 
m_cÜe_sim_Üd”
.
	`¥liû
(m_cÜe_sim_Üd”.
	`’d
(), m_cÜe_sim_Üd”, m_cÜe_sim_Üd”.
	`begš
());

3529 
	}
}

3531 
	gsimt_cÜe_şu¡”
::
	$»š™
()

3533  
i
=0; i < 
m_cÚfig
->
n_simt_cÜes_³r_şu¡”
; i++ )

3534 
m_cÜe
[
i
]->
	`»š™
(0,
m_cÚfig
->
n_th»ad_³r_shad”
,
Œue
);

3535 
	}
}

3537 
	gsimt_cÜe_şu¡”
::
	$max_ùa
ĞcÚ¡ 
k”Ãl_šfo_t
 &
k”Ãl
 )

3539  
m_cÚfig
->
n_simt_cÜes_³r_şu¡”
 * m_cÚfig->
	`max_ùa
(
k”Ãl
);

3540 
	}
}

3542 
	gsimt_cÜe_şu¡”
::
	$g‘_nÙ_com¶‘ed
() const

3544 
nÙ_com¶‘ed
=0;

3545  
i
=0; i < 
m_cÚfig
->
n_simt_cÜes_³r_şu¡”
; i++ )

3546 
nÙ_com¶‘ed
 +ğ
m_cÜe
[
i
]->
	`g‘_nÙ_com¶‘ed
();

3547  
nÙ_com¶‘ed
;

3548 
	}
}

3550 
	gsimt_cÜe_şu¡”
::
	$´št_nÙ_com¶‘ed
Ğ
FILE
 *
å
 ) const

3552  
i
=0; i < 
m_cÚfig
->
n_simt_cÜes_³r_şu¡”
; i++ ) {

3553 
nÙ_com¶‘ed
=
m_cÜe
[
i
]->
	`g‘_nÙ_com¶‘ed
();

3554 
sid
=
m_cÚfig
->
	`cid_to_sid
(
i
,
m_şu¡”_id
);

3555 
	`årštf
(
å
,"%u(%uè", 
sid
, 
nÙ_com¶‘ed
 );

3557 
	}
}

3559 
	gsimt_cÜe_şu¡”
::
	$g‘_n_aùive_ùa
() const

3561 
n
=0;

3562  
i
=0; i < 
m_cÚfig
->
n_simt_cÜes_³r_şu¡”
; i++ )

3563 
n
 +ğ
m_cÜe
[
i
]->
	`g‘_n_aùive_ùa
();

3564  
n
;

3565 
	}
}

3567 
	gsimt_cÜe_şu¡”
::
	$g‘_n_aùive_sms
() const

3569 
n
=0;

3570  
i
=0; i < 
m_cÚfig
->
n_simt_cÜes_³r_şu¡”
; i++ )

3571 
n
 +ğ
m_cÜe
[
i
]->
	`i§ùive
();

3572  
n
;

3573 
	}
}

3575 
	gsimt_cÜe_şu¡”
::
	$issue_block2cÜe
()

3577 
num_blocks_issued
=0;

3578  
i
=0; i < 
m_cÚfig
->
n_simt_cÜes_³r_şu¡”
; i++ ) {

3579 
cÜe
 = (
i
+
m_ùa_issue_Ãxt_cÜe
+1)%
m_cÚfig
->
n_simt_cÜes_³r_şu¡”
;

3580 ifĞ
m_cÜe
[
cÜe
]->
	`g‘_nÙ_com¶‘ed
() == 0 ) {

3581 ifĞ
m_cÜe
[
cÜe
]->
	`g‘_k”Ãl
(è=ğ
NULL
 ) {

3582 
k”Ãl_šfo_t
 *
k
 = 
m_gpu
->
	`£Ëù_k”Ãl
();

3583 ifĞ
k
 )

3584 
m_cÜe
[
cÜe
]->
	`£t_k”Ãl
(
k
);

3587 
k”Ãl_šfo_t
 *
k”Ãl
 = 
m_cÜe
[
cÜe
]->
	`g‘_k”Ãl
();

3588 ifĞ
k”Ãl
 && !k”Ãl->
	`no_mÜe_ùas_to_run
(è&& (
m_cÜe
[
cÜe
]->
	`g‘_n_aùive_ùa
(è< 
m_cÚfig
->
	`max_ùa
(*kernel)) ) {

3589 
m_cÜe
[
cÜe
]->
	`issue_block2cÜe
(*
k”Ãl
);

3590 
num_blocks_issued
++;

3591 
m_ùa_issue_Ãxt_cÜe
=
cÜe
;

3595  
num_blocks_issued
;

3596 
	}
}

3598 
	gsimt_cÜe_şu¡”
::
	$ÿche_æush
()

3600  
i
=0; i < 
m_cÚfig
->
n_simt_cÜes_³r_şu¡”
; i++ )

3601 
m_cÜe
[
i
]->
	`ÿche_æush
();

3602 
	}
}

3604 
boŞ
 
	gsimt_cÜe_şu¡”
::
	$iút_šjeùiÚ_bufãr_fuÎ
(
size
, 
boŞ
 
wr™e
)

3606 
»que¡_size
 = 
size
;

3607 ià(!
wr™e
)

3608 
»que¡_size
 = 
READ_PACKET_SIZE
;

3609  ! ::
	`iút_has_bufãr
(
m_şu¡”_id
, 
»que¡_size
);

3610 
	}
}

3612 
	gsimt_cÜe_şu¡”
::
	$iút_šjeù_»que¡_·ck‘
(
şass
 
mem_ãtch
 *
mf
)

3615 ià(
mf
->
	`g‘_is_wr™e
()è
m_¡©s
->
made_wr™e_mfs
++;

3616 
m_¡©s
->
made_»ad_mfs
++;

3617 
mf
->
	`g‘_acûss_ty³
()) {

3618 
CONST_ACC_R
: 
m_¡©s
->
gpgpu_n_mem_cÚ¡
++; ;

3619 
TEXTURE_ACC_R
: 
m_¡©s
->
gpgpu_n_mem_‹xtu»
++; ;

3620 
GLOBAL_ACC_R
: 
m_¡©s
->
gpgpu_n_mem_»ad_glob®
++; ;

3621 
GLOBAL_ACC_W
: 
m_¡©s
->
gpgpu_n_mem_wr™e_glob®
++; ;

3622 
LOCAL_ACC_R
: 
m_¡©s
->
gpgpu_n_mem_»ad_loÿl
++; ;

3623 
LOCAL_ACC_W
: 
m_¡©s
->
gpgpu_n_mem_wr™e_loÿl
++; ;

3624 
INST_ACC_R
: 
m_¡©s
->
gpgpu_n_mem_»ad_š¡
++; ;

3625 
L1_WRBK_ACC
: 
m_¡©s
->
gpgpu_n_mem_wr™e_glob®
++; ;

3626 
L2_WRBK_ACC
: 
m_¡©s
->
gpgpu_n_mem_l2_wr™eback
++; ;

3627 
L1_WR_ALLOC_R
: 
m_¡©s
->
gpgpu_n_mem_l1_wr™e_®loÿ‹
++; ;

3628 
L2_WR_ALLOC_R
: 
m_¡©s
->
gpgpu_n_mem_l2_wr™e_®loÿ‹
++; ;

3629 : 
	`as£¹
(0);

3635 
·ck‘_size
 = 
mf
->
	`size
();

3636 ià(!
mf
->
	`g‘_is_wr™e
(è&& !mf->
	`i§tomic
()) {

3637 
·ck‘_size
 = 
mf
->
	`g‘_ù¾_size
();

3639 
m_¡©s
->
m_outgošg_Œaffic_¡©s
->
	`»cÜd_Œaffic
(
mf
, 
·ck‘_size
);

3640 
de¡š©iÚ
 = 
mf
->
	`g‘_sub_·¹™iÚ_id
();

3641 
mf
->
	`£t_¡©us
(
IN_ICNT_TO_MEM
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

3642 ià(!
mf
->
	`g‘_is_wr™e
(è&& !mf->
	`i§tomic
())

3643 ::
	`iút_push
(
m_şu¡”_id
, 
m_cÚfig
->
	`mem2deviû
(
de¡š©iÚ
), (*)
mf
, mf->
	`g‘_ù¾_size
() );

3645 ::
	`iút_push
(
m_şu¡”_id
, 
m_cÚfig
->
	`mem2deviû
(
de¡š©iÚ
), (*)
mf
, mf->
	`size
());

3646 
	}
}

3648 
	gsimt_cÜe_şu¡”
::
	$iút_cyşe
()

3650 ifĞ!
m_»¥Ú£_fifo
.
	`em±y
() ) {

3651 
mem_ãtch
 *
mf
 = 
m_»¥Ú£_fifo
.
	`äÚt
();

3652 
cid
 = 
m_cÚfig
->
	`sid_to_cid
(
mf
->
	`g‘_sid
());

3653 ifĞ
mf
->
	`g‘_acûss_ty³
(è=ğ
INST_ACC_R
 ) {

3655 ifĞ!
m_cÜe
[
cid
]->
	`ãtch_un™_»¥Ú£_bufãr_fuÎ
() ) {

3656 
m_»¥Ú£_fifo
.
	`pİ_äÚt
();

3657 
m_cÜe
[
cid
]->
	`acû±_ãtch_»¥Ú£
(
mf
);

3661 ifĞ!
m_cÜe
[
cid
]->
	`ld¡_un™_»¥Ú£_bufãr_fuÎ
() ) {

3662 
m_»¥Ú£_fifo
.
	`pİ_äÚt
();

3663 
m_memÜy_¡©s
->
	`memÏt¡©_»ad_dÚe
(
mf
);

3664 
m_cÜe
[
cid
]->
	`acû±_ld¡_un™_»¥Ú£
(
mf
);

3668 ifĞ
m_»¥Ú£_fifo
.
	`size
(è< 
m_cÚfig
->
n_simt_ejeùiÚ_bufãr_size
 ) {

3669 
mem_ãtch
 *
mf
 = (mem_ãtch*è::
	`iút_pİ
(
m_şu¡”_id
);

3670 ià(!
mf
)

3672 
	`as£¹
(
mf
->
	`g‘_c
(è=ğ
m_şu¡”_id
);

3673 
	`as£¹
(
mf
->
	`g‘_ty³
(è=ğ
READ_REPLY
 || mf->g‘_ty³(è=ğ
WRITE_ACK
 );

3678 
·ck‘_size
 = (
mf
->
	`g‘_is_wr™e
())? mf->
	`g‘_ù¾_size
(è: mf->
	`size
();

3679 
m_¡©s
->
m_šcomšg_Œaffic_¡©s
->
	`»cÜd_Œaffic
(
mf
, 
·ck‘_size
);

3680 
mf
->
	`£t_¡©us
(
IN_CLUSTER_TO_SHADER_QUEUE
,
gpu_sim_cyşe
+
gpu_tÙ_sim_cyşe
);

3682 
m_»¥Ú£_fifo
.
	`push_back
(
mf
);

3683 
m_¡©s
->
n_mem_to_simt
[
m_şu¡”_id
] +ğ
mf
->
	`g‘_num_æ™s
(
çl£
);

3685 
	}
}

3687 
	gsimt_cÜe_şu¡”
::
	$g‘_pdom_¡ack_tİ_šfo
Ğ
sid
, 
tid
, *
pc
, *
½c
 ) const

3689 
cid
 = 
m_cÚfig
->
	`sid_to_cid
(
sid
);

3690 
m_cÜe
[
cid
]->
	`g‘_pdom_¡ack_tİ_šfo
(
tid
,
pc
,
½c
);

3691 
	}
}

3693 
	gsimt_cÜe_şu¡”
::
	$di¥Ïy_p–še
Ğ
sid
, 
FILE
 *
fout
, 
´št_mem
, 
mask
 )

3695 
m_cÜe
[
m_cÚfig
->
	`sid_to_cid
(
sid
)]->
	`di¥Ïy_p–še
(
fout
,
´št_mem
,
mask
);

3697 
	`årštf
(
fout
,"\n");

3698 
	`årštf
(
fout
,"Clu¡” %u…–š¡©e\n", 
m_şu¡”_id
 );

3699 
	`årštf
(
fout
,"Re¥Ú£ FIFO (occu·ncy = %zu):\n", 
m_»¥Ú£_fifo
.
	`size
() );

3700  
¡d
::
li¡
<
mem_ãtch
*>::
cÚ¡_™”©Ü
 
i
=
m_»¥Ú£_fifo
.
	`begš
(); i !ğm_»¥Ú£_fifo.
	`’d
(); i++ ) {

3701 cÚ¡ 
mem_ãtch
 *
mf
 = *
i
;

3702 
mf
->
	`´št
(
fout
);

3704 
	}
}

3706 
	gsimt_cÜe_şu¡”
::
	$´št_ÿche_¡©s
Ğ
FILE
 *
å
, & 
dl1_acûs£s
, & 
dl1_mis£s
 ) const {

3707  
i
 = 0; i < 
m_cÚfig
->
n_simt_cÜes_³r_şu¡”
; ++i ) {

3708 
m_cÜe
[ 
i
 ]->
	`´št_ÿche_¡©s
Ğ
å
, 
dl1_acûs£s
, 
dl1_mis£s
 );

3710 
	}
}

3712 
	gsimt_cÜe_şu¡”
::
	$g‘_iút_¡©s
(&
n_simt_to_mem
, &
n_mem_to_simt
) const {

3713 
simt_to_mem
=0;

3714 
mem_to_simt
=0;

3715  
i
 = 0; i < 
m_cÚfig
->
n_simt_cÜes_³r_şu¡”
; ++i ) {

3716 
m_cÜe
[
i
]->
	`g‘_iút_pow”_¡©s
(
simt_to_mem
, 
mem_to_simt
);

3718 
n_simt_to_mem
 = 
simt_to_mem
;

3719 
n_mem_to_simt
 = 
mem_to_simt
;

3720 
	}
}

3722 
	gsimt_cÜe_şu¡”
::
	$g‘_ÿche_¡©s
(
ÿche_¡©s
 &
cs
) const{

3723  
i
 = 0; i < 
m_cÚfig
->
n_simt_cÜes_³r_şu¡”
; ++i ) {

3724 
m_cÜe
[
i
]->
	`g‘_ÿche_¡©s
(
cs
);

3726 
	}
}

3728 
	gsimt_cÜe_şu¡”
::
	$g‘_L1I_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const{

3729 
ÿche_sub_¡©s
 
‹mp_css
;

3730 
ÿche_sub_¡©s
 
tÙ®_css
;

3731 
‹mp_css
.
	`ş—r
();

3732 
tÙ®_css
.
	`ş—r
();

3733  
i
 = 0; i < 
m_cÚfig
->
n_simt_cÜes_³r_şu¡”
; ++i ) {

3734 
m_cÜe
[
i
]->
	`g‘_L1I_sub_¡©s
(
‹mp_css
);

3735 
tÙ®_css
 +ğ
‹mp_css
;

3737 
css
 = 
tÙ®_css
;

3738 
	}
}

3739 
	gsimt_cÜe_şu¡”
::
	$g‘_L1D_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const{

3740 
ÿche_sub_¡©s
 
‹mp_css
;

3741 
ÿche_sub_¡©s
 
tÙ®_css
;

3742 
‹mp_css
.
	`ş—r
();

3743 
tÙ®_css
.
	`ş—r
();

3744  
i
 = 0; i < 
m_cÚfig
->
n_simt_cÜes_³r_şu¡”
; ++i ) {

3745 
m_cÜe
[
i
]->
	`g‘_L1D_sub_¡©s
(
‹mp_css
);

3746 
tÙ®_css
 +ğ
‹mp_css
;

3748 
css
 = 
tÙ®_css
;

3749 
	}
}

3750 
	gsimt_cÜe_şu¡”
::
	$g‘_L1C_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const{

3751 
ÿche_sub_¡©s
 
‹mp_css
;

3752 
ÿche_sub_¡©s
 
tÙ®_css
;

3753 
‹mp_css
.
	`ş—r
();

3754 
tÙ®_css
.
	`ş—r
();

3755  
i
 = 0; i < 
m_cÚfig
->
n_simt_cÜes_³r_şu¡”
; ++i ) {

3756 
m_cÜe
[
i
]->
	`g‘_L1C_sub_¡©s
(
‹mp_css
);

3757 
tÙ®_css
 +ğ
‹mp_css
;

3759 
css
 = 
tÙ®_css
;

3760 
	}
}

3761 
	gsimt_cÜe_şu¡”
::
	$g‘_L1T_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const{

3762 
ÿche_sub_¡©s
 
‹mp_css
;

3763 
ÿche_sub_¡©s
 
tÙ®_css
;

3764 
‹mp_css
.
	`ş—r
();

3765 
tÙ®_css
.
	`ş—r
();

3766  
i
 = 0; i < 
m_cÚfig
->
n_simt_cÜes_³r_şu¡”
; ++i ) {

3767 
m_cÜe
[
i
]->
	`g‘_L1T_sub_¡©s
(
‹mp_css
);

3768 
tÙ®_css
 +ğ
‹mp_css
;

3770 
css
 = 
tÙ®_css
;

3771 
	}
}

3773 
	gshad”_cÜe_ùx
::
	$checkExecutiÚStusAndUpd©e
(
w¬p_š¡_t
 &
š¡
, 
t
, 
tid
)

3775 ifĞ
š¡
.
	`has_ÿÎback
(
t
) )

3776 
m_w¬p
[
š¡
.
	`w¬p_id
()].
	`šc_n_©omic
();

3777 ià(
š¡
.
¥aû
.
	`is_loÿl
(è&& (š¡.
	`is_lßd
(è|| in¡.
	`is_¡Üe
())) {

3778 
Ãw_addr_ty³
 
loÿÏddrs
[
MAX_ACCESSES_PER_INSN_PER_THREAD
];

3779 
num_addrs
;

3780 
num_addrs
 = 
	`Œª¦©e_loÿl_memaddr
(
š¡
.
	`g‘_addr
(
t
), 
tid
, 
m_cÚfig
->
n_simt_şu¡”s
*m_cÚfig->
n_simt_cÜes_³r_şu¡”
,

3781 
š¡
.
d©a_size
, (
Ãw_addr_ty³
*è
loÿÏddrs
 );

3782 
š¡
.
	`£t_addr
(
t
, (
Ãw_addr_ty³
*è
loÿÏddrs
, 
num_addrs
);

3784 iàĞ
	`±x_th»ad_dÚe
(
tid
) ) {

3785 
m_w¬p
[
š¡
.
	`w¬p_id
()].
	`£t_com¶‘ed
(
t
);

3786 
m_w¬p
[
š¡
.
	`w¬p_id
()].
	`ibufãr_æush
();

3790 
w¬p_id
 = 
š¡
.
	`w¬p_id
();

3791 
pc
 = 
š¡
.pc;

3792 
t
 = 0; < 
m_cÚfig
->
w¬p_size
;++) {

3793 ià(
š¡
.
	`aùive
(
t
)) {

3794 
tid
 = 
w¬p_id
 * 
m_cÚfig
->
w¬p_size
 + 
t
;

3795 
	`cæog_upd©e_th»ad_pc
(
m_sid
, 
tid
, 
pc
);

3798 
	}
}

	@shader.h

29 #iâdeà
SHADER_H


30 
	#SHADER_H


	)

32 
	~<¡dio.h
>

33 
	~<¡dlib.h
>

34 
	~<m©h.h
>

35 
	~<as£¹.h
>

36 
	~<m­
>

37 
	~<£t
>

38 
	~<veùÜ
>

39 
	~<li¡
>

40 
	~<b™£t
>

41 
	~<ut™y
>

42 
	~<®gÜ™hm
>

43 
	~<deque
>

47 
	~"d–ayqueue.h
"

48 
	~"¡ack.h
"

49 
	~"d¿m.h
"

50 
	~"../ab¡¿ù_h¬dw¬e_mod–.h
"

51 
	~"scÜebßrd.h
"

52 
	~"mem_ãtch.h
"

53 
	~"¡©s.h
"

54 
	~"gpu-ÿche.h
"

55 
	~"Œaffic_b»akdown.h
"

59 
	#NO_OP_FLAG
 0xFF

	)

66 
	#READ_PACKET_SIZE
 8

	)

69 
	#WRITE_PACKET_SIZE
 8

	)

71 
	#WRITE_MASK_SIZE
 8

	)

74 
	#MAX_CTA_PER_SHADER
 32

	)

76 şas 
	cth»ad_ùx_t
 {

77 
	mpublic
:

78 
m_ùa_id
;

81 
	mn_š¢
;

82 
	mn_š¢_ac
;

83 
	mn_l1_mis_ac
;

84 
	mn_l1_mrgh™_ac
;

85 
	mn_l1_acûss_ac
;

87 
boŞ
 
	mm_aùive
;

90 şas 
	cshd_w¬p_t
 {

91 
	mpublic
:

92 
	$shd_w¬p_t
Ğ
şass
 
shad”_cÜe_ùx
 *
shad”
, 
w¬p_size
)

93 : 
	`m_shad”
(
shad”
), 
	$m_w¬p_size
(
w¬p_size
)

95 
m_¡Ües_out¡ªdšg
=0;

96 
m_š¡_š_p–še
=0;

97 
	`»£t
();

99 
	$»£t
()

101 
	`as£¹
Ğ
m_¡Ües_out¡ªdšg
==0);

102 
	`as£¹
Ğ
m_š¡_š_p–še
==0);

103 
m_imiss_³ndšg
=
çl£
;

104 
m_w¬p_id
=()-1;

105 
m_dyÇmic_w¬p_id
 = ()-1;

106 
n_com¶‘ed
 = 
m_w¬p_size
;

107 
m_n_©omic
=0;

108 
m_memb¬
=
çl£
;

109 
m_dÚe_ex™
=
Œue
;

110 
m_Ï¡_ãtch
=0;

111 
m_Ãxt
=0;

112 
	}
}

113 
š™
Ğ
add»ss_ty³
 
¡¬t_pc
,

114 
ùa_id
,

115 
wid
,

116 cÚ¡ 
¡d
::
b™£t
<
MAX_WARP_SIZE
> &
aùive
,

117 
dyÇmic_w¬p_id
 )

119 
	gm_ùa_id
=
ùa_id
;

120 
	gm_w¬p_id
=
wid
;

121 
	gm_dyÇmic_w¬p_id
=
dyÇmic_w¬p_id
;

122 
	gm_Ãxt_pc
=
¡¬t_pc
;

123 
as£¹
Ğ
n_com¶‘ed
 >ğ
aùive
.
couÁ
() );

124 
as£¹
Ğ
n_com¶‘ed
 <ğ
m_w¬p_size
);

125 
	gn_com¶‘ed
 -ğ
aùive
.
couÁ
();

126 
	gm_aùive_th»ads
 = 
aùive
;

127 
	gm_dÚe_ex™
=
çl£
;

130 
boŞ
 
	$funùiÚ®_dÚe
() const;

131 
boŞ
 
	`wa™šg
();

132 
boŞ
 
	$h¬dw¬e_dÚe
() const;

134 
boŞ
 
	$dÚe_ex™
(ècÚ¡ {  
m_dÚe_ex™
; 
	}
}

135 
	$£t_dÚe_ex™
(è{ 
m_dÚe_ex™
=
Œue
; 
	}
}

137 
	$´št
Ğ
FILE
 *
fout
 ) const;

138 
	$´št_ibufãr
Ğ
FILE
 *
fout
 ) const;

140 
	$g‘_n_com¶‘ed
(ècÚ¡ {  
n_com¶‘ed
; 
	}
}

141 
	$£t_com¶‘ed
Ğ
ÏÃ
 )

143 
	`as£¹
Ğ
m_aùive_th»ads
.
	`‹¡
(
ÏÃ
) );

144 
m_aùive_th»ads
.
	`»£t
(
ÏÃ
);

145 
n_com¶‘ed
++;

146 
	}
}

148 
	$£t_Ï¡_ãtch
Ğ
sim_cyşe
 ) { 
m_Ï¡_ãtch
=sim_cyşe; 
	}
}

150 
	$g‘_n_©omic
(ècÚ¡ {  
m_n_©omic
; 
	}
}

151 
	$šc_n_©omic
(è{ 
m_n_©omic
++; 
	}
}

152 
	$dec_n_©omic
(
n
è{ 
m_n_©omic
-ò; 
	}
}

154 
	$£t_memb¬
(è{ 
m_memb¬
=
Œue
; 
	}
}

155 
	$ş—r_memb¬
(è{ 
m_memb¬
=
çl£
; 
	}
}

156 
boŞ
 
	$g‘_memb¬
(ècÚ¡ {  
m_memb¬
; 
	}
}

157 
add»ss_ty³
 
	$g‘_pc
(ècÚ¡ {  
m_Ãxt_pc
; 
	}
}

158 
	$£t_Ãxt_pc
Ğ
add»ss_ty³
 
pc
 ) { 
m_Ãxt_pc
 =…c; 
	}
}

160 
	$ibufãr_fl
Ğ
¦Ù
, cÚ¡ 
w¬p_š¡_t
 *
pI
 )

162 
	`as£¹
(
¦Ù
 < 
IBUFFER_SIZE
 );

163 
m_ibufãr
[
¦Ù
].
m_š¡
=
pI
;

164 
m_ibufãr
[
¦Ù
].
m_v®id
=
Œue
;

165 
m_Ãxt
=0;

166 
	}
}

167 
boŞ
 
	$ibufãr_em±y
() const

169  
i
=0; i < 
IBUFFER_SIZE
; i++)

170 if(
m_ibufãr
[
i
].
m_v®id
)

171  
çl£
;

172  
Œue
;

173 
	}
}

174 
	$ibufãr_æush
()

176 
i
=0;i<
IBUFFER_SIZE
;i++) {

177 ifĞ
m_ibufãr
[
i
].
m_v®id
 )

178 
	`dec_š¡_š_p–še
();

179 
m_ibufãr
[
i
].
m_š¡
=
NULL
;

180 
m_ibufãr
[
i
].
m_v®id
=
çl£
;

182 
	}
}

183 cÚ¡ 
w¬p_š¡_t
 *
	$ibufãr_Ãxt_š¡
(è{  
m_ibufãr
[
m_Ãxt
].
m_š¡
; 
	}
}

184 
boŞ
 
	$ibufãr_Ãxt_v®id
(è{  
m_ibufãr
[
m_Ãxt
].
m_v®id
; 
	}
}

185 
	$ibufãr_ä“
()

187 
m_ibufãr
[
m_Ãxt
].
m_š¡
 = 
NULL
;

188 
m_ibufãr
[
m_Ãxt
].
m_v®id
 = 
çl£
;

189 
	}
}

190 
	$ibufãr_¡•
(è{ 
m_Ãxt
 = (m_Ãxt+1)%
IBUFFER_SIZE
; 
	}
}

192 
boŞ
 
	$imiss_³ndšg
(ècÚ¡ {  
m_imiss_³ndšg
; 
	}
}

193 
	$£t_imiss_³ndšg
(è{ 
m_imiss_³ndšg
=
Œue
; 
	}
}

194 
	$ş—r_imiss_³ndšg
(è{ 
m_imiss_³ndšg
=
çl£
; 
	}
}

196 
boŞ
 
	$¡Ües_dÚe
(ècÚ¡ {  
m_¡Ües_out¡ªdšg
 =ğ0; 
	}
}

197 
	$šc_¡Üe_»q
(è{ 
m_¡Ües_out¡ªdšg
++; 
	}
}

198 
	$dec_¡Üe_»q
()

200 
	`as£¹
Ğ
m_¡Ües_out¡ªdšg
 > 0 );

201 
m_¡Ües_out¡ªdšg
--;

202 
	}
}

204 
boŞ
 
	$š¡_š_p–še
(ècÚ¡ {  
m_š¡_š_p–še
 > 0; 
	}
}

205 
	$šc_š¡_š_p–še
(è{ 
m_š¡_š_p–še
++; 
	}
}

206 
	$dec_š¡_š_p–še
()

208 
	`as£¹
Ğ
m_š¡_š_p–še
 > 0 );

209 
m_š¡_š_p–še
--;

210 
	}
}

212 
	$g‘_ùa_id
(ècÚ¡ {  
m_ùa_id
; 
	}
}

214 
	$g‘_dyÇmic_w¬p_id
(ècÚ¡ {  
m_dyÇmic_w¬p_id
; 
	}
}

215 
	$g‘_w¬p_id
(ècÚ¡ {  
m_w¬p_id
; 
	}
}

217 
	$£t_issue_group_id
(
group_id
è{
m_issue_group_id
=group_id;
	}
}

218 
	$£t_id_š_issue_group
(
id_š_group
è{
m_id_š_group
=id_š_group;
	}
}

220 
	$g‘_issue_group_id
(ècÚ¡{ 
m_issue_group_id
;
	}
}

221 
	$g‘_id_š_issue_group
(ècÚ¡{ 
m_id_š_group
;
	}
}

223 
	g´iv©e
:

224 cÚ¡ 
IBUFFER_SIZE
=2;

225 
şass
 
shad”_cÜe_ùx
 *
	gm_shad”
;

226 
	gm_ùa_id
;

227 
	gm_w¬p_id
;

228 
	gm_w¬p_size
;

229 
	gm_dyÇmic_w¬p_id
;

231 
	gm_issue_group_id
;

232 
	gm_id_š_group
;

234 
add»ss_ty³
 
	gm_Ãxt_pc
;

235 
	gn_com¶‘ed
;

236 
	g¡d
::
b™£t
<
MAX_WARP_SIZE
> 
m_aùive_th»ads
;

238 
boŞ
 
	gm_imiss_³ndšg
;

240 
	sibufãr_’Œy
 {

241 
ibufãr_’Œy
(è{ 
	gm_v®id
 = 
çl£
; 
	gm_š¡
 = 
NULL
; }

242 cÚ¡ 
w¬p_š¡_t
 *
	gm_š¡
;

243 
boŞ
 
	gm_v®id
;

245 
ibufãr_’Œy
 
	gm_ibufãr
[
IBUFFER_SIZE
];

246 
	gm_Ãxt
;

248 
	gm_n_©omic
;

249 
boŞ
 
	gm_memb¬
;

251 
boŞ
 
	gm_dÚe_ex™
;

253 
	gm_Ï¡_ãtch
;

255 
	gm_¡Ües_out¡ªdšg
;

256 
	gm_š¡_š_p–še
;

261 
šlše
 
	$hw_tid_äom_wid
(
wid
, 
w¬p_size
, 
i
){ wid * w¬p_siz+ i;
	}
};

262 
šlše
 
	$wid_äom_hw_tid
(
tid
, 
w¬p_size
){id/w¬p_size;
	}
};

264 cÚ¡ 
	gWARP_PER_CTA_MAX
 = 48;

265 
	g¡d
::
	tb™£t
<
	tWARP_PER_CTA_MAX
> 
	tw¬p_£t_t
;

267 
»gi¡”_bªk
(
»gnum
, 
wid
, 
num_bªks
, 
bªk_w¬p_shiá
);

269 
şass
 
	gshad”_cÜe_ùx
;

270 
şass
 
	gshad”_cÜe_cÚfig
;

271 
şass
 
	gshad”_cÜe_¡©s
;

273 
	escheduËr_´iÜ™iz©iÚ_ty³


275 
	mSCHEDULER_PRIORITIZATION_LRR
 = 0,

276 
	mSCHEDULER_PRIORITIZATION_SRR
,

277 
	mSCHEDULER_PRIORITIZATION_GTO
,

278 
	mSCHEDULER_PRIORITIZATION_GTLRR
,

279 
	mSCHEDULER_PRIORITIZATION_GTY
,

280 
	mSCHEDULER_PRIORITIZATION_OLDEST
,

281 
	mSCHEDULER_PRIORITIZATION_YOUNGEST
,

286 
	ecÚü‘e_scheduËr


288 
	mCONCRETE_SCHEDULER_LRR
 = 0,

289 
	mCONCRETE_SCHEDULER_GTO
,

290 
	mCONCRETE_SCHEDULER_TWO_LEVEL_ACTIVE
,

291 
	mCONCRETE_SCHEDULER_GTO_INNER_GTO_OUTER
,

292 
	mCONCRETE_SCHEDULER_GREEDY_INNER_GTO_OUTER
,

293 
	mCONCRETE_SCHEDULER_RR_INNER_GTO_OUTER
,

294 
	mCONCRETE_SCHEDULER_RR_INNER_GREEDY_OUTER
,

295 
	mCONCRETE_SCHEDULER_WARP_LIMITING
,

296 
	mNUM_CONCRETE_SCHEDULERS


300 şas 
	cscheduËr_un™
 {

301 
	mpublic
:

302 
scheduËr_un™
(
shad”_cÜe_¡©s
* 
¡©s
, 
shad”_cÜe_ùx
* 
shad”
,

303 
ScÜebßrd
* 
scÜebßrd
, 
simt_¡ack
** 
simt
,

304 
¡d
::
veùÜ
<
shd_w¬p_t
>* 
w¬p
,

305 
»gi¡”_£t
* 
¥_out
,

306 
»gi¡”_£t
* 
sfu_out
,

307 
»gi¡”_£t
* 
mem_out
,

308 
id
)

309 : 
m_su³rvi£d_w¬ps
(), 
m_¡©s
(
¡©s
), 
m_shad”
(
shad”
),

310 
m_scÜebßrd
(
scÜebßrd
), 
m_simt_¡ack
(
simt
), 
m_w¬p
(
w¬p
),

311 
m_¥_out
(
¥_out
),
m_sfu_out
(
sfu_out
),
m_mem_out
(
mem_out
), 
	$m_id
(
id
){

312 if(
	`g‘_sid
()==1){

313 
boŞ
 
fe_ü—‹d
=
çl£
;

314 
issue_¡©us_fe
=
	`fİ’
("issue_¡©us.csv",
fe_ü—‹d
?"a":"w");

315 
fe_ü—‹d
 = 
Œue
;

318 
vœtu®
 ~
	$scheduËr_un™
(){if(
	`g‘_sid
()==1){
	`fşo£
(
issue_¡©us_fe
);}
	}
}

319 
vœtu®
 
	$add_su³rvi£d_w¬p_id
(
i
) {

320 
m_su³rvi£d_w¬ps
.
	`push_back
(&
	`w¬p
(
i
));

321 
	}
}

322 
vœtu®
 
	$dÚe_addšg_su³rvi£d_w¬ps
() {

323 
m_Ï¡_su³rvi£d_issued
 = 
m_su³rvi£d_w¬ps
.
	`’d
();

324 
	}
}

330 
cyşe
();

334 
	g‹m¶©e
 < 
ty³Çme
 
	gT
 >

335 
Üd”_Ìr
Ğ
ty³Çme
 
¡d
::
veùÜ
< 
T
 >& 
»suÉ_li¡
,

336 cÚ¡ 
ty³Çme
 
¡d
::
veùÜ
< 
T
 >& 
šput_li¡
,

337 cÚ¡ 
ty³Çme
 
¡d
::
veùÜ
< 
T
 >::
cÚ¡_™”©Ü
& 
Ï¡_issued_äom_šput
,

338 
num_w¬ps_to_add
 );

340 
	eOrd”šgTy³


344 
	gORDERING_GREEDY_THEN_PRIORITY_FUNC
 = 0,

347 
	gORDERED_PRIORITY_FUNC_ONLY
,

348 
	gNUM_ORDERING
,

350 
	g‹m¶©e
 < 
ty³Çme
 
	gU
 >

351 
Üd”_by_´iÜ™y
Ğ
¡d
::
veùÜ
< 
U
 >& 
»suÉ_li¡
,

352 cÚ¡ 
ty³Çme
 
¡d
::
veùÜ
< 
U
 >& 
šput_li¡
,

353 cÚ¡ 
ty³Çme
 
¡d
::
veùÜ
< 
U
 >::
cÚ¡_™”©Ü
& 
Ï¡_issued_äom_šput
,

354 
num_w¬ps_to_add
,

355 
Ord”šgTy³
 
age_Üd”šg
,

356 
	$boŞ
 (*
´iÜ™y_func
)(
U
 
lhs
, U 
rhs
) );

357 
boŞ
 
	`sÜt_w¬ps_by_Şde¡_dyÇmic_id
(
shd_w¬p_t
* 
lhs
, shd_w¬p_t* 
rhs
);

361 
vœtu®
 
	`Üd”_w¬ps
() = 0;

363 
´Ùeùed
:

364 
vœtu®
 
	`do_Ú_w¬p_issued
Ğ
w¬p_id
,

365 
num_issued
,

366 cÚ¡ 
¡d
::
veùÜ
< 
shd_w¬p_t
* >::
cÚ¡_™”©Ü
& 
´iÜ™ized_™”
 );

367 
šlše
 
	$g‘_sid
() const;

368 
´Ùeùed
:

369 
shd_w¬p_t
& 
	`w¬p
(
i
);

373 
¡d
::
veùÜ
< 
shd_w¬p_t
* > 
m_Ãxt_cyşe_´iÜ™ized_w¬ps
;

378 
¡d
::
veùÜ
< 
shd_w¬p_t
* > 
m_su³rvi£d_w¬ps
;

380 
¡d
::
veùÜ
< 
shd_w¬p_t
* >::
cÚ¡_™”©Ü
 
m_Ï¡_su³rvi£d_issued
;

381 
shad”_cÜe_¡©s
 *
m_¡©s
;

382 
shad”_cÜe_ùx
* 
m_shad”
;

384 
ScÜebßrd
* 
m_scÜebßrd
;

385 
simt_¡ack
** 
m_simt_¡ack
;

387 
¡d
::
veùÜ
<
shd_w¬p_t
>* 
m_w¬p
;

388 
»gi¡”_£t
* 
m_¥_out
;

389 
»gi¡”_£t
* 
m_sfu_out
;

390 
»gi¡”_£t
* 
m_mem_out
;

392 
m_id
;

394 
FILE
 *
issue_¡©us_fe
;

395 
	}
};

398 şas 
	cÌr_scheduËr
 : 
public
 
scheduËr_un™
 {

399 
public
:

400 
Ìr_scheduËr
 ( 
shad”_cÜe_¡©s
* 
¡©s
, 
shad”_cÜe_ùx
* 
shad”
,

401 
ScÜebßrd
* 
scÜebßrd
, 
simt_¡ack
** 
simt
,

402 
¡d
::
veùÜ
<
shd_w¬p_t
>* 
w¬p
,

403 
»gi¡”_£t
* 
¥_out
,

404 
»gi¡”_£t
* 
sfu_out
,

405 
»gi¡”_£t
* 
mem_out
,

406 
id
 )

407 : 
	$scheduËr_un™
 ( 
¡©s
, 
shad”
, 
scÜebßrd
, 
simt
, 
w¬p
, 
¥_out
, 
sfu_out
, 
mem_out
, 
id
 ){}

408 
vœtu®
 ~
	$Ìr_scheduËr
 (è{
	}
}

409 
vœtu®
 
Üd”_w¬ps
 ();

410 
vœtu®
 
	$dÚe_addšg_su³rvi£d_w¬ps
() {

411 
m_Ï¡_su³rvi£d_issued
 = 
m_su³rvi£d_w¬ps
.
	`’d
();

412 
	}
}

415 şas 
	cgto_scheduËr
 : 
public
 
scheduËr_un™
 {

416 
public
:

417 
gto_scheduËr
 ( 
shad”_cÜe_¡©s
* 
¡©s
, 
shad”_cÜe_ùx
* 
shad”
,

418 
ScÜebßrd
* 
scÜebßrd
, 
simt_¡ack
** 
simt
,

419 
¡d
::
veùÜ
<
shd_w¬p_t
>* 
w¬p
,

420 
»gi¡”_£t
* 
¥_out
,

421 
»gi¡”_£t
* 
sfu_out
,

422 
»gi¡”_£t
* 
mem_out
,

423 
id
 )

424 : 
	$scheduËr_un™
 ( 
¡©s
, 
shad”
, 
scÜebßrd
, 
simt
, 
w¬p
, 
¥_out
, 
sfu_out
, 
mem_out
, 
id
 ){}

425 
vœtu®
 ~
	$gto_scheduËr
 (è{
	}
}

426 
vœtu®
 
Üd”_w¬ps
 ();

427 
vœtu®
 
	$dÚe_addšg_su³rvi£d_w¬ps
() {

428 
m_Ï¡_su³rvi£d_issued
 = 
m_su³rvi£d_w¬ps
.
	`begš
();

429 
	}
}

434 şas 
	ctwo_Ëv–_aùive_scheduËr
 : 
public
 
scheduËr_un™
 {

435 
public
:

436 
two_Ëv–_aùive_scheduËr
 ( 
shad”_cÜe_¡©s
* 
¡©s
, 
shad”_cÜe_ùx
* 
shad”
,

437 
ScÜebßrd
* 
scÜebßrd
, 
simt_¡ack
** 
simt
,

438 
¡d
::
veùÜ
<
shd_w¬p_t
>* 
w¬p
,

439 
»gi¡”_£t
* 
¥_out
,

440 
»gi¡”_£t
* 
sfu_out
,

441 
»gi¡”_£t
* 
mem_out
,

442 
id
,

443 * 
cÚfig_¡r
 )

444 : 
scheduËr_un™
 ( 
¡©s
, 
shad”
, 
scÜebßrd
, 
simt
, 
w¬p
, 
¥_out
, 
sfu_out
, 
mem_out
, 
id
 ),

445 
	$m_³ndšg_w¬ps
()

447 
šÃr_Ëv–_»adš
;

448 
ou‹r_Ëv–_»adš
;

449 
»t
 = 
	`ssÿnf
Ğ
cÚfig_¡r
,

451 &
m_max_aùive_w¬ps
,

452 &
šÃr_Ëv–_»adš
,

453 &
ou‹r_Ëv–_»adš
);

454 
	`as£¹
Ğ3 =ğ
»t
 );

455 
m_šÃr_Ëv–_´iÜ™iz©iÚ
=(
scheduËr_´iÜ™iz©iÚ_ty³
)
šÃr_Ëv–_»adš
;

456 
m_ou‹r_Ëv–_´iÜ™iz©iÚ
=(
scheduËr_´iÜ™iz©iÚ_ty³
)
ou‹r_Ëv–_»adš
;

458 
vœtu®
 ~
	$two_Ëv–_aùive_scheduËr
 (è{
	}
}

459 
vœtu®
 
Üd”_w¬ps
();

460 
	$add_su³rvi£d_w¬p_id
(
i
) {

461 iàĞ
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`size
(è< 
m_max_aùive_w¬ps
 ) {

462 
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`push_back
Ğ&
	`w¬p
(
i
) );

464 
m_³ndšg_w¬ps
.
	`push_back
(&
	`w¬p
(
i
));

466 
	}
}

467 
vœtu®
 
	$dÚe_addšg_su³rvi£d_w¬ps
() {

468 
m_Ï¡_su³rvi£d_issued
 = 
m_su³rvi£d_w¬ps
.
	`begš
();

469 
	}
}

471 
	g´Ùeùed
:

472 
vœtu®
 
do_Ú_w¬p_issued
Ğ
w¬p_id
,

473 
num_issued
,

474 cÚ¡ 
¡d
::
veùÜ
< 
shd_w¬p_t
* >::
cÚ¡_™”©Ü
& 
´iÜ™ized_™”
 );

476 
	g´iv©e
:

477 
¡d
::
deque
< 
shd_w¬p_t
* > 
m_³ndšg_w¬ps
;

478 
scheduËr_´iÜ™iz©iÚ_ty³
 
	gm_šÃr_Ëv–_´iÜ™iz©iÚ
;

479 
scheduËr_´iÜ™iz©iÚ_ty³
 
	gm_ou‹r_Ëv–_´iÜ™iz©iÚ
;

480 
	gm_max_aùive_w¬ps
;

483 şas 
	cgto_šÃr_gto_ou‹r_scheduËr
 : 
public
 
scheduËr_un™
 {

484 
public
:

486 
group_id
;

487 
	mgroup_®l_¡®l_d‘
;

488 
	m¡d
::
veùÜ
<
shd_w¬p_t
*> 
w¬ps_queue
;

490 } 
	tissue_group_queue
;

492 
gto_šÃr_gto_ou‹r_scheduËr
 ( 
shad”_cÜe_¡©s
* 
¡©s
, 
shad”_cÜe_ùx
* 
shad”
,

493 
ScÜebßrd
* 
scÜebßrd
, 
simt_¡ack
** 
simt
,

494 
¡d
::
veùÜ
<
shd_w¬p_t
>* 
w¬p
,

495 
»gi¡”_£t
* 
¥_out
,

496 
»gi¡”_£t
* 
sfu_out
,

497 
»gi¡”_£t
* 
mem_out
,

498 
id
,

499 * 
cÚfig_¡r
 )

500 : 
scheduËr_un™
 ( 
¡©s
, 
shad”
, 
scÜebßrd
, 
simt
, 
w¬p
, 
¥_out
, 
sfu_out
, 
mem_out
, 
id
 ),

501 
	$m_issue_w¬ps_m©rix
()

503 
šÃr_Ëv–_»adš
;

504 
ou‹r_Ëv–_»adš
;

505 
»t
 = 
	`ssÿnf
Ğ
cÚfig_¡r
,

507 &
m_max_aùive_w¬ps
,

508 &
m_issue_group_size
,

509 &
šÃr_Ëv–_»adš
,

510 &
ou‹r_Ëv–_»adš
);

511 
	`as£¹
Ğ4 =ğ
»t
 );

512 
m_šÃr_Ëv–_´iÜ™iz©iÚ
=(
scheduËr_´iÜ™iz©iÚ_ty³
)
šÃr_Ëv–_»adš
;

513 
m_ou‹r_Ëv–_´iÜ™iz©iÚ
=(
scheduËr_´iÜ™iz©iÚ_ty³
)
ou‹r_Ëv–_»adš
;

519 
	}
}

520 
	gvœtu®
 ~
	$gto_šÃr_gto_ou‹r_scheduËr
 (è{
	}
}

521 
vœtu®
 
Üd”_w¬ps
();

523 
	$add_su³rvi£d_w¬p_id
(
i
) {

529 
issue_group_id
=
i
/
m_issue_group_size
;

530 
id_š_issue_group
=
i
%
m_issue_group_size
;

531 
	`w¬p
(
i
).
	`£t_issue_group_id
(
issue_group_id
);

532 
	`w¬p
(
i
).
	`£t_id_š_issue_group
(
id_š_issue_group
);

533 
m_su³rvi£d_w¬ps
.
	`push_back
(&
	`w¬p
(
i
));

535 
	}
}

537 
vœtu®
 
	$dÚe_addšg_su³rvi£d_w¬ps
() {

540 if(!
m_max_aùive_w¬ps
)

541 
m_max_aùive_w¬ps
=
m_su³rvi£d_w¬ps
.
	`size
();

542 
m_num_of_issue_groups
=(
m_su³rvi£d_w¬ps
.
	`size
()+
m_issue_group_size
-1)/m_issue_group_size;

543 
m_issue_w¬ps_m©rix
.
	`»size
(
m_num_of_issue_groups
);

544 
¡d
::
veùÜ
<
shd_w¬p_t
*>::
™”©Ü
 
™”
ğ
m_su³rvi£d_w¬ps
.
	`begš
();

545 
™”
!=
m_su³rvi£d_w¬ps
.
	`’d
();iter++){

546 
m_issue_w¬ps_m©rix
[(*
™”
)->
	`g‘_issue_group_id
()].
w¬ps_queue
.
	`push_back
((*iter));

549 
i
=0;i<
m_num_of_issue_groups
;i++){

550 
m_issue_w¬ps_m©rix
[
i
].
group_id
=i;

551 
m_issue_w¬ps_m©rix
[
i
].
group_®l_¡®l_d‘
=
çl£
;

554 
m_su³rvi£d_w¬ps
.
	`ş—r
();

555 
m_Ï¡_su³rvi£d_issued
 = 
m_su³rvi£d_w¬ps
.
	`begš
();

556 
	}
}

558 
	g´iv©e
:

559 
¡d
::
veùÜ
<
issue_group_queue
> 
m_issue_w¬ps_m©rix
;

561 
scheduËr_´iÜ™iz©iÚ_ty³
 
	gm_šÃr_Ëv–_´iÜ™iz©iÚ
;

562 
scheduËr_´iÜ™iz©iÚ_ty³
 
	gm_ou‹r_Ëv–_´iÜ™iz©iÚ
;

563 
	gm_issue_group_size
;

565 
	gm_num_of_issue_groups
;

566 
	gm_max_aùive_w¬ps
;

571 şas 
	cg»edy_šÃr_gto_ou‹r_scheduËr
 : 
public
 
scheduËr_un™
 {

572 
public
:

574 
group_id
;

575 
	mgroup_®l_¡®l_d‘
;

576 
	m¡d
::
veùÜ
<
shd_w¬p_t
*> 
w¬ps_queue
;

578 } 
	tissue_group_queue
;

580 
g»edy_šÃr_gto_ou‹r_scheduËr
 ( 
shad”_cÜe_¡©s
* 
¡©s
, 
shad”_cÜe_ùx
* 
shad”
,

581 
ScÜebßrd
* 
scÜebßrd
, 
simt_¡ack
** 
simt
,

582 
¡d
::
veùÜ
<
shd_w¬p_t
>* 
w¬p
,

583 
»gi¡”_£t
* 
¥_out
,

584 
»gi¡”_£t
* 
sfu_out
,

585 
»gi¡”_£t
* 
mem_out
,

586 
id
,

587 * 
cÚfig_¡r
 )

588 : 
scheduËr_un™
 ( 
¡©s
, 
shad”
, 
scÜebßrd
, 
simt
, 
w¬p
, 
¥_out
, 
sfu_out
, 
mem_out
, 
id
 ),

589 
	$m_issue_w¬ps_m©rix
()

591 
šÃr_Ëv–_»adš
;

592 
ou‹r_Ëv–_»adš
;

593 
»t
 = 
	`ssÿnf
Ğ
cÚfig_¡r
,

595 &
m_max_aùive_w¬ps
,

596 &
m_issue_group_size
,

597 &
šÃr_Ëv–_»adš
,

598 &
ou‹r_Ëv–_»adš
);

599 
	`as£¹
Ğ4 =ğ
»t
 );

600 
m_šÃr_Ëv–_´iÜ™iz©iÚ
=(
scheduËr_´iÜ™iz©iÚ_ty³
)
šÃr_Ëv–_»adš
;

601 
m_ou‹r_Ëv–_´iÜ™iz©iÚ
=(
scheduËr_´iÜ™iz©iÚ_ty³
)
ou‹r_Ëv–_»adš
;

602 
	}
}

603 
	gvœtu®
 ~
	$g»edy_šÃr_gto_ou‹r_scheduËr
 (è{
	}
}

604 
vœtu®
 
Üd”_w¬ps
();

606 
	$add_su³rvi£d_w¬p_id
(
i
) {

612 
issue_group_id
=
i
/
m_issue_group_size
;

613 
id_š_issue_group
=
i
%
m_issue_group_size
;

614 
	`w¬p
(
i
).
	`£t_issue_group_id
(
issue_group_id
);

615 
	`w¬p
(
i
).
	`£t_id_š_issue_group
(
id_š_issue_group
);

616 
m_su³rvi£d_w¬ps
.
	`push_back
(&
	`w¬p
(
i
));

618 
	}
}

620 
vœtu®
 
	$dÚe_addšg_su³rvi£d_w¬ps
() {

623 if(!
m_max_aùive_w¬ps
)

624 
m_max_aùive_w¬ps
=
m_su³rvi£d_w¬ps
.
	`size
();

625 
m_num_of_issue_groups
=(
m_su³rvi£d_w¬ps
.
	`size
()+
m_issue_group_size
-1)/m_issue_group_size;

626 
m_issue_w¬ps_m©rix
.
	`»size
(
m_num_of_issue_groups
);

627 
¡d
::
veùÜ
<
shd_w¬p_t
*>::
™”©Ü
 
™”
ğ
m_su³rvi£d_w¬ps
.
	`begš
();

628 
™”
!=
m_su³rvi£d_w¬ps
.
	`’d
();iter++){

629 
m_issue_w¬ps_m©rix
[(*
™”
)->
	`g‘_issue_group_id
()].
w¬ps_queue
.
	`push_back
((*iter));

632 
i
=0;i<
m_num_of_issue_groups
;i++){

633 
m_issue_w¬ps_m©rix
[
i
].
group_id
=i;

634 
m_issue_w¬ps_m©rix
[
i
].
group_®l_¡®l_d‘
=
çl£
;

637 
m_su³rvi£d_w¬ps
.
	`ş—r
();

638 
m_Ï¡_su³rvi£d_issued
 = 
m_su³rvi£d_w¬ps
.
	`begš
();

639 
	}
}

641 
	g´iv©e
:

642 
¡d
::
veùÜ
<
issue_group_queue
> 
m_issue_w¬ps_m©rix
;

644 
scheduËr_´iÜ™iz©iÚ_ty³
 
	gm_šÃr_Ëv–_´iÜ™iz©iÚ
;

645 
scheduËr_´iÜ™iz©iÚ_ty³
 
	gm_ou‹r_Ëv–_´iÜ™iz©iÚ
;

646 
	gm_issue_group_size
;

648 
	gm_num_of_issue_groups
;

649 
	gm_max_aùive_w¬ps
;

653 şas 
	c¼_šÃr_gto_ou‹r_scheduËr
 : 
public
 
scheduËr_un™
 {

654 
public
:

656 
group_id
;

657 
	mgroup_®l_¡®l_d‘
;

658 
	m¡d
::
veùÜ
<
shd_w¬p_t
*> 
w¬ps_queue
;

660 } 
	tissue_group_queue
;

662 
¼_šÃr_gto_ou‹r_scheduËr
 ( 
shad”_cÜe_¡©s
* 
¡©s
, 
shad”_cÜe_ùx
* 
shad”
,

663 
ScÜebßrd
* 
scÜebßrd
, 
simt_¡ack
** 
simt
,

664 
¡d
::
veùÜ
<
shd_w¬p_t
>* 
w¬p
,

665 
»gi¡”_£t
* 
¥_out
,

666 
»gi¡”_£t
* 
sfu_out
,

667 
»gi¡”_£t
* 
mem_out
,

668 
id
,

669 * 
cÚfig_¡r
 )

670 : 
scheduËr_un™
 ( 
¡©s
, 
shad”
, 
scÜebßrd
, 
simt
, 
w¬p
, 
¥_out
, 
sfu_out
, 
mem_out
, 
id
 ),

671 
	$m_issue_w¬ps_m©rix
()

673 
šÃr_Ëv–_»adš
;

674 
ou‹r_Ëv–_»adš
;

675 
»t
 = 
	`ssÿnf
Ğ
cÚfig_¡r
,

677 &
m_max_aùive_w¬ps
,

678 &
m_issue_group_size
,

679 &
šÃr_Ëv–_»adš
,

680 &
ou‹r_Ëv–_»adš
);

681 
	`as£¹
Ğ4 =ğ
»t
 );

682 
m_šÃr_Ëv–_´iÜ™iz©iÚ
=(
scheduËr_´iÜ™iz©iÚ_ty³
)
šÃr_Ëv–_»adš
;

683 
m_ou‹r_Ëv–_´iÜ™iz©iÚ
=(
scheduËr_´iÜ™iz©iÚ_ty³
)
ou‹r_Ëv–_»adš
;

684 
	}
}

685 
	gvœtu®
 ~
	$¼_šÃr_gto_ou‹r_scheduËr
 (è{
	}
}

686 
vœtu®
 
Üd”_w¬ps
();

688 
	$add_su³rvi£d_w¬p_id
(
i
) {

694 
issue_group_id
=
i
/
m_issue_group_size
;

695 
id_š_issue_group
=
i
%
m_issue_group_size
;

696 
	`w¬p
(
i
).
	`£t_issue_group_id
(
issue_group_id
);

697 
	`w¬p
(
i
).
	`£t_id_š_issue_group
(
id_š_issue_group
);

698 
m_su³rvi£d_w¬ps
.
	`push_back
(&
	`w¬p
(
i
));

700 
	}
}

702 
vœtu®
 
	$dÚe_addšg_su³rvi£d_w¬ps
() {

705 if(!
m_max_aùive_w¬ps
)

706 
m_max_aùive_w¬ps
=
m_su³rvi£d_w¬ps
.
	`size
();

707 
m_num_of_issue_groups
=(
m_su³rvi£d_w¬ps
.
	`size
()+
m_issue_group_size
-1)/m_issue_group_size;

708 
m_issue_w¬ps_m©rix
.
	`»size
(
m_num_of_issue_groups
);

709 
¡d
::
veùÜ
<
shd_w¬p_t
*>::
™”©Ü
 
™”
ğ
m_su³rvi£d_w¬ps
.
	`begš
();

710 
™”
!=
m_su³rvi£d_w¬ps
.
	`’d
();iter++){

711 
m_issue_w¬ps_m©rix
[(*
™”
)->
	`g‘_issue_group_id
()].
w¬ps_queue
.
	`push_back
((*iter));

714 
i
=0;i<
m_num_of_issue_groups
;i++){

715 
m_issue_w¬ps_m©rix
[
i
].
group_id
=i;

716 
m_issue_w¬ps_m©rix
[
i
].
group_®l_¡®l_d‘
=
çl£
;

719 
m_su³rvi£d_w¬ps
.
	`ş—r
();

720 
m_Ï¡_su³rvi£d_issued
 = 
m_su³rvi£d_w¬ps
.
	`begš
();

721 
	}
}

723 
	g´Ùeùed
:

724 
vœtu®
 
do_Ú_w¬p_issued
Ğ
w¬p_id
,

725 
num_issued
,

726 cÚ¡ 
¡d
::
veùÜ
< 
shd_w¬p_t
* >::
cÚ¡_™”©Ü
& 
´iÜ™ized_™”
 );

728 
	g´iv©e
:

729 
¡d
::
veùÜ
<
issue_group_queue
> 
m_issue_w¬ps_m©rix
;

731 
scheduËr_´iÜ™iz©iÚ_ty³
 
	gm_šÃr_Ëv–_´iÜ™iz©iÚ
;

732 
scheduËr_´iÜ™iz©iÚ_ty³
 
	gm_ou‹r_Ëv–_´iÜ™iz©iÚ
;

733 
	gm_issue_group_size
;

735 
	gm_num_of_issue_groups
;

736 
	gm_max_aùive_w¬ps
;

740 şas 
	c¼_šÃr_g»edy_ou‹r_scheduËr
 : 
public
 
scheduËr_un™
 {

741 
public
:

743 
group_id
;

744 
	mgroup_®l_¡®l_d‘
;

745 
	m¡d
::
veùÜ
<
shd_w¬p_t
*> 
w¬ps_queue
;

747 } 
	tissue_group_queue
;

749 
¼_šÃr_g»edy_ou‹r_scheduËr
 ( 
shad”_cÜe_¡©s
* 
¡©s
, 
shad”_cÜe_ùx
* 
shad”
,

750 
ScÜebßrd
* 
scÜebßrd
, 
simt_¡ack
** 
simt
,

751 
¡d
::
veùÜ
<
shd_w¬p_t
>* 
w¬p
,

752 
»gi¡”_£t
* 
¥_out
,

753 
»gi¡”_£t
* 
sfu_out
,

754 
»gi¡”_£t
* 
mem_out
,

755 
id
,

756 * 
cÚfig_¡r
 )

757 : 
scheduËr_un™
 ( 
¡©s
, 
shad”
, 
scÜebßrd
, 
simt
, 
w¬p
, 
¥_out
, 
sfu_out
, 
mem_out
, 
id
 ),

758 
	$m_issue_w¬ps_m©rix
()

760 
šÃr_Ëv–_»adš
;

761 
ou‹r_Ëv–_»adš
;

762 
»t
 = 
	`ssÿnf
Ğ
cÚfig_¡r
,

764 &
m_max_aùive_w¬ps
,

765 &
m_issue_group_size
,

766 &
šÃr_Ëv–_»adš
,

767 &
ou‹r_Ëv–_»adš
);

768 
	`as£¹
Ğ4 =ğ
»t
 );

769 
m_šÃr_Ëv–_´iÜ™iz©iÚ
=(
scheduËr_´iÜ™iz©iÚ_ty³
)
šÃr_Ëv–_»adš
;

770 
m_ou‹r_Ëv–_´iÜ™iz©iÚ
=(
scheduËr_´iÜ™iz©iÚ_ty³
)
ou‹r_Ëv–_»adš
;

771 
	}
}

772 
	gvœtu®
 ~
	$¼_šÃr_g»edy_ou‹r_scheduËr
 (è{
	}
}

773 
vœtu®
 
Üd”_w¬ps
();

775 
	$add_su³rvi£d_w¬p_id
(
i
) {

781 
issue_group_id
=
i
/
m_issue_group_size
;

782 
id_š_issue_group
=
i
%
m_issue_group_size
;

783 
	`w¬p
(
i
).
	`£t_issue_group_id
(
issue_group_id
);

784 
	`w¬p
(
i
).
	`£t_id_š_issue_group
(
id_š_issue_group
);

785 
m_su³rvi£d_w¬ps
.
	`push_back
(&
	`w¬p
(
i
));

787 
	}
}

789 
vœtu®
 
	$dÚe_addšg_su³rvi£d_w¬ps
() {

792 if(!
m_max_aùive_w¬ps
)

793 
m_max_aùive_w¬ps
=
m_su³rvi£d_w¬ps
.
	`size
();

794 
m_num_of_issue_groups
=(
m_su³rvi£d_w¬ps
.
	`size
()+
m_issue_group_size
-1)/m_issue_group_size;

795 
m_issue_w¬ps_m©rix
.
	`»size
(
m_num_of_issue_groups
);

796 
¡d
::
veùÜ
<
shd_w¬p_t
*>::
™”©Ü
 
™”
ğ
m_su³rvi£d_w¬ps
.
	`begš
();

797 
™”
!=
m_su³rvi£d_w¬ps
.
	`’d
();iter++){

798 
m_issue_w¬ps_m©rix
[(*
™”
)->
	`g‘_issue_group_id
()].
w¬ps_queue
.
	`push_back
((*iter));

801 
i
=0;i<
m_num_of_issue_groups
;i++){

802 
m_issue_w¬ps_m©rix
[
i
].
group_id
=i;

803 
m_issue_w¬ps_m©rix
[
i
].
group_®l_¡®l_d‘
=
çl£
;

806 
m_su³rvi£d_w¬ps
.
	`ş—r
();

807 
m_Ï¡_su³rvi£d_issued
 = 
m_su³rvi£d_w¬ps
.
	`begš
();

808 
	}
}

810 
	g´Ùeùed
:

811 
vœtu®
 
do_Ú_w¬p_issued
Ğ
w¬p_id
,

812 
num_issued
,

813 cÚ¡ 
¡d
::
veùÜ
< 
shd_w¬p_t
* >::
cÚ¡_™”©Ü
& 
´iÜ™ized_™”
 );

815 
	g´iv©e
:

816 
¡d
::
veùÜ
<
issue_group_queue
> 
m_issue_w¬ps_m©rix
;

818 
scheduËr_´iÜ™iz©iÚ_ty³
 
	gm_šÃr_Ëv–_´iÜ™iz©iÚ
;

819 
scheduËr_´iÜ™iz©iÚ_ty³
 
	gm_ou‹r_Ëv–_´iÜ™iz©iÚ
;

820 
	gm_issue_group_size
;

822 
	gm_num_of_issue_groups
;

823 
	gm_max_aùive_w¬ps
;

828 şas 
	cswl_scheduËr
 : 
public
 
scheduËr_un™
 {

829 
public
:

830 
swl_scheduËr
 ( 
shad”_cÜe_¡©s
* 
¡©s
, 
shad”_cÜe_ùx
* 
shad”
,

831 
ScÜebßrd
* 
scÜebßrd
, 
simt_¡ack
** 
simt
,

832 
¡d
::
veùÜ
<
shd_w¬p_t
>* 
w¬p
,

833 
»gi¡”_£t
* 
¥_out
,

834 
»gi¡”_£t
* 
sfu_out
,

835 
»gi¡”_£t
* 
mem_out
,

836 
id
,

837 * 
cÚfig_¡ršg
 );

838 
	mvœtu®
 ~
	$swl_scheduËr
 () {}

839 
vœtu®
 
	`Üd”_w¬ps
 ();

840 
vœtu®
 
	$dÚe_addšg_su³rvi£d_w¬ps
() {

841 
m_Ï¡_su³rvi£d_issued
 = 
m_su³rvi£d_w¬ps
.
	`begš
();

842 
	}
}

844 
	g´Ùeùed
:

845 
scheduËr_´iÜ™iz©iÚ_ty³
 
m_´iÜ™iz©iÚ
;

846 
	gm_num_w¬ps_to_lim™
;

851 şas 
	cİndcŞl_rfu_t
 {

852 
	mpublic
:

854 
	$İndcŞl_rfu_t
()

856 
m_num_bªks
=0;

857 
m_shad”
=
NULL
;

858 
m_š™Ÿlized
=
çl£
;

860 
	`add_cu_£t
(
cu_£t
, 
num_cu
, 
num_di¥©ch
);

861 
¡d
::
	tveùÜ
<
	t»gi¡”_£t
*> 
	tpÜt_veùÜ_t
;

862 
¡d
::
	tveùÜ
<> 
	tušt_veùÜ_t
;

863 
	`add_pÜt
Ğ
pÜt_veùÜ_t
 & 
šput
,…Üt_veùÜ_ˆ& 
ouput
, 
ušt_veùÜ_t
 
cu_£ts
);

864 
	`š™
Ğ
num_bªks
, 
shad”_cÜe_ùx
 *
shad”
 );

867 
boŞ
 
	`wr™eback
ĞcÚ¡ 
w¬p_š¡_t
 &
w¬p
 );

869 
	$¡•
()

871 
	`di¥©ch_»ady_cu
();

872 
	`®loÿ‹_»ads
();

873  
p
 = 0 ;… < 
m_š_pÜts
.
	`size
();…++ )

874 
	`®loÿ‹_cu
Ğ
p
 );

875 
	`´oûss_bªks
();

876 
	}
}

878 
	$dump
Ğ
FILE
 *
å
 ) const

880 
	`årštf
(
å
,"\n");

881 
	`årštf
(
å
,"Operand Collector State:\n");

882  
n
=0;‚ < 
m_cu
.
	`size
();‚++ ) {

883 
	`årštf
(
å
," CU-%2u: ", 
n
);

884 
m_cu
[
n
]->
	`dump
(
å
,
m_shad”
);

886 
m_¬b™”
.
	`dump
(
å
);

887 
	}
}

889 
shad”_cÜe_ùx
 *
	$shad”_cÜe
(è{  
m_shad”
; 
	}
}

891 
	g´iv©e
:

893 
	$´oûss_bªks
()

895 
m_¬b™”
.
	`»£t_®loùiÚ
();

896 
	}
}

898 
di¥©ch_»ady_cu
();

899 
®loÿ‹_cu
Ğ
pÜt
 );

900 
®loÿ‹_»ads
();

904 
şass
 
	gcŞËùÜ_un™_t
;

906 şas 
	cİ_t
 {

907 
	gpublic
:

909 
İ_t
(è{ 
m_v®id
 = 
çl£
; }

910 
İ_t
Ğ
cŞËùÜ_un™_t
 *
cu
, 
İ
, 
»g
, 
num_bªks
, 
bªk_w¬p_shiá
 )

912 
	gm_v®id
 = 
Œue
;

913 
	gm_w¬p
=
NULL
;

914 
	gm_cu
 = 
cu
;

915 
	gm_İ”ªd
 = 
İ
;

916 
	gm_»gi¡”
 = 
»g
;

917 
	gm_bªk
 = 
»gi¡”_bªk
(
»g
,
cu
->
g‘_w¬p_id
(),
num_bªks
,
bªk_w¬p_shiá
);

919 
İ_t
ĞcÚ¡ 
w¬p_š¡_t
 *
w¬p
, 
»g
, 
num_bªks
, 
bªk_w¬p_shiá
 )

921 
	gm_v®id
=
Œue
;

922 
	gm_w¬p
=
w¬p
;

923 
	gm_»gi¡”
=
»g
;

924 
	gm_cu
=
NULL
;

925 
	gm_İ”ªd
 = -1;

926 
	gm_bªk
 = 
»gi¡”_bªk
(
»g
,
w¬p
->
w¬p_id
(),
num_bªks
,
bªk_w¬p_shiá
);

930 
boŞ
 
v®id
(ècÚ¡ {  
	gm_v®id
; }

931 
g‘_»g
() const

933 
as£¹
Ğ
m_v®id
 );

934  
	gm_»gi¡”
;

936 
g‘_wid
() const

938 ifĞ
	gm_w¬p
 )  m_w¬p->
w¬p_id
();

939 ifĞ
	gm_cu
 )  m_cu->
g‘_w¬p_id
();

940 
abÜt
();

942 
g‘_aùive_couÁ
() const

944 ifĞ
	gm_w¬p
 )  m_w¬p->
aùive_couÁ
();

945 ifĞ
	gm_cu
 )  m_cu->
g‘_aùive_couÁ
();

946 
abÜt
();

948 cÚ¡ 
	gaùive_mask_t
 & 
g‘_aùive_mask
()

950 ifĞ
	gm_w¬p
 )  m_w¬p->
g‘_aùive_mask
();

951 ifĞ
	gm_cu
 )  m_cu->
g‘_aùive_mask
();

952 
abÜt
();

954 
g‘_¥_İ
() const

956 ifĞ
	gm_w¬p
 )  m_w¬p->
	g¥_İ
;

957 ifĞ
	gm_cu
 )  m_cu->
g‘_¥_İ
();

958 
abÜt
();

960 
g‘_oc_id
(ècÚ¡ {  
	gm_cu
->
g‘_id
(); }

961 
g‘_bªk
(ècÚ¡ {  
	gm_bªk
; }

962 
g‘_İ”ªd
(ècÚ¡ {  
	gm_İ”ªd
; }

963 
dump
(
FILE
 *
å
) const

965 if(
	gm_cu
)

966 
årštf
(
å
," <R%u, CU:%u, w:%02u> ", 
m_»gi¡”
,
m_cu
->
g‘_id
(),m_cu->
g‘_w¬p_id
());

967 ifĞ!
	gm_w¬p
->
em±y
() )

968 
årštf
(
å
," <R%u, wid:%02u> ", 
m_»gi¡”
,
m_w¬p
->
w¬p_id
() );

970 
	g¡d
::
¡ršg
 
g‘_»g_¡ršg
() const

972 
bufãr
[64];

973 
¢´štf
(
bufãr
,64,"R%u", 
m_»gi¡”
);

974  
	g¡d
::
¡ršg
(
bufãr
);

978 
»£t
(è{ 
	gm_v®id
 = 
çl£
; }

979 
	g´iv©e
:

980 
boŞ
 
m_v®id
;

981 
cŞËùÜ_un™_t
 *
	gm_cu
;

982 cÚ¡ 
w¬p_š¡_t
 *
	gm_w¬p
;

983 
	gm_İ”ªd
;

984 
	gm_»gi¡”
;

985 
	gm_bªk
;

988 
	e®loc_t
 {

989 
	gNO_ALLOC
,

990 
	gREAD_ALLOC
,

991 
	gWRITE_ALLOC
,

994 şas 
	c®loÿtiÚ_t
 {

995 
	gpublic
:

996 
®loÿtiÚ_t
(è{ 
m_®loÿtiÚ
 = 
NO_ALLOC
; }

997 
boŞ
 
is_»ad
(ècÚ¡ {  
	gm_®loÿtiÚ
==
READ_ALLOC
; }

998 
boŞ
 
is_wr™e
(ècÚ¡ { 
	gm_®loÿtiÚ
==
WRITE_ALLOC
; }

999 
boŞ
 
is_ä“
(ècÚ¡ { 
	gm_®loÿtiÚ
==
NO_ALLOC
; }

1000 
dump
(
FILE
 *
å
) const {

1001 ifĞ
	gm_®loÿtiÚ
 =ğ
NO_ALLOC
 ) { 
årštf
(
å
,"<free>"); }

1002 ifĞ
	gm_®loÿtiÚ
 =ğ
READ_ALLOC
 ) { 
årštf
(
å
,"rd: "); 
	gm_İ
.
dump
(fp); }

1003 ifĞ
	gm_®loÿtiÚ
 =ğ
WRITE_ALLOC
 ) { 
årštf
(
å
,"wr: "); 
	gm_İ
.
dump
(fp); }

1004 
årštf
(
å
,"\n");

1006 
®loc_»ad
ĞcÚ¡ 
İ_t
 &
İ
 ) { 
as£¹
(
is_ä“
()); 
	gm_®loÿtiÚ
=
READ_ALLOC
; 
	gm_İ
=op; }

1007 
®loc_wr™e
ĞcÚ¡ 
İ_t
 &
İ
 ) { 
as£¹
(
is_ä“
()); 
	gm_®loÿtiÚ
=
WRITE_ALLOC
; 
	gm_İ
=op; }

1008 
»£t
(è{ 
	gm_®loÿtiÚ
 = 
NO_ALLOC
; }

1009 
	g´iv©e
:

1010 
®loc_t
 
m_®loÿtiÚ
;

1011 
İ_t
 
	gm_İ
;

1014 şas 
	c¬b™”_t
 {

1015 
	gpublic
:

1017 
¬b™”_t
()

1019 
m_queue
=
NULL
;

1020 
	gm_®loÿ‹d_bªk
=
NULL
;

1021 
	gm_®loÿtÜ_¼_h—d
=
NULL
;

1022 
	g_šm©ch
=
NULL
;

1023 
	g_outm©ch
=
NULL
;

1024 
	g_»que¡
=
NULL
;

1025 
	gm_Ï¡_cu
=0;

1027 
š™
Ğ
num_cu
, 
num_bªks
 )

1029 
as£¹
(
num_cu
 > 0);

1030 
as£¹
(
num_bªks
 > 0);

1031 
	gm_num_cŞËùÜs
 = 
num_cu
;

1032 
	gm_num_bªks
 = 
num_bªks
;

1033 
	g_šm©ch
 = 
Ãw
 [ 
m_num_bªks
 ];

1034 
	g_outm©ch
 = 
Ãw
 [ 
m_num_cŞËùÜs
 ];

1035 
	g_»que¡
 = 
Ãw
 *[ 
m_num_bªks
 ];

1036 
	gi
=0; i<
	gm_num_bªks
;i++)

1037 
	g_»que¡
[
i
] = 
Ãw
 [
m_num_cŞËùÜs
];

1038 
	gm_queue
 = 
Ãw
 
¡d
::
li¡
<
İ_t
>[
num_bªks
];

1039 
	gm_®loÿ‹d_bªk
 = 
Ãw
 
®loÿtiÚ_t
[
num_bªks
];

1040 
	gm_®loÿtÜ_¼_h—d
 = 
Ãw
 [
num_cu
];

1041  
	gn
=0;‚<
	gnum_cu
;n++ )

1042 
	gm_®loÿtÜ_¼_h—d
[
n
] =‚%
num_bªks
;

1043 
»£t_®loùiÚ
();

1047 
dump
(
FILE
 *
å
) const

1049 
årštf
(
å
,"\n");

1050 
årštf
(
å
," Arbiter State:\n");

1051 
årštf
(
å
,"„equests:\n");

1052  
	gb
=0; b<
	gm_num_bªks
; b++ ) {

1053 
årštf
(
å
," bªk %u : ", 
b
 );

1054 
	g¡d
::
li¡
<
İ_t
>::
cÚ¡_™”©Ü
 
o
 = 
m_queue
[
b
].
begš
();

1055 ; 
	go
 !ğ
m_queue
[
b
].
’d
(); o++ ) {

1056 
	go
->
dump
(
å
);

1058 
årštf
(
å
,"\n");

1060 
årštf
(
å
," grants:\n");

1061 
	gb
=0;b<
	gm_num_bªks
;b++) {

1062 
årštf
(
å
," bªk %u : ", 
b
 );

1063 
	gm_®loÿ‹d_bªk
[
b
].
dump
(
å
);

1065 
årštf
(
å
,"\n");

1069 
	g¡d
::
li¡
<
İ_t
> 
®loÿ‹_»ads
();

1071 
add_»ad_»que¡s
Ğ
cŞËùÜ_un™_t
 *
cu
 )

1073 cÚ¡ 
İ_t
 *
	g¤c
 = 
cu
->
g‘_İ”ªds
();

1074  
	gi
=0; i<
	gMAX_REG_OPERANDS
*2; i++) {

1075 cÚ¡ 
	gİ_t
 &
	gİ
 = 
¤c
[
i
];

1076 ifĞ
	gİ
.
v®id
() ) {

1077 
	gbªk
 = 
İ
.
g‘_bªk
();

1078 
	gm_queue
[
bªk
].
push_back
(
İ
);

1082 
boŞ
 
bªk_idË
Ğ
bªk
 ) const

1084  
	gm_®loÿ‹d_bªk
[
bªk
].
is_ä“
();

1086 
®loÿ‹_bªk_fÜ_wr™e
Ğ
bªk
, cÚ¡ 
İ_t
 &
İ
 )

1088 
as£¹
Ğ
bªk
 < 
m_num_bªks
 );

1089 
	gm_®loÿ‹d_bªk
[
bªk
].
®loc_wr™e
(
İ
);

1091 
®loÿ‹_fÜ_»ad
Ğ
bªk
, cÚ¡ 
İ_t
 &
İ
 )

1093 
as£¹
Ğ
bªk
 < 
m_num_bªks
 );

1094 
	gm_®loÿ‹d_bªk
[
bªk
].
®loc_»ad
(
İ
);

1096 
»£t_®loùiÚ
()

1098  
	gb
=0; b < 
	gm_num_bªks
; b++ )

1099 
	gm_®loÿ‹d_bªk
[
b
].
»£t
();

1102 
	g´iv©e
:

1103 
m_num_bªks
;

1104 
	gm_num_cŞËùÜs
;

1106 
®loÿtiÚ_t
 *
	gm_®loÿ‹d_bªk
;

1107 
	g¡d
::
li¡
<
İ_t
> *
m_queue
;

1109 *
	gm_®loÿtÜ_¼_h—d
;

1110 
	gm_Ï¡_cu
;

1112 *
	g_šm©ch
;

1113 *
	g_outm©ch
;

1114 **
	g_»que¡
;

1117 şas 
	cšput_pÜt_t
 {

1118 
	gpublic
:

1119 
šput_pÜt_t
(
pÜt_veùÜ_t
 & 
šput
,…Üt_veùÜ_ˆ& 
ouut
, 
ušt_veùÜ_t
 
cu_£ts
)

1120 : 
m_š
(
šput
),
m_out
(
ouut
), 
m_cu_£ts
(
cu_£ts
)

1122 
as£¹
(
šput
.
size
(è=ğ
ouut
.size());

1123 
as£¹
(
nÙ
 
m_cu_£ts
.
em±y
());

1126 
pÜt_veùÜ_t
 
	gm_š
,
	gm_out
;

1127 
ušt_veùÜ_t
 
	gm_cu_£ts
;

1130 şas 
	ccŞËùÜ_un™_t
 {

1131 
	gpublic
:

1133 
cŞËùÜ_un™_t
()

1135 
m_ä“
 = 
Œue
;

1136 
	gm_w¬p
 = 
NULL
;

1137 
	gm_ouut_»gi¡”
 = 
NULL
;

1138 
	gm_¤c_İ
 = 
Ãw
 
İ_t
[
MAX_REG_OPERANDS
*2];

1139 
	gm_nÙ_»ady
.
»£t
();

1140 
	gm_w¬p_id
 = -1;

1141 
	gm_num_bªks
 = 0;

1142 
	gm_bªk_w¬p_shiá
 = 0;

1145 
boŞ
 
»ady
() const;

1146 cÚ¡ 
İ_t
 *
g‘_İ”ªds
(ècÚ¡ {  
	gm_¤c_İ
; }

1147 
dump
(
FILE
 *
å
, cÚ¡ 
shad”_cÜe_ùx
 *
shad”
 ) const;

1149 
g‘_w¬p_id
(ècÚ¡ {  
	gm_w¬p_id
; }

1150 
g‘_aùive_couÁ
(ècÚ¡ {  
	gm_w¬p
->
aùive_couÁ
(); }

1151 cÚ¡ 
	gaùive_mask_t
 & 
g‘_aùive_mask
(ècÚ¡ {  
	gm_w¬p
->get_active_mask(); }

1152 
g‘_¥_İ
(ècÚ¡ {  
	gm_w¬p
->
	g¥_İ
; }

1153 
g‘_id
(ècÚ¡ {  
	gm_cuid
; }

1156 
š™
(
n
,

1157 
num_bªks
,

1158 
log2_w¬p_size
,

1159 cÚ¡ 
cÜe_cÚfig
 *
cÚfig
,

1160 
İndcŞl_rfu_t
 *
rfu
 );

1161 
boŞ
 
®loÿ‹
Ğ
»gi¡”_£t
* 
p–še_»g
,„egi¡”_£t* 
ouut_»g
 );

1163 
cŞËù_İ”ªd
Ğ
İ
 )

1165 
	gm_nÙ_»ady
.
»£t
(
İ
);

1167 
g‘_num_İ”ªds
() const{

1168  
	gm_w¬p
->
g‘_num_İ”ªds
();

1170 
g‘_num_»gs
() const{

1171  
	gm_w¬p
->
g‘_num_»gs
();

1173 
di¥©ch
();

1174 
boŞ
 
is_ä“
(){ 
	gm_ä“
;}

1176 
	g´iv©e
:

1177 
boŞ
 
m_ä“
;

1178 
	gm_cuid
;

1179 
	gm_w¬p_id
;

1180 
w¬p_š¡_t
 *
	gm_w¬p
;

1181 
»gi¡”_£t
* 
	gm_ouut_»gi¡”
;

1182 
İ_t
 *
	gm_¤c_İ
;

1183 
	g¡d
::
b™£t
<
MAX_REG_OPERANDS
*2> 
m_nÙ_»ady
;

1184 
	gm_num_bªks
;

1185 
	gm_bªk_w¬p_shiá
;

1186 
İndcŞl_rfu_t
 *
	gm_rfu
;

1190 şas 
	cdi¥©ch_un™_t
 {

1191 
	gpublic
:

1192 
di¥©ch_un™_t
(
¡d
::
veùÜ
<
cŞËùÜ_un™_t
>* 
cus
)

1194 
m_Ï¡_cu
=0;

1195 
	gm_cŞËùÜ_un™s
=
cus
;

1196 
	gm_num_cŞËùÜs
 = (*
cus
).
size
();

1197 
	gm_Ãxt_cu
=0;

1200 
cŞËùÜ_un™_t
 *
fšd_»ady
()

1202  
	gn
=0;‚ < 
	gm_num_cŞËùÜs
;‚++ ) {

1203 
	gc
=(
m_Ï¡_cu
+
n
+1)%
m_num_cŞËùÜs
;

1204 ifĞ(*
	gm_cŞËùÜ_un™s
)[
c
].
»ady
() ) {

1205 
	gm_Ï¡_cu
=
c
;

1206  &((*
	gm_cŞËùÜ_un™s
)[
c
]);

1209  
	gNULL
;

1212 
	g´iv©e
:

1213 
m_num_cŞËùÜs
;

1214 
	g¡d
::
veùÜ
<
cŞËùÜ_un™_t
>* 
m_cŞËùÜ_un™s
;

1215 
	gm_Ï¡_cu
;

1216 
	gm_Ãxt_cu
;

1220 
boŞ
 
	gm_š™Ÿlized
;

1222 
	gm_num_cŞËùÜ_£ts
;

1224 
	gm_num_bªks
;

1225 
	gm_bªk_w¬p_shiá
;

1226 
	gm_w¬p_size
;

1227 
	g¡d
::
veùÜ
<
cŞËùÜ_un™_t
 *> 
m_cu
;

1228 
¬b™”_t
 
	gm_¬b™”
;

1236 
	g¡d
::
veùÜ
<
šput_pÜt_t
> 
m_š_pÜts
;

1237 
	g¡d
::
	tm­
<, 
	t¡d
::
	tveùÜ
<
	tcŞËùÜ_un™_t
> > 
	tcu_£ts_t
;

1238 
cu_£ts_t
 
	gm_cus
;

1239 
	g¡d
::
veùÜ
<
di¥©ch_un™_t
> 
m_di¥©ch_un™s
;

1244 
shad”_cÜe_ùx
 *
	gm_shad”
;

1247 şas 
	cb¬r›r_£t_t
 {

1248 
	mpublic
:

1249 
b¬r›r_£t_t
Ğ
max_w¬ps_³r_cÜe
, 
max_ùa_³r_cÜe
 );

1252 
®loÿ‹_b¬r›r
Ğ
ùa_id
, 
w¬p_£t_t
 
w¬ps
 );

1255 
d—Îoÿ‹_b¬r›r
Ğ
ùa_id
 );

1257 
	m¡d
::
	tm­
<, 
	tw¬p_£t_t
 > 
	tùa_to_w¬p_t
;

1260 
w¬p_»aches_b¬r›r
Ğ
ùa_id
, 
w¬p_id
 );

1263 
boŞ
 
	$avaabË_fÜ_ãtch
Ğ
w¬p_id
 ) const;

1266 
	`w¬p_ex™
Ğ
w¬p_id
 );

1269 
boŞ
 
	$w¬p_wa™šg_©_b¬r›r
Ğ
w¬p_id
 ) const;

1272 
	$dump
() const;

1274 
´iv©e
:

1275 
m_max_ùa_³r_cÜe
;

1276 
m_max_w¬ps_³r_cÜe
;

1278 
ùa_to_w¬p_t
 
m_ùa_to_w¬ps
;

1279 
w¬p_£t_t
 
m_w¬p_aùive
;

1280 
w¬p_£t_t
 
m_w¬p_©_b¬r›r
;

1283 
	sš¢_Ï‹ncy_šfo
 {

1284 
pc
;

1285 
Ï‹ncy
;

1288 
	siãtch_bufãr_t
 {

1289 
	`iãtch_bufãr_t
(è{ 
m_v®id
=
çl£
; }

1291 
	`iãtch_bufãr_t
Ğ
add»ss_ty³
 
pc
, 
nby‹s
, 
w¬p_id
 )

1293 
m_v®id
=
Œue
;

1294 
m_pc
=
pc
;

1295 
m_nby‹s
=
nby‹s
;

1296 
m_w¬p_id
=
w¬p_id
;

1299 
boŞ
 
m_v®id
;

1300 
add»ss_ty³
 
m_pc
;

1301 
m_nby‹s
;

1302 
m_w¬p_id
;

1305 
şass
 
shad”_cÜe_cÚfig
;

1307 şas 
	csimd_funùiÚ_un™
 {

1308 
public
:

1309 
	`simd_funùiÚ_un™
ĞcÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
 );

1310 ~
	$simd_funùiÚ_un™
(è{ 
d–‘e
 
m_di¥©ch_»g
; }

1313 
vœtu®
 
	$issue
Ğ
»gi¡”_£t
& 
sourû_»g
 ) { sourû_»g.
	`move_out_to
(
m_di¥©ch_»g
); 
occup›d
.
	`£t
(m_di¥©ch_»g->
Ï‹ncy
);
	}
}

1314 
vœtu®
 
cyşe
() = 0;

1315 
vœtu®
 
aùive_ÏÃs_š_p–še
() = 0;

1318 
vœtu®
 
	$şock_muÉl›r
(ècÚ¡ {  1; 
	}
}

1319 
vœtu®
 
boŞ
 
	$ÿn_issue
ĞcÚ¡ 
w¬p_š¡_t
 &
š¡
 ) cÚ¡ {  
m_di¥©ch_»g
->
	`em±y
(è&& !
occup›d
.
	`‹¡
(š¡.
Ï‹ncy
); 
	}
}

1320 
vœtu®
 
boŞ
 
	$¡®ÏbË
() const = 0;

1321 
vœtu®
 
	$´št
Ğ
FILE
 *
å
 ) const

1323 
	`årštf
(
å
,"% di¥©chğ", 
m_Çme
.
	`c_¡r
() );

1324 
m_di¥©ch_»g
->
	`´št
(
å
);

1325 
	}
}

1326 
	g´Ùeùed
:

1327 
¡d
::
¡ršg
 
m_Çme
;

1328 cÚ¡ 
shad”_cÜe_cÚfig
 *
	gm_cÚfig
;

1329 
w¬p_š¡_t
 *
	gm_di¥©ch_»g
;

1330 cÚ¡ 
	gMAX_ALU_LATENCY
 = 512;

1331 
	g¡d
::
b™£t
<
MAX_ALU_LATENCY
> 
occup›d
;

1334 şas 
	cp–šed_simd_un™
 : 
public
 
simd_funùiÚ_un™
 {

1335 
public
:

1336 
p–šed_simd_un™
Ğ
»gi¡”_£t
* 
»suÉ_pÜt
, cÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
, 
max_Ï‹ncy
, 
shad”_cÜe_ùx
 *
cÜe
 );

1339 
vœtu®
 
	$cyşe
()

1341 ifĞ!
m_p–še_»g
[0]->
	`em±y
() ){

1342 
m_»suÉ_pÜt
->
	`move_š
(
m_p–še_»g
[0]);

1344  
¡age
=0; (¡age+1)<
m_p–še_d•th
; stage++ )

1345 
	`move_w¬p
(
m_p–še_»g
[
¡age
], m_pipeline_reg[stage+1]);

1346 ifĞ!
m_di¥©ch_»g
->
	`em±y
() ) {

1347 ifĞ!
m_di¥©ch_»g
->
	`di¥©ch_d–ay
()) {

1348 
¡¬t_¡age
 = 
m_di¥©ch_»g
->
Ï‹ncy
 - m_di¥©ch_»g->
š™ŸtiÚ_š‹rv®
;

1349 
	`move_w¬p
(
m_p–še_»g
[
¡¬t_¡age
],
m_di¥©ch_»g
);

1352 
occup›d
 >>=1;

1354 
vœtu®
 
	`issue
Ğ
»gi¡”_£t
& 
sourû_»g
 );

1355 
vœtu®
 
	$g‘_aùive_ÏÃs_š_p–še
()

1357 
aùive_mask_t
 
aùive_ÏÃs
;

1358 
aùive_ÏÃs
.
	`»£t
();

1359  
¡age
=0; (¡age+1)<
m_p–še_d•th
; stage++ ){

1360 ifĞ!
m_p–še_»g
[
¡age
]->
	`em±y
() )

1361 
aùive_ÏÃs
|=
m_p–še_»g
[
¡age
]->
	`g‘_aùive_mask
();

1363  
aùive_ÏÃs
.
	`couÁ
();

1364 
	}
}

1365 
vœtu®
 
aùive_ÏÃs_š_p–še
() = 0;

1375 
vœtu®
 
boŞ
 
	$¡®ÏbË
(ècÚ¡ {  
çl£
; 
	}
}

1376 
vœtu®
 
boŞ
 
	$ÿn_issue
ĞcÚ¡ 
w¬p_š¡_t
 &
š¡
 ) const

1378  
simd_funùiÚ_un™
::
	`ÿn_issue
(
š¡
);

1379 
	}
}

1380 
vœtu®
 
	$´št
(
FILE
 *
å
) const

1382 
simd_funùiÚ_un™
::
	`´št
(
å
);

1383  
s
=
m_p–še_d•th
-1; s>=0; s-- ) {

1384 ifĞ!
m_p–še_»g
[
s
]->
	`em±y
() ) {

1385 
	`årštf
(
å
," %s[%2d] ", 
m_Çme
.
	`c_¡r
(), 
s
 );

1386 
m_p–še_»g
[
s
]->
	`´št
(
å
);

1389 
	}
}

1390 
	g´Ùeùed
:

1391 
m_p–še_d•th
;

1392 
w¬p_š¡_t
 **
	gm_p–še_»g
;

1393 
»gi¡”_£t
 *
	gm_»suÉ_pÜt
;

1394 
şass
 
shad”_cÜe_ùx
 *
	gm_cÜe
;

1397 şas 
	csfu
 : 
public
 
p–šed_simd_un™


1399 
public
:

1400 
sfu
Ğ
»gi¡”_£t
* 
»suÉ_pÜt
, cÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
, 
shad”_cÜe_ùx
 *
cÜe
 );

1401 
vœtu®
 
boŞ
 
	$ÿn_issue
ĞcÚ¡ 
w¬p_š¡_t
 &
š¡
 ) const

1403 
š¡
.
İ
) {

1404 
SFU_OP
: ;

1405 
ALU_SFU_OP
: ;

1406 :  
çl£
;

1408  
p–šed_simd_un™
::
	`ÿn_issue
(
š¡
);

1410 
vœtu®
 
	`aùive_ÏÃs_š_p–še
();

1411 
vœtu®
 
	`issue
Ğ
»gi¡”_£t
& 
sourû_»g
 );

1412 
	}
};

1414 şas 
	c¥_un™
 : 
public
 
p–šed_simd_un™


1416 
public
:

1417 
¥_un™
Ğ
»gi¡”_£t
* 
»suÉ_pÜt
, cÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
, 
shad”_cÜe_ùx
 *
cÜe
 );

1418 
vœtu®
 
boŞ
 
	$ÿn_issue
ĞcÚ¡ 
w¬p_š¡_t
 &
š¡
 ) const

1420 
š¡
.
İ
) {

1421 
SFU_OP
:  
çl£
;

1422 
LOAD_OP
:  
çl£
;

1423 
STORE_OP
:  
çl£
;

1424 
MEMORY_BARRIER_OP
:  
çl£
;

1427  
p–šed_simd_un™
::
	`ÿn_issue
(
š¡
);

1429 
vœtu®
 
	`aùive_ÏÃs_š_p–še
();

1430 
vœtu®
 
	`issue
Ğ
»gi¡”_£t
& 
sourû_»g
 );

1431 
	}
};

1433 
şass
 
	gsimt_cÜe_şu¡”
;

1434 
şass
 
	gshad”_memÜy_š‹rçû
;

1435 
şass
 
	gshad”_cÜe_mem_ãtch_®loÿtÜ
;

1436 
şass
 
	gÿche_t
;

1438 şas 
	cld¡_un™
: 
public
 
p–šed_simd_un™
 {

1439 
public
:

1440 
ld¡_un™
Ğ
mem_ãtch_š‹rçû
 *
iút
,

1441 
shad”_cÜe_mem_ãtch_®loÿtÜ
 *
mf_®loÿtÜ
,

1442 
shad”_cÜe_ùx
 *
cÜe
,

1443 
İndcŞl_rfu_t
 *
İ”ªd_cŞËùÜ
,

1444 
ScÜebßrd
 *
scÜebßrd
,

1445 cÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
,

1446 cÚ¡ 
memÜy_cÚfig
 *
mem_cÚfig
,

1447 
şass
 
shad”_cÜe_¡©s
 *
¡©s
,

1448 
sid
, 
c
 );

1451 
vœtu®
 
issue
Ğ
»gi¡”_£t
 &
š¡
 );

1452 
vœtu®
 
cyşe
();

1454 
fl
Ğ
mem_ãtch
 *
mf
 );

1455 
æush
();

1456 
wr™eback
();

1459 
vœtu®
 
	$şock_muÉl›r
() const;

1461 
vœtu®
 
boŞ
 
	$ÿn_issue
ĞcÚ¡ 
w¬p_š¡_t
 &
š¡
 ) const

1463 
š¡
.
İ
) {

1464 
LOAD_OP
: ;

1465 
STORE_OP
: ;

1466 
MEMORY_BARRIER_OP
: ;

1467 :  
çl£
;

1469  
m_di¥©ch_»g
->
	`em±y
();

1472 
vœtu®
 
	`aùive_ÏÃs_š_p–še
();

1473 
vœtu®
 
boŞ
 
	$¡®ÏbË
(ècÚ¡ {  
Œue
; 
	}
}

1474 
boŞ
 
	$»¥Ú£_bufãr_fuÎ
() const;

1475 
	$´št
(
FILE
 *
fout
) const;

1476 
	`´št_ÿche_¡©s
Ğ
FILE
 *
å
, & 
dl1_acûs£s
, & 
dl1_mis£s
 );

1477 
	`g‘_ÿche_¡©s
(&
»ad_acûs£s
, &
wr™e_acûs£s
, &
»ad_mis£s
, &
wr™e_mis£s
, 
ÿche_ty³
);

1478 
	`g‘_ÿche_¡©s
(
ÿche_¡©s
 &
cs
);

1480 
	$g‘_L1D_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const;

1481 
	$g‘_L1C_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const;

1482 
	$g‘_L1T_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const;

1484 
´Ùeùed
:

1485 
	`ld¡_un™
Ğ
mem_ãtch_š‹rçû
 *
iút
,

1486 
shad”_cÜe_mem_ãtch_®loÿtÜ
 *
mf_®loÿtÜ
,

1487 
shad”_cÜe_ùx
 *
cÜe
,

1488 
İndcŞl_rfu_t
 *
İ”ªd_cŞËùÜ
,

1489 
ScÜebßrd
 *
scÜebßrd
,

1490 cÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
,

1491 cÚ¡ 
memÜy_cÚfig
 *
mem_cÚfig
,

1492 
shad”_cÜe_¡©s
 *
¡©s
,

1493 
sid
,

1494 
c
,

1495 
l1_ÿche
* 
Ãw_l1d_ÿche
 );

1496 
	`š™
Ğ
mem_ãtch_š‹rçû
 *
iút
,

1497 
shad”_cÜe_mem_ãtch_®loÿtÜ
 *
mf_®loÿtÜ
,

1498 
shad”_cÜe_ùx
 *
cÜe
,

1499 
İndcŞl_rfu_t
 *
İ”ªd_cŞËùÜ
,

1500 
ScÜebßrd
 *
scÜebßrd
,

1501 cÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
,

1502 cÚ¡ 
memÜy_cÚfig
 *
mem_cÚfig
,

1503 
shad”_cÜe_¡©s
 *
¡©s
,

1504 
sid
,

1505 
c
 );

1507 
´Ùeùed
:

1508 
boŞ
 
	`sh¬ed_cyşe
Ğ
w¬p_š¡_t
 &
š¡
, 
mem_¡age_¡®l_ty³
 &
rc_ç
, 
mem_¡age_acûss_ty³
 &
ç_ty³
);

1509 
boŞ
 
	`cÚ¡ªt_cyşe
Ğ
w¬p_š¡_t
 &
š¡
, 
mem_¡age_¡®l_ty³
 &
rc_ç
, 
mem_¡age_acûss_ty³
 &
ç_ty³
);

1510 
boŞ
 
	`‹xtu»_cyşe
Ğ
w¬p_š¡_t
 &
š¡
, 
mem_¡age_¡®l_ty³
 &
rc_ç
, 
mem_¡age_acûss_ty³
 &
ç_ty³
);

1511 
boŞ
 
	`memÜy_cyşe
Ğ
w¬p_š¡_t
 &
š¡
, 
mem_¡age_¡®l_ty³
 &
rc_ç
, 
mem_¡age_acûss_ty³
 &
ç_ty³
);

1513 
vœtu®
 
mem_¡age_¡®l_ty³
 
	`´oûss_ÿche_acûss
Ğ
ÿche_t
* 
ÿche
,

1514 
Ãw_addr_ty³
 
add»ss
,

1515 
w¬p_š¡_t
 &
š¡
,

1516 
¡d
::
li¡
<
ÿche_ev’t
>& 
ev’ts
,

1517 
mem_ãtch
 *
mf
,

1518 
ÿche_»que¡_¡©us
 
¡©us
 );

1519 
mem_¡age_¡®l_ty³
 
	`´oûss_memÜy_acûss_queue
Ğ
ÿche_t
 *
ÿche
, 
w¬p_š¡_t
 &
š¡
 );

1521 cÚ¡ 
memÜy_cÚfig
 *
m_memÜy_cÚfig
;

1522 
şass
 
mem_ãtch_š‹rçû
 *
m_iút
;

1523 
shad”_cÜe_mem_ãtch_®loÿtÜ
 *
m_mf_®loÿtÜ
;

1524 
şass
 
shad”_cÜe_ùx
 *
m_cÜe
;

1525 
m_sid
;

1526 
m_c
;

1528 
‹x_ÿche
 *
m_L1T
;

1529 
»ad_Úly_ÿche
 *
m_L1C
;

1530 
l1_ÿche
 *
m_L1D
;

1531 
¡d
::
m­
<, std::m­<,> > 
m_³ndšg_wr™es
;

1532 
¡d
::
li¡
<
mem_ãtch
*> 
m_»¥Ú£_fifo
;

1533 
İndcŞl_rfu_t
 *
m_İ”ªd_cŞËùÜ
;

1534 
ScÜebßrd
 *
m_scÜebßrd
;

1536 
mem_ãtch
 *
m_Ãxt_glob®
;

1537 
w¬p_š¡_t
 
m_Ãxt_wb
;

1538 
m_wr™eback_¬b
;

1539 
m_num_wr™eback_ş›Ás
;

1541 
mem_¡age_¡®l_ty³
 
m_mem_rc
;

1543 
shad”_cÜe_¡©s
 *
m_¡©s
;

1546 
m_Ï¡_š¡_gpu_sim_cyşe
;

1547 
m_Ï¡_š¡_gpu_tÙ_sim_cyşe
;

1548 
	}
};

1550 
	ep–še_¡age_Çme_t
 {

1551 
	mID_OC_SP
=0,

1552 
	mID_OC_SFU
,

1553 
	mID_OC_MEM
,

1554 
	mOC_EX_SP
,

1555 
	mOC_EX_SFU
,

1556 
	mOC_EX_MEM
,

1557 
	mEX_WB
,

1558 
	mN_PIPELINE_STAGES


1561 cÚ¡ * cÚ¡ 
	gp–še_¡age_Çme_decode
[] = {

1572 
	gshad”_cÜe_cÚfig
 : 
public
 
cÜe_cÚfig


1574 
shad”_cÜe_cÚfig
(){

1575 
p–še_widths_¡ršg
 = 
NULL
;

1578 
š™
()

1580 
	gÁok
 = 
ssÿnf
(
gpgpu_shad”_cÜe_p–še_İt
,"%d:%d",

1581 &
n_th»ad_³r_shad”
,

1582 &
w¬p_size
);

1583 if(
	gÁok
 != 2) {

1584 
´štf
("GPGPU-Sim uArch:ƒrror while…arsing configuration string gpgpu_shader_core_pipeline_opt\n");

1585 
abÜt
();

1588 * 
	gtoks
 = 
Ãw
 [100];

1589 * 
	gtokd
 = 
toks
;

1590 
¡rıy
(
toks
,
p–še_widths_¡ršg
);

1592 
	gtoks
 = 
¡¹ok
(
toks
,",");

1593 
	gi
 = 0; i < 
	gN_PIPELINE_STAGES
; i++) {

1594 
as£¹
(
toks
);

1595 
	gÁok
 = 
ssÿnf
(
toks
,"%d", &
pe_widths
[
i
]);

1596 
as£¹
(
Áok
 == 1);

1597 
	gtoks
 = 
¡¹ok
(
NULL
,",");

1599 
	gd–‘e
[] 
	gtokd
;

1601 ià(
	gn_th»ad_³r_shad”
 > 
	gMAX_THREAD_PER_SM
) {

1602 
´štf
("GPGPU-Sim uArch: Error ** increase MAX_THREAD_PER_SM in‡bstract_hardware_model.h from %uo %u\n",

1603 
MAX_THREAD_PER_SM
, 
n_th»ad_³r_shad”
);

1604 
abÜt
();

1606 
	gmax_w¬ps_³r_shad”
 = 
n_th»ad_³r_shad”
/
w¬p_size
;

1607 
as£¹
Ğ!(
n_th»ad_³r_shad”
 % 
w¬p_size
) );

1608 
	gmax_sfu_Ï‹ncy
 = 512;

1609 
	gmax_¥_Ï‹ncy
 = 32;

1610 
	gm_L1I_cÚfig
.
š™
(
m_L1I_cÚfig
.
m_cÚfig_¡ršg
,
FuncCacheP»ãrNÚe
);

1611 
	gm_L1T_cÚfig
.
š™
(
m_L1T_cÚfig
.
m_cÚfig_¡ršg
,
FuncCacheP»ãrNÚe
);

1612 
	gm_L1C_cÚfig
.
š™
(
m_L1C_cÚfig
.
m_cÚfig_¡ršg
,
FuncCacheP»ãrNÚe
);

1613 
	gm_L1D_cÚfig
.
š™
(
m_L1D_cÚfig
.
m_cÚfig_¡ršg
,
FuncCacheP»ãrNÚe
);

1614 
	ggpgpu_ÿche_‹xl1_lšesize
 = 
m_L1T_cÚfig
.
g‘_lše_sz
();

1615 
	ggpgpu_ÿche_cÚ¡l1_lšesize
 = 
m_L1C_cÚfig
.
g‘_lše_sz
();

1616 
	gm_v®id
 = 
Œue
;

1618 
»g_İtiÚs
(
şass
 
O±iÚP¬£r
 * 
İp
 );

1619 
max_ùa
ĞcÚ¡ 
k”Ãl_šfo_t
 &
k
 ) const;

1620 
num_shad”
(ècÚ¡ {  
n_simt_şu¡”s
*
	gn_simt_cÜes_³r_şu¡”
; }

1621 
sid_to_şu¡”
Ğ
sid
 ) cÚ¡ {  
	gsid
 / 
	gn_simt_cÜes_³r_şu¡”
; }

1622 
sid_to_cid
Ğ
sid
 ) cÚ¡ {  
	gsid
 % 
	gn_simt_cÜes_³r_şu¡”
; }

1623 
cid_to_sid
Ğ
cid
, 
şu¡”_id
 ) cÚ¡ {  clu¡”_id*
	gn_simt_cÜes_³r_şu¡”
 + 
	gcid
; }

1626 *
	ggpgpu_shad”_cÜe_p–še_İt
;

1627 
boŞ
 
	ggpgpu_³rãù_mem
;

1628 
boŞ
 
	ggpgpu_şock_g©ed_»g_fe
;

1629 
boŞ
 
	ggpgpu_şock_g©ed_ÏÃs
;

1630 
div”g’û_suµÜt_t
 
	gmod–
;

1631 
	gn_th»ad_³r_shad”
;

1632 
	gn_»gfe_g©šg_group
;

1633 
	gmax_w¬ps_³r_shad”
;

1634 
	gmax_ùa_³r_cÜe
;

1636 * 
	ggpgpu_scheduËr_¡ršg
;

1638 * 
	gp–še_widths_¡ršg
;

1639 
	gpe_widths
[
N_PIPELINE_STAGES
];

1641 
mubË
 
ÿche_cÚfig
 
	gm_L1I_cÚfig
;

1642 
mubË
 
ÿche_cÚfig
 
	gm_L1T_cÚfig
;

1643 
mubË
 
ÿche_cÚfig
 
	gm_L1C_cÚfig
;

1644 
mubË
 
ÿche_cÚfig
 
	gm_L1D_cÚfig
;

1646 
boŞ
 
	ggmem_sk_L1D
;

1648 
boŞ
 
	ggpgpu_dwf_»g_bªkcÚæiù
;

1650 
	ggpgpu_num_sched_³r_cÜe
;

1651 
	ggpgpu_max_š¢_issue_³r_w¬p
;

1654 
	ggpgpu_İ”ªd_cŞËùÜ_num_un™s_¥
;

1655 
	ggpgpu_İ”ªd_cŞËùÜ_num_un™s_sfu
;

1656 
	ggpgpu_İ”ªd_cŞËùÜ_num_un™s_mem
;

1657 
	ggpgpu_İ”ªd_cŞËùÜ_num_un™s_g’
;

1659 
	ggpgpu_İ”ªd_cŞËùÜ_num_š_pÜts_¥
;

1660 
	ggpgpu_İ”ªd_cŞËùÜ_num_š_pÜts_sfu
;

1661 
	ggpgpu_İ”ªd_cŞËùÜ_num_š_pÜts_mem
;

1662 
	ggpgpu_İ”ªd_cŞËùÜ_num_š_pÜts_g’
;

1664 
	ggpgpu_İ”ªd_cŞËùÜ_num_out_pÜts_¥
;

1665 
	ggpgpu_İ”ªd_cŞËùÜ_num_out_pÜts_sfu
;

1666 
	ggpgpu_İ”ªd_cŞËùÜ_num_out_pÜts_mem
;

1667 
	ggpgpu_İ”ªd_cŞËùÜ_num_out_pÜts_g’
;

1669 
	ggpgpu_num_¥_un™s
;

1670 
	ggpgpu_num_sfu_un™s
;

1671 
	ggpgpu_num_mem_un™s
;

1674 
	ggpgpu_shad”_»gi¡”s
;

1675 
	ggpgpu_w¬pdi¡ro_shad”
;

1676 
	ggpgpu_w¬p_issue_shad”
;

1677 
	ggpgpu_num_»g_bªks
;

1678 
boŞ
 
	ggpgpu_»g_bªk_u£_w¬p_id
;

1679 
boŞ
 
	ggpgpu_loÿl_mem_m­
;

1681 
	gmax_¥_Ï‹ncy
;

1682 
	gmax_sfu_Ï‹ncy
;

1684 
	gn_simt_cÜes_³r_şu¡”
;

1685 
	gn_simt_şu¡”s
;

1686 
	gn_simt_ejeùiÚ_bufãr_size
;

1687 
	gld¡_un™_»¥Ú£_queue_size
;

1689 
	gsimt_cÜe_sim_Üd”
;

1691 
mem2deviû
(
memid
ècÚ¡ {  
	gmemid
 + 
	gn_simt_şu¡”s
; }

1694 
	sshad”_cÜe_¡©s_pod
 {

1696 * 
	mshad”_cÜe_¡©s_pod_¡¬t
[];

1697 *
	mshad”_cyşes
;

1698 *
	mm_num_sim_š¢
;

1699 *
	mm_num_sim_wš¢
;

1700 *
	mm_Ï¡_num_sim_š¢
;

1701 *
	mm_Ï¡_num_sim_wš¢
;

1702 *
	mm_num_decoded_š¢
;

1703 *
	mm_p–še_duty_cyşe
;

1704 *
	mm_num_FPdecoded_š¢
;

1705 *
	mm_num_INTdecoded_š¢
;

1706 *
	mm_num_¡Üequeued_š¢
;

1707 *
	mm_num_lßdqueued_š¢
;

1708 *
	mm_num_Ÿlu_aûs£s
;

1709 *
	mm_num_å_aûs£s
;

1710 *
	mm_num_imul_aûs£s
;

1711 *
	mm_num_‹x_š¡
;

1712 *
	mm_num_åmul_aûs£s
;

1713 *
	mm_num_idiv_aûs£s
;

1714 *
	mm_num_ådiv_aûs£s
;

1715 *
	mm_num_¥_aûs£s
;

1716 *
	mm_num_sfu_aûs£s
;

1717 *
	mm_num_Œªs_aûs£s
;

1718 *
	mm_num_mem_aûs£s
;

1719 *
	mm_num_¥_comm™‹d
;

1720 *
	mm_num_b_h™s
;

1721 *
	mm_num_b_acûs£s
;

1722 *
	mm_num_sfu_comm™‹d
;

1723 *
	mm_num_mem_comm™‹d
;

1724 *
	mm_»ad_»gfe_aûs£s
;

1725 *
	mm_wr™e_»gfe_aûs£s
;

1726 *
	mm_nÚ_rf_İ”ªds
;

1727 *
	mm_num_imul24_aûs£s
;

1728 *
	mm_num_imul32_aûs£s
;

1729 *
	mm_aùive_¥_ÏÃs
;

1730 *
	mm_aùive_sfu_ÏÃs
;

1731 *
	mm_aùive_fu_ÏÃs
;

1732 *
	mm_aùive_fu_mem_ÏÃs
;

1733 *
	mm_n_div”ge
;

1734 
	mgpgpu_n_lßd_š¢
;

1735 
	mgpgpu_n_¡Üe_š¢
;

1736 
	mgpgpu_n_shmem_š¢
;

1737 
	mgpgpu_n_‹x_š¢
;

1738 
	mgpgpu_n_cÚ¡_š¢
;

1739 
	mgpgpu_n_·¿m_š¢
;

1740 
	mgpgpu_n_shmem_bkcÚæiù
;

1741 
	mgpgpu_n_ÿche_bkcÚæiù
;

1742 
	mgpgpu_n_šŒaw¬p_mshr_m”ge
;

1743 
	mgpgpu_n_cmem_pÜtcÚæiù
;

1744 
	mgpu_¡®l_shd_mem_b»akdown
[
N_MEM_STAGE_ACCESS_TYPE
][
N_MEM_STAGE_STALL_TYPE
];

1745 
	mgpu_»g_bªk_cÚæiù_¡®ls
;

1746 *
	mshad”_cyşe_di¡ro
;

1747 *
	mÏ¡_shad”_cyşe_di¡ro
;

1748 *
	mnum_w¬ps_issuabË
;

1749 
	mgpgpu_n_¡®l_shd_mem
;

1752 
	mgpgpu_n_mem_»ad_loÿl
;

1753 
	mgpgpu_n_mem_wr™e_loÿl
;

1754 
	mgpgpu_n_mem_‹xtu»
;

1755 
	mgpgpu_n_mem_cÚ¡
;

1756 
	mgpgpu_n_mem_»ad_glob®
;

1757 
	mgpgpu_n_mem_wr™e_glob®
;

1758 
	mgpgpu_n_mem_»ad_š¡
;

1760 
	mgpgpu_n_mem_l2_wr™eback
;

1761 
	mgpgpu_n_mem_l1_wr™e_®loÿ‹
;

1762 
	mgpgpu_n_mem_l2_wr™e_®loÿ‹
;

1764 
	mmade_wr™e_mfs
;

1765 
	mmade_»ad_mfs
;

1767 *
	mgpgpu_n_shmem_bªk_acûss
;

1768 *
	mn_simt_to_mem
;

1769 *
	mn_mem_to_simt
;

1772 şas 
	cshad”_cÜe_¡©s
 : 
public
 
shad”_cÜe_¡©s_pod
 {

1773 
public
:

1774 
	$shad”_cÜe_¡©s
ĞcÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
 )

1776 
m_cÚfig
 = 
cÚfig
;

1777 
shad”_cÜe_¡©s_pod
 *
pod
 = 
»š‹½»t_ÿ¡
< shad”_cÜe_¡©s_pod * > ( 
this
->
shad”_cÜe_¡©s_pod_¡¬t
 );

1778 
	`mem£t
(
pod
,0,(
shad”_cÜe_¡©s_pod
));

1779 
shad”_cyşes
=(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1780 
m_num_sim_š¢
 = (*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1781 
m_num_sim_wš¢
 = (*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1782 
m_Ï¡_num_sim_wš¢
 = (*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1783 
m_Ï¡_num_sim_š¢
 = (*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1784 
m_p–še_duty_cyşe
=(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1785 
m_num_decoded_š¢
 = (*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1786 
m_num_FPdecoded_š¢
 = (*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1787 
m_num_¡Üequeued_š¢
=(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1788 
m_num_lßdqueued_š¢
=(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1789 
m_num_INTdecoded_š¢
 = (*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1790 
m_num_Ÿlu_aûs£s
 = (*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1791 
m_num_å_aûs£s
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1792 
m_num_‹x_š¡
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1793 
m_num_imul_aûs£s
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1794 
m_num_imul24_aûs£s
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1795 
m_num_imul32_aûs£s
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1796 
m_num_åmul_aûs£s
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1797 
m_num_idiv_aûs£s
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1798 
m_num_ådiv_aûs£s
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1799 
m_num_¥_aûs£s
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1800 
m_num_sfu_aûs£s
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1801 
m_num_Œªs_aûs£s
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1802 
m_num_mem_aûs£s
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1803 
m_num_¥_comm™‹d
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1804 
m_num_b_h™s
=(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1805 
m_num_b_acûs£s
=(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1806 
m_aùive_¥_ÏÃs
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1807 
m_aùive_sfu_ÏÃs
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1808 
m_aùive_fu_ÏÃs
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1809 
m_aùive_fu_mem_ÏÃs
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1810 
m_num_sfu_comm™‹d
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1811 
m_num_mem_comm™‹d
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1812 
m_»ad_»gfe_aûs£s
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1813 
m_wr™e_»gfe_aûs£s
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1814 
m_nÚ_rf_İ”ªds
=(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1815 
m_n_div”ge
 = (*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1816 
shad”_cyşe_di¡ro
 = (*è
	`ÿÎoc
(
cÚfig
->
w¬p_size
+3, ());

1817 
Ï¡_shad”_cyşe_di¡ro
 = (*è
	`ÿÎoc
(
m_cÚfig
->
w¬p_size
+3, ());

1819 
n_simt_to_mem
 = (*)
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(), ());

1820 
n_mem_to_simt
 = (*)
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(), ());

1822 
m_outgošg_Œaffic_¡©s
 = 
Ãw
 
	`Œaffic_b»akdown
("coretomem");

1823 
m_šcomšg_Œaffic_¡©s
 = 
Ãw
 
	`Œaffic_b»akdown
("memtocore");

1825 
gpgpu_n_shmem_bªk_acûss
 = (*)
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(), ());

1827 
m_shad”_dyÇmic_w¬p_issue_di¡ro
.
	`»size
Ğ
cÚfig
->
	`num_shad”
() );

1828 
m_shad”_w¬p_¦Ù_issue_di¡ro
.
	`»size
Ğ
cÚfig
->
	`num_shad”
() );

1831 ~
	$shad”_cÜe_¡©s
()

1833 
d–‘e
 
m_outgošg_Œaffic_¡©s
;

1834 
d–‘e
 
m_šcomšg_Œaffic_¡©s
;

1835 
	`ä“
(
m_num_sim_š¢
);

1836 
	`ä“
(
m_num_sim_wš¢
);

1837 
	`ä“
(
m_n_div”ge
);

1838 
	`ä“
(
shad”_cyşe_di¡ro
);

1839 
	`ä“
(
Ï¡_shad”_cyşe_di¡ro
);

1840 
	}
}

1842 
	$Ãw_grid
()

1844 
	}
}

1846 
ev’t_w¬p_issued
Ğ
s_id
, 
w¬p_id
, 
num_issued
, 
dyÇmic_w¬p_id
 );

1848 
visu®iz”_´št
Ğ
gzFe
 
visu®iz”_fe
 );

1850 
	$´št
Ğ
FILE
 *
fout
 ) const;

1852 cÚ¡ 
¡d
::
veùÜ
< std::veùÜ<> >& 
	$g‘_dyÇmic_w¬p_issue
() const

1854  
m_shad”_dyÇmic_w¬p_issue_di¡ro
;

1855 
	}
}

1857 cÚ¡ 
	g¡d
::
veùÜ
< 
¡d
::veùÜ<> >& 
	$g‘_w¬p_¦Ù_issue
() const

1859  
m_shad”_w¬p_¦Ù_issue_di¡ro
;

1860 
	}
}

1862 
	g´iv©e
:

1863 cÚ¡ 
shad”_cÜe_cÚfig
 *
m_cÚfig
;

1865 
Œaffic_b»akdown
 *
	gm_outgošg_Œaffic_¡©s
;

1866 
Œaffic_b»akdown
 *
	gm_šcomšg_Œaffic_¡©s
;

1869 
	g¡d
::
veùÜ
< 
¡d
::veùÜ<> > 
m_shad”_dyÇmic_w¬p_issue_di¡ro
;

1870 
	g¡d
::
veùÜ
<> 
m_Ï¡_shad”_dyÇmic_w¬p_issue_di¡ro
;

1871 
	g¡d
::
veùÜ
< 
¡d
::veùÜ<> > 
m_shad”_w¬p_¦Ù_issue_di¡ro
;

1872 
	g¡d
::
veùÜ
<> 
m_Ï¡_shad”_w¬p_¦Ù_issue_di¡ro
;

1874 
ä›nd
 
şass
 
	gpow”_¡©_t
;

1875 
ä›nd
 
şass
 
	gshad”_cÜe_ùx
;

1876 
ä›nd
 
şass
 
	gld¡_un™
;

1877 
ä›nd
 
şass
 
	gsimt_cÜe_şu¡”
;

1878 
ä›nd
 
şass
 
	gscheduËr_un™
;

1879 
ä›nd
 
şass
 
	gTwoLev–ScheduËr
;

1880 
ä›nd
 
şass
 
	gLoo£RoundRobbšScheduËr
;

1883 şas 
	cshad”_cÜe_mem_ãtch_®loÿtÜ
 : 
public
 
mem_ãtch_®loÿtÜ
 {

1884 
public
:

1885 
	$shad”_cÜe_mem_ãtch_®loÿtÜ
Ğ
cÜe_id
, 
şu¡”_id
, cÚ¡ 
memÜy_cÚfig
 *
cÚfig
 )

1887 
m_cÜe_id
 = 
cÜe_id
;

1888 
m_şu¡”_id
 = 
şu¡”_id
;

1889 
m_memÜy_cÚfig
 = 
cÚfig
;

1891 
mem_ãtch
 *
	$®loc
Ğ
Ãw_addr_ty³
 
addr
, 
mem_acûss_ty³
 
ty³
, 
size
, 
boŞ
 
wr
 ) const

1893 
mem_acûss_t
 
	`acûss
Ğ
ty³
, 
addr
, 
size
, 
wr
 );

1894 
mem_ãtch
 *
mf
 = 
Ãw
 
	`mem_ãtch
Ğ
acûss
,

1895 
NULL
,

1896 
wr
?
WRITE_PACKET_SIZE
:
READ_PACKET_SIZE
,

1898 
m_cÜe_id
,

1899 
m_şu¡”_id
,

1900 
m_memÜy_cÚfig
 );

1901  
mf
;

1902 
	}
}

1904 
mem_ãtch
 *
	$®loc
ĞcÚ¡ 
w¬p_š¡_t
 &
š¡
, cÚ¡ 
mem_acûss_t
 &
acûss
 ) const

1906 
w¬p_š¡_t
 
š¡_cİy
 = 
š¡
;

1907 
mem_ãtch
 *
mf
 = 
Ãw
 
	`mem_ãtch
(
acûss
,

1908 &
š¡_cİy
,

1909 
acûss
.
	`is_wr™e
()?
WRITE_PACKET_SIZE
:
READ_PACKET_SIZE
,

1910 
š¡
.
	`w¬p_id
(),

1911 
m_cÜe_id
,

1912 
m_şu¡”_id
,

1913 
m_memÜy_cÚfig
);

1914  
mf
;

1915 
	}
}

1917 
	g´iv©e
:

1918 
m_cÜe_id
;

1919 
	gm_şu¡”_id
;

1920 cÚ¡ 
memÜy_cÚfig
 *
	gm_memÜy_cÚfig
;

1923 şas 
	cshad”_cÜe_ùx
 : 
public
 
cÜe_t
 {

1924 
public
:

1926 
shad”_cÜe_ùx
Ğ
şass
 
gpgpu_sim
 *
gpu
,

1927 
şass
 
simt_cÜe_şu¡”
 *
şu¡”
,

1928 
shad”_id
,

1929 
c_id
,

1930 cÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
,

1931 cÚ¡ 
memÜy_cÚfig
 *
mem_cÚfig
,

1932 
shad”_cÜe_¡©s
 *
¡©s
 );

1936 
cyşe
();

1937 
»š™
(
¡¬t_th»ad
, 
’d_th»ad
, 
boŞ
 
»£t_nÙ_com¶‘ed
 );

1938 
issue_block2cÜe
Ğ
şass
 
k”Ãl_šfo_t
 &
k”Ãl
 );

1939 
ÿche_æush
();

1940 
acû±_ãtch_»¥Ú£
Ğ
mem_ãtch
 *
mf
 );

1941 
acû±_ld¡_un™_»¥Ú£
Ğ
şass
 
mem_ãtch
 * 
mf
 );

1942 
	$£t_k”Ãl
Ğ
k”Ãl_šfo_t
 *
k
 )

1944 
	`as£¹
(
k
);

1945 
m_k”Ãl
=
k
;

1946 
k
->
	`šc_ruÂšg
();

1947 
	`´štf
("GPGPU-Sim uArch: Shad” %d bšdØk”ÃÈ%u \'%s\'\n", 
m_sid
, 
m_k”Ãl
->
	`g‘_uid
(),

1948 
m_k”Ãl
->
	`Çme
().
	`c_¡r
() );

1952 
boŞ
 
	$ãtch_un™_»¥Ú£_bufãr_fuÎ
() const;

1953 
boŞ
 
	$ld¡_un™_»¥Ú£_bufãr_fuÎ
() const;

1954 
	$g‘_nÙ_com¶‘ed
(ècÚ¡ {  
m_nÙ_com¶‘ed
; 
	}
}

1955 
	$g‘_n_aùive_ùa
(ècÚ¡ {  
m_n_aùive_ùa
; 
	}
}

1956 
	$i§ùive
(ècÚ¡ {if(
m_n_aùive_ùa
>0è 1;  0;
	}
}

1957 
k”Ãl_šfo_t
 *
	$g‘_k”Ãl
(è{  
m_k”Ãl
; 
	}
}

1958 
	$g‘_sid
(ècÚ¡ { 
m_sid
;
	}
}

1962 
vœtu®
 
w¬p_ex™
Ğ
w¬p_id
 );

1965 
vœtu®
 
boŞ
 
	$w¬p_wa™šg_©_b¬r›r
Ğ
w¬p_id
 ) const;

1966 
	$g‘_pdom_¡ack_tİ_šfo
Ğ
tid
, *
pc
, *
½c
 ) const;

1970 
	`mem_š¡ruùiÚ_¡©s
(cÚ¡ 
w¬p_š¡_t
 &
š¡
);

1971 
	`deüem’t_©omic_couÁ
Ğ
wid
, 
n
 );

1972 
	$šc_¡Üe_»q
Ğ
w¬p_id
è{ 
m_w¬p
[w¬p_id].
	`šc_¡Üe_»q
(); 
	}
}

1973 
	$dec_š¡_š_p–še
Ğ
w¬p_id
 ) { 
m_w¬p
[w¬p_id].
	`dec_š¡_š_p–še
(); 
	}
}

1974 
¡Üe_ack
Ğ
şass
 
mem_ãtch
 *
mf
 );

1975 
boŞ
 
w¬p_wa™šg_©_mem_b¬r›r
Ğ
w¬p_id
 );

1976 
£t_max_ùa
ĞcÚ¡ 
k”Ãl_šfo_t
 &
k”Ãl
 );

1977 
w¬p_š¡_com¶‘e
(cÚ¡ 
w¬p_š¡_t
 &
š¡
);

1980 
	g¡d
::
li¡
<> 
	$g‘_»gs_wr™‹n
ĞcÚ¡ 
š¡_t
 &
fvt
 ) const;

1981 cÚ¡ 
shad”_cÜe_cÚfig
 *
	$g‘_cÚfig
(ècÚ¡ {  
m_cÚfig
; 
	}
}

1982 
´št_ÿche_¡©s
Ğ
FILE
 *
å
, & 
dl1_acûs£s
, & 
dl1_mis£s
 );

1984 
g‘_ÿche_¡©s
(
ÿche_¡©s
 &
cs
);

1985 
	$g‘_L1I_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const;

1986 
	$g‘_L1D_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const;

1987 
	$g‘_L1C_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const;

1988 
	$g‘_L1T_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const;

1990 
	$g‘_iút_pow”_¡©s
(&
n_simt_to_mem
, &
n_mem_to_simt
) const;

1993 
	$di¥Ïy_simt_¡©e
(
FILE
 *
fout
, 
mask
 ) const;

1994 
	$di¥Ïy_p–še
Ğ
FILE
 *
fout
, 
´št_mem
, 
mask3b™
 ) const;

1996 
	$šşßd_¡©
(è{
m_¡©s
->
m_num_lßdqueued_š¢
[
m_sid
]++;
	}
}

1997 
	$šc¡Üe_¡©
(è{
m_¡©s
->
m_num_¡Üequeued_š¢
[
m_sid
]++;
	}
}

1998 
	$šcŸlu_¡©
(
aùive_couÁ
,
Ï‹ncy
) {

1999 if(
m_cÚfig
->
gpgpu_şock_g©ed_ÏÃs
==
çl£
){

2000 
m_¡©s
->
m_num_Ÿlu_aûs£s
[
m_sid
]=m_¡©s->m_num_Ÿlu_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy


2001 + 
	`šaùive_ÏÃs_acûs£s_nÚsfu
(
aùive_couÁ
, 
Ï‹ncy
);

2003 
m_¡©s
->
m_num_Ÿlu_aûs£s
[
m_sid
]=m_¡©s->m_num_Ÿlu_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy
;

2005 
	}
}

2006 
	$šùex_¡©
(
aùive_couÁ
,
Ï‹ncy
){

2007 
m_¡©s
->
m_num_‹x_š¡
[
m_sid
]=m_¡©s->m_num_‹x_š¡[m_sid]+
aùive_couÁ
*
Ï‹ncy
;

2008 
	}
}

2009 
	$šcimul_¡©
(
aùive_couÁ
,
Ï‹ncy
) {

2010 if(
m_cÚfig
->
gpgpu_şock_g©ed_ÏÃs
==
çl£
){

2011 
m_¡©s
->
m_num_imul_aûs£s
[
m_sid
]=m_¡©s->m_num_imul_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy


2012 + 
	`šaùive_ÏÃs_acûs£s_nÚsfu
(
aùive_couÁ
, 
Ï‹ncy
);

2014 
m_¡©s
->
m_num_imul_aûs£s
[
m_sid
]=m_¡©s->m_num_imul_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy
;

2016 
	}
}

2017 
	$šcimul24_¡©
(
aùive_couÁ
,
Ï‹ncy
) {

2018 if(
m_cÚfig
->
gpgpu_şock_g©ed_ÏÃs
==
çl£
){

2019 
m_¡©s
->
m_num_imul24_aûs£s
[
m_sid
]=m_¡©s->m_num_imul24_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy


2020 + 
	`šaùive_ÏÃs_acûs£s_nÚsfu
(
aùive_couÁ
, 
Ï‹ncy
);

2022 
m_¡©s
->
m_num_imul24_aûs£s
[
m_sid
]=m_¡©s->m_num_imul24_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy
;

2024 
	}
}

2025 
	$šcimul32_¡©
(
aùive_couÁ
,
Ï‹ncy
) {

2026 if(
m_cÚfig
->
gpgpu_şock_g©ed_ÏÃs
==
çl£
){

2027 
m_¡©s
->
m_num_imul32_aûs£s
[
m_sid
]=m_¡©s->m_num_imul32_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy


2028 + 
	`šaùive_ÏÃs_acûs£s_sfu
(
aùive_couÁ
, 
Ï‹ncy
);

2030 
m_¡©s
->
m_num_imul32_aûs£s
[
m_sid
]=m_¡©s->m_num_imul32_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy
;

2033 
	}
}

2034 
	$šcidiv_¡©
(
aùive_couÁ
,
Ï‹ncy
) {

2035 if(
m_cÚfig
->
gpgpu_şock_g©ed_ÏÃs
==
çl£
){

2036 
m_¡©s
->
m_num_idiv_aûs£s
[
m_sid
]=m_¡©s->m_num_idiv_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy


2037 + 
	`šaùive_ÏÃs_acûs£s_sfu
(
aùive_couÁ
, 
Ï‹ncy
);

2039 
m_¡©s
->
m_num_idiv_aûs£s
[
m_sid
]=m_¡©s->m_num_idiv_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy
;

2041 
	}
}

2042 
	$šcå®u_¡©
(
aùive_couÁ
,
Ï‹ncy
) {

2043 if(
m_cÚfig
->
gpgpu_şock_g©ed_ÏÃs
==
çl£
){

2044 
m_¡©s
->
m_num_å_aûs£s
[
m_sid
]=m_¡©s->m_num_å_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy


2045 + 
	`šaùive_ÏÃs_acûs£s_nÚsfu
(
aùive_couÁ
, 
Ï‹ncy
);

2047 
m_¡©s
->
m_num_å_aûs£s
[
m_sid
]=m_¡©s->m_num_å_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy
;

2049 
	}
}

2050 
	$šcåmul_¡©
(
aùive_couÁ
,
Ï‹ncy
) {

2052 if(
m_cÚfig
->
gpgpu_şock_g©ed_ÏÃs
==
çl£
){

2053 
m_¡©s
->
m_num_åmul_aûs£s
[
m_sid
]=m_¡©s->m_num_åmul_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy


2054 + 
	`šaùive_ÏÃs_acûs£s_nÚsfu
(
aùive_couÁ
, 
Ï‹ncy
);

2056 
m_¡©s
->
m_num_åmul_aûs£s
[
m_sid
]=m_¡©s->m_num_åmul_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy
;

2058 
	}
}

2059 
	$šcådiv_¡©
(
aùive_couÁ
,
Ï‹ncy
) {

2060 if(
m_cÚfig
->
gpgpu_şock_g©ed_ÏÃs
==
çl£
){

2061 
m_¡©s
->
m_num_ådiv_aûs£s
[
m_sid
]=m_¡©s->m_num_ådiv_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy


2062 + 
	`šaùive_ÏÃs_acûs£s_sfu
(
aùive_couÁ
, 
Ï‹ncy
);

2064 
m_¡©s
->
m_num_ådiv_aûs£s
[
m_sid
]=m_¡©s->m_num_ådiv_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy
;

2066 
	}
}

2067 
	$šù¿ns_¡©
(
aùive_couÁ
,
Ï‹ncy
) {

2068 if(
m_cÚfig
->
gpgpu_şock_g©ed_ÏÃs
==
çl£
){

2069 
m_¡©s
->
m_num_Œªs_aûs£s
[
m_sid
]=m_¡©s->m_num_Œªs_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy


2070 + 
	`šaùive_ÏÃs_acûs£s_sfu
(
aùive_couÁ
, 
Ï‹ncy
);

2072 
m_¡©s
->
m_num_Œªs_aûs£s
[
m_sid
]=m_¡©s->m_num_Œªs_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy
;

2074 
	}
}

2076 
	$šcsfu_¡©
(
aùive_couÁ
,
Ï‹ncy
è{
m_¡©s
->
m_num_sfu_aûs£s
[
m_sid
]=m_¡©s->m_num_sfu_aûs£s[m_sid]+aùive_couÁ*Ï‹ncy;
	}
}

2077 
	$šc¥_¡©
(
aùive_couÁ
,
Ï‹ncy
è{
m_¡©s
->
m_num_¥_aûs£s
[
m_sid
]=m_¡©s->m_num_¥_aûs£s[m_sid]+aùive_couÁ*Ï‹ncy;
	}
}

2078 
	$šcmem_¡©
(
aùive_couÁ
,
Ï‹ncy
) {

2079 if(
m_cÚfig
->
gpgpu_şock_g©ed_ÏÃs
==
çl£
){

2080 
m_¡©s
->
m_num_mem_aûs£s
[
m_sid
]=m_¡©s->m_num_mem_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy


2081 + 
	`šaùive_ÏÃs_acûs£s_nÚsfu
(
aùive_couÁ
, 
Ï‹ncy
);

2083 
m_¡©s
->
m_num_mem_aûs£s
[
m_sid
]=m_¡©s->m_num_mem_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy
;

2085 
	}
}

2086 
šûxec¡©
(
w¬p_š¡_t
 *&
š¡
);

2088 
	$šüegfe_»ads
(
aùive_couÁ
è{
m_¡©s
->
m_»ad_»gfe_aûs£s
[
m_sid
]=m_¡©s->m_»ad_»gfe_aûs£s[m_sid]+aùive_couÁ;
	}
}

2089 
	$šüegfe_wr™es
(
aùive_couÁ
){
m_¡©s
->
m_wr™e_»gfe_aûs£s
[
m_sid
]=m_¡©s->m_wr™e_»gfe_aûs£s[m_sid]+aùive_couÁ;
	}
}

2090 
	$šúÚ_rf_İ”ªds
(
aùive_couÁ
){
m_¡©s
->
m_nÚ_rf_İ”ªds
[
m_sid
]=m_¡©s->m_nÚ_rf_İ”ªds[m_sid]+aùive_couÁ;
	}
}

2092 
	$šc¥aùiv–ªes_¡©
(
aùive_couÁ
è{
m_¡©s
->
m_aùive_¥_ÏÃs
[
m_sid
]=m_¡©s->m_aùive_¥_ÏÃs[m_sid]+aùive_couÁ;
	}
}

2093 
	$šcsfuaùiv–ªes_¡©
(
aùive_couÁ
è{
m_¡©s
->
m_aùive_sfu_ÏÃs
[
m_sid
]=m_¡©s->m_aùive_sfu_ÏÃs[m_sid]+aùive_couÁ;
	}
}

2094 
	$šcfuaùiv–ªes_¡©
(
aùive_couÁ
è{
m_¡©s
->
m_aùive_fu_ÏÃs
[
m_sid
]=m_¡©s->m_aùive_fu_ÏÃs[m_sid]+aùive_couÁ;
	}
}

2095 
	$šcfumemaùiv–ªes_¡©
(
aùive_couÁ
è{
m_¡©s
->
m_aùive_fu_mem_ÏÃs
[
m_sid
]=m_¡©s->m_aùive_fu_mem_ÏÃs[m_sid]+aùive_couÁ;
	}
}

2097 
	$šc_simt_to_mem
(
n_æ™s
){ 
m_¡©s
->
n_simt_to_mem
[
m_sid
] +ğn_æ™s; 
	}
}

2099 
	g´iv©e
:

2100 
	$šaùive_ÏÃs_acûs£s_sfu
(
aùive_couÁ
,
Ï‹ncy
){

2101  ( ((32-
aùive_couÁ
)>>1)*
Ï‹ncy
) + ( ((32-active_count)>>3)*latency) + ( ((32-active_count)>>3)*latency);

2102 
	}
}

2103 
	$šaùive_ÏÃs_acûs£s_nÚsfu
(
aùive_couÁ
,
Ï‹ncy
){

2104  ( ((32-
aùive_couÁ
)>>1)*
Ï‹ncy
);

2105 
	}
}

2107 
‹¡_»s_bus
(
Ï‹ncy
);

2108 
š™_w¬ps
(
ùa_id
, 
¡¬t_th»ad
, 
’d_th»ad
);

2109 
vœtu®
 
checkExecutiÚStusAndUpd©e
(
w¬p_š¡_t
 &
š¡
, 
t
, 
tid
);

2110 
add»ss_ty³
 
	$Ãxt_pc
Ğ
tid
 ) const;

2111 
	`ãtch
();

2112 
	`»gi¡”_ùa_th»ad_ex™
Ğ
ùa_num
 );

2114 
	`decode
();

2116 
	`issue
();

2117 
ä›nd
 
şass
 
scheduËr_un™
;

2118 
ä›nd
 
şass
 
TwoLev–ScheduËr
;

2119 
ä›nd
 
şass
 
Loo£RoundRobbšScheduËr
;

2120 
ä›nd
 
şass
 
gto_šÃr_gto_ou‹r_scheduËr
;

2121 
	`issue_w¬p
Ğ
»gi¡”_£t
& 
w¬p
, cÚ¡ 
w¬p_š¡_t
 *
pI
, cÚ¡ 
aùive_mask_t
 &
aùive_mask
, 
w¬p_id
 );

2122 
	`func_exec_š¡
Ğ
w¬p_š¡_t
 &
š¡
 );

2125 
	`Œª¦©e_loÿl_memaddr
Ğ
add»ss_ty³
 
loÿÏddr
, 
tid
, 
num_shad”
, 
d©asize
, 
Ãw_addr_ty³
* 
Œª¦©ed_addrs
 );

2127 
	`»ad_İ”ªds
();

2129 
	`execu‹
();

2131 
	`wr™eback
();

2134 
	$dump_w¬p_¡©e
Ğ
FILE
 *
fout
 ) const;

2135 
	$´št_¡age
(
¡age
, 
FILE
 *
fout
) const;

2136 
m_Ï¡_š¡_gpu_sim_cyşe
;

2137 
m_Ï¡_š¡_gpu_tÙ_sim_cyşe
;

2140 
m_sid
;

2141 
m_c
;

2142 cÚ¡ 
shad”_cÜe_cÚfig
 *
m_cÚfig
;

2143 cÚ¡ 
memÜy_cÚfig
 *
m_memÜy_cÚfig
;

2144 
şass
 
simt_cÜe_şu¡”
 *
m_şu¡”
;

2147 
shad”_cÜe_¡©s
 *
m_¡©s
;

2150 
m_n_aùive_ùa
;

2151 
m_ùa_¡©us
[
MAX_CTA_PER_SHADER
];

2152 
m_nÙ_com¶‘ed
;

2153 
¡d
::
b™£t
<
MAX_THREAD_PER_SM
> 
m_aùive_th»ads
;

2156 
th»ad_ùx_t
 *
m_th»adS‹
;

2159 
mem_ãtch_š‹rçû
 *
m_iút
;

2160 
shad”_cÜe_mem_ãtch_®loÿtÜ
 *
m_mem_ãtch_®loÿtÜ
;

2163 
»ad_Úly_ÿche
 *
m_L1I
;

2164 
m_Ï¡_w¬p_ãtched
;

2167 
¡d
::
veùÜ
<
shd_w¬p_t
> 
m_w¬p
;

2168 
b¬r›r_£t_t
 
m_b¬r›rs
;

2169 
iãtch_bufãr_t
 
m_š¡_ãtch_bufãr
;

2170 
¡d
::
veùÜ
<
»gi¡”_£t
> 
m_p–še_»g
;

2171 
ScÜebßrd
 *
m_scÜebßrd
;

2172 
İndcŞl_rfu_t
 
m_İ”ªd_cŞËùÜ
;

2175 
¡d
::
veùÜ
<
scheduËr_un™
*> 
scheduËrs
;

2178 
m_num_funùiÚ_un™s
;

2179 
¡d
::
veùÜ
<
p–še_¡age_Çme_t
> 
m_di¥©ch_pÜt
;

2180 
¡d
::
veùÜ
<
p–še_¡age_Çme_t
> 
m_issue_pÜt
;

2181 
¡d
::
veùÜ
<
simd_funùiÚ_un™
*> 
m_fu
;

2182 
ld¡_un™
 *
m_ld¡_un™
;

2183 cÚ¡ 
MAX_ALU_LATENCY
 = 512;

2184 
num_»suÉ_bus
;

2185 
¡d
::
veùÜ
< std::
b™£t
<
MAX_ALU_LATENCY
>* > 
m_»suÉ_bus
;

2188 
k”Ãl_max_ùa_³r_shad”
;

2189 
k”Ãl_·dded_th»ads_³r_ùa
;

2194 
m_dyÇmic_w¬p_id
;

2195 
	}
};

2197 şas 
	csimt_cÜe_şu¡”
 {

2198 
	mpublic
:

2199 
simt_cÜe_şu¡”
Ğ
şass
 
gpgpu_sim
 *
gpu
,

2200 
şu¡”_id
,

2201 cÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
,

2202 cÚ¡ 
memÜy_cÚfig
 *
mem_cÚfig
,

2203 
shad”_cÜe_¡©s
 *
¡©s
,

2204 
memÜy_¡©s_t
 *
m¡©s
 );

2206 
cÜe_cyşe
();

2207 
iút_cyşe
();

2209 
»š™
();

2210 
issue_block2cÜe
();

2211 
ÿche_æush
();

2212 
boŞ
 
iút_šjeùiÚ_bufãr_fuÎ
(
size
, boŞ 
wr™e
);

2213 
iút_šjeù_»que¡_·ck‘
(
şass
 
mem_ãtch
 *
mf
);

2216 
boŞ
 
	$»¥Ú£_queue_fuÎ
() {

2217  ( 
m_»¥Ú£_fifo
.
	`size
(è>ğ
m_cÚfig
->
n_simt_ejeùiÚ_bufãr_size
 );

2219 
	$push_»¥Ú£_fifo
(
şass
 
mem_ãtch
 *
mf
) {

2220 
m_»¥Ú£_fifo
.
	`push_back
(
mf
);

2221 
	}
}

2223 
	$g‘_pdom_¡ack_tİ_šfo
Ğ
sid
, 
tid
, *
pc
, *
½c
 ) const;

2224 
	`max_ùa
ĞcÚ¡ 
k”Ãl_šfo_t
 &
k”Ãl
 );

2225 
	$g‘_nÙ_com¶‘ed
() const;

2226 
	$´št_nÙ_com¶‘ed
Ğ
FILE
 *
å
 ) const;

2227 
	$g‘_n_aùive_ùa
() const;

2228 
	$g‘_n_aùive_sms
() const;

2229 
gpgpu_sim
 *
	$g‘_gpu
(è{  
m_gpu
; 
	}
}

2231 
di¥Ïy_p–še
Ğ
sid
, 
FILE
 *
fout
, 
´št_mem
, 
mask
 );

2232 
	$´št_ÿche_¡©s
Ğ
FILE
 *
å
, & 
dl1_acûs£s
, & 
dl1_mis£s
 ) const;

2234 
	$g‘_ÿche_¡©s
(
ÿche_¡©s
 &
cs
) const;

2235 
	$g‘_L1I_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const;

2236 
	$g‘_L1D_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const;

2237 
	$g‘_L1C_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const;

2238 
	$g‘_L1T_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const;

2240 
	$g‘_iút_¡©s
(&
n_simt_to_mem
, &
n_mem_to_simt
) const;

2242 
´iv©e
:

2243 
m_şu¡”_id
;

2244 
gpgpu_sim
 *
m_gpu
;

2245 cÚ¡ 
shad”_cÜe_cÚfig
 *
m_cÚfig
;

2246 
shad”_cÜe_¡©s
 *
m_¡©s
;

2247 
memÜy_¡©s_t
 *
m_memÜy_¡©s
;

2248 
shad”_cÜe_ùx
 **
m_cÜe
;

2250 
m_ùa_issue_Ãxt_cÜe
;

2251 
¡d
::
li¡
<> 
m_cÜe_sim_Üd”
;

2252 
¡d
::
li¡
<
mem_ãtch
*> 
m_»¥Ú£_fifo
;

2253 
	}
};

2255 şas 
	cshad”_memÜy_š‹rçû
 : 
public
 
mem_ãtch_š‹rçû
 {

2256 
public
:

2257 
	$shad”_memÜy_š‹rçû
Ğ
shad”_cÜe_ùx
 *
cÜe
, 
simt_cÜe_şu¡”
 *
şu¡”
 ) { 
m_cÜe
=cÜe; 
m_şu¡”
=cluster; }

2258 
vœtu®
 
boŞ
 
	$fuÎ
Ğ
size
, 
boŞ
 
wr™e
 ) const

2260  
m_şu¡”
->
	`iút_šjeùiÚ_bufãr_fuÎ
(
size
,
wr™e
);

2261 
	}
}

2262 
vœtu®
 
	$push
(
mem_ãtch
 *
mf
)

2264 
m_cÜe
->
	`šc_simt_to_mem
(
mf
->
	`g‘_num_æ™s
(
Œue
));

2265 
m_şu¡”
->
	`iút_šjeù_»que¡_·ck‘
(
mf
);

2266 
	}
}

2267 
	g´iv©e
:

2268 
shad”_cÜe_ùx
 *
m_cÜe
;

2269 
simt_cÜe_şu¡”
 *
	gm_şu¡”
;

2272 şas 
	c³rãù_memÜy_š‹rçû
 : 
public
 
mem_ãtch_š‹rçû
 {

2273 
public
:

2274 
	$³rãù_memÜy_š‹rçû
Ğ
shad”_cÜe_ùx
 *
cÜe
, 
simt_cÜe_şu¡”
 *
şu¡”
 ) { 
m_cÜe
=cÜe; 
m_şu¡”
=cluster; }

2275 
vœtu®
 
boŞ
 
	$fuÎ
Ğ
size
, 
boŞ
 
wr™e
) const

2277  
m_şu¡”
->
	`»¥Ú£_queue_fuÎ
();

2278 
	}
}

2279 
vœtu®
 
	$push
(
mem_ãtch
 *
mf
)

2281 iàĞ
mf
 && mf->
	`i§tomic
() )

2282 
mf
->
	`do_©omic
();

2283 
m_cÜe
->
	`šc_simt_to_mem
(
mf
->
	`g‘_num_æ™s
(
Œue
));

2284 
m_şu¡”
->
	`push_»¥Ú£_fifo
(
mf
);

2285 
	}
}

2286 
	g´iv©e
:

2287 
shad”_cÜe_ùx
 *
m_cÜe
;

2288 
simt_cÜe_şu¡”
 *
	gm_şu¡”
;

2292 
šlše
 
	gscheduËr_un™
::
	$g‘_sid
(ècÚ¡ {  
m_shad”
->
	`g‘_sid
(); 
	}
}

	@shader_trace.h

29 #iâdeà
__SHADER_TRACE_H__


30 
	#__SHADER_TRACE_H__


	)

32 
	~"../Œaû.h
"

35 #ià
TRACING_ON


37 
	#SHADER_PRINT_STR
 
SIM_PRINT_STR
 "CÜ%d - "

	)

38 
	#SCHED_PRINT_STR
 
SHADER_PRINT_STR
 "ScheduË¸%d - "

	)

39 
	#SHADER_DTRACE
(
x
è(
	`DTRACE
(xè&& (
T¿û
::
§m¶šg_cÜe
 =ğ
	`g‘_sid
()\

40 || 
T¿û
::
§m¶šg_cÜe
 =ğ-1))

	)

44 
	#SHADER_DPRINTF
(
x
, ...) do {\

45 ià(
	`SHADER_DTRACE
(
x
)) {\

46 
	`´štf
Ğ
SHADER_PRINT_STR
,\

47 
gpu_sim_cyşe
 + 
gpu_tÙ_sim_cyşe
,\

48 
T¿û
::
Œaû_¡»ams_¡r
[T¿û::
x
],\

49 
	`g‘_sid
() );\

50 
	`´štf
(
__VA_ARGS__
);\

52 } 0)

	)

56 
	#SCHED_DPRINTF
(...) do {\

57 ià(
	`SHADER_DTRACE
(
WARP_SCHEDULER
)) {\

58 
	`´štf
Ğ
SCHED_PRINT_STR
,\

59 
gpu_sim_cyşe
 + 
gpu_tÙ_sim_cyşe
,\

60 
T¿û
::
Œaû_¡»ams_¡r
[T¿û::
WARP_SCHEDULER
],\

61 
	`g‘_sid
(),\

62 
m_id
 );\

63 
	`´štf
(
__VA_ARGS__
);\

65 } 0)

	)

69 
	#SHADER_DTRACE
(
x
è(
çl£
)

	)

70 
	#SHADER_DPRINTF
(
x
, ...èdØ{} 0)

	)

71 
	#SCHED_DPRINTF
(
x
, ...èdØ{} 0)

	)

	@stack.cc

28 
	~"¡ack.h
"

30 
	~<¡dlib.h
>

31 
	~<as£¹.h
>

33 
	$push_¡ack
(
Sck
 *
S
, 
add»ss_ty³
 
v®
) {

34 
	`as£¹
(
S
->
tİ
 < S->
max_size
);

35 
S
->
v
[S->
tİ
] = 
v®
;

36 (
S
->
tİ
)++;

38 
	}
}

40 
add»ss_ty³
 
	$pİ_¡ack
(
Sck
 *
S
) {

41 (
S
->
tİ
)--;

42 (
S
->
v
[S->
tİ
]);

43 
	}
}

45 
add»ss_ty³
 
	$tİ_¡ack
(
Sck
 *
S
) {

46 
	`as£¹
(
S
->
tİ
 >= 1);

47 (
S
->
v
[S->
tİ
 - 1]);

48 
	}
}

50 
Sck
* 
	$Ãw_¡ack
(
size
) {

51 
Sck
* 
S
;

52 
S
 = (
Sck
*)
	`m®loc
((Stack));

53 
S
->
max_size
 = 
size
;

54 
S
->
tİ
 = 0;

55 
S
->
v
 = (
add»ss_ty³
*)
	`ÿÎoc
(
size
, (address_type));

56  
S
;

57 
	}
}

59 
	$ä“_¡ack
(
Sck
 *
S
) {

60 
	`ä“
(
S
->
v
);

61 
	`ä“
(
S
);

62 
	}
}

64 
	$size_¡ack
(
Sck
 *
S
) {

65  
S
->
tİ
;

66 
	}
}

68 
	$fuÎ_¡ack
(
Sck
 *
S
) {

69  
S
->
tİ
 >ğS->
max_size
;

70 
	}
}

72 
	$em±y_¡ack
(
Sck
 *
S
) {

73  
S
->
tİ
 == 0;

74 
	}
}

76 
	$–em’t_exi¡_¡ack
(
Sck
 *
S
, 
add»ss_ty³
 
v®ue
) {

77 
i
;

78 
i
 = 0; i < 
S
->
tİ
; ++i) {

79 ià(
v®ue
 =ğ
S
->
v
[
i
]) {

84 
	}
}

86 
	$»£t_¡ack
(
Sck
 *
S
) {

87 
S
->
tİ
 = 0;

88 
	}
}

	@stack.h

28 #iâdeà
_MY_STACK_


29 
	#_MY_STACK_


	)

31 
	~"../ab¡¿ù_h¬dw¬e_mod–.h
"

34 
add»ss_ty³
 *
	mv
;

35 
	mmax_size
;

36 
	mtİ
;

37 } 
	tSck
;

39 
push_¡ack
(
Sck
 *
S
, 
add»ss_ty³
 
v®
);

40 
add»ss_ty³
 
pİ_¡ack
(
Sck
 *
S
);

41 
add»ss_ty³
 
tİ_¡ack
(
Sck
 *
S
);

42 
Sck
* 
Ãw_¡ack
(
size
);

43 
ä“_¡ack
(
Sck
 *
S
);

44 
size_¡ack
(
Sck
 *
S
);

45 
fuÎ_¡ack
(
Sck
 *
S
);

46 
em±y_¡ack
(
Sck
 *
S
);

47 
–em’t_exi¡_¡ack
(
Sck
 *
S
, 
add»ss_ty³
 
v®ue
);

48 
»£t_¡ack
(
Sck
 *
S
);

	@stat-tool.cc

28 
	~"¡©-toŞ.h
"

30 
	~<¡dio.h
>

31 
	~<¡dlib.h
>

32 
	~<as£¹.h
>

33 
	~<zlib.h
>

34 
	~<¡ršg
>

35 
	~<li¡
>

36 
	~<veùÜ
>

37 
	~<m­
>

38 
	~<®gÜ™hm
>

39 
	~<¡ršg
>

43 
	gmš_¢­_shÙ_š‹rv®
 = 0;

44 
	gÃxt_¢­_shÙ_cyşe
 = 0;

45 
	g¡d
::
li¡
<
¢­_shÙ_Œigg”
*> 
li¡_ss_Œigg”
;

47 
	$add_¢­_shÙ_Œigg”
 (
¢­_shÙ_Œigg”
* 
ss_Œigg”
)

50 ià(
mš_¢­_shÙ_š‹rv®
 =ğ0 || mš_¢­_shÙ_š‹rv® > 
ss_Œigg”
->
	`g‘_š‹rv®
()) {

51 
mš_¢­_shÙ_š‹rv®
 = 
ss_Œigg”
->
	`g‘_š‹rv®
();

52 
Ãxt_¢­_shÙ_cyşe
 = 
mš_¢­_shÙ_š‹rv®
;

54 
li¡_ss_Œigg”
.
	`push_back
(
ss_Œigg”
);

55 
	}
}

57 
	$»move_¢­_shÙ_Œigg”
 (
¢­_shÙ_Œigg”
* 
ss_Œigg”
)

59 
li¡_ss_Œigg”
.
	`»move
(
ss_Œigg”
);

60 
	}
}

62 
	$Œy_¢­_shÙ
 (
cu¼’t_cyşe
)

64 ià(
mš_¢­_shÙ_š‹rv®
 == 0) ;

65 ià(
cu¼’t_cyşe
 !ğ
Ãxt_¢­_shÙ_cyşe
) ;

67 
¡d
::
li¡
<
¢­_shÙ_Œigg”
*>::
™”©Ü
 
ss_Œigg”_™”
 = 
li¡_ss_Œigg”
.
	`begš
();

68 ; 
ss_Œigg”_™”
 !ğ
li¡_ss_Œigg”
.
	`’d
(); ++ss_trigger_iter) {

69 (*
ss_Œigg”_™”
)->
	`¢­_shÙ
(
cu¼’t_cyşe
);

71 
Ãxt_¢­_shÙ_cyşe
 = 
cu¼’t_cyşe
 + 
mš_¢­_shÙ_š‹rv®
;

72 
	}
}

76 
	g¥l_š‹rv®
 = 0;

77 
	gÃxt_¥l_cyşe
 = 0;

78 
	g¡d
::
li¡
<
¥l_log_š‹rçû
*> 
li¡_¥l_log
;

80 
	$add_¥l_log
 (
¥l_log_š‹rçû
* 
¥l_log
)

82 
li¡_¥l_log
.
	`push_back
(
¥l_log
);

83 
	}
}

85 
	$»move_¥l_log
 (
¥l_log_š‹rçû
* 
¥l_log
)

87 
li¡_¥l_log
.
	`»move
(
¥l_log
);

88 
	}
}

90 
	$£t_¥l_š‹rv®
 (
š‹rv®
)

92 
¥l_š‹rv®
 = 
š‹rv®
;

93 
Ãxt_¥l_cyşe
 = 
¥l_š‹rv®
;

94 
	}
}

96 
	$¥l_log_to_fe
 (
FILE
 *
fout
, 
fš®
, 
cu¼’t_cyşe
)

98 ià(!
fš®
 && 
¥l_š‹rv®
 == 0) ;

99 ià(!
fš®
 && 
cu¼’t_cyşe
 <ğ
Ãxt_¥l_cyşe
) ;

101 
	`årštf
(
fout
, "\n");

102 
¡d
::
li¡
<
¥l_log_š‹rçû
*>::
™”©Ü
 
i_¥l_log
 = 
li¡_¥l_log
.
	`begš
();

103 ; 
i_¥l_log
 !ğ
li¡_¥l_log
.
	`’d
(); ++i_spill_log) {

104 (*
i_¥l_log
)->
	`¥l
(
fout
, 
fš®
);

106 
	`fæush
(
fout
);

108 
Ãxt_¥l_cyşe
 = 
cu¼’t_cyşe
 + 
¥l_š‹rv®
;

109 
	}
}

113 
Œª¦©e_pc_to_±xlš’o
(
pc
);

115 
	gn_th»ad_CFlogg”s
 = 0;

116 
th»ad_CFloÿl™y
** 
	gth»ad_CFlogg”
 = 
NULL
;

118 
	$ü—‹_th»ad_CFlogg”
Ğ
n_logg”s
, 
n_th»ads
, 
add»ss_ty³
 
¡¬t_pc
, 
loggšg_š‹rv®
)

120 
	`de¡roy_th»ad_CFlogg”
();

122 
n_th»ad_CFlogg”s
 = 
n_logg”s
;

123 
th»ad_CFlogg”
 = 
Ãw
 
th»ad_CFloÿl™y
*[
n_logg”s
];

125 
¡d
::
¡ršg
 
	`Çme_l
("CFLog");

126 
bufãr
[32];

127 
i
 = 0; i < 
n_th»ad_CFlogg”s
; i++) {

128 
	`¢´štf
(
bufãr
, 32, "%02d", 
i
);

129 
th»ad_CFlogg”
[
i
] = 
Ãw
 
	`th»ad_CFloÿl™y
Ğ
Çme_l
 + 
bufãr
, 
loggšg_š‹rv®
, 
n_th»ads
, 
¡¬t_pc
);

130 ià(
loggšg_š‹rv®
 != 0) {

131 
	`add_¢­_shÙ_Œigg”
(
th»ad_CFlogg”
[
i
]);

132 
	`add_¥l_log
(
th»ad_CFlogg”
[
i
]);

135 
	}
}

137 
	$de¡roy_th»ad_CFlogg”
( )

139 ià(
th»ad_CFlogg”
 !ğ
NULL
) {

140 
i
 = 0; i < 
n_th»ad_CFlogg”s
; i++) {

141 
	`»move_¢­_shÙ_Œigg”
(
th»ad_CFlogg”
[
i
]);

142 
	`»move_¥l_log
(
th»ad_CFlogg”
[
i
]);

143 
d–‘e
 
th»ad_CFlogg”
[
i
];

145 
d–‘e
 [] 
th»ad_CFlogg”
;

146 
th»ad_CFlogg”
 = 
NULL
;

148 
	}
}

150 
	$cæog_upd©e_th»ad_pc
Ğ
logg”_id
, 
th»ad_id
, 
add»ss_ty³
 
pc
 )

152 ià(
th»ad_CFlogg”
 =ğ
NULL
) ;

153 ià(
th»ad_id
 < 0) ;

154 
th»ad_CFlogg”
[
logg”_id
]->
	`upd©e_th»ad_pc
(
th»ad_id
, 
pc
);

155 
	}
}

158 
	$cæog_¢­shÙ
Ğ
logg”_id
, 
cyşe
 )

160 
th»ad_CFlogg”
[
logg”_id
]->
	`¢­_shÙ
(
cyşe
);

161 
	}
}

163 
	$cæog_´št
(
FILE
 *
fout
)

165 ià(
th»ad_CFlogg”
 =ğ
NULL
) ;

166 
i
 = 0; i < 
n_th»ad_CFlogg”s
; i++) {

167 
th»ad_CFlogg”
[
i
]->
	`´št_hi¡o
(
fout
);

169 
	}
}

171 
	$cæog_visu®iz”_´št
(
FILE
 *
fout
)

173 ià(
th»ad_CFlogg”
 =ğ
NULL
) ;

174 
i
 = 0; i < 
n_th»ad_CFlogg”s
; i++) {

175 
th»ad_CFlogg”
[
i
]->
	`´št_visu®iz”
(
fout
);

177 
	}
}

179 
	$cæog_visu®iz”_gz´št
(
gzFe
 
fout
)

181 ià(
th»ad_CFlogg”
 =ğ
NULL
) ;

182 
i
 = 0; i < 
n_th»ad_CFlogg”s
; i++) {

183 
th»ad_CFlogg”
[
i
]->
	`´št_visu®iz”
(
fout
);

185 
	}
}

189 
	gš¢_w¬p_occ_logg”
::
s_ids
 = 0;

191 
	g¡d
::
veùÜ
<
š¢_w¬p_occ_logg”
> 
iwo_logg”
;

193 
	$š¢_w¬p_occ_ü—‹
Ğ
n_logg”s
, 
simd_width
 )

195 
iwo_logg”
.
	`ş—r
();

196 
iwo_logg”
.
	`assign
(
n_logg”s
, 
	`š¢_w¬p_occ_logg”
(
simd_width
));

197 
i
 = 0; i < 
iwo_logg”
.
	`size
(); i++) {

198 
iwo_logg”
[
i
].
	`£t_id
(i);

200 
	}
}

202 
	$š¢_w¬p_occ_log
Ğ
logg”_id
, 
add»ss_ty³
 
pc
, 
w¬p_occ
)

204 ià(
w¬p_occ
 <= 0) ;

205 
iwo_logg”
[
logg”_id
].
	`log
(
pc
, 
w¬p_occ
);

206 
	}
}

208 
	$š¢_w¬p_occ_´št
Ğ
FILE
 *
fout
 )

210 
i
 = 0; i < 
iwo_logg”
.
	`size
(); i++) {

211 
iwo_logg”
[
i
].
	`´št
(
fout
);

213 
	}
}

217 
	glš—r_hi¡og¿m_logg”
::
s_ids
 = 0;

223 
	g¡d
::
veùÜ
<
lš—r_hi¡og¿m_logg”
> 
s_w¬p_occ_logg”
;

225 
	$shad”_w¬p_occ_ü—‹
Ğ
n_logg”s
, 
simd_width
, 
loggšg_š‹rv®
)

228 
s_w¬p_occ_logg”
.
	`assign
(
n_logg”s
,

229 
	`lš—r_hi¡og¿m_logg”
(
simd_width
 + 1, 
loggšg_š‹rv®
, "ShdrWarpOcc"));

230 
i
 = 0; i < 
s_w¬p_occ_logg”
.
	`size
(); i++) {

231 
s_w¬p_occ_logg”
[
i
].
	`£t_id
(i);

232 
	`add_¢­_shÙ_Œigg”
(&(
s_w¬p_occ_logg”
[
i
]));

233 
	`add_¥l_log
(&(
s_w¬p_occ_logg”
[
i
]));

235 
	}
}

237 
	$shad”_w¬p_occ_log
Ğ
logg”_id
, 
w¬p_occ
)

239 
s_w¬p_occ_logg”
[
logg”_id
].
	`log
(
w¬p_occ
);

240 
	}
}

242 
	$shad”_w¬p_occ_¢­shÙ
Ğ
logg”_id
, 
cu¼’t_cyşe
)

244 
s_w¬p_occ_logg”
[
logg”_id
].
	`¢­_shÙ
(
cu¼’t_cyşe
);

245 
	}
}

247 
	$shad”_w¬p_occ_´št
Ğ
FILE
 *
fout
 )

249 
i
 = 0; i < 
s_w¬p_occ_logg”
.
	`size
(); i++) {

250 
s_w¬p_occ_logg”
[
i
].
	`´št
(
fout
);

252 
	}
}

259 
	gs_mem_acc_logg”_n_d¿m
 = 0;

260 
	gs_mem_acc_logg”_n_bªk
 = 0;

261 
	g¡d
::
veùÜ
<
lš—r_hi¡og¿m_logg”
> 
s_mem_acc_logg”
;

263 
	$shad”_mem_acc_ü—‹
Ğ
n_logg”s
, 
n_d¿m
, 
n_bªk
, 
loggšg_š‹rv®
)

266 
s_mem_acc_logg”
.
	`assign
(
n_logg”s
,

267 
	`lš—r_hi¡og¿m_logg”
(2 * 
n_d¿m
 * (
n_bªk
 + 1), 
loggšg_š‹rv®
, "ShdrMemAcc"));

269 
s_mem_acc_logg”_n_d¿m
 = 
n_d¿m
;

270 
s_mem_acc_logg”_n_bªk
 = 
n_bªk
;

271 
i
 = 0; i < 
s_mem_acc_logg”
.
	`size
(); i++) {

272 
s_mem_acc_logg”
[
i
].
	`£t_id
(i);

273 
	`add_¢­_shÙ_Œigg”
(&(
s_mem_acc_logg”
[
i
]));

274 
	`add_¥l_log
(&(
s_mem_acc_logg”
[
i
]));

276 
	}
}

278 
	$shad”_mem_acc_log
Ğ
logg”_id
, 
d¿m_id
, 
bªk
, 
rw
)

280 ià(
s_mem_acc_logg”_n_d¿m
 == 0) ;

281 
wr™e_off£t
 = 0;

282 
rw
) {

283 'r': 
wr™e_off£t
 = 0; ;

284 'w': 
wr™e_off£t
 = (
s_mem_acc_logg”_n_bªk
 + 1è* 
s_mem_acc_logg”_n_d¿m
; ;

285 : 
	`as£¹
(0); ;

287 
s_mem_acc_logg”
[
logg”_id
].
	`log
(
d¿m_id
 * 
s_mem_acc_logg”_n_bªk
 + 
bªk
 + 
wr™e_off£t
);

288 
	}
}

290 
	$shad”_mem_acc_¢­shÙ
Ğ
logg”_id
, 
cu¼’t_cyşe
)

292 
s_mem_acc_logg”
[
logg”_id
].
	`¢­_shÙ
(
cu¼’t_cyşe
);

293 
	}
}

295 
	$shad”_mem_acc_´št
Ğ
FILE
 *
fout
 )

297 
i
 = 0; i < 
s_mem_acc_logg”
.
	`size
(); i++) {

298 
s_mem_acc_logg”
[
i
].
	`´št
(
fout
);

300 
	}
}

307 
boŞ
 
	gs_mem_Ït_logg”_u£d
 = 
çl£
;

308 
	gs_mem_Ït_logg”_nbšs
 = 48;

309 
	g¡d
::
veùÜ
<
lš—r_hi¡og¿m_logg”
> 
s_mem_Ït_logg”
;

311 
	$shad”_mem_Ït_ü—‹
Ğ
n_logg”s
, 
loggšg_š‹rv®
)

313 
s_mem_Ït_logg”
.
	`assign
(
n_logg”s
,

314 
	`lš—r_hi¡og¿m_logg”
(
s_mem_Ït_logg”_nbšs
, 
loggšg_š‹rv®
, "ShdrMemLat"));

316 
i
 = 0; i < 
s_mem_Ït_logg”
.
	`size
(); i++) {

317 
s_mem_Ït_logg”
[
i
].
	`£t_id
(i);

318 
	`add_¢­_shÙ_Œigg”
(&(
s_mem_Ït_logg”
[
i
]));

319 
	`add_¥l_log
(&(
s_mem_Ït_logg”
[
i
]));

322 
s_mem_Ït_logg”_u£d
 = 
Œue
;

323 
	}
}

325 
	$shad”_mem_Ït_log
Ğ
logg”_id
, 
Ï‹ncy
)

327 ià(
s_mem_Ït_logg”_u£d
 =ğ
çl£
) ;

328 ià(
Ï‹ncy
 > (1<<(
s_mem_Ït_logg”_nbšs
/2))è
	`as£¹
(0);

329 
	`as£¹
(
Ï‹ncy
 > 0);

331 
Ï‹ncy_bš
;

333 
bš
;

334 
v
 = 
Ï‹ncy
;

335 
shiá
;

337 
bš
 = (
v
 > 0xFFFF) << 4; v >>= bin;

338 
shiá
 = (
v
 > 0xFF ) << 3; v >>ğshiá; 
bš
 |= shift;

339 
shiá
 = (
v
 > 0xF ) << 2; v >>ğshiá; 
bš
 |= shift;

340 
shiá
 = (
v
 > 0x3 ) << 1; v >>ğshiá; 
bš
 |= shift;

341 
bš
 |ğ(
v
 >> 1);

342 
Ï‹ncy_bš
 = 2 * 
bš
;

343 ià(
bš
 > 0) {

344 
Ï‹ncy_bš
 +ğ((
Ï‹ncy
 & (1 << (
bš
 - 1))) != 0)? 1 : 0;

347 
s_mem_Ït_logg”
[
logg”_id
].
	`log
(
Ï‹ncy_bš
);

348 
	}
}

350 
	$shad”_mem_Ït_¢­shÙ
Ğ
logg”_id
, 
cu¼’t_cyşe
)

352 
s_mem_Ït_logg”
[
logg”_id
].
	`¢­_shÙ
(
cu¼’t_cyşe
);

353 
	}
}

355 
	$shad”_mem_Ït_´št
Ğ
FILE
 *
fout
 )

357 
i
 = 0; i < 
s_mem_Ït_logg”
.
	`size
(); i++) {

358 
s_mem_Ït_logg”
[
i
].
	`´št
(
fout
);

360 
	}
}

367 
	gs_ÿche_acûss_logg”_n_ty³s
 = 0;

368 
	g¡d
::
veùÜ
<
lš—r_hi¡og¿m_logg”
> 
s_ÿche_acûss_logg”
;

370 
	eÿche_acûss_logg”_ty³s
 {

371 
	mNORMAL
, 
	mTEXTURE
, 
	mCONSTANT
, 
	mINSTRUCTION


374 
	$g‘_shad”_nÜm®_ÿche_id
(è{  
NORMAL
; 
	}
}

375 
	$g‘_shad”_‹xtu»_ÿche_id
(è{  
TEXTURE
; 
	}
}

376 
	$g‘_shad”_cÚ¡ªt_ÿche_id
(è{  
CONSTANT
; 
	}
}

377 
	$g‘_shad”_š¡ruùiÚ_ÿche_id
(è{  
INSTRUCTION
; 
	}
}

379 
	$shad”_ÿche_acûss_ü—‹
Ğ
n_logg”s
, 
n_ty³s
, 
loggšg_š‹rv®
)

382 
s_ÿche_acûss_logg”
.
	`assign
(
n_logg”s
,

383 
	`lš—r_hi¡og¿m_logg”
(
n_ty³s
 * 2, 
loggšg_š‹rv®
, "ShdrCacheMiss"));

385 
s_ÿche_acûss_logg”_n_ty³s
 = 
n_ty³s
;

386 
i
 = 0; i < 
s_ÿche_acûss_logg”
.
	`size
(); i++) {

387 
s_ÿche_acûss_logg”
[
i
].
	`£t_id
(i);

388 
	`add_¢­_shÙ_Œigg”
(&(
s_ÿche_acûss_logg”
[
i
]));

389 
	`add_¥l_log
(&(
s_ÿche_acûss_logg”
[
i
]));

391 
	}
}

393 
	$shad”_ÿche_acûss_log
Ğ
logg”_id
, 
ty³
, 
miss
)

395 ià(
s_ÿche_acûss_logg”_n_ty³s
 == 0) ;

396 ià(
logg”_id
 < 0) ;

397 
	`as£¹
(
ty³
 =ğ
NORMAL
 ||y³ =ğ
TEXTURE
 ||y³ =ğ
CONSTANT
 ||y³ =ğ
INSTRUCTION
);

398 
	`as£¹
(
miss
 == 0 || miss == 1);

400 
s_ÿche_acûss_logg”
[
logg”_id
].
	`log
(2 * 
ty³
 + 
miss
);

401 
	}
}

403 
	$shad”_ÿche_acûss_uÆog
Ğ
logg”_id
, 
ty³
, 
miss
)

405 ià(
s_ÿche_acûss_logg”_n_ty³s
 == 0) ;

406 ià(
logg”_id
 < 0) ;

407 
	`as£¹
(
ty³
 =ğ
NORMAL
 ||y³ =ğ
TEXTURE
 ||y³ =ğ
CONSTANT
 ||y³ =ğ
INSTRUCTION
);

408 
	`as£¹
(
miss
 == 0 || miss == 1);

410 
s_ÿche_acûss_logg”
[
logg”_id
].
	`uÆog
(2 * 
ty³
 + 
miss
);

411 
	}
}

413 
	$shad”_ÿche_acûss_´št
Ğ
FILE
 *
fout
 )

415 
i
 = 0; i < 
s_ÿche_acûss_logg”
.
	`size
(); i++) {

416 
s_ÿche_acûss_logg”
[
i
].
	`´št
(
fout
);

418 
	}
}

425 
lš—r_hi¡og¿m_logg”
 *
	gs_CTA_couÁ_logg”
 = 
NULL
;

427 
	$shad”_CTA_couÁ_ü—‹
Ğ
n_shad”s
, 
loggšg_š‹rv®
)

430 ià(
s_CTA_couÁ_logg”
 !ğ
NULL
è
d–‘e
 s_CTA_count_logger;

431 
s_CTA_couÁ_logg”
 = 
Ãw
 
	`lš—r_hi¡og¿m_logg”
(
n_shad”s
, 
loggšg_š‹rv®
, "ShdrCTACouÁ", 
çl£
);

433 
s_CTA_couÁ_logg”
->
	`£t_id
(-1);

434 ià(
loggšg_š‹rv®
 != 0) {

435 
	`add_¢­_shÙ_Œigg”
(
s_CTA_couÁ_logg”
);

436 
	`add_¥l_log
(
s_CTA_couÁ_logg”
);

438 
	}
}

440 
	$shad”_CTA_couÁ_log
Ğ
shad”_id
, 
nCTAadded
 )

442 ià(
s_CTA_couÁ_logg”
 =ğ
NULL
) ;

444 
i
 = 0; i < 
nCTAadded
; i++) {

445 
s_CTA_couÁ_logg”
->
	`log
(
shad”_id
);

447 
	}
}

449 
	$shad”_CTA_couÁ_uÆog
Ğ
shad”_id
, 
nCTAdÚe
 )

451 ià(
s_CTA_couÁ_logg”
 =ğ
NULL
) ;

453 
i
 = 0; i < 
nCTAdÚe
; i++) {

454 
s_CTA_couÁ_logg”
->
	`uÆog
(
shad”_id
);

456 
	}
}

458 
	$shad”_CTA_couÁ_´št
Ğ
FILE
 *
fout
 )

460 ià(
s_CTA_couÁ_logg”
 =ğ
NULL
) ;

461 
s_CTA_couÁ_logg”
->
	`´št
(
fout
);

462 
	}
}

464 
	$shad”_CTA_couÁ_visu®iz”_´št
Ğ
FILE
 *
fout
 )

466 ià(
s_CTA_couÁ_logg”
 =ğ
NULL
) ;

467 
s_CTA_couÁ_logg”
->
	`´št_visu®iz”
(
fout
);

468 
	}
}

470 
	$shad”_CTA_couÁ_visu®iz”_gz´št
Ğ
gzFe
 
fout
 )

472 ià(
s_CTA_couÁ_logg”
 =ğ
NULL
) ;

473 
s_CTA_couÁ_logg”
->
	`´št_visu®iz”
(
fout
);

474 
	}
}

480 
	gth»ad_š¢_¥ª
::
	$th»ad_š¢_¥ª
(
cyşe
)

481 : 
	`m_cyşe
(
cyşe
),

482 #ià(
Œ1_hash_m­_ism­
 == 1)

483 
	$m_š¢_¥ª_couÁ
()

485 
	$m_š¢_¥ª_couÁ
(32*1024)

488 
	}
}

490 
	gth»ad_š¢_¥ª
::~
	$th»ad_š¢_¥ª
(è{ 
	}
}

492 
th»ad_š¢_¥ª
::
	$th»ad_š¢_¥ª
(cÚ¡ 
th»ad_š¢_¥ª
& 
Ùh”
)

493 : 
	`m_cyşe
(
Ùh”
.
m_cyşe
),

494 
	$m_š¢_¥ª_couÁ
(
Ùh”
.
m_š¢_¥ª_couÁ
)

496 
	}
}

498 
	gth»ad_š¢_¥ª
&h»ad_š¢_¥ª::
İ”©Ü
=(cÚ¡ 
th»ad_š¢_¥ª
& 
Ùh”
)

500 
´štf
("thread_insn_span& operator=\n");

501 ià(
	gthis
 !ğ&
Ùh”
) {

502 
m_š¢_¥ª_couÁ
 = 
Ùh”
.m_insn_span_count;

503 
	gm_cyşe
 = 
Ùh”
.
m_cyşe
;

505  *
	gthis
;

508 
	gth»ad_š¢_¥ª
&h»ad_š¢_¥ª::
İ”©Ü
+=(cÚ¡ 
th»ad_š¢_¥ª
& 
Ùh”
)

510 
¥ª_couÁ_m­
::
cÚ¡_™”©Ü
 
i_sc
 = 
Ùh”
.
m_š¢_¥ª_couÁ
.
begš
();

511 ; 
	gi_sc
 !ğ
Ùh”
.
m_š¢_¥ª_couÁ
.
’d
(); ++i_sc) {

512 
	gm_š¢_¥ª_couÁ
[
i_sc
->
fœ¡
] +ği_sc->
£cÚd
;

514  *
	gthis
;

517 
	gth»ad_š¢_¥ª
::
	$£t_¥ª
Ğ
add»ss_ty³
 
pc
 )

519 ifĞ(()
pc
) >= 0 )

520 
m_š¢_¥ª_couÁ
[
pc
] += 1;

521 
	}
}

523 
	gth»ad_š¢_¥ª
::
	$»£t
(
cyşe
)

525 
m_cyşe
 = 
cyşe
;

526 
m_š¢_¥ª_couÁ
.
	`ş—r
();

527 
	}
}

529 
	gth»ad_š¢_¥ª
::
	$´št_¥ª
(
FILE
 *
fout
) const

531 
	`årštf
(
fout
, "%d: ", ()
m_cyşe
);

532 
¥ª_couÁ_m­
::
cÚ¡_™”©Ü
 
i_sc
 = 
m_š¢_¥ª_couÁ
.
	`begš
();

533 ; 
i_sc
 !ğ
m_š¢_¥ª_couÁ
.
	`’d
(); ++i_sc) {

534 
	`årštf
(
fout
, "%d ", 
i_sc
->
fœ¡
);

536 
	`årštf
(
fout
, "\n");

537 
	}
}

539 
	gth»ad_š¢_¥ª
::
	$´št_hi¡o
(
FILE
 *
fout
) const

541 
	`årštf
(
fout
, "%d:", ()
m_cyşe
);

542 
¥ª_couÁ_m­
::
cÚ¡_™”©Ü
 
i_sc
 = 
m_š¢_¥ª_couÁ
.
	`begš
();

543 ; 
i_sc
 !ğ
m_š¢_¥ª_couÁ
.
	`’d
(); ++i_sc) {

544 
	`årštf
(
fout
, "%d ", 
i_sc
->
£cÚd
);

546 
	`årštf
(
fout
, "\n");

547 
	}
}

549 
	gth»ad_š¢_¥ª
::
	$´št_¥¬£_hi¡o
(
FILE
 *
fout
) const

551 
n_´š‹d_’Œ›s
 = 0;

552 
¥ª_couÁ_m­
::
cÚ¡_™”©Ü
 
i_sc
 = 
m_š¢_¥ª_couÁ
.
	`begš
();

553 ; 
i_sc
 !ğ
m_š¢_¥ª_couÁ
.
	`’d
(); ++i_sc) {

554 
±x_lš’o
 = 
	`Œª¦©e_pc_to_±xlš’o
(
i_sc
->
fœ¡
);

555 
	`årštf
(
fout
, "%u %d ", 
±x_lš’o
, 
i_sc
->
£cÚd
);

556 
n_´š‹d_’Œ›s
++;

558 ià(
n_´š‹d_’Œ›s
 == 0) {

559 
	`årštf
(
fout
, "0 0 ");

561 
	`årštf
(
fout
, "\n");

562 
	}
}

564 
	gth»ad_š¢_¥ª
::
	$´št_¥¬£_hi¡o
(
gzFe
 
fout
) const

566 
n_´š‹d_’Œ›s
 = 0;

567 
¥ª_couÁ_m­
::
cÚ¡_™”©Ü
 
i_sc
 = 
m_š¢_¥ª_couÁ
.
	`begš
();

568 ; 
i_sc
 !ğ
m_š¢_¥ª_couÁ
.
	`’d
(); ++i_sc) {

569 
±x_lš’o
 = 
	`Œª¦©e_pc_to_±xlš’o
(
i_sc
->
fœ¡
);

570 
	`gz´štf
(
fout
, "%u %d ", 
±x_lš’o
, 
i_sc
->
£cÚd
);

571 
n_´š‹d_’Œ›s
++;

573 ià(
n_´š‹d_’Œ›s
 == 0) {

574 
	`gz´štf
(
fout
, "0 0 ");

576 
	`gz´štf
(
fout
, "\n");

577 
	}
}

581 
	gth»ad_CFloÿl™y
::
th»ad_CFloÿl™y
(
¡d
::
¡ršg
 
Çme
,

582 
¢­_shÙ_š‹rv®
,

583 
Áh»ads
,

584 
add»ss_ty³
 
¡¬t_pc
,

585 
¡¬t_cyşe
)

586 : 
¢­_shÙ_Œigg”
(
¢­_shÙ_š‹rv®
), 
m_Çme
(
Çme
),

587 
m_Áh»ads
(
Áh»ads
), 
m_th»ad_pc
Òth»ads, 
¡¬t_pc
), 
m_cyşe
(
¡¬t_cyşe
),

588 
	$m_thd_¥ª
(
¡¬t_cyşe
)

590 
¡d
::
	`fl
(
m_th»ad_pc
.
	`begš
(), m_th»ad_pc.
	`’d
(), -1);

591 
	}
}

593 
	gth»ad_CFloÿl™y
::~
	$th»ad_CFloÿl™y
()

595 
	}
}

597 
th»ad_CFloÿl™y
::
	$upd©e_th»ad_pc
Ğ
th»ad_id
, 
add»ss_ty³
 
pc
 )

599 
m_th»ad_pc
[
th»ad_id
] = 
pc
;

600 
m_thd_¥ª
.
	`£t_¥ª
(
pc
);

601 
	}
}

603 
	gth»ad_CFloÿl™y
::
	$¢­_shÙ
(
cu¼’t_cyşe
)

605 
m_thd_¥ª_¬chive
.
	`push_back
(
m_thd_¥ª
);

606 
m_thd_¥ª
.
	`»£t
(
cu¼’t_cyşe
);

607 
i
 = 0; i < ()
m_th»ad_pc
.
	`size
(); i++) {

608 
m_thd_¥ª
.
	`£t_¥ª
(
m_th»ad_pc
[
i
]);

610 
	}
}

612 
	gth»ad_CFloÿl™y
::
	$¥l
(
FILE
 *
fout
, 
boŞ
 
fš®
)

614 
¡d
::
li¡
<
th»ad_š¢_¥ª
>::
™”©Ü
 
l™
 = 
m_thd_¥ª_¬chive
.
	`begš
();

615 ; 
l™
 !ğ
m_thd_¥ª_¬chive
.
	`’d
();†™ = m_thd_¥ª_¬chive.
	`”a£
(lit) ) {

616 
	`årštf
(
fout
, "%s-", 
m_Çme
.
	`c_¡r
());

617 
l™
->
	`´št_hi¡o
(
fout
);

619 
	`as£¹
Ğ
m_thd_¥ª_¬chive
.
	`em±y
() );

620 ià(
fš®
) {

621 
	`årštf
(
fout
, "%s-", 
m_Çme
.
	`c_¡r
());

622 
m_thd_¥ª
.
	`´št_hi¡o
(
fout
);

624 
	}
}

627 
	gth»ad_CFloÿl™y
::
	$´št_visu®iz”
(
FILE
 *
fout
)

629 
	`årštf
(
fout
, "%s: ", 
m_Çme
.
	`c_¡r
());

630 ià(
m_thd_¥ª_¬chive
.
	`em±y
()) {

633 
m_thd_¥ª
.
	`´št_¥¬£_hi¡o
(
fout
);

636 
m_thd_¥ª
.
	`»£t
(0);

637 
i
 = 0; i < ()
m_th»ad_pc
.
	`size
(); i++)

638 
m_thd_¥ª
.
	`£t_¥ª
(
m_th»ad_pc
[
i
]);

640 
	`as£¹
(0);

642 
	}
}

644 
	gth»ad_CFloÿl™y
::
	$´št_visu®iz”
(
gzFe
 
fout
)

646 
	`gz´štf
(
fout
, "%s: ", 
m_Çme
.
	`c_¡r
());

647 ià(
m_thd_¥ª_¬chive
.
	`em±y
()) {

650 
m_thd_¥ª
.
	`´št_¥¬£_hi¡o
(
fout
);

653 
m_thd_¥ª
.
	`»£t
(0);

654 
i
 = 0; i < ()
m_th»ad_pc
.
	`size
(); i++) {

655 
m_thd_¥ª
.
	`£t_¥ª
(
m_th»ad_pc
[
i
]);

658 
	`as£¹
(0);

660 
	}
}

662 
	gth»ad_CFloÿl™y
::
	$´št_¥ª
(
FILE
 *
fout
) const

664 
¡d
::
li¡
<
th»ad_š¢_¥ª
>::
cÚ¡_™”©Ü
 
l™
 = 
m_thd_¥ª_¬chive
.
	`begš
();

665 ; 
l™
 !ğ
m_thd_¥ª_¬chive
.
	`’d
(); ++lit) {

666 
	`årštf
(
fout
, "%s-", 
m_Çme
.
	`c_¡r
());

667 
l™
->
	`´št_¥ª
(
fout
);

669 
	`årštf
(
fout
, "%s-", 
m_Çme
.
	`c_¡r
());

670 
m_thd_¥ª
.
	`´št_¥ª
(
fout
);

671 
	}
}

673 
	gth»ad_CFloÿl™y
::
	$´št_hi¡o
(
FILE
 *
fout
) const

675 
¡d
::
li¡
<
th»ad_š¢_¥ª
>::
cÚ¡_™”©Ü
 
l™
 = 
m_thd_¥ª_¬chive
.
	`begš
();

676 ; 
l™
 !ğ
m_thd_¥ª_¬chive
.
	`’d
(); ++lit) {

677 
	`årštf
(
fout
, "%s-", 
m_Çme
.
	`c_¡r
());

678 
l™
->
	`´št_hi¡o
(
fout
);

680 
	`årštf
(
fout
, "%s-", 
m_Çme
.
	`c_¡r
());

681 
m_thd_¥ª
.
	`´št_hi¡o
(
fout
);

682 
	}
}

686 
	glš—r_hi¡og¿m_logg”
::
	$lš—r_hi¡og¿m_logg”
(
n_bšs
,

687 
¢­_shÙ_š‹rv®
,

688 cÚ¡ *
Çme
,

689 
boŞ
 
»£t_©_¢­_shÙ
,

690 
¡¬t_cyşe
 )

691 : 
	`¢­_shÙ_Œigg”
(
¢­_shÙ_š‹rv®
),

692 
	`m_n_bšs
(
n_bšs
),

693 
	`m_cu¼_lš_hi¡
(
m_n_bšs
, 
¡¬t_cyşe
),

694 
	`m_lš_hi¡_¬chive
(),

695 
	`m_cyşe
(
¡¬t_cyşe
),

696 
	`m_»£t_©_¢­_shÙ
(
»£t_©_¢­_shÙ
),

697 
	`m_Çme
(
Çme
),

698 
	`m_id
(
s_ids
++)

700 
	}
}

702 
	glš—r_hi¡og¿m_logg”
::
	$lš—r_hi¡og¿m_logg”
(cÚ¡ 
lš—r_hi¡og¿m_logg”
& 
Ùh”
)

703 : 
	`¢­_shÙ_Œigg”
(
Ùh”
.
	`g‘_š‹rv®
()),

704 
	`m_n_bšs
(
Ùh”
.
m_n_bšs
),

705 
	`m_cu¼_lš_hi¡
(
m_n_bšs
, 
Ùh”
.
m_cyşe
),

706 
	`m_lš_hi¡_¬chive
(),

707 
	`m_cyşe
(
Ùh”
.
m_cyşe
),

708 
	`m_»£t_©_¢­_shÙ
(
Ùh”
.
m_»£t_©_¢­_shÙ
),

709 
	`m_Çme
(
Ùh”
.
m_Çme
),

710 
	`m_id
(
s_ids
++)

712 
	}
}

714 
	glš—r_hi¡og¿m_logg”
::~
	$lš—r_hi¡og¿m_logg”
()

716 
	`»move_¢­_shÙ_Œigg”
(
this
);

717 
	`»move_¥l_log
(
this
);

718 
	}
}

720 
	glš—r_hi¡og¿m_logg”
::
	$¢­_shÙ
(
cu¼’t_cyşe
) {

721 
m_lš_hi¡_¬chive
.
	`push_back
(
m_cu¼_lš_hi¡
);

722 ià(
m_»£t_©_¢­_shÙ
) {

723 
m_cu¼_lš_hi¡
.
	`»£t
(
cu¼’t_cyşe
);

725 
m_cu¼_lš_hi¡
.
	`£t_cyşe
(
cu¼’t_cyşe
);

727 
	}
}

729 
	glš—r_hi¡og¿m_logg”
::
	$¥l
(
FILE
 *
fout
, 
boŞ
 
fš®
)

731 
¡d
::
li¡
<
lš—r_hi¡og¿m_¢­shÙ
>::
™”©Ü
 
™”
 = 
m_lš_hi¡_¬chive
.
	`begš
();

732 ; 
™”
 !ğ
m_lš_hi¡_¬chive
.
	`’d
(); i‹¸ğm_lš_hi¡_¬chive.
	`”a£
(iter) ) {

733 
	`årštf
(
fout
, "%s%02d-", 
m_Çme
.
	`c_¡r
(), (
m_id
 >= 0)? m_id : 0);

734 
™”
->
	`´št
(
fout
);

735 
	`årštf
(
fout
, "\n");

737 
	`as£¹
Ğ
m_lš_hi¡_¬chive
.
	`em±y
() );

738 ià(
fš®
) {

739 
	`årštf
(
fout
, "%s%02d-", 
m_Çme
.
	`c_¡r
(), (
m_id
 >= 0)? m_id : 0);

740 
m_cu¼_lš_hi¡
.
	`´št
(
fout
);

741 
	`årštf
(
fout
, "\n");

743 
	}
}

745 
	glš—r_hi¡og¿m_logg”
::
	$´št
(
FILE
 *
fout
) const

747 
¡d
::
li¡
<
lš—r_hi¡og¿m_¢­shÙ
>::
cÚ¡_™”©Ü
 
™”
 = 
m_lš_hi¡_¬chive
.
	`begš
();

748 ; 
™”
 !ğ
m_lš_hi¡_¬chive
.
	`’d
(); ++iter) {

749 
	`årštf
(
fout
, "%s%02d-", 
m_Çme
.
	`c_¡r
(), 
m_id
);

750 
™”
->
	`´št
(
fout
);

751 
	`årštf
(
fout
, "\n");

753 
	`årštf
(
fout
, "%s%02d-", 
m_Çme
.
	`c_¡r
(), 
m_id
);

754 
m_cu¼_lš_hi¡
.
	`´št
(
fout
);

755 
	`årštf
(
fout
, "\n");

756 
	}
}

758 
	glš—r_hi¡og¿m_logg”
::
	$´št_visu®iz”
(
FILE
 *
fout
)

760 
	`as£¹
(
m_lš_hi¡_¬chive
.
	`em±y
());

761 
	`årštf
(
fout
, "%s", 
m_Çme
.
	`c_¡r
());

762 ià(
m_id
 >= 0) {

763 
	`årštf
(
fout
, "%02d: ", 
m_id
);

765 
	`årštf
(
fout
, ": ");

767 
m_cu¼_lš_hi¡
.
	`´št_visu®iz”
(
fout
);

768 
	`årštf
(
fout
, "\n");

769 ià(
m_»£t_©_¢­_shÙ
) {

770 
m_cu¼_lš_hi¡
.
	`»£t
(0);

772 
	}
}

774 
	glš—r_hi¡og¿m_logg”
::
	$´št_visu®iz”
(
gzFe
 
fout
)

776 
	`as£¹
(
m_lš_hi¡_¬chive
.
	`em±y
());

777 
	`gz´štf
(
fout
, "%s", 
m_Çme
.
	`c_¡r
());

778 ià(
m_id
 >= 0) {

779 
	`gz´štf
(
fout
, "%02d: ", 
m_id
);

781 
	`gz´štf
(
fout
, ": ");

783 
m_cu¼_lš_hi¡
.
	`´št_visu®iz”
(
fout
);

784 
	`gz´štf
(
fout
, "\n");

785 ià(
m_»£t_©_¢­_shÙ
) {

786 
m_cu¼_lš_hi¡
.
	`»£t
(0);

788 
	}
}

	@stat-tool.h

28 #iâdeà
STAT_TOOL_H


29 
	#STAT_TOOL_H


	)

31 
	~"../ab¡¿ù_h¬dw¬e_mod–.h
"

32 
	~"hi¡og¿m.h
"

33 
	~"../Œ1_hash_m­.h
"

35 
	~<¡dio.h
>

36 
	~<zlib.h
>

44 şas 
	c¢­_shÙ_Œigg”
 {

45 
	mpublic
:

46 
	$¢­_shÙ_Œigg”
(
š‹rv®
è: 
	$m_¢­_shÙ_š‹rv®
(
š‹rv®
) {}

47 
vœtu®
 ~
	$¢­_shÙ_Œigg”
(è{
	}
}

49 
	$Œy_¢­_shÙ
(
cu¼’t_cyşe
) {

50 ià((
cu¼’t_cyşe
 % 
m_¢­_shÙ_š‹rv®
 == 0) && current_cycle != 0) {

51 
	`¢­_shÙ
(
cu¼’t_cyşe
);

53 
	}
}

55 
vœtu®
 
¢­_shÙ
(
cu¼’t_cyşe
) = 0;

57 cÚ¡ & 
	$g‘_š‹rv®
(ècÚ¡ {  
m_¢­_shÙ_š‹rv®
;
	}
}

59 
	g´Ùeùed
:

60 
m_¢­_shÙ_š‹rv®
;

69 şas 
	c¥l_log_š‹rçû
 {

70 
	mpublic
:

71 
	$¥l_log_š‹rçû
() {}

72 
vœtu®
 ~
	$¥l_log_š‹rçû
(è{
	}
}

74 
vœtu®
 
¥l
(
FILE
 *
fout
, 
boŞ
 
fš®
) = 0;

81 şas 
	cth»ad_š¢_¥ª
 {

82 
	mpublic
:

83 
th»ad_š¢_¥ª
(
cyşe
);

84 
th»ad_š¢_¥ª
(cÚ¡h»ad_š¢_¥ª& 
Ùh”
);

85 ~
th»ad_š¢_¥ª
();

87 
	mth»ad_š¢_¥ª
& 
	mİ”©Ü
=(cÚ¡ 
th»ad_š¢_¥ª
& 
Ùh”
);

88 
	mth»ad_š¢_¥ª
& 
	mİ”©Ü
+=(cÚ¡ 
th»ad_š¢_¥ª
& 
Ùh”
);

89 
£t_¥ª
Ğ
add»ss_ty³
 
pc
 );

90 
»£t
(
cyşe
);

92 
	$´št_¥ª
(
FILE
 *
fout
) const;

93 
	$´št_hi¡o
(
FILE
 *
fout
) const;

94 
	$´št_¥¬£_hi¡o
(
FILE
 *
fout
) const;

95 
	$´št_¥¬£_hi¡o
(
gzFe
 
fout
) const;

97 
´iv©e
:

98 
Œ1_hash_m­
<
	tadd»ss_ty³
, > 
	t¥ª_couÁ_m­
;

99 
m_cyşe
;

100 
¥ª_couÁ_m­
 
m_š¢_¥ª_couÁ
;

103 
şass
 
th»ad_CFloÿl™y
 : 
public
 
¢­_shÙ_Œigg”
,…ubliø
¥l_log_š‹rçû
 {

104 
public
:

105 
	`th»ad_CFloÿl™y
(
¡d
::
¡ršg
 
Çme
, 
¢­_shÙ_š‹rv®
,

106 
Áh»ads
, 
add»ss_ty³
 
¡¬t_pc
, 
¡¬t_cyşe
 = 0);

107 ~
	`th»ad_CFloÿl™y
();

109 
	`upd©e_th»ad_pc
Ğ
th»ad_id
, 
add»ss_ty³
 
pc
 );

110 
	`¢­_shÙ
(
cu¼’t_cyşe
);

111 
	`¥l
(
FILE
 *
fout
, 
boŞ
 
fš®
);

113 
	`´št_visu®iz”
(
FILE
 *
fout
);

114 
	`´št_visu®iz”
(
gzFe
 
fout
);

115 
	`´št_¥ª
(
FILE
 *
fout
) const;

116 
	`´št_hi¡o
(
FILE
 *
fout
) const;

117 
´iv©e
:

118 
¡d
::
¡ršg
 
m_Çme
;

120 
m_Áh»ads
;

121 
¡d
::
veùÜ
<
add»ss_ty³
> 
m_th»ad_pc
;

123 
m_cyşe
;

124 
th»ad_š¢_¥ª
 
m_thd_¥ª
;

125 
¡d
::
li¡
<
th»ad_š¢_¥ª
> 
m_thd_¥ª_¬chive
;

126 
	}
};

132 şas 
	cš¢_w¬p_occ_logg”
 {

133 
	mpublic
:

134 
	$š¢_w¬p_occ_logg”
(
simd_width
)

135 : 
	`m_simd_width
(
simd_width
),

136 
	`m_š¢_w¬p_occ
(1,
	`lš—r_hi¡og¿m
(1, "", 
m_simd_width
)),

137 
	`m_id
(
s_ids
++) {}

139 
	$š¢_w¬p_occ_logg”
(cÚ¡ 
š¢_w¬p_occ_logg”
& 
Ùh”
)

140 : 
	`m_simd_width
(
Ùh”
.
m_simd_width
),

141 
	`m_š¢_w¬p_occ
(
Ùh”
.
m_š¢_w¬p_occ
.
	`size
(), 
	`lš—r_hi¡og¿m
(1, "", 
m_simd_width
)),

142 
	`m_id
(
s_ids
++è{
	}
}

144 ~
	$š¢_w¬p_occ_logg”
(è{
	}
}

146 
	gš¢_w¬p_occ_logg”
& 
	gİ”©Ü
=(cÚ¡ 
š¢_w¬p_occ_logg”
& 
p
) {

147 
´štf
("š¢_w¬p_occ_logg” O³¿tÜğÿÎed: %02d \n", 
m_id
);

148 
as£¹
(0);

149  *
	gthis
;

152 
	$£t_id
(
id
è{ 
m_id
 = id; 
	}
}

154 
	$log
(
add»ss_ty³
 
pc
, 
w¬p_occ
) {

155 ifĞ
pc
 >ğ
m_š¢_w¬p_occ
.
	`size
() )

156 
m_š¢_w¬p_occ
.
	`»size
(2*
pc
, 
	`lš—r_hi¡og¿m
(1, "", 
m_simd_width
));

157 
m_š¢_w¬p_occ
[
pc
].
	`add2bš
(
w¬p_occ
 - 1);

158 
	}
}

160 
	$´št
(
FILE
 *
fout
) const

162 
i
 = 0; i < 
m_š¢_w¬p_occ
.
	`size
(); i++) {

163 
	`årštf
(
fout
, "In¢W¬pOcc%02d-%d", 
m_id
, 
i
);

164 
m_š¢_w¬p_occ
[
i
].
	`åršt
(
fout
);

165 
	`årštf
(
fout
, "\n");

167 
	}
}

169 
	g´iv©e
:

171 
m_simd_width
;

172 
	g¡d
::
veùÜ
<
lš—r_hi¡og¿m
> 
m_š¢_w¬p_occ
;

173 
	gm_id
;

174 
	gs_ids
;

182 şas 
	clš—r_hi¡og¿m_¢­shÙ
 {

183 
	mpublic
:

184 
	$lš—r_hi¡og¿m_¢­shÙ
(
n_bšs
, 
cyşe
)

185 : 
	`m_cyşe
(
cyşe
),

186 
	$m_lš—r_hi¡og¿m
(
n_bšs
,0)

189 
	$lš—r_hi¡og¿m_¢­shÙ
(cÚ¡ 
lš—r_hi¡og¿m_¢­shÙ
& 
Ùh”
)

190 : 
	`m_cyşe
(
Ùh”
.
m_cyşe
),

191 
	$m_lš—r_hi¡og¿m
(
Ùh”
.
m_lš—r_hi¡og¿m
)

192 { 
	}
}

194 ~
	$lš—r_hi¡og¿m_¢­shÙ
(è{ 
	}
}

196 
	$add§m¶e
(
pos
) {

197 
	`as£¹
((
size_t
)
pos
 < 
m_lš—r_hi¡og¿m
.
	`size
());

198 
m_lš—r_hi¡og¿m
[
pos
] += 1;

199 
	}
}

201 
	$sub§m¶e
(
pos
) {

202 
	`as£¹
((
size_t
)
pos
 < 
m_lš—r_hi¡og¿m
.
	`size
());

203 
m_lš—r_hi¡og¿m
[
pos
] -= 1;

204 
	}
}

206 
	$»£t
(
cyşe
) {

207 
m_cyşe
 = 
cyşe
;

208 
m_lš—r_hi¡og¿m
.
	`assign
(m_lš—r_hi¡og¿m.
	`size
(), 0);

209 
	}
}

211 
	$£t_cyşe
(
cyşe
è{ 
m_cyşe
 = cyşe; 
	}
}

213 
	$´št
(
FILE
 *
fout
) const {

214 
	`årštf
(
fout
, "%d = ", ()
m_cyşe
);

215 
i
 = 0; i < 
m_lš—r_hi¡og¿m
.
	`size
(); i++) {

216 
	`årštf
(
fout
, "%d ", 
m_lš—r_hi¡og¿m
[
i
]);

218 
	}
}

220 
	$´št_visu®iz”
(
FILE
 *
fout
) const {

221 
i
 = 0; i < 
m_lš—r_hi¡og¿m
.
	`size
(); i++) {

222 
	`årštf
(
fout
, "%d ", 
m_lš—r_hi¡og¿m
[
i
]);

224 
	}
}

226 
	$´št_visu®iz”
(
gzFe
 
fout
) const {

227 
i
 = 0; i < 
m_lš—r_hi¡og¿m
.
	`size
(); i++) {

228 
	`gz´štf
(
fout
, "%d ", 
m_lš—r_hi¡og¿m
[
i
]);

230 
	}
}

232 
	g´iv©e
:

233 
m_cyşe
;

234 
	g¡d
::
veùÜ
<> 
m_lš—r_hi¡og¿m
;

237 
şass
 
	glš—r_hi¡og¿m_logg”
 : 
public
 
¢­_shÙ_Œigg”
,…ubliø
	g¥l_log_š‹rçû
 {

238 
	gpublic
:

239 
lš—r_hi¡og¿m_logg”
(
n_bšs
,

240 
¢­_shÙ_š‹rv®
,

241 cÚ¡ *
Çme
,

242 
boŞ
 
»£t_©_¢­_shÙ
 = 
Œue
,

243 
¡¬t_cyşe
 = 0);

244 
lš—r_hi¡og¿m_logg”
(cÚ¡†š—r_hi¡og¿m_logg”& 
Ùh”
);

246 ~
lš—r_hi¡og¿m_logg”
();

248 
£t_id
(
id
è{ 
	gm_id
 = id; }

249 
log
(
pos
è{ 
	gm_cu¼_lš_hi¡
.
add§m¶e
(pos); }

250 
uÆog
(
pos
è{ 
	gm_cu¼_lš_hi¡
.
sub§m¶e
(pos); }

251 
¢­_shÙ
(
cu¼’t_cyşe
);

252 
¥l
(
FILE
 *
fout
, 
boŞ
 
fš®
);

254 
´št
(
FILE
 *
fout
) const;

255 
´št_visu®iz”
(
FILE
 *
fout
);

256 
´št_visu®iz”
(
gzFe
 
fout
);

258 
	g´iv©e
:

259 
m_n_bšs
;

260 
lš—r_hi¡og¿m_¢­shÙ
 
	gm_cu¼_lš_hi¡
;

261 
	g¡d
::
li¡
<
lš—r_hi¡og¿m_¢­shÙ
> 
m_lš_hi¡_¬chive
;

262 
	gm_cyşe
;

263 
boŞ
 
	gm_»£t_©_¢­_shÙ
;

264 
	g¡d
::
¡ršg
 
m_Çme
;

265 
	gm_id
;

266 
	gs_ids
;

269 
Œy_¢­_shÙ
 (
cu¼’t_cyşe
);

270 
£t_¥l_š‹rv®
 (
š‹rv®
);

271 
¥l_log_to_fe
 (
FILE
 *
fout
, 
fš®
, 
cu¼’t_cyşe
);

273 
ü—‹_th»ad_CFlogg”
Ğ
n_logg”s
, 
n_th»ads
, 
add»ss_ty³
 
¡¬t_pc
, 
loggšg_š‹rv®
);

274 
de¡roy_th»ad_CFlogg”
( );

275 
cæog_upd©e_th»ad_pc
Ğ
logg”_id
, 
th»ad_id
, 
add»ss_ty³
 
pc
 );

276 
cæog_¢­shÙ
Ğ
logg”_id
, 
cyşe
 );

277 
cæog_´št
(
FILE
 *
fout
);

278 
cæog_´št_·th_ex´essiÚ
(
FILE
 *
fout
);

279 
cæog_visu®iz”_´št
(
FILE
 *
fout
);

280 
cæog_visu®iz”_gz´št
(
gzFe
 
fout
);

282 
š¢_w¬p_occ_ü—‹
Ğ
n_logg”s
, 
simd_width
 );

283 
š¢_w¬p_occ_log
Ğ
logg”_id
, 
add»ss_ty³
 
pc
, 
w¬p_occ
 );

284 
š¢_w¬p_occ_´št
Ğ
FILE
 *
fout
 );

287 
shad”_w¬p_occ_ü—‹
Ğ
n_logg”s
, 
simd_width
, 
loggšg_š‹rv®
 );

288 
shad”_w¬p_occ_log
Ğ
logg”_id
, 
w¬p_occ
 );

289 
shad”_w¬p_occ_¢­shÙ
Ğ
logg”_id
, 
cu¼’t_cyşe
 );

290 
shad”_w¬p_occ_´št
Ğ
FILE
 *
fout
 );

293 
shad”_mem_acc_ü—‹
Ğ
n_logg”s
, 
n_d¿m
, 
n_bªk
, 
loggšg_š‹rv®
 );

294 
shad”_mem_acc_log
Ğ
logg”_id
, 
d¿m_id
, 
bªk
, 
rw
 );

295 
shad”_mem_acc_¢­shÙ
Ğ
logg”_id
, 
cu¼’t_cyşe
 );

296 
shad”_mem_acc_´št
Ğ
FILE
 *
fout
 );

299 
shad”_mem_Ït_ü—‹
Ğ
n_logg”s
, 
loggšg_š‹rv®
 );

300 
shad”_mem_Ït_log
Ğ
logg”_id
, 
Ï‹ncy
 );

301 
shad”_mem_Ït_¢­shÙ
Ğ
logg”_id
, 
cu¼’t_cyşe
 );

302 
shad”_mem_Ït_´št
Ğ
FILE
 *
fout
 );

305 
g‘_shad”_nÜm®_ÿche_id
();

306 
g‘_shad”_‹xtu»_ÿche_id
();

307 
g‘_shad”_cÚ¡ªt_ÿche_id
();

308 
g‘_shad”_š¡ruùiÚ_ÿche_id
();

309 
shad”_ÿche_acûss_ü—‹
Ğ
n_logg”s
, 
n_ty³s
, 
loggšg_š‹rv®
 );

310 
shad”_ÿche_acûss_log
Ğ
logg”_id
, 
ty³
, 
miss
);

311 
shad”_ÿche_acûss_uÆog
Ğ
logg”_id
, 
ty³
, 
miss
);

312 
shad”_ÿche_acûss_´št
Ğ
FILE
 *
fout
 );

315 
shad”_CTA_couÁ_ü—‹
Ğ
n_shad”s
, 
loggšg_š‹rv®
);

316 
shad”_CTA_couÁ_log
Ğ
shad”_id
, 
nCTAadded
 );

317 
shad”_CTA_couÁ_uÆog
Ğ
shad”_id
, 
nCTAdÚe
 );

318 
shad”_CTA_couÁ_»£Šow
( );

319 
shad”_CTA_couÁ_´št
Ğ
FILE
 *
fout
 );

320 
shad”_CTA_couÁ_visu®iz”_´št
Ğ
FILE
 *
fout
 );

321 
shad”_CTA_couÁ_visu®iz”_gz´št
(
gzFe
 
fout
);

	@stats.h

28 #iâdeà
STATS_INCLUDED


29 
	#STATS_INCLUDED


	)

31 
	emem_¡age_acûss_ty³
 {

32 
	mC_MEM
,

33 
	mT_MEM
,

34 
	mS_MEM
,

35 
	mG_MEM_LD
,

36 
	mL_MEM_LD
,

37 
	mG_MEM_ST
,

38 
	mL_MEM_ST
,

39 
	mN_MEM_STAGE_ACCESS_TYPE


41 
	eb_»que¡_¡©us
 {

42 
	mTLB_HIT
 = 0,

43 
	mTLB_READY
,

44 
	mTLB_PENDING


46 
	emem_¡age_¡®l_ty³
 {

47 
	mNO_RC_FAIL
 = 0,

48 
	mBK_CONF
,

49 
	mMSHR_RC_FAIL
,

50 
	mICNT_RC_FAIL
,

51 
	mCOAL_STALL
,

52 
	mTLB_STALL
,

53 
	mDATA_PORT_STALL
,

54 
	mWB_ICNT_RC_FAIL
,

55 
	mWB_CACHE_RSRV_FAIL
,

56 
	mN_MEM_STAGE_STALL_TYPE


	@traffic_breakdown.cc

1 
	~"Œaffic_b»akdown.h
"

2 
	~"mem_ãtch.h
"

4 
	gŒaffic_b»akdown
::
	$´št
(
FILE
* 
fout
)

6 
Œaffic_¡©_t
::
cÚ¡_™”©Ü
 
i_¡©
 = 
m_¡©s
.
	`begš
(); i_¡© !ğm_¡©s.
	`’d
(); i_stat++) {

7 
by‹_Œªsã¼ed
 = 0;

8 
Œaffic_şass_t
::
cÚ¡_™”©Ü
 
i_şass
 = 
i_¡©
->
£cÚd
.
	`begš
(); i_şas !ği_¡©->£cÚd.
	`’d
(); i_class++) {

9 
by‹_Œªsã¼ed
 +ğ
i_şass
->
fœ¡
 * i_şass->
£cÚd
;

11 
	`årštf
(
fout
, "Œaffic_b»akdown_%s[%s] = %u {", 
m_ÃtwÜk_Çme
.
	`c_¡r
(), 
i_¡©
->
fœ¡
.c_¡r(), 
by‹_Œªsã¼ed
);

12 
Œaffic_şass_t
::
cÚ¡_™”©Ü
 
i_şass
 = 
i_¡©
->
£cÚd
.
	`begš
(); i_şas !ği_¡©->£cÚd.
	`’d
(); i_class++) {

13 
	`årštf
(
fout
, "%u:%u,", 
i_şass
->
fœ¡
, i_şass->
£cÚd
);

15 
	`årštf
(
fout
, "}\n");

17 
	}
}

19 
	gŒaffic_b»akdown
::
	$»cÜd_Œaffic
(
şass
 
mem_ãtch
 * 
mf
, 
size
)

21 
m_¡©s
[
	`şassify_memãtch
(
mf
)][
size
] += 1;

22 
	}
}

24 
	g¡d
::
¡ršg
 
Œaffic_b»akdown
::
	$şassify_memãtch
(
şass
 
mem_ãtch
 * 
mf
)

26 
¡d
::
¡ršg
 
Œaffic_Çme
;

28 
mem_acûss_ty³
 
acûss_ty³
 = 
mf
->
	`g‘_acûss_ty³
();

30 
acûss_ty³
) {

31 
CONST_ACC_R
:

32 
TEXTURE_ACC_R
:

33 
GLOBAL_ACC_W
:

34 
LOCAL_ACC_R
:

35 
LOCAL_ACC_W
:

36 
INST_ACC_R
:

37 
L1_WRBK_ACC
:

38 
L2_WRBK_ACC
:

39 
L1_WR_ALLOC_R
:

40 
L2_WR_ALLOC_R
:

41 
Œaffic_Çme
 = 
	`mem_acûss_ty³_¡r
(
acûss_ty³
);

43 
GLOBAL_ACC_R
:

45 
Œaffic_Çme
 = (
mf
->
	`i§tomic
())? "GLOBAL_ATOMIC" : 
	`mem_acûss_ty³_¡r
(
GLOBAL_ACC_R
);

47 : 
	`as£¹
(0 && "Unknownrafficype");

49  
Œaffic_Çme
;

50 
	}
}

	@traffic_breakdown.h

1 #´agm¨
Úû


3 
	~<¡dio.h
>

4 
	~<m­
>

5 
	~<¡ršg
>

8 şas 
	cŒaffic_b»akdown


10 
	mpublic
:

11 
Œaffic_b»akdown
(cÚ¡ 
¡d
::
¡ršg
 &
ÃtwÜk_Çme
)

12 : 
	$m_ÃtwÜk_Çme
(
ÃtwÜk_Çme
)

16 
	`´št
(
FILE
* 
fout
);

19 
	`»cÜd_Œaffic
(
şass
 
mem_ãtch
 * 
mf
, 
size
);

21 
´Ùeùed
:

23 
¡d
::
¡ršg
 
m_ÃtwÜk_Çme
;

26 
¡d
::
¡ršg
 
	`şassify_memãtch
(
şass
 
mem_ãtch
 * 
mf
);

29 
	`·ck‘_size
(
şass
 
mem_ãtch
 * 
mf
);

31 
¡d
::
	t¡ršg
 
	tmf_·ck‘_ty³
;

32 
	tmf_·ck‘_size
;

33 
¡d
::
	tm­
 < 
	tmf_·ck‘_size
, > 
	tŒaffic_şass_t
;

34 
¡d
::
	tm­
 < 
	tmf_·ck‘_ty³
, 
	tŒaffic_şass_t
 > 
	tŒaffic_¡©_t
;

36 
Œaffic_¡©_t
 
m_¡©s
;

37 
	}
};

	@visualizer.cc

28 
	~"visu®iz”.h
"

30 
	~"gpu-sim.h
"

31 
	~"l2ÿche.h
"

32 
	~"shad”.h
"

33 
	~"../İtiÚ_·r£r.h
"

34 
	~"mem_Ï‹ncy_¡©.h
"

35 
	~"pow”_¡©.h
"

37 
	~"¡©-toŞ.h
"

38 
	~"gpu-ÿche.h
"

40 
	~<time.h
>

41 
	~<¡ršg.h
>

42 
	~<zlib.h
>

44 
time_veùÜ_´št_š‹rv®2gzfe
(
gzFe
 
outfe
);

46 
	ggpgpu_sim
::
	$visu®iz”_´št¡©
()

48 
gzFe
 
visu®iz”_fe
 = 
NULL
;

49 iàĞ!
m_cÚfig
.
g_visu®iz”_’abËd
 )

53 
boŞ
 
visu®iz”_fœ¡_´št¡©
 = 
Œue
;

55 
visu®iz”_fe
 = 
	`gzİ’
(
m_cÚfig
.
g_visu®iz”_f’ame
, (
visu®iz”_fœ¡_´št¡©
)? "w" : "a");

56 ià(
visu®iz”_fe
 =ğ
NULL
) {

57 
	`´štf
("error - could‚ot open visualizerrace file.\n");

58 
	`ex™
(1);

60 
	`gz£¬ams
(
visu®iz”_fe
, 
m_cÚfig
.
g_visu®iz”_zËv–
, 
Z_DEFAULT_STRATEGY
);

61 
visu®iz”_fœ¡_´št¡©
 = 
çl£
;

63 
	`cæog_visu®iz”_gz´št
(
visu®iz”_fe
);

64 
	`shad”_CTA_couÁ_visu®iz”_gz´št
(
visu®iz”_fe
);

66 
i
=0;i<
m_memÜy_cÚfig
->
m_n_mem
;i++)

67 
m_memÜy_·¹™iÚ_un™
[
i
]->
	`visu®iz”_´št
(
visu®iz”_fe
);

68 
m_shad”_¡©s
->
	`visu®iz”_´št
(
visu®iz”_fe
);

69 
m_memÜy_¡©s
->
	`visu®iz”_´št
(
visu®iz”_fe
);

70 
m_pow”_¡©s
->
	`visu®iz”_´št
(
visu®iz”_fe
);

73 
	`gz´štf
(
visu®iz”_fe
, "glob®cyşecouÁ: %Îd\n", 
gpu_sim_cyşe
);

74 
	`gz´štf
(
visu®iz”_fe
, "glob®š¢couÁ: %Îd\n", 
gpu_sim_š¢
);

75 
	`gz´štf
(
visu®iz”_fe
, "glob®tÙš¢couÁ: %Îd\n", 
gpu_tÙ_sim_š¢
);

77 
	`time_veùÜ_´št_š‹rv®2gzfe
(
visu®iz”_fe
);

79 
	`gzşo£
(
visu®iz”_fe
);

109 
	}
}

111 
	~<li¡
>

112 
	~<veùÜ
>

113 
	~<io¡»am
>

114 
	~<m­
>

115 
	~"../gpgpu-sim/shad”.h
"

116 şas 
	cmy_time_veùÜ
 {

117 
	m´iv©e
:

118 
¡d
::
m­
< , 
	m¡d
::
veùÜ
<> > 
ld_time_m­
;

119 
	m¡d
::
m­
< , std::
veùÜ
<> > 
¡_time_m­
;

120 
	mld_veùÜ_size
;

121 
	m¡_veùÜ_size
;

122 
	m¡d
::
veùÜ
<> 
ld_time_di¡
;

123 
	m¡d
::
veùÜ
<> 
¡_time_di¡
;

125 
	m¡d
::
veùÜ
<> 
ov”®_ld_time_di¡
;

126 
	m¡d
::
veùÜ
<> 
ov”®_¡_time_di¡
;

127 
	mov”®_ld_couÁ
;

128 
	mov”®_¡_couÁ
;

130 
	mpublic
:

131 
	$my_time_veùÜ
(
ld_size
,
¡_size
){

132 
ld_veùÜ_size
 = 
ld_size
;

133 
¡_veùÜ_size
 = 
¡_size
;

134 
ld_time_di¡
.
	`»size
(
ld_size
);

135 
¡_time_di¡
.
	`»size
(
¡_size
);

136 
ov”®_ld_time_di¡
.
	`»size
(
ld_size
);

137 
ov”®_¡_time_di¡
.
	`»size
(
¡_size
);

138 
ov”®_ld_couÁ
 = 0;

139 
ov”®_¡_couÁ
= 0;

141 
	$upd©e_ld
(
uid
,
¦Ù
, 
time
) {

142 iàĞ
ld_time_m­
.
	`fšd
Ğ
uid
 )!öd_time_m­.
	`’d
() ) {

143 
ld_time_m­
[
uid
][
¦Ù
]=
time
;

144 } ià(
¦Ù
 < 
NUM_MEM_REQ_STAT
 ) {

145 
¡d
::
veùÜ
<> 
time_vec
;

146 
time_vec
.
	`»size
(
ld_veùÜ_size
);

147 
time_vec
[
¦Ù
] = 
time
;

148 
ld_time_m­
[
uid
] = 
time_vec
;

152 
	}
}

153 
	$upd©e_¡
(
uid
,
¦Ù
, 
time
) {

154 iàĞ
¡_time_m­
.
	`fšd
Ğ
uid
 )!=¡_time_m­.
	`’d
() ) {

155 
¡_time_m­
[
uid
][
¦Ù
]=
time
;

157 
¡d
::
veùÜ
<> 
time_vec
;

158 
time_vec
.
	`»size
(
¡_veùÜ_size
);

159 
time_vec
[
¦Ù
] = 
time
;

160 
¡_time_m­
[
uid
] = 
time_vec
;

162 
	}
}

163 
	$check_ld_upd©e
(
uid
,
¦Ù
, 
Ï‹ncy
) {

164 iàĞ
ld_time_m­
.
	`fšd
Ğ
uid
 )!öd_time_m­.
	`’d
() ) {

165 
our_Ï‹ncy
 = 
ld_time_m­
[
uid
][
¦Ù
] -†d_time_m­[uid][
IN_ICNT_TO_MEM
];

166 
	`as£¹
Ğ
our_Ï‹ncy
 =ğ
Ï‹ncy
);

167 } ià(
¦Ù
 < 
NUM_MEM_REQ_STAT
 ) {

168 
	`abÜt
();

170 
	}
}

171 
	$check_¡_upd©e
(
uid
,
¦Ù
, 
Ï‹ncy
) {

172 iàĞ
¡_time_m­
.
	`fšd
Ğ
uid
 )!=¡_time_m­.
	`’d
() ) {

173 
our_Ï‹ncy
 = 
¡_time_m­
[
uid
][
¦Ù
] - st_time_m­[uid][
IN_ICNT_TO_MEM
];

174 
	`as£¹
Ğ
our_Ï‹ncy
 =ğ
Ï‹ncy
);

176 
	`abÜt
();

178 
	}
}

179 
	g´iv©e
:

180 
	$ÿlcuÏ‹_ld_di¡
() {

181 
i
,
fœ¡
;

182 
Ï¡_upd©e
,
diff
;

183 
fšished_couÁ
=0;

184 
ld_time_di¡
.
	`ş—r
();

185 
ld_time_di¡
.
	`»size
(
ld_veùÜ_size
);

186 
¡d
::
m­
< , std::
veùÜ
<> >::
™”©Ü
 
™”
, 
™”_‹mp
;

187 
™”
 =
ld_time_m­
.
	`begš
() ;

188 
™”
 !ğ
ld_time_m­
.
	`’d
()) {

189 
Ï¡_upd©e
=0;

190 
fœ¡
=-1;

191 ià(!
™”
->
£cÚd
[
IN_SHADER_FETCHED
]) {

193 ++
™”
;

196  !
Ï¡_upd©e
 ) {

197 
fœ¡
++;

198 
	`as£¹
Ğ
fœ¡
 < 
™”
->
£cÚd
.
	`size
() );

199 
Ï¡_upd©e
 = 
™”
->
£cÚd
[
fœ¡
];

202  
i
=
fœ¡
;i<
ld_veùÜ_size
;i++ ) {

203 
diff
 = 
™”
->
£cÚd
[
i
] - 
Ï¡_upd©e
;

204 iàĞ
diff
>0 ) {

205 
ld_time_di¡
[
i
]+=
diff
;

206 
Ï¡_upd©e
 = 
™”
->
£cÚd
[
i
];

209 
™”_‹mp
 = 
™”
;

210 
™”
++;

211 
ld_time_m­
.
	`”a£
(
™”_‹mp
);

212 
fšished_couÁ
++;

214 iàĞ
fšished_couÁ
 ) {

215  
i
=0;i<
ld_veùÜ_size
;i++ ) {

216 
ov”®_ld_time_di¡
[
i
] = (ov”®_ld_time_di¡[i]*
ov”®_ld_couÁ
 + 
ld_time_di¡
[i]è/ (ov”®_ld_couÁ + 
fšished_couÁ
);

218 
ov”®_ld_couÁ
 +ğ
fšished_couÁ
;

219  
i
=0;i<
ld_veùÜ_size
;i++ ) {

220 
ld_time_di¡
[
i
]/=
fšished_couÁ
;

223 
	}
}

225 
	$ÿlcuÏ‹_¡_di¡
() {

226 
i
,
fœ¡
;

227 
Ï¡_upd©e
,
diff
;

228 
fšished_couÁ
=0;

229 
¡_time_di¡
.
	`ş—r
();

230 
¡_time_di¡
.
	`»size
(
¡_veùÜ_size
);

231 
¡d
::
m­
< , std::
veùÜ
<> >::
™”©Ü
 
™”
,
™”_‹mp
;

232 
™”
 =
¡_time_m­
.
	`begš
() ;

233  
™”
 !ğ
¡_time_m­
.
	`’d
() ) {

234 
Ï¡_upd©e
=0;

235 
fœ¡
=-1;

236 ià(!
™”
->
£cÚd
[
IN_SHADER_FETCHED
]) {

238 ++
™”
;

241  !
Ï¡_upd©e
 ) {

242 
fœ¡
++;

243 
	`as£¹
Ğ
fœ¡
 < 
™”
->
£cÚd
.
	`size
() );

244 
Ï¡_upd©e
 = 
™”
->
£cÚd
[
fœ¡
];

247  
i
=
fœ¡
;i<
¡_veùÜ_size
;i++ ) {

248 
diff
 = 
™”
->
£cÚd
[
i
] - 
Ï¡_upd©e
;

249 iàĞ
diff
>0 ) {

250 
¡_time_di¡
[
i
]+=
diff
;

251 
Ï¡_upd©e
 = 
™”
->
£cÚd
[
i
];

254 
™”_‹mp
 = 
™”
;

255 
™”
++;

256 
¡_time_m­
.
	`”a£
(
™”_‹mp
);

257 
fšished_couÁ
++;

259 iàĞ
fšished_couÁ
 ) {

260  
i
=0;i<
¡_veùÜ_size
;i++ ) {

261 
ov”®_¡_time_di¡
[
i
] = (ov”®_¡_time_di¡[i]*
ov”®_¡_couÁ
 + 
¡_time_di¡
[i]è/ (ov”®_¡_couÁ + 
fšished_couÁ
);

263 
ov”®_¡_couÁ
 +ğ
fšished_couÁ
;

264  
i
=0;i<
¡_veùÜ_size
;i++ ) {

265 
¡_time_di¡
[
i
]/=
fšished_couÁ
;

268 
	}
}

270 
	gpublic
:

271 
	$ş—r_time_m­_veùÜs
() {

272 
ld_time_m­
.
	`ş—r
();

273 
¡_time_m­
.
	`ş—r
();

274 
	}
}

275 
	$´št_®l_ld
() {

276 
i
;

277 
¡d
::
m­
< , std::
veùÜ
<> >::
™”©Ü
 
™”
;

278  
™”
 =
ld_time_m­
.
	`begš
(è; i‹¸!ğld_time_m­.
	`’d
(); ++iter ) {

279 
¡d
::
cout
<<"ld_uid"<<
™”
->
fœ¡
;

280  
i
=0;i<
ld_veùÜ_size
;i++ ) {

281 
¡d
::
cout
<<" "<<
™”
->
£cÚd
[
i
];

283 
¡d
::
cout
<< std::
’dl
;

285 
	}
}

287 
	$´št_®l_¡
() {

288 
i
;

289 
¡d
::
m­
< , std::
veùÜ
<> >::
™”©Ü
 
™”
;

291  
™”
 =
¡_time_m­
.
	`begš
(è; i‹¸!ğ¡_time_m­.
	`’d
(); ++iter ) {

292 
¡d
::
cout
<<"¡_uid"<<
™”
->
fœ¡
;

293  
i
=0;i<
¡_veùÜ_size
;i++ ) {

294 
¡d
::
cout
<<" "<<
™”
->
£cÚd
[
i
];

296 
¡d
::
cout
<<¡d::
’dl
;

298 
	}
}

300 
	$ÿlcuÏ‹_di¡
() {

301 
	`ÿlcuÏ‹_ld_di¡
();

302 
	`ÿlcuÏ‹_¡_di¡
();

303 
	}
}

304 
	$´št_di¡
() {

305 
i
;

306 
	`ÿlcuÏ‹_di¡
();

307 
¡d
::
cout
 << "LD_mem_lat_dist " ;

308  
i
=0;i<
ld_veùÜ_size
;i++ ) {

309 
¡d
::
cout
 <<" "<<()
ov”®_ld_time_di¡
[
i
];

311 
¡d
::
cout
 << std::
’dl
;

312 
¡d
::
cout
 << "ST_mem_lat_dist " ;

313  
i
=0;i<
¡_veùÜ_size
;i++ ) {

314 
¡d
::
cout
 <<" "<<()
ov”®_¡_time_di¡
[
i
];

316 
¡d
::
cout
 << std::
’dl
;

317 
	}
}

318 
	$´št_to_fe
(
FILE
 *
outfe
) {

319 
i
;

320 
	`ÿlcuÏ‹_di¡
();

321 
	`årštf
 (
outfe
,"LDmemlatdist:") ;

322  
i
=0;i<
ld_veùÜ_size
;i++ ) {

323 
	`årštf
 (
outfe
," %d", ()
ld_time_di¡
[
i
]);

325 
	`årštf
 (
outfe
,"\n") ;

326 
	`årštf
 (
outfe
,"STmemlatdist:") ;

327  
i
=0;i<
¡_veùÜ_size
;i++ ) {

328 
	`årštf
 (
outfe
," %d", ()
¡_time_di¡
[
i
]);

330 
	`årštf
 (
outfe
,"\n") ;

331 
	}
}

332 
	$´št_to_gzfe
(
gzFe
 
outfe
) {

333 
i
;

334 
	`ÿlcuÏ‹_di¡
();

335 
	`gz´štf
 (
outfe
,"LDmemlatdist:") ;

336  
i
=0;i<
ld_veùÜ_size
;i++ ) {

337 
	`gz´štf
 (
outfe
," %d", ()
ld_time_di¡
[
i
]);

339 
	`gz´štf
 (
outfe
,"\n") ;

340 
	`gz´štf
 (
outfe
,"STmemlatdist:") ;

341  
i
=0;i<
¡_veùÜ_size
;i++ ) {

342 
	`gz´štf
 (
outfe
," %d", ()
¡_time_di¡
[
i
]);

344 
	`gz´štf
 (
outfe
,"\n") ;

345 
	}
}

348 
my_time_veùÜ
* 
	gg_my_time_veùÜ
;

350 
	$time_veùÜ_ü—‹
(
size
) {

351 
g_my_time_veùÜ
 = 
Ãw
 
	`my_time_veùÜ
(
size
,size);

352 
	}
}

355 
	$time_veùÜ_´št
() {

356 
g_my_time_veùÜ
->
	`´št_di¡
();

357 
	}
}

359 
	$time_veùÜ_´št_š‹rv®2gzfe
(
gzFe
 
outfe
) {

360 
g_my_time_veùÜ
->
	`´št_to_gzfe
(
outfe
);

361 
	}
}

363 
	~"../gpgpu-sim/mem_ãtch.h
"

365 
	$time_veùÜ_upd©e
(
uid
,
¦Ù
 ,
cyşe
,
ty³
) {

366 iàĞ(
ty³
 =ğ
READ_REQUEST
è|| (ty³ =ğ
READ_REPLY
) ) {

367 
g_my_time_veùÜ
->
	`upd©e_ld
Ğ
uid
, 
¦Ù
,
cyşe
);

368 } iàĞ(
ty³
 =ğ
WRITE_REQUEST
è|| (ty³ =ğ
WRITE_ACK
) ) {

369 
g_my_time_veùÜ
->
	`upd©e_¡
Ğ
uid
, 
¦Ù
,
cyşe
);

371 
	`abÜt
();

373 
	}
}

375 
	$check_time_veùÜ_upd©e
(
uid
,
¦Ù
 ,
Ï‹ncy
,
ty³
)

377 iàĞ(
ty³
 =ğ
READ_REQUEST
è|| (ty³ =ğ
READ_REPLY
) ) {

378 
g_my_time_veùÜ
->
	`check_ld_upd©e
Ğ
uid
, 
¦Ù
, 
Ï‹ncy
 );

379 } iàĞ(
ty³
 =ğ
WRITE_REQUEST
è|| (ty³ =ğ
WRITE_ACK
) ) {

380 
g_my_time_veùÜ
->
	`check_¡_upd©e
Ğ
uid
, 
¦Ù
, 
Ï‹ncy
 );

382 
	`abÜt
();

384 
	}
}

	@visualizer.h

28 #iâdeà
VISUALIZER_H_INCLUDED


29 
	#VISUALIZER_H_INCLUDED


	)

31 
	~<¡dio.h
>

32 
	~<zlib.h
>

34 
time_veùÜ_ü—‹
(
size
);

35 
time_veùÜ_´št
();

36 
time_veùÜ_upd©e
(
uid
,
¦Ù
 ,
cyşe
,
ty³
);

37 
check_time_veùÜ_upd©e
(
uid
,
¦Ù
 ,
Ï‹ncy
,
ty³
);

	@../abstract_hardware_model.h

28 #iâdeà
ABSTRACT_HARDWARE_MODEL_INCLUDED


29 
	#ABSTRACT_HARDWARE_MODEL_INCLUDED


	)

33 
şass
 
	ggpgpu_sim
;

34 
şass
 
	gk”Ãl_šfo_t
;

36 
	e_memÜy_¥aû_t
 {

37 
	mundefšed_¥aû
=0,

38 
	m»g_¥aû
,

39 
	mloÿl_¥aû
,

40 
	msh¬ed_¥aû
,

41 
	m·¿m_¥aû_unşassif›d
,

42 
	m·¿m_¥aû_k”Ãl
,

43 
	m·¿m_¥aû_loÿl
,

44 
	mcÚ¡_¥aû
,

45 
	m‹x_¥aû
,

46 
	msurf_¥aû
,

47 
	mglob®_¥aû
,

48 
	mg’”ic_¥aû
,

49 
	mš¡ruùiÚ_¥aû


53 
	eFuncCache


55 
	mFuncCacheP»ãrNÚe
 = 0,

56 
	mFuncCacheP»ãrSh¬ed
 = 1,

57 
	mFuncCacheP»ãrL1
 = 2

61 #ifdeà
__ılu¥lus


63 
	~<¡ršg.h
>

64 
	~<¡dio.h
>

66 
	tÃw_addr_ty³
;

67 
	tadd»ss_ty³
;

68 
	taddr_t
;

72 
	eu¬ch_İ_t
 {

73 
	mNO_OP
=-1,

74 
	mALU_OP
=1,

75 
	mSFU_OP
,

76 
	mALU_SFU_OP
,

77 
	mLOAD_OP
,

78 
	mSTORE_OP
,

79 
	mBRANCH_OP
,

80 
	mBARRIER_OP
,

81 
	mMEMORY_BARRIER_OP
,

82 
	mCALL_OPS
,

83 
	mRET_OPS


85 
u¬ch_İ_t
 
	tİ_ty³
;

87 
	eu¬ch_İ”ªd_ty³_t
 {

88 
	mUN_OP
=-1,

89 
	mINT_OP
,

90 
	mFP_OP


92 
u¬ch_İ”ªd_ty³_t
 
	tty³s_of_İ”ªds
;

94 
	e¥ecŸl_İ”©iÚs_t
 {

95 
	mOTHER_OP
,

96 
	mINT__OP
,

97 
	mINT_MUL24_OP
,

98 
	mINT_MUL32_OP
,

99 
	mINT_MUL_OP
,

100 
	mINT_DIV_OP
,

101 
	mFP_MUL_OP
,

102 
	mFP_DIV_OP
,

103 
	mFP__OP
,

104 
	mFP_SQRT_OP
,

105 
	mFP_LG_OP
,

106 
	mFP_SIN_OP
,

107 
	mFP_EXP_OP


109 
¥ecŸl_İ”©iÚs_t
 
	t¥ecŸl_İs
;

110 
	eİ”©iÚ_p–še_t
 {

111 
	mUNKOWN_OP
,

112 
	mSP__OP
,

113 
	mSFU__OP
,

114 
	mMEM__OP


116 
İ”©iÚ_p–še_t
 
	tİ”©iÚ_p–še
;

117 
	emem_İ”©iÚ_t
 {

118 
	mNOT_TEX
,

119 
	mTEX


121 
mem_İ”©iÚ_t
 
	tmem_İ”©iÚ
;

123 
	e_memÜy_İ_t
 {

124 
	mno_memÜy_İ
 = 0,

125 
	mmemÜy_lßd
,

126 
	mmemÜy_¡Üe


129 
	~<b™£t
>

130 
	~<li¡
>

131 
	~<veùÜ
>

132 
	~<as£¹.h
>

133 
	~<¡dlib.h
>

134 
	~<m­
>

135 
	~<deque
>

137 #ià!
defšed
(
__VECTOR_TYPES_H__
)

138 
	sdim3
 {

139 
	mx
, 
	my
, 
	mz
;

143 
šüem’t_x_th’_y_th’_z
Ğ
dim3
 &
i
, cÚ¡ dim3 &
bound
);

145 şas 
	ck”Ãl_šfo_t
 {

146 
	mpublic
:

155 
k”Ãl_šfo_t
Ğ
dim3
 
gridDim
, dim3 
blockDim
, 
şass
 
funùiÚ_šfo
 *
’Œy
 );

156 ~
k”Ãl_šfo_t
();

158 
	$šc_ruÂšg
(è{ 
m_num_cÜes_ruÂšg
++; }

159 
	$dec_ruÂšg
()

161 
	`as£¹
Ğ
m_num_cÜes_ruÂšg
 > 0 );

162 
m_num_cÜes_ruÂšg
--;

163 
	}
}

164 
boŞ
 
	$ruÂšg
(ècÚ¡ {  
m_num_cÜes_ruÂšg
>0; 
	}
}

165 
boŞ
 
	$dÚe
() const

167  
	`no_mÜe_ùas_to_run
(è&& !
	`ruÂšg
();

168 
	}
}

169 
şass
 
funùiÚ_šfo
 *
	$’Œy
(è{  
m_k”Ãl_’Œy
; 
	}
}

170 cÚ¡ 
şass
 
funùiÚ_šfo
 *
	$’Œy
(ècÚ¡ {  
m_k”Ãl_’Œy
; 
	}
}

172 
size_t
 
	$num_blocks
() const

174  
m_grid_dim
.
x
 * m_grid_dim.
y
 * m_grid_dim.
z
;

175 
	}
}

177 
size_t
 
	$th»ads_³r_ùa
() const

179  
m_block_dim
.
x
 * m_block_dim.
y
 * m_block_dim.
z
;

180 
	}
}

182 
dim3
 
	$g‘_grid_dim
(ècÚ¡ {  
m_grid_dim
; 
	}
}

183 
dim3
 
	$g‘_ùa_dim
(ècÚ¡ {  
m_block_dim
; 
	}
}

185 
	$šüem’t_ùa_id
()

187 
	`šüem’t_x_th’_y_th’_z
(
m_Ãxt_ùa
,
m_grid_dim
);

188 
m_Ãxt_tid
.
x
=0;

189 
m_Ãxt_tid
.
y
=0;

190 
m_Ãxt_tid
.
z
=0;

191 
	}
}

192 
dim3
 
	$g‘_Ãxt_ùa_id
(ècÚ¡ {  
m_Ãxt_ùa
; 
	}
}

193 
boŞ
 
	$no_mÜe_ùas_to_run
() const

195  (
m_Ãxt_ùa
.
x
 >ğ
m_grid_dim
.x || m_Ãxt_ùa.
y
 >ğm_grid_dim.y || m_Ãxt_ùa.
z
 >= m_grid_dim.z );

196 
	}
}

198 
	$šüem’t_th»ad_id
(è{ 
	`šüem’t_x_th’_y_th’_z
(
m_Ãxt_tid
,
m_block_dim
); 
	}
}

199 
dim3
 
	$g‘_Ãxt_th»ad_id_3d
(ècÚ¡ {  
m_Ãxt_tid
; 
	}
}

200 
	$g‘_Ãxt_th»ad_id
() const

202  
m_Ãxt_tid
.
x
 + 
m_block_dim
.x*m_Ãxt_tid.
y
 + m_block_dim.x*m_block_dim.y*m_Ãxt_tid.
z
;

203 
	}
}

204 
boŞ
 
	$mÜe_th»ads_š_ùa
() const

206  
m_Ãxt_tid
.
z
 < 
m_block_dim
.z && m_Ãxt_tid.
y
 < m_block_dim.y && m_Ãxt_tid.
x
 < m_block_dim.x;

207 
	}
}

208 
	$g‘_uid
(ècÚ¡ {  
m_uid
; 
	}
}

209 
	g¡d
::
¡ršg
 
	$Çme
() const;

211 
¡d
::
li¡
<
şass
 
±x_th»ad_šfo
 *> &
	$aùive_th»ads
(è{  
m_aùive_th»ads
; 
	}
}

212 
şass
 
memÜy_¥aû
 *
	$g‘_·¿m_memÜy
(è{  
m_·¿m_mem
; 
	}
}

214 
	g´iv©e
:

215 
k”Ãl_šfo_t
( const kernel_info_t & );

216 
	gİ”©Ü
=ĞcÚ¡ 
k”Ãl_šfo_t
 & );

218 
şass
 
funùiÚ_šfo
 *
	gm_k”Ãl_’Œy
;

220 
	gm_uid
;

221 
	gm_Ãxt_uid
;

223 
dim3
 
	gm_grid_dim
;

224 
dim3
 
	gm_block_dim
;

225 
dim3
 
	gm_Ãxt_ùa
;

226 
dim3
 
	gm_Ãxt_tid
;

228 
	gm_num_cÜes_ruÂšg
;

230 
	g¡d
::
li¡
<
şass
 
±x_th»ad_šfo
 *> 
m_aùive_th»ads
;

231 
şass
 
memÜy_¥aû
 *
	gm_·¿m_mem
;

234 
	scÜe_cÚfig
 {

235 
cÜe_cÚfig
()

237 
	mm_v®id
 = 
çl£
;

238 
	mnum_shmem_bªk
=16;

239 
	mshmem_lim™ed_brßdÿ¡
 = 
çl£
;

240 
	mgpgpu_shmem_sizeDeçuÉ
=()-1;

241 
	mgpgpu_shmem_sizeP»fL1
=()-1;

242 
	mgpgpu_shmem_sizeP»fSh¬ed
=()-1;

244 
vœtu®
 
š™
() = 0;

246 
boŞ
 
	mm_v®id
;

247 
	mw¬p_size
;

250 
	mgpgpu_cßËsû_¬ch
;

253 
boŞ
 
	mshmem_lim™ed_brßdÿ¡
;

254 cÚ¡ 
add»ss_ty³
 
	mWORD_SIZE
=4;

255 
	mnum_shmem_bªk
;

256 
shmem_bªk_func
(
add»ss_ty³
 
addr
) const

258  ((
	maddr
/
	mWORD_SIZE
è% 
	mnum_shmem_bªk
);

260 
	mmem_w¬p_·¹s
;

261 
mubË
 
	mgpgpu_shmem_size
;

262 
	mgpgpu_shmem_sizeDeçuÉ
;

263 
	mgpgpu_shmem_sizeP»fL1
;

264 
	mgpgpu_shmem_sizeP»fSh¬ed
;

267 
	mgpgpu_ÿche_‹xl1_lšesize
;

268 
	mgpgpu_ÿche_cÚ¡l1_lšesize
;

270 
	mgpgpu_max_š¢_issue_³r_w¬p
;

274 cÚ¡ 
	gMAX_WARP_SIZE
 = 32;

275 
	g¡d
::
	tb™£t
<
	tMAX_WARP_SIZE
> 
	taùive_mask_t
;

276 
	#MAX_WARP_SIZE_SIMT_STACK
 
MAX_WARP_SIZE


	)

277 
	g¡d
::
	tb™£t
<
	tMAX_WARP_SIZE_SIMT_STACK
> 
	tsimt_mask_t
;

278 
	g¡d
::
	tveùÜ
<
	tadd»ss_ty³
> 
	taddr_veùÜ_t
;

280 şas 
	csimt_¡ack
 {

281 
	mpublic
:

282 
simt_¡ack
Ğ
wid
, 
w¬pSize
);

284 
»£t
();

285 
Ïunch
Ğ
add»ss_ty³
 
¡¬t_pc
, cÚ¡ 
simt_mask_t
 &
aùive_mask
 );

286 
upd©e
Ğ
simt_mask_t
 &
th»ad_dÚe
, 
addr_veùÜ_t
 &
Ãxt_pc
, 
add»ss_ty³
 
»cvg_pc
, 
İ_ty³
 
Ãxt_š¡_İ
 );

288 cÚ¡ 
	msimt_mask_t
 &
	$g‘_aùive_mask
() const;

289 
	$g‘_pdom_¡ack_tİ_šfo
Ğ*
pc
, *
½c
 ) const;

290 
	$g‘_½
() const;

291 
	$´št
(
FILE
*
å
) const;

293 
´Ùeùed
:

294 
m_w¬p_id
;

295 
m_w¬p_size
;

297 
	e¡ack_’Œy_ty³
 {

298 
STACK_ENTRY_TYPE_NORMAL
 = 0,

299 
STACK_ENTRY_TYPE_CALL


302 
	ssimt_¡ack_’Œy
 {

303 
add»ss_ty³
 
m_pc
;

304 
m_ÿÎd•th
;

305 
simt_mask_t
 
m_aùive_mask
;

306 
add»ss_ty³
 
m_»cvg_pc
;

307 
m_b¿nch_div_cyşe
;

308 
¡ack_’Œy_ty³
 
m_ty³
;

309 
	`simt_¡ack_’Œy
() :

310 
	`m_pc
(-1), 
	`m_ÿÎd•th
(0), 
	`m_aùive_mask
(), 
	`m_»cvg_pc
(-1), 
	`m_b¿nch_div_cyşe
(0), 
	`m_ty³
(
STACK_ENTRY_TYPE_NORMAL
) { };

311 
	}
};

313 
	g¡d
::
deque
<
simt_¡ack_’Œy
> 
m_¡ack
;

316 
	#GLOBAL_HEAP_START
 0x80000000

	)

318 
	#SHARED_MEM_SIZE_MAX
 (64*1024)

	)

319 
	#LOCAL_MEM_SIZE_MAX
 (8*1024)

	)

320 
	#MAX_STREAMING_MULTIPROCESSORS
 64

	)

321 
	#MAX_THREAD_PER_SM
 2048

	)

322 
	#TOTAL_LOCAL_MEM_PER_SM
 (
MAX_THREAD_PER_SM
*
LOCAL_MEM_SIZE_MAX
)

	)

323 
	#TOTAL_SHARED_MEM
 (
MAX_STREAMING_MULTIPROCESSORS
*
SHARED_MEM_SIZE_MAX
)

	)

324 
	#TOTAL_LOCAL_MEM
 (
MAX_STREAMING_MULTIPROCESSORS
*
MAX_THREAD_PER_SM
*
LOCAL_MEM_SIZE_MAX
)

	)

325 
	#SHARED_GENERIC_START
 (
GLOBAL_HEAP_START
-
TOTAL_SHARED_MEM
)

	)

326 
	#LOCAL_GENERIC_START
 (
SHARED_GENERIC_START
-
TOTAL_LOCAL_MEM
)

	)

327 
	#STATIC_ALLOC_LIMIT
 (
GLOBAL_HEAP_START
 - (
TOTAL_LOCAL_MEM
+
TOTAL_SHARED_MEM
))

	)

329 #ià!
defšed
(
__CUDA_RUNTIME_API_H__
)

331 
	ecudaChªÃlFÜm©Kšd
 {

332 
	mcudaChªÃlFÜm©KšdSigÃd
,

333 
	mcudaChªÃlFÜm©KšdUnsigÃd
,

334 
	mcudaChªÃlFÜm©KšdFlßt


337 
	scudaChªÃlFÜm©Desc
 {

338 
	mx
;

339 
	my
;

340 
	mz
;

341 
	mw
;

342 
cudaChªÃlFÜm©Kšd
 
	mf
;

345 
	scudaA¼ay
 {

346 *
	mdevPŒ
;

347 
	mdevPŒ32
;

348 
cudaChªÃlFÜm©Desc
 
	mdesc
;

349 
	mwidth
;

350 
	mheight
;

351 
	msize
;

352 
	mdim’siÚs
;

355 
	ecudaTextu»Add»ssMode
 {

356 
	mcudaAdd»ssModeW¿p
,

357 
	mcudaAdd»ssModeCÏmp


360 
	ecudaTextu»F‹rMode
 {

361 
	mcudaF‹rModePošt
,

362 
	mcudaF‹rModeLš—r


365 
	ecudaTextu»R—dMode
 {

366 
	mcudaR—dModeEËm’tTy³
,

367 
	mcudaR—dModeNÜm®izedFlßt


370 
	s‹xtu»Reã»nû
 {

371 
	mnÜm®ized
;

372 
cudaTextu»F‹rMode
 
	mf‹rMode
;

373 
cudaTextu»Add»ssMode
 
	madd»ssMode
[3];

374 
cudaChªÃlFÜm©Desc
 
	mchªÃlDesc
;

381 
	s‹xtu»Reã»nûA‰r
 {

382 cÚ¡ 
‹xtu»Reã»nû
 *
	mm_‹x»f
;

383 
	mm_dim
;

384 
cudaTextu»R—dMode
 
	mm_»admode
;

385 
	mm_ext
;

386 
‹xtu»Reã»nûA‰r
(cÚ¡ 
‹xtu»Reã»nû
 *
‹x»f
,

387 
dim
,

388 
cudaTextu»R—dMode
 
»admode
,

389 
ext
)

390 : 
m_‹x»f
(
‹x»f
), 
m_dim
(
dim
), 
m_»admode
(
»admode
), 
m_ext
(
ext
)

394 şas 
	cgpgpu_funùiÚ®_sim_cÚfig


396 
	mpublic
:

397 
»g_İtiÚs
(
şass
 
O±iÚP¬£r
 * 
İp
);

399 
±x_£t_‹x_ÿche_lšesize
(
lšesize
);

401 
	$g‘_fÜûd_max_ÿ·b™y
(ècÚ¡ {  
m_±x_fÜû_max_ÿ·b™y
; }

402 
boŞ
 
	$cÚv”t_to_±x¶us
(ècÚ¡ {  
m_±x_cÚv”t_to_±x¶us
; 
	}
}

403 
boŞ
 
	$u£_cuobjdump
(ècÚ¡ {  
m_±x_u£_cuobjdump
; 
	}
}

404 
boŞ
 
	$ex³rim’l_lib_suµÜt
(ècÚ¡ {  
m_ex³rim’l_lib_suµÜt
; 
	}
}

406 
	$g‘_±x_š¡_debug_to_fe
(ècÚ¡ {  
g_±x_š¡_debug_to_fe
; 
	}
}

407 cÚ¡ * 
	$g‘_±x_š¡_debug_fe
(ècÚ¡ {  
g_±x_š¡_debug_fe
; 
	}
}

408 
	$g‘_±x_š¡_debug_th»ad_uid
(ècÚ¡ {  
g_±x_š¡_debug_th»ad_uid
; 
	}
}

409 
	$g‘_‹xÿche_lšesize
(ècÚ¡ {  
m_‹xÿche_lšesize
; 
	}
}

411 
	g´iv©e
:

413 
m_±x_cÚv”t_to_±x¶us
;

414 
	gm_±x_u£_cuobjdump
;

415 
	gm_ex³rim’l_lib_suµÜt
;

416 
	gm_±x_fÜû_max_ÿ·b™y
;

418 
	gg_±x_š¡_debug_to_fe
;

419 * 
	gg_±x_š¡_debug_fe
;

420 
	gg_±x_š¡_debug_th»ad_uid
;

422 
	gm_‹xÿche_lšesize
;

425 şas 
	cgpgpu_t
 {

426 
	mpublic
:

427 
gpgpu_t
ĞcÚ¡ 
gpgpu_funùiÚ®_sim_cÚfig
 &
cÚfig
 );

428 * 
gpu_m®loc
Ğ
size_t
 
size
 );

429 * 
gpu_m®loÿ¼ay
Ğ
size_t
 
couÁ
 );

430 
gpu_mem£t
Ğ
size_t
 
d¡_¡¬t_addr
, 
c
, size_ˆ
couÁ
 );

431 
memıy_to_gpu
Ğ
size_t
 
d¡_¡¬t_addr
, cÚ¡ *
¤c
, size_ˆ
couÁ
 );

432 
memıy_äom_gpu
Ğ*
d¡
, 
size_t
 
¤c_¡¬t_addr
, size_ˆ
couÁ
 );

433 
memıy_gpu_to_gpu
Ğ
size_t
 
d¡
, size_ˆ
¤c
, size_ˆ
couÁ
 );

435 
şass
 
memÜy_¥aû
 *
	$g‘_glob®_memÜy
(è{  
m_glob®_mem
; }

436 
şass
 
memÜy_¥aû
 *
	$g‘_‹x_memÜy
(è{  
m_‹x_mem
; 
	}
}

437 
şass
 
memÜy_¥aû
 *
	$g‘_surf_memÜy
(è{  
m_surf_mem
; 
	}
}

439 
gpgpu_±x_sim_bšdTextu»ToA¼ay
(cÚ¡ 
‹xtu»Reã»nû
* 
‹x»f
, cÚ¡ 
cudaA¼ay
* 
¬¿y
);

440 
gpgpu_±x_sim_bšdNameToTextu»
(cÚ¡ * 
Çme
, cÚ¡ 
‹xtu»Reã»nû
* 
‹x»f
, 
dim
, 
»admode
, 
ext
);

441 cÚ¡ * 
gpgpu_±x_sim_fšdNameäomTextu»
(cÚ¡ 
‹xtu»Reã»nû
* 
‹x»f
);

443 cÚ¡ 
‹xtu»Reã»nû
* 
g‘_‹x»f
(cÚ¡ 
¡d
::
¡ršg
 &
‹xÇme
) const

445 
¡d
::
m­
<¡d::
¡ršg
, cÚ¡ 
	g‹xtu»Reã»nû
*>::
cÚ¡_™”©Ü
 
t
=
m_NameToTextu»Ref
.
fšd
(
‹xÇme
);

446 
as£¹
Ğ
t
 !ğ
m_NameToTextu»Ref
.
’d
() );

447  
	gt
->
	g£cÚd
;

449 cÚ¡ 
cudaA¼ay
* 
	$g‘_‹x¬¿y
ĞcÚ¡ 
‹xtu»Reã»nû
 *
‹x»f
 ) const

451 
¡d
::
m­
<cÚ¡ 
‹xtu»Reã»nû
*,cÚ¡ 
cudaA¼ay
*>::
cÚ¡_™”©Ü
 
t
=
m_Textu»RefToCudaA¼ay
.
	`fšd
(
‹x»f
);

452 
	`as£¹
(
t
 !ğ
m_Textu»RefToCudaA¼ay
.
	`’d
());

453  
t
->
£cÚd
;

454 
	}
}

455 cÚ¡ 
‹xtu»Info
* 
	$g‘_‹xšfo
ĞcÚ¡ 
‹xtu»Reã»nû
 *
‹x»f
 ) const

457 
¡d
::
m­
<cÚ¡ 
‹xtu»Reã»nû
*, cÚ¡ 
‹xtu»Info
*>::
cÚ¡_™”©Ü
 
t
=
m_Textu»RefToTexu»Info
.
	`fšd
(
‹x»f
);

458 
	`as£¹
(
t
 !ğ
m_Textu»RefToTexu»Info
.
	`’d
());

459  
t
->
£cÚd
;

460 
	}
}

462 cÚ¡ 
‹xtu»Reã»nûA‰r
* 
	$g‘_‹x©Œ
ĞcÚ¡ 
‹xtu»Reã»nû
 *
‹x»f
 ) const

464 
¡d
::
m­
<cÚ¡ 
‹xtu»Reã»nû
*, cÚ¡ 
‹xtu»Reã»nûA‰r
*>::
cÚ¡_™”©Ü
 
t
=
m_Textu»RefToA‰ribu‹
.
	`fšd
(
‹x»f
);

465 
	`as£¹
(
t
 !ğ
m_Textu»RefToA‰ribu‹
.
	`’d
());

466  
t
->
£cÚd
;

467 
	}
}

469 cÚ¡ 
	ggpgpu_funùiÚ®_sim_cÚfig
 &
	$g‘_cÚfig
(ècÚ¡ {  
m_funùiÚ_mod–_cÚfig
; 
	}
}

470 
FILE
* 
	$g‘_±x_š¡_debug_fe
(è{  
±x_š¡_debug_fe
; 
	}
}

472 
	g´Ùeùed
:

473 cÚ¡ 
gpgpu_funùiÚ®_sim_cÚfig
 &
m_funùiÚ_mod–_cÚfig
;

474 
FILE
* 
	g±x_š¡_debug_fe
;

476 
şass
 
memÜy_¥aû
 *
	gm_glob®_mem
;

477 
şass
 
memÜy_¥aû
 *
	gm_‹x_mem
;

478 
şass
 
memÜy_¥aû
 *
	gm_surf_mem
;

480 
	gm_dev_m®loc
;

482 
	g¡d
::
m­
<
¡d
::
¡ršg
, cÚ¡ 
	g‹xtu»Reã»nû
*> 
	gm_NameToTextu»Ref
;

483 
	g¡d
::
m­
<cÚ¡ 
‹xtu»Reã»nû
*,cÚ¡ 
	gcudaA¼ay
*> 
	gm_Textu»RefToCudaA¼ay
;

484 
	g¡d
::
m­
<cÚ¡ 
‹xtu»Reã»nû
*, cÚ¡ 
	g‹xtu»Info
*> 
	gm_Textu»RefToTexu»Info
;

485 
	g¡d
::
m­
<cÚ¡ 
‹xtu»Reã»nû
*, cÚ¡ 
	g‹xtu»Reã»nûA‰r
*> 
	gm_Textu»RefToA‰ribu‹
;

488 
	sgpgpu_±x_sim_k”Ãl_šfo


492 
	mlmem
;

493 
	msmem
;

494 
	mcmem
;

495 
	m»gs
;

496 
	m±x_v”siÚ
;

497 
	msm_rg‘
;

500 
	sgpgpu_±x_sim_¬g
 {

501 
gpgpu_±x_sim_¬g
(è{ 
	mm_¡¬t
=
NULL
; }

502 
gpgpu_±x_sim_¬g
(cÚ¡ *
¬g
, 
size_t
 
size
, size_ˆ
off£t
)

504 
	mm_¡¬t
=
¬g
;

505 
	mm_nby‹s
=
size
;

506 
	mm_off£t
=
off£t
;

508 cÚ¡ *
	mm_¡¬t
;

509 
size_t
 
	mm_nby‹s
;

510 
size_t
 
	mm_off£t
;

513 
	g¡d
::
	tli¡
<
	tgpgpu_±x_sim_¬g
> 
	tgpgpu_±x_sim_¬g_li¡_t
;

515 şas 
	cmemÜy_¥aû_t
 {

516 
	mpublic
:

517 
	$memÜy_¥aû_t
(è{ 
m_ty³
 = 
undefšed_¥aû
; 
m_bªk
=0; }

518 
	$memÜy_¥aû_t
ĞcÚ¡ 
_memÜy_¥aû_t
 &
äom
 ) { 
m_ty³
 = from; 
m_bªk
 = 0; 
	}
}

519 
boŞ
 
	gİ”©Ü
==ĞcÚ¡ 
memÜy_¥aû_t
 &
x
 ) cÚ¡ {  (
m_bªk
 =ğx.m_bªkè&& (
m_ty³
 == x.m_type); }

520 
boŞ
 
	gİ”©Ü
!=ĞcÚ¡ 
memÜy_¥aû_t
 &
x
 ) cÚ¡ {  !(*
this
 == x); }

521 
boŞ
 
	gİ”©Ü
<ĞcÚ¡ 
	gmemÜy_¥aû_t
 &
	gx
 ) const

523 if(
	gm_ty³
 < 
	gx
.m_type)

524  
	gŒue
;

525 if(
	gm_ty³
 > 
	gx
.m_type)

526  
	gçl£
;

527 ifĞ
	gm_bªk
 < 
	gx
.m_bank )

528  
	gŒue
;

529  
	gçl£
;

531 
_memÜy_¥aû_t
 
	$g‘_ty³
(ècÚ¡ {  
m_ty³
; 
	}
}

532 
	$g‘_bªk
(ècÚ¡ {  
m_bªk
; 
	}
}

533 
	$£t_bªk
Ğ
b
 ) { 
m_bªk
 = b; 
	}
}

534 
boŞ
 
	$is_cÚ¡
(ècÚ¡ {  (
m_ty³
 =ğ
cÚ¡_¥aû
è|| (m_ty³ =ğ
·¿m_¥aû_k”Ãl
); 
	}
}

535 
boŞ
 
	$is_loÿl
(ècÚ¡ {  (
m_ty³
 =ğ
loÿl_¥aû
è|| (m_ty³ =ğ
·¿m_¥aû_loÿl
); 
	}
}

536 
boŞ
 
	$is_glob®
(ècÚ¡ {  (
m_ty³
 =ğ
glob®_¥aû
); 
	}
}

538 
	g´iv©e
:

539 
_memÜy_¥aû_t
 
m_ty³
;

540 
	gm_bªk
;

543 cÚ¡ 
	gMAX_MEMORY_ACCESS_SIZE
 = 128;

544 
	g¡d
::
	tb™£t
<
	tMAX_MEMORY_ACCESS_SIZE
> 
	tmem_acûss_by‹_mask_t
;

545 
	#NO_PARTIAL_WRITE
 (
	`mem_acûss_by‹_mask_t
())

	)

547 
	#MEM_ACCESS_TYPE_TUP_DEF
 \

548 
	`MA_TUP_BEGIN
Ğ
mem_acûss_ty³
 ) \

549 
	`MA_TUP
Ğ
GLOBAL_ACC_R
 ), \

550 
	`MA_TUP
Ğ
LOCAL_ACC_R
 ), \

551 
	`MA_TUP
Ğ
CONST_ACC_R
 ), \

552 
	`MA_TUP
Ğ
TEXTURE_ACC_R
 ), \

553 
	`MA_TUP
Ğ
GLOBAL_ACC_W
 ), \

554 
	`MA_TUP
Ğ
LOCAL_ACC_W
 ), \

555 
	`MA_TUP
Ğ
L1_WRBK_ACC
 ), \

556 
	`MA_TUP
Ğ
L2_WRBK_ACC
 ), \

557 
	`MA_TUP
Ğ
INST_ACC_R
 ), \

558 
	`MA_TUP
Ğ
L1_WR_ALLOC_R
 ), \

559 
	`MA_TUP
Ğ
L2_WR_ALLOC_R
 ), \

560 
	`MA_TUP
Ğ
NUM_MEM_ACCESS_TYPE
 ) \

561 
	`MA_TUP_END
Ğ
mem_acûss_ty³
 )

	)

563 
	#MA_TUP_BEGIN
(
X
è
	eX
 {

	)

564 
	#MA_TUP
(
X
è
	)
X

565 
	#MA_TUP_END
(
X
è};

	)

566 
	gMEM_ACCESS_TYPE_TUP_DEF


567 #undeà
MA_TUP_BEGIN


568 #undeà
MA_TUP


569 #undeà
MA_TUP_END


571 cÚ¡ * 
mem_acûss_ty³_¡r
(
mem_acûss_ty³
 
acûss_ty³
);

573 
	eÿche_İ”©Ü_ty³
 {

574 
	mCACHE_UNDEFINED
,

577 
	mCACHE_ALL
,

578 
	mCACHE_LAST_USE
,

579 
	mCACHE_VOLATILE
,

582 
	mCACHE_STREAMING
,

583 
	mCACHE_GLOBAL
,

586 
	mCACHE_WRITE_BACK
,

587 
	mCACHE_WRITE_THROUGH


590 şas 
	cmem_acûss_t
 {

591 
	mpublic
:

592 
	$mem_acûss_t
(è{ 
	`š™
(); }

593 
	$mem_acûss_t
Ğ
mem_acûss_ty³
 
ty³
,

594 
Ãw_addr_ty³
 
add»ss
,

595 
size
,

596 
boŞ
 
wr
 )

598 
	`š™
();

599 
m_ty³
 = 
ty³
;

600 
m_addr
 = 
add»ss
;

601 
m_»q_size
 = 
size
;

602 
m_wr™e
 = 
wr
;

603 
	}
}

604 
	$mem_acûss_t
Ğ
mem_acûss_ty³
 
ty³
,

605 
Ãw_addr_ty³
 
add»ss
,

606 
size
,

607 
boŞ
 
wr
,

608 cÚ¡ 
aùive_mask_t
 &
aùive_mask
,

609 cÚ¡ 
mem_acûss_by‹_mask_t
 &
by‹_mask
 )

610 : 
	`m_w¬p_mask
(
aùive_mask
), 
	$m_by‹_mask
(
by‹_mask
)

612 
	`š™
();

613 
m_ty³
 = 
ty³
;

614 
m_addr
 = 
add»ss
;

615 
m_»q_size
 = 
size
;

616 
m_wr™e
 = 
wr
;

617 
	}
}

619 
Ãw_addr_ty³
 
	$g‘_addr
(ècÚ¡ {  
m_addr
; 
	}
}

620 
	$£t_addr
(
Ãw_addr_ty³
 
addr
è{
m_addr
÷ddr;
	}
}

621 
	$g‘_size
(ècÚ¡ {  
m_»q_size
; 
	}
}

622 cÚ¡ 
	gaùive_mask_t
 &
	$g‘_w¬p_mask
(ècÚ¡ {  
m_w¬p_mask
; 
	}
}

623 
boŞ
 
	$is_wr™e
(ècÚ¡ {  
m_wr™e
; 
	}
}

624 
mem_acûss_ty³
 
	$g‘_ty³
(ècÚ¡ {  
m_ty³
; 
	}
}

625 
mem_acûss_by‹_mask_t
 
	$g‘_by‹_mask
(ècÚ¡ {  
m_by‹_mask
; 
	}
}

627 
	$´št
(
FILE
 *
å
) const

629 
	`årštf
(
å
,"addr=0x%Îx, %s, size=%u, ", 
m_addr
, 
m_wr™e
?"¡Üe":"lßd ", 
m_»q_size
 );

630 
m_ty³
) {

631 
GLOBAL_ACC_R
: 
	`årštf
(
å
,"GLOBAL_R"); ;

632 
LOCAL_ACC_R
: 
	`årštf
(
å
,"LOCAL_R "); ;

633 
CONST_ACC_R
: 
	`årštf
(
å
,"CONST "); ;

634 
TEXTURE_ACC_R
: 
	`årštf
(
å
,"TEXTURE "); ;

635 
GLOBAL_ACC_W
: 
	`årštf
(
å
,"GLOBAL_W"); ;

636 
LOCAL_ACC_W
: 
	`årštf
(
å
,"LOCAL_W "); ;

637 
L2_WRBK_ACC
: 
	`årštf
(
å
,"L2_WRBK "); ;

638 
INST_ACC_R
: 
	`årštf
(
å
,"INST "); ;

639 
L1_WRBK_ACC
: 
	`årštf
(
å
,"L1_WRBK "); ;

640 : 
	`årštf
(
å
,"unknown "); ;

642 
	}
}

644 
	g´iv©e
:

645 
	$š™
()

647 
m_uid
=++
sm_Ãxt_acûss_uid
;

648 
m_addr
=0;

649 
m_»q_size
=0;

650 
	}
}

652 
	gm_uid
;

653 
Ãw_addr_ty³
 
	gm_addr
;

654 
boŞ
 
	gm_wr™e
;

655 
	gm_»q_size
;

656 
mem_acûss_ty³
 
	gm_ty³
;

657 
aùive_mask_t
 
	gm_w¬p_mask
;

658 
mem_acûss_by‹_mask_t
 
	gm_by‹_mask
;

660 
	gsm_Ãxt_acûss_uid
;

663 
şass
 
	gmem_ãtch
;

665 şas 
	cmem_ãtch_š‹rçû
 {

666 
	mpublic
:

667 
vœtu®
 
boŞ
 
	$fuÎ
Ğ
size
, 
boŞ
 
wr™e
 ) const = 0;

668 
vœtu®
 
	`push
Ğ
mem_ãtch
 *
mf
 ) = 0;

671 şas 
	cmem_ãtch_®loÿtÜ
 {

672 
public
:

673 
vœtu®
 
mem_ãtch
 *
	$®loc
Ğ
Ãw_addr_ty³
 
addr
, 
mem_acûss_ty³
 
ty³
, 
size
, 
boŞ
 
wr
 ) const = 0;

674 
vœtu®
 
mem_ãtch
 *
	$®loc
ĞcÚ¡ 
şass
 
w¬p_š¡_t
 &
š¡
, cÚ¡ 
mem_acûss_t
 &
acûss
 ) const = 0;

678 
	#MAX_REG_OPERANDS
 8

	)

680 
	sd¿m_ÿÎback_t
 {

681 
	`d¿m_ÿÎback_t
(è{ 
funùiÚ
=
NULL
; 
š¡ruùiÚ
=NULL; 
th»ad
=NULL; }

682 (*
funùiÚ
)(cÚ¡ 
şass
 
š¡_t
*, cÏs 
±x_th»ad_šfo
*);

683 cÚ¡ 
şass
 
š¡_t
* 
š¡ruùiÚ
;

684 
şass
 
±x_th»ad_šfo
 *
th»ad
;

687 şas 
	cš¡_t
 {

688 
public
:

689 
	$š¡_t
()

691 
m_decoded
=
çl£
;

692 
pc
=(
add»ss_ty³
)-1;

693 
»cÚv”g’û_pc
=(
add»ss_ty³
)-1;

694 
İ
=
NO_OP
;

695 
İºd_ty³
=
UN_OP
;

696 
¥_İ
=
OTHER_OP
;

697 
İ_pe
=
UNKOWN_OP
;

698 
mem_İ
=
NOT_TEX
;

699 
num_İ”ªds
=0;

700 
num_»gs
=0;

701 
	`mem£t
(
out
, 0, ());

702 
	`mem£t
(
š
, 0, ());

703 
is_veùÜš
=0;

704 
is_veùÜout
=0;

705 
¥aû
 = 
	`memÜy_¥aû_t
();

706 
ÿche_İ
 = 
CACHE_UNDEFINED
;

707 
Ï‹ncy
 = 1;

708 
š™ŸtiÚ_š‹rv®
 = 1;

709  
i
=0; i < 
MAX_REG_OPERANDS
; i++ ) {

710 
¬ch_»g
.
¤c
[
i
] = -1;

711 
¬ch_»g
.
d¡
[
i
] = -1;

713 
isize
=0;

715 
boŞ
 
	$v®id
(ècÚ¡ {  
m_decoded
; 
	}
}

716 
vœtu®
 
	$´št_š¢
Ğ
FILE
 *
å
 ) const

718 
	`årštf
(
å
," [š¡ @…c=0x%04x] ", 
pc
 );

719 
	}
}

720 
boŞ
 
	$is_lßd
(ècÚ¡ {  (
İ
 =ğ
LOAD_OP
 || 
memÜy_İ
 =ğ
memÜy_lßd
); 
	}
}

721 
boŞ
 
	$is_¡Üe
(ècÚ¡ {  (
İ
 =ğ
STORE_OP
 || 
memÜy_İ
 =ğ
memÜy_¡Üe
); 
	}
}

722 
	$g‘_num_İ”ªds
(ècÚ¡ { 
num_İ”ªds
;
	}
}

723 
	$g‘_num_»gs
(ècÚ¡ { 
num_»gs
;
	}
}

724 
	$£t_num_»gs
(
num
è{
num_»gs
òum;
	}
}

725 
	$£t_num_İ”ªds
(
num
è{
num_İ”ªds
òum;
	}
}

727 
add»ss_ty³
 
	gpc
;

728 
	gisize
;

729 
İ_ty³
 
	gİ
;

730 
ty³s_of_İ”ªds
 
	gİºd_ty³
;

731 
¥ecŸl_İs
 
	g¥_İ
;

732 
İ”©iÚ_p–še
 
	gİ_pe
;

733 
mem_İ”©iÚ
 
	gmem_İ
;

734 
_memÜy_İ_t
 
	gmemÜy_İ
;

735 
	gnum_İ”ªds
;

736 
	gnum_»gs
;

738 
add»ss_ty³
 
	g»cÚv”g’û_pc
;

740 
	gout
[4];

741 
	gš
[4];

742 
	gis_veùÜš
;

743 
	gis_veùÜout
;

744 
	g´ed
;

745 
	g¬1
, 
	g¬2
;

748 
	gd¡
[
MAX_REG_OPERANDS
];

749 
	g¤c
[
MAX_REG_OPERANDS
];

750 } 
	g¬ch_»g
;

752 
	gÏ‹ncy
;

753 
	gš™ŸtiÚ_š‹rv®
;

755 
	gd©a_size
;

756 
memÜy_¥aû_t
 
	g¥aû
;

757 
ÿche_İ”©Ü_ty³
 
	gÿche_İ
;

759 
	g´Ùeùed
:

760 
boŞ
 
m_decoded
;

761 
vœtu®
 
	$´e_decode
(è{
	}
}

764 
	ediv”g’û_suµÜt_t
 {

765 
	mPOST_DOMINATOR
 = 1,

766 
	mNUM_SIMD_MODEL


769 cÚ¡ 
	gMAX_ACCESSES_PER_INSN_PER_THREAD
 = 8;

771 şas 
	cw¬p_š¡_t
: 
public
 
š¡_t
 {

772 
public
:

774 
	$w¬p_š¡_t
()

776 
m_uid
=0;

777 
m_em±y
=
Œue
;

778 
m_cÚfig
=
NULL
;

780 
	$w¬p_š¡_t
ĞcÚ¡ 
cÜe_cÚfig
 *
cÚfig
 )

782 
m_uid
=0;

783 
	`as£¹
(
cÚfig
->
w¬p_size
<=
MAX_WARP_SIZE
);

784 
m_cÚfig
=
cÚfig
;

785 
m_em±y
=
Œue
;

786 
m_i§tomic
=
çl£
;

787 
m_³r_sÿÏr_th»ad_v®id
=
çl£
;

788 
m_mem_acûs£s_ü—‹d
=
çl£
;

789 
m_ÿche_h™
=
çl£
;

790 
m_is_´štf
=
çl£
;

791 
	}
}

792 
	gvœtu®
 ~
	$w¬p_š¡_t
(){

793 
	}
}

796 
do_©omic
(
boŞ
 
fÜûDo
=
çl£
);

797 
do_©omic
ĞcÚ¡ 
aùive_mask_t
& 
acûss_mask
, 
boŞ
 
fÜûDo
=
çl£
 );

798 
	$ş—r
()

800 
m_em±y
=
Œue
;

801 
	}
}

802 
	$issue
ĞcÚ¡ 
aùive_mask_t
 &
mask
, 
w¬p_id
, 
cyşe
, 
dyÇmic_w¬p_id
 )

804 
m_w¬p_aùive_mask
 = 
mask
;

805 
m_w¬p_issued_mask
 = 
mask
;

806 
m_uid
 = ++
sm_Ãxt_uid
;

807 
m_w¬p_id
 = 
w¬p_id
;

808 
m_dyÇmic_w¬p_id
 = 
dyÇmic_w¬p_id
;

809 
issue_cyşe
 = 
cyşe
;

810 
cyşes
 = 
š™ŸtiÚ_š‹rv®
;

811 
m_ÿche_h™
=
çl£
;

812 
m_em±y
=
çl£
;

813 
	}
}

814 cÚ¡ 
	gaùive_mask_t
 & 
	$g‘_aùive_mask
() const

816  
m_w¬p_aùive_mask
;

817 
	}
}

818 
	$com¶‘ed
Ğ
cyşe
 ) const;

819 
	$£t_addr
Ğ
n
, 
Ãw_addr_ty³
 
addr
 )

821 ifĞ!
m_³r_sÿÏr_th»ad_v®id
 ) {

822 
m_³r_sÿÏr_th»ad
.
	`»size
(
m_cÚfig
->
w¬p_size
);

823 
m_³r_sÿÏr_th»ad_v®id
=
Œue
;

825 
m_³r_sÿÏr_th»ad
[
n
].
mem»qaddr
[0] = 
addr
;

826 
	}
}

827 
	$£t_addr
Ğ
n
, 
Ãw_addr_ty³
* 
addr
, 
num_addrs
 )

829 ifĞ!
m_³r_sÿÏr_th»ad_v®id
 ) {

830 
m_³r_sÿÏr_th»ad
.
	`»size
(
m_cÚfig
->
w¬p_size
);

831 
m_³r_sÿÏr_th»ad_v®id
=
Œue
;

833 
	`as£¹
(
num_addrs
 <ğ
MAX_ACCESSES_PER_INSN_PER_THREAD
);

834 
i
=0; i<
num_addrs
; i++)

835 
m_³r_sÿÏr_th»ad
[
n
].
mem»qaddr
[
i
] = 
addr
[i];

836 
	}
}

838 
	sŒª§ùiÚ_šfo
 {

839 
	g¡d
::
b™£t
<4> 
chunks
;

840 
mem_acûss_by‹_mask_t
 
	gby‹s
;

841 
aùive_mask_t
 
	gaùive
;

843 
boŞ
 
‹¡_by‹s
(
¡¬t_b™
, 
’d_b™
) {

844  
	gi
=
¡¬t_b™
; i<=
’d_b™
; i++ )

845 if(
	gby‹s
.
‹¡
(
i
))

846  
	gŒue
;

847  
	gçl£
;

851 
g’”©e_mem_acûs£s
();

852 
memÜy_cßËscšg_¬ch_13
Ğ
boŞ
 
is_wr™e
, 
mem_acûss_ty³
 
acûss_ty³
 );

853 
memÜy_cßËscšg_¬ch_13_©omic
Ğ
boŞ
 
is_wr™e
, 
mem_acûss_ty³
 
acûss_ty³
 );

854 
memÜy_cßËscšg_¬ch_13_»duû_ªd_£nd
Ğ
boŞ
 
is_wr™e
, 
mem_acûss_ty³
 
acûss_ty³
, cÚ¡ 
Œª§ùiÚ_šfo
 &
šfo
, 
Ãw_addr_ty³
 
addr
, 
£gm’t_size
 );

856 
add_ÿÎback
Ğ
ÏÃ_id
,

857 (*
funùiÚ
)(cÚ¡ 
şass
 
š¡_t
*, cÏs 
±x_th»ad_šfo
*),

858 cÚ¡ 
š¡_t
 *
š¡
,

859 
şass
 
±x_th»ad_šfo
 *
th»ad
 )

861 ifĞ!
m_³r_sÿÏr_th»ad_v®id
 ) {

862 
m_³r_sÿÏr_th»ad
.
	`»size
(
m_cÚfig
->
w¬p_size
);

863 
m_³r_sÿÏr_th»ad_v®id
=
Œue
;

864 
m_i§tomic
=
Œue
;

866 
m_³r_sÿÏr_th»ad
[
ÏÃ_id
].
ÿÎback
.
funùiÚ
 = function;

867 
m_³r_sÿÏr_th»ad
[
ÏÃ_id
].
ÿÎback
.
š¡ruùiÚ
 = 
š¡
;

868 
m_³r_sÿÏr_th»ad
[
ÏÃ_id
].
ÿÎback
.
th»ad
 =hread;

869 
	}
}

870 
£t_aùive
ĞcÚ¡ 
aùive_mask_t
 &
aùive
 );

872 
ş—r_aùive
ĞcÚ¡ 
aùive_mask_t
 &
šaùive
 );

873 
£t_nÙ_aùive
Ğ
ÏÃ_id
 );

876 
vœtu®
 
	$´št_š¢
(
FILE
 *
å
) const

878 
	`årštf
(
å
," [š¡ @…c=0x%04x] ", 
pc
 );

879 
i
=()
m_cÚfig
->
w¬p_size
-1; i>=0; i--)

880 
	`årštf
(
å
, "%c", ((
m_w¬p_aùive_mask
[
i
])?'1':'0') );

881 
	}
}

882 
boŞ
 
	$aùive
Ğ
th»ad
 ) cÚ¡ {  
m_w¬p_aùive_mask
.
	`‹¡
Ñh»ad); 
	}
}

883 
	$aùive_couÁ
(ècÚ¡ {  
m_w¬p_aùive_mask
.
	`couÁ
(); 
	}
}

884 
	$issued_couÁ
(ècÚ¡ { 
	`as£¹
(
m_em±y
 =ğ
çl£
);  
m_w¬p_issued_mask
.
	`couÁ
(); 
	}
}

885 
boŞ
 
	$em±y
(ècÚ¡ {  
m_em±y
; 
	}
}

886 
	$w¬p_id
() const

888 
	`as£¹
Ğ!
m_em±y
 );

889  
m_w¬p_id
;

890 
	}
}

891 
	$dyÇmic_w¬p_id
() const

893 
	`as£¹
Ğ!
m_em±y
 );

894  
m_dyÇmic_w¬p_id
;

895 
	}
}

896 
boŞ
 
	$has_ÿÎback
Ğ
n
 ) const

898  
m_w¬p_aùive_mask
[
n
] && 
m_³r_sÿÏr_th»ad_v®id
 &&

899 (
m_³r_sÿÏr_th»ad
[
n
].
ÿÎback
.
funùiÚ
!=
NULL
);

900 
	}
}

901 
Ãw_addr_ty³
 
	$g‘_addr
Ğ
n
 ) const

903 
	`as£¹
Ğ
m_³r_sÿÏr_th»ad_v®id
 );

904  
m_³r_sÿÏr_th»ad
[
n
].
mem»qaddr
[0];

905 
	}
}

907 
boŞ
 
	$i§tomic
(ècÚ¡ {  
m_i§tomic
; 
	}
}

909 
	$w¬p_size
(ècÚ¡ {  
m_cÚfig
->
w¬p_size
; 
	}
}

911 
boŞ
 
	$acûssq_em±y
(ècÚ¡ {  
m_acûssq
.
	`em±y
(); 
	}
}

912 
	$acûssq_couÁ
(ècÚ¡ {  
m_acûssq
.
	`size
(); 
	}
}

913 cÚ¡ 
	gmem_acûss_t
 &
	$acûssq_back
(è{  
m_acûssq
.
	`back
(); 
	}
}

914 
	$acûssq_pİ_back
(è{ 
m_acûssq
.
	`pİ_back
(); 
	}
}

916 
boŞ
 
	$di¥©ch_d–ay
()

918 ifĞ
cyşes
 > 0 )

919 
cyşes
--;

920  
cyşes
 > 0;

921 
	}
}

923 
boŞ
 
	$has_di¥©ch_d–ay
(){

924  
cyşes
 > 0;

925 
	}
}

927 
	$´št
Ğ
FILE
 *
fout
 ) const;

928 
	$g‘_uid
(ècÚ¡ {  
m_uid
; 
	}
}

930 
	g´Ùeùed
:

932 
m_uid
;

933 
boŞ
 
	gm_em±y
;

934 
boŞ
 
	gm_ÿche_h™
;

935 
	gissue_cyşe
;

936 
	gcyşes
;

937 
boŞ
 
	gm_i§tomic
;

938 
boŞ
 
	gm_is_´štf
;

939 
	gm_w¬p_id
;

940 
	gm_dyÇmic_w¬p_id
;

941 cÚ¡ 
cÜe_cÚfig
 *
	gm_cÚfig
;

942 
aùive_mask_t
 
	gm_w¬p_aùive_mask
;

943 
aùive_mask_t
 
	gm_w¬p_issued_mask
;

945 
	s³r_th»ad_šfo
 {

946 
³r_th»ad_šfo
() {

947 
	gi
=0; i<
	gMAX_ACCESSES_PER_INSN_PER_THREAD
; i++)

948 
	gmem»qaddr
[
i
] = 0;

950 
d¿m_ÿÎback_t
 
	gÿÎback
;

951 
Ãw_addr_ty³
 
	gmem»qaddr
[
MAX_ACCESSES_PER_INSN_PER_THREAD
];

953 
boŞ
 
	gm_³r_sÿÏr_th»ad_v®id
;

954 
	g¡d
::
veùÜ
<
³r_th»ad_šfo
> 
m_³r_sÿÏr_th»ad
;

955 
boŞ
 
	gm_mem_acûs£s_ü—‹d
;

956 
	g¡d
::
li¡
<
mem_acûss_t
> 
m_acûssq
;

958 
	gsm_Ãxt_uid
;

961 
move_w¬p
Ğ
w¬p_š¡_t
 *&
d¡
, w¬p_š¡_ˆ*&
¤c
 );

963 
size_t
 
g‘_k”Ãl_code_size
Ğ
şass
 
funùiÚ_šfo
 *
’Œy
 );

969 şas 
	ccÜe_t
 {

970 
	mpublic
:

971 
	$cÜe_t
Ğ
gpgpu_sim
 *
gpu
,

972 
k”Ãl_šfo_t
 *
k”Ãl
,

973 
w¬p_size
,

974 
th»ads_³r_shad”
 )

975 : 
	`m_gpu
Ğ
gpu
 ),

976 
	`m_k”Ãl
Ğ
k”Ãl
 ),

977 
	`m_simt_¡ack
Ğ
NULL
 ),

978 
	`m_th»ad
Ğ
NULL
 ),

979 
	$m_w¬p_size
Ğ
w¬p_size
 )

981 
m_w¬p_couÁ
 = 
th»ads_³r_shad”
/
m_w¬p_size
;

984 iàĞ
th»ads_³r_shad”
 % 
m_w¬p_size
 != 0 ) {

985 
m_w¬p_couÁ
 += 1;

987 
	`as£¹
Ğ
m_w¬p_couÁ
 * 
m_w¬p_size
 > 0 );

988 
m_th»ad
 = ( 
±x_th»ad_šfo
** )

989 
	`ÿÎoc
Ğ
m_w¬p_couÁ
 * 
m_w¬p_size
,

990 Ğ
±x_th»ad_šfo
* ) );

991 
	`š™izeSIMTSck
(
m_w¬p_couÁ
,
m_w¬p_size
);

993 
vœtu®
 ~
	$cÜe_t
(è{ 
	`ä“
(
m_th»ad
); 
	}
}

994 
vœtu®
 
w¬p_ex™
Ğ
w¬p_id
 ) = 0;

995 
vœtu®
 
boŞ
 
	$w¬p_wa™šg_©_b¬r›r
Ğ
w¬p_id
 ) const = 0;

996 
vœtu®
 
	`checkExecutiÚStusAndUpd©e
(
w¬p_š¡_t
 &
š¡
, 
t
, 
tid
)=0;

997 
şass
 
gpgpu_sim
 * 
	$g‘_gpu
(è{ 
m_gpu
;
	}
}

998 
execu‹_w¬p_š¡_t
(
w¬p_š¡_t
 &
š¡
, 
w¬pId
 =()-1);

999 
boŞ
 
	$±x_th»ad_dÚe
Ğ
hw_th»ad_id
 ) const ;

1000 
	`upd©eSIMTSck
(
w¬pId
, 
w¬p_š¡_t
 * 
š¡
);

1001 
	`š™izeSIMTSck
(
w¬p_couÁ
, 
w¬ps_size
);

1002 
	`d–‘eSIMTSck
();

1003 
w¬p_š¡_t
 
	`g‘Execu‹W¬p
(
w¬pId
);

1004 
	$g‘_pdom_¡ack_tİ_šfo
Ğ
w¬pId
, *
pc
, *
½c
 ) const;

1005 
k”Ãl_šfo_t
 * 
	$g‘_k”Ãl_šfo
(){  
m_k”Ãl
;
	}
}

1006 
	$g‘_w¬p_size
(ècÚ¡ {  
m_w¬p_size
; 
	}
}

1007 
	g´Ùeùed
:

1008 
şass
 
gpgpu_sim
 *
m_gpu
;

1009 
k”Ãl_šfo_t
 *
	gm_k”Ãl
;

1010 
simt_¡ack
 **
	gm_simt_¡ack
;

1011 
şass
 
±x_th»ad_šfo
 ** 
	gm_th»ad
;

1012 
	gm_w¬p_size
;

1013 
	gm_w¬p_couÁ
;

1018 şas 
	c»gi¡”_£t
 {

1019 
	mpublic
:

1020 
	$»gi¡”_£t
(
num
, cÚ¡ * 
Çme
){

1021  
i
 = 0; i < 
num
; i++ ) {

1022 
»gs
.
	`push_back
(
Ãw
 
	`w¬p_š¡_t
());

1024 
m_Çme
 = 
Çme
;

1026 
boŞ
 
	$has_ä“
(){

1027  
i
 = 0; i < 
»gs
.
	`size
(); i++ ) {

1028 ifĞ
»gs
[
i
]->
	`em±y
() ) {

1029  
Œue
;

1032  
çl£
;

1033 
	}
}

1034 
boŞ
 
	$has_»ady
(){

1035  
i
 = 0; i < 
»gs
.
	`size
(); i++ ) {

1036 ifĞ
nÙ
 
»gs
[
i
]->
	`em±y
() ) {

1037  
Œue
;

1040  
çl£
;

1041 
	}
}

1043 
	$move_š
Ğ
w¬p_š¡_t
 *&
¤c
 ){

1044 
w¬p_š¡_t
** 
ä“
 = 
	`g‘_ä“
();

1045 
	`move_w¬p
(*
ä“
, 
¤c
);

1046 
	}
}

1050 
	$move_out_to
Ğ
w¬p_š¡_t
 *&
de¡
 ){

1051 
w¬p_š¡_t
 **
»ady
=
	`g‘_»ady
();

1052 
	`move_w¬p
(
de¡
, *
»ady
);

1053 
	}
}

1055 
w¬p_š¡_t
** 
	$g‘_»ady
(){

1056 
w¬p_š¡_t
** 
»ady
;

1057 
»ady
 = 
NULL
;

1058  
i
 = 0; i < 
»gs
.
	`size
(); i++ ) {

1059 ifĞ
nÙ
 
»gs
[
i
]->
	`em±y
() ) {

1060 ifĞ
»ady
 
	`ªd
 (*»ady)->
	`g‘_uid
(è< 
»gs
[
i
]->get_uid() ) {

1063 
»ady
 = &
»gs
[
i
];

1067  
»ady
;

1068 
	}
}

1070 
	$´št
(
FILE
* 
å
) const{

1071 
	`årštf
(
å
, "% : @%p\n", 
m_Çme
, 
this
);

1072  
i
 = 0; i < 
»gs
.
	`size
(); i++ ) {

1073 
	`årštf
(
å
, " ");

1074 
»gs
[
i
]->
	`´št
(
å
);

1075 
	`årštf
(
å
, "\n");

1077 
	}
}

1079 
w¬p_š¡_t
 ** 
	$g‘_ä“
(){

1080  
i
 = 0; i < 
»gs
.
	`size
(); i++ ) {

1081 ifĞ
»gs
[
i
]->
	`em±y
() ) {

1082  &
»gs
[
i
];

1085 
	`as£¹
(0 && "No free„egisters found");

1086  
NULL
;

1087 
	}
}

1089 
	g´iv©e
:

1090 
¡d
::
veùÜ
<
w¬p_š¡_t
*> 
»gs
;

1091 cÚ¡ * 
	gm_Çme
;

	@../cuda-sim/cuda-sim.h

28 #iâdeà
CUDASIM_H_INCLUDED


29 
	#CUDASIM_H_INCLUDED


	)

31 
	~"../ab¡¿ù_h¬dw¬e_mod–.h
"

32 
	~"../gpgpu-sim/shad”.h
"

33 
	~<¡dlib.h
>

34 
	~<m­
>

35 
	~<¡ršg
>

36 
	~"±x_sim.h
"

38 
şass
 
	gmemÜy_¥aû
;

39 
şass
 
	gfunùiÚ_šfo
;

40 
şass
 
	gsymbŞ_bË
;

42 cÚ¡ *
g_gpgpusim_v”siÚ_¡ršg
;

43 
g_±x_sim_mode
;

44 
g_debug_executiÚ
;

45 
g_debug_th»ad_uid
;

46 ** 
g_š¡_şassifiÿtiÚ_¡©
;

47 ** 
g_š¡_İ_şassifiÿtiÚ_¡©
;

48 
g_±x_k”Ãl_couÁ
;

50 
±x_İcocde_Ï‹ncy_İtiÚs
 (
İtiÚ_·r£r_t
 
İp
);

51 
şass
 
k”Ãl_šfo_t
 *
gpgpu_İ’ş_±x_sim_š™_grid
(şas 
funùiÚ_šfo
 *
’Œy
,

52 
gpgpu_±x_sim_¬g_li¡_t
 
¬gs
,

53 
dim3
 
gridDim
,

54 
dim3
 
blockDim
,

55 
şass
 
gpgpu_t
 *
gpu
 );

56 
gpgpu_cuda_±x_sim_maš_func
Ğ
k”Ãl_šfo_t
 &
k”Ãl
, 
boŞ
 
İ’CL
 = 
çl£
 );

57 
´št_¥Ïsh
();

58 
gpgpu_±x_sim_»gi¡”_cÚ¡_v¬ŸbË
(*, cÚ¡ *
deviûName
, 
size_t
 
size
 );

59 
gpgpu_±x_sim_»gi¡”_glob®_v¬ŸbË
(*
ho¡V¬
, cÚ¡ *
deviûName
, 
size_t
 
size
 );

60 
gpgpu_±x_sim_memıy_symbŞ
(cÚ¡ *
ho¡V¬
, cÚ¡ *
¤c
, 
size_t
 
couÁ
, size_ˆ
off£t
, 
to
, 
gpgpu_t
 *
gpu
 );

62 
»ad_sim_’vœÚm’t_v¬ŸbËs
();

63 
±xšfo_İ’ş_addšfo
Ğ
¡d
::
m­
<¡d::
¡ršg
,
funùiÚ_šfo
*> &
k”Ãls
 );

64 
±x_sim_š™_th»ad
Ğ
k”Ãl_šfo_t
 &
k”Ãl
,

65 
şass
 
±x_th»ad_šfo
** 
th»ad_šfo
,

66 
sid
,

67 
tid
,

68 
th»ads_Ëá
,

69 
num_th»ads
,

70 
şass
 
cÜe_t
 *
cÜe
,

71 
hw_ùa_id
,

72 
hw_w¬p_id
,

73 
gpgpu_t
 *
gpu
,

74 
boŞ
 
funùiÚ®SimuÏtiÚMode
 = 
çl£
);

75 cÚ¡ 
w¬p_š¡_t
 *
±x_ãtch_š¡
Ğ
add»ss_ty³
 
pc
 );

76 cÚ¡ 
gpgpu_±x_sim_k”Ãl_šfo
* 
±x_sim_k”Ãl_šfo
(cÚ¡ 
şass
 
funùiÚ_šfo
 *
k”Ãl
);

77 
±x_´št_š¢
Ğ
add»ss_ty³
 
pc
, 
FILE
 *
å
 );

78 
	g¡d
::
¡ršg
 
±x_g‘_š¢_¡r
Ğ
add»ss_ty³
 
pc
 );

79 
£t_·¿m_gpgpu_num_shad”s
(
num_shad”s
);

85 şas 
	cfunùiÚ®CÜeSim
: 
public
 
cÜe_t


87 
public
:

88 
	$funùiÚ®CÜeSim
(
k”Ãl_šfo_t
 * 
k”Ãl
, 
gpgpu_sim
 *
g
, 
w¬p_size
)

89 : 
	`cÜe_t
Ğ
g
, 
k”Ãl
, 
w¬p_size
, k”Ãl->
	$th»ads_³r_ùa
() )

91 
m_w¬pAtB¬r›r
 = 
Ãw
 
boŞ
 [
m_w¬p_couÁ
];

92 
m_liveTh»adCouÁ
 = 
Ãw
 [
m_w¬p_couÁ
];

94 
vœtu®
 ~
	$funùiÚ®CÜeSim
(){

95 
	`w¬p_ex™
(0);

96 
d–‘e
[] 
m_liveTh»adCouÁ
;

97 
d–‘e
[] 
m_w¬pAtB¬r›r
;

98 
	}
}

100 
execu‹
();

101 
vœtu®
 
w¬p_ex™
Ğ
w¬p_id
 );

102 
vœtu®
 
boŞ
 
	$w¬p_wa™šg_©_b¬r›r
Ğ
w¬p_id
 ) const

104  (
m_w¬pAtB¬r›r
[
w¬p_id
] || !(
m_liveTh»adCouÁ
[warp_id]>0));

105 
	}
}

107 
	g´iv©e
:

108 
execu‹W¬p
(, 
boŞ
 &, bool &);

110 
š™ŸlizeCTA
();

111 
vœtu®
 
	$checkExecutiÚStusAndUpd©e
(
w¬p_š¡_t
 &
š¡
, 
t
, 
tid
)

113 if(
m_th»ad
[
tid
]==
NULL
 || m_th»ad[tid]->
	`is_dÚe
()){

114 
m_liveTh»adCouÁ
[
tid
/
m_w¬p_size
]--;

116 
	}
}

119 
ü—‹W¬p
(
w¬pId
);

122 * 
	gm_liveTh»adCouÁ
;

123 
boŞ
* 
	gm_w¬pAtB¬r›r
;

126 
	#RECONVERGE_RETURN_PC
 ((
add»ss_ty³
)-2)

	)

127 
	#NO_BRANCH_DIVERGENCE
 ((
add»ss_ty³
)-1)

	)

128 
add»ss_ty³
 
g‘_»tuº_pc
Ğ*
thd
 );

129 cÚ¡ *
g‘_±xšfo_kÇme
();

130 
´št_±xšfo
();

131 
ş—r_±xšfo
();

132 
gpgpu_±x_sim_k”Ãl_šfo
 
g‘_±xšfo_kšfo
();

	@../cuda-sim/ptx-stats.h

28 #´agm¨
Úû


30 
	~"../İtiÚ_·r£r.h
"

32 
boŞ
 
’abË_±x_fe_lše_¡©s
;

35 
±x_fe_lše_¡©s_İtiÚs
(
İtiÚ_·r£r_t
 
İp
);

38 
±x_fe_lše_¡©s_wr™e_fe
();

40 #ifdeà
__ılu¥lus


42 
şass
 
	g±x_š¡ruùiÚ
;

43 
±x_fe_lše_¡©s_add_exec_couÁ
(cÚ¡ 
±x_š¡ruùiÚ
 *
pIn¢
);

47 
±x_fe_lše_¡©s_add_Ï‹ncy
(
pc
, 
Ï‹ncy
);

48 
±x_fe_lše_¡©s_add_d¿m_Œaffic
(
pc
, 
d¿m_Œaffic
);

49 
±x_fe_lše_¡©s_add_smem_bªk_cÚæiù
(
pc
, 
n_way_bkcÚæiù
);

50 
±x_fe_lše_¡©s_add_uncßËsûd_gmem
(
pc
, 
n_acûss
);

52 
±x_fe_lše_¡©s_ü—‹_expo£d_Ï‹ncy_Œack”
(
n_shad”_cÜes
);

53 
±x_fe_lše_¡©s_add_šæight_memÜy_š¢
(
sc_id
, 
pc
);

54 
±x_fe_lše_¡©s_sub_šæight_memÜy_š¢
(
sc_id
, 
pc
);

55 
±x_fe_lše_¡©s_comm™_expo£d_Ï‹ncy
(
sc_id
, 
expo£d_Ï‹ncy
);

57 
±x_fe_lše_¡©s_add_w¬p_div”g’û
(
pc
, 
n_way_div”g’û
);

	@../cuda-sim/ptx_sim.h

27 #iâdeà
±x_sim_h_INCLUDED


28 
	#±x_sim_h_INCLUDED


	)

30 
	~<¡dlib.h
>

32 
	~"../ab¡¿ù_h¬dw¬e_mod–.h
"

33 
	~"../Œ1_hash_m­.h
"

35 
	~<as£¹.h
>

36 
	~"İcodes.h
"

38 
	~<¡ršg
>

39 
	~<m­
>

40 
	~<£t
>

41 
	~<li¡
>

43 
	~"memÜy.h
"

45 
	s·¿m_t
 {

46 cÚ¡ *
	mpd©a
;

47 
	mty³
;

48 
size_t
 
	msize
;

49 
size_t
 
	moff£t
;

52 
	~<¡ack
>

54 
	~"memÜy.h
"

56 
	u±x_»g_t
 {

57 
±x_»g_t
() {

58 
	mb™s
.
	mms
 = 0;

59 
	mb™s
.
	mls
 = 0;

60 
	mu128
.
	mlow
=0;

61 
	mu128
.
	mlowe¡
=0;

62 
	mu128
.
	mhighe¡
=0;

63 
	mu128
.
	mhigh
=0;

64 
	ms8
=0;

65 
	ms16
=0;

66 
	ms32
=0;

67 
	ms64
=0;

68 
	mu8
=0;

69 
	mu16
=0;

70 
	mu64
=0;

71 
	mf16
=0;

72 
	mf32
=0;

73 
	mf64
=0;

74 
	m´ed
=0;

76 
±x_»g_t
(
x
)

78 
	mb™s
.
	mms
 = 0;

79 
	mb™s
.
	mls
 = 0;

80 
	mu128
.
	mlow
=0;

81 
	mu128
.
	mlowe¡
=0;

82 
	mu128
.
	mhighe¡
=0;

83 
	mu128
.
	mhigh
=0;

84 
	ms8
=0;

85 
	ms16
=0;

86 
	ms32
=0;

87 
	ms64
=0;

88 
	mu8
=0;

89 
	mu16
=0;

90 
	mu64
=0;

91 
	mf16
=0;

92 
	mf32
=0;

93 
	mf64
=0;

94 
	m´ed
=0;

95 
	mu32
 = 
x
;

97 
İ”©Ü
 (è{  
	mu32
;}

98 
İ”©Ü
 (è{  
	mu16
;}

99 
İ”©Ü
 (è{  
	mu8
;}

100 
İ”©Ü
 (è{  
	mu64
;}

102 
mask_ªd
Ğ
ms
, 
ls
 )

104 
	mb™s
.
	mms
 &ğ
ms
;

105 
	mb™s
.
	mls
 &ğ
ls
;

108 
mask_Ü
Ğ
ms
, 
ls
 )

110 
	mb™s
.
	mms
 |ğ
ms
;

111 
	mb™s
.
	mls
 |ğ
ls
;

113 
g‘_b™
Ğ
b™
 )

115 iàĞ
	mb™
 < 32 )

116 (
	mb™s
.
	mls
 >> 
	mb™
) & 1;

118 (
	mb™s
.
	mms
 >> (
	mb™
-32)) & 1;

121 sigÃd 
	ms8
;

122 sigÃd 
	ms16
;

123 sigÃd 
	ms32
;

124 sigÃd 
	ms64
;

125 
	mu8
;

126 
	mu16
;

127 
	mu32
;

128 
	mu64
;

129 
	mf16
;

130 
	mf32
;

131 
	mf64
;

133 
	mls
;

134 
	mms
;

135 } 
	mb™s
;

137 
	mlowe¡
;

138 
	mlow
;

139 
	mhigh
;

140 
	mhighe¡
;

141 } 
	mu128
;

142 
	m´ed
 : 4;

146 
şass
 
	g±x_š¡ruùiÚ
;

147 
şass
 
	gİ”ªd_šfo
;

148 
şass
 
	gsymbŞ_bË
;

149 
şass
 
	gfunùiÚ_šfo
;

150 
şass
 
	g±x_th»ad_šfo
;

152 şas 
	c±x_ùa_šfo
 {

153 
	mpublic
:

154 
±x_ùa_šfo
Ğ
sm_idx
 );

155 
add_th»ad
Ğ
±x_th»ad_šfo
 *
thd
 );

156 
	$num_th»ads
() const;

157 
	`check_ùa_th»ad_¡©us_ªd_»£t
();

158 
	`»gi¡”_th»ad_ex™
Ğ
±x_th»ad_šfo
 *
thd
 );

159 
	`»gi¡”_d–‘ed_th»ad
Ğ
±x_th»ad_šfo
 *
thd
 );

160 
	$g‘_sm_idx
() const;

162 
´iv©e
:

163 
m_uid
;

164 
m_sm_idx
;

165 
¡d
::
£t
<
±x_th»ad_šfo
*> 
m_th»ads_š_ùa
;

166 
¡d
::
£t
<
±x_th»ad_šfo
*> 
m_th»ads_th©_have_ex™ed
;

167 
¡d
::
£t
<
±x_th»ad_šfo
*> 
m_dªglšg_poš‹rs
;

170 
şass
 
symbŞ
;

172 
	s¡ack_’Œy
 {

173 
	`¡ack_’Œy
() {

174 
m_symbŞ_bË
=
NULL
;

175 
m_func_šfo
=
NULL
;

176 
m_PC
=0;

177 
m_RPC
=-1;

178 
m_»tuº_v¬_¤c
 = 
NULL
;

179 
m_»tuº_v¬_d¡
 = 
NULL
;

180 
m_ÿÎ_uid
 = 0;

181 
m_v®id
 = 
çl£
;

183 
	`¡ack_’Œy
Ğ
symbŞ_bË
 *
s
, 
funùiÚ_šfo
 *
f
, 
pc
, 
½c
, cÚ¡ 
symbŞ
 *
»tuº_v¬_¤c
, cÚ¡ symbŞ *
»tuº_v¬_d¡
, 
ÿÎ_uid
 )

185 
m_symbŞ_bË
=
s
;

186 
m_func_šfo
=
f
;

187 
m_PC
=
pc
;

188 
m_RPC
=
½c
;

189 
m_»tuº_v¬_¤c
 = 
»tuº_v¬_¤c
;

190 
m_»tuº_v¬_d¡
 = 
»tuº_v¬_d¡
;

191 
m_ÿÎ_uid
 = 
ÿÎ_uid
;

192 
m_v®id
 = 
Œue
;

195 
boŞ
 
m_v®id
;

196 
symbŞ_bË
 *
m_symbŞ_bË
;

197 
funùiÚ_šfo
 *
m_func_šfo
;

198 
m_PC
;

199 
m_RPC
;

200 cÚ¡ 
symbŞ
 *
m_»tuº_v¬_¤c
;

201 cÚ¡ 
symbŞ
 *
m_»tuº_v¬_d¡
;

202 
m_ÿÎ_uid
;

205 şas 
	c±x_v”siÚ
 {

206 
public
:

207 
	$±x_v”siÚ
()

209 
m_v®id
 = 
çl£
;

210 
m_±x_v”siÚ
 = 0;

211 
m_±x_ex‹nsiÚs
 = 0;

212 
m_sm_v”siÚ_v®id
=
çl£
;

213 
m_‹xmode_unif›d
=
Œue
;

214 
m_m­_f64_to_f32
 = 
Œue
;

216 
	$±x_v”siÚ
(
v”
, 
ex‹nsiÚs
)

218 
m_v®id
 = 
Œue
;

219 
m_±x_v”siÚ
 = 
v”
;

220 
m_±x_ex‹nsiÚs
 = 
ex‹nsiÚs
;

221 
m_sm_v”siÚ_v®id
=
çl£
;

222 
m_‹xmode_unif›d
=
Œue
;

223 
	}
}

224 
	$£t_rg‘
ĞcÚ¡ *
sm_v”
, cÚ¡ *
ext
, cÚ¡ *
ext2
 )

226 
	`as£¹
Ğ
m_v®id
 );

227 
m_sm_v”siÚ_¡r
 = 
sm_v”
;

228 
	`check_rg‘_ex‹nsiÚ
(
ext
);

229 
	`check_rg‘_ex‹nsiÚ
(
ext2
);

230 
	`ssÿnf
(
sm_v”
,"%u",&
m_sm_v”siÚ
);

231 
m_sm_v”siÚ_v®id
=
Œue
;

232 
	}
}

233 
	$v”
(ècÚ¡ { 
	`as£¹
(
m_v®id
);  
m_±x_v”siÚ
; 
	}
}

234 
	$rg‘
(ècÚ¡ { 
	`as£¹
(
m_v®id
&&
m_sm_v”siÚ_v®id
);  
m_sm_v”siÚ
; 
	}
}

235 
	$ex‹nsiÚs
(ècÚ¡ { 
	`as£¹
(
m_v®id
);  
m_±x_ex‹nsiÚs
; 
	}
}

236 
	g´iv©e
:

237 
	$check_rg‘_ex‹nsiÚ
ĞcÚ¡ *
ext
 )

239 ifĞ
ext
 ) {

240 ifĞ!
	`¡rcmp
(
ext
,"texmode_independent") )

241 
m_‹xmode_unif›d
=
çl£
;

242 ifĞ!
	`¡rcmp
(
ext
,"texmode_unified") )

243 
m_‹xmode_unif›d
=
Œue
;

244 ifĞ!
	`¡rcmp
(
ext
,"map_f64_to_f32") )

245 
m_m­_f64_to_f32
 = 
Œue
;

246 
	`abÜt
();

248 
	}
}

250 
boŞ
 
	gm_v®id
;

251 
	gm_±x_v”siÚ
;

252 
	gm_sm_v”siÚ_v®id
;

253 
	g¡d
::
¡ršg
 
m_sm_v”siÚ_¡r
;

254 
boŞ
 
	gm_‹xmode_unif›d
;

255 
boŞ
 
	gm_m­_f64_to_f32
;

256 
	gm_sm_v”siÚ
;

257 
	gm_±x_ex‹nsiÚs
;

260 şas 
	c±x_th»ad_šfo
 {

261 
	mpublic
:

262 ~
±x_th»ad_šfo
();

263 
±x_th»ad_šfo
Ğ
k”Ãl_šfo_t
 &
k”Ãl
 );

265 
	$š™
(
gpgpu_t
 *
gpu
, 
cÜe_t
 *
cÜe
, 
sid
, 
ùa_id
, 
wid
, 
tid
, 
boŞ
 
fsim
)

267 
m_gpu
 = 
gpu
;

268 
m_cÜe
 = 
cÜe
;

269 
m_hw_sid
=
sid
;

270 
m_hw_ùaid
=
ùa_id
;

271 
m_hw_wid
=
wid
;

272 
m_hw_tid
=
tid
;

273 
m_funùiÚ®SimuÏtiÚMode
 = 
fsim
;

276 
	$±x_ãtch_š¡
Ğ
š¡_t
 &
š¡
 ) const;

277 
	`±x_exec_š¡
Ğ
w¬p_š¡_t
 &
š¡
, 
ÏÃ_id
 );

279 cÚ¡ 
±x_v”siÚ
 &
	$g‘_±x_v”siÚ
() const;

280 
	`£t_»g
ĞcÚ¡ 
symbŞ
 *
»g
, cÚ¡ 
±x_»g_t
 &
v®ue
 );

281 
±x_»g_t
 
	`g‘_»g
ĞcÚ¡ 
symbŞ
 *
»g
 );

282 
±x_»g_t
 
	`g‘_İ”ªd_v®ue
ĞcÚ¡ 
İ”ªd_šfo
 &
İ
, o³¿nd_šfØ
d¡Info
, 
İTy³
, 
±x_th»ad_šfo
 *
th»ad
, 
d”efFÏg
 );

283 
	`£t_İ”ªd_v®ue
ĞcÚ¡ 
İ”ªd_šfo
 &
d¡
, cÚ¡ 
±x_»g_t
 &
d©a
, 
ty³
, 
±x_th»ad_šfo
 *
th»ad
, cÚ¡ 
±x_š¡ruùiÚ
 *
pI
 );

284 
	`£t_İ”ªd_v®ue
ĞcÚ¡ 
İ”ªd_šfo
 &
d¡
, cÚ¡ 
±x_»g_t
 &
d©a
, 
ty³
, 
±x_th»ad_šfo
 *
th»ad
, cÚ¡ 
±x_š¡ruùiÚ
 *
pI
, 
ov”æow
, 
ÿ¼y
 );

285 
	`g‘_veùÜ_İ”ªd_v®ues
ĞcÚ¡ 
İ”ªd_šfo
 &
İ
, 
±x_»g_t
* 
±x_»gs
, 
num_–em’ts
 );

286 
	`£t_veùÜ_İ”ªd_v®ues
ĞcÚ¡ 
İ”ªd_šfo
 &
d¡
,

287 cÚ¡ 
±x_»g_t
 &
d©a1
,

288 cÚ¡ 
±x_»g_t
 &
d©a2
,

289 cÚ¡ 
±x_»g_t
 &
d©a3
,

290 cÚ¡ 
±x_»g_t
 &
d©a4
 );

292 
funùiÚ_šfo
 *
	$func_šfo
()

294  
m_func_šfo
;

295 
	}
}

296 
	$´št_š¢
Ğ
pc
, 
FILE
 * 
å
 ) const;

297 
	`£t_šfo
Ğ
funùiÚ_šfo
 *
func
 );

298 
	$g‘_uid
() const

300  
m_uid
;

301 
	}
}

303 
dim3
 
	$g‘_ùaid
(ècÚ¡ {  
m_ùaid
; 
	}
}

304 
dim3
 
	$g‘_tid
(ècÚ¡ {  
m_tid
; 
	}
}

305 
şass
 
gpgpu_sim
 *
	$g‘_gpu
(è{  (
gpgpu_sim
*)
m_gpu
;
	}
}

306 
	$g‘_hw_tid
(ècÚ¡ {  
m_hw_tid
;
	}
}

307 
	$g‘_hw_ùaid
(ècÚ¡ {  
m_hw_ùaid
;
	}
}

308 
	$g‘_hw_wid
(ècÚ¡ {  
m_hw_wid
;
	}
}

309 
	$g‘_hw_sid
(ècÚ¡ {  
m_hw_sid
;
	}
}

310 
cÜe_t
 *
	$g‘_cÜe
(è{  
m_cÜe
; 
	}
}

312 
	$g‘_icouÁ
(ècÚ¡ {  
m_icouÁ
;
	}
}

313 
	$£t_v®id
(è{ 
m_v®id
 = 
Œue
;
	}
}

314 
addr_t
 
	$Ï¡_—ddr
(ècÚ¡ {  
m_Ï¡_efãùive_add»ss
;
	}
}

315 
memÜy_¥aû_t
 
	$Ï¡_¥aû
(ècÚ¡ {  
m_Ï¡_memÜy_¥aû
;
	}
}

316 
d¿m_ÿÎback_t
 
	$Ï¡_ÿÎback
(ècÚ¡ {  
m_Ï¡_d¿m_ÿÎback
;
	}
}

317 
	$g‘_ùa_uid
(è{  
m_ùa_šfo
->
	`g‘_sm_idx
();
	}
}

319 
	$£t_sšgË_th»ad_sšgË_block
()

321 
m_Áid
.
x
 = 1;

322 
m_Áid
.
y
 = 1;

323 
m_Áid
.
z
 = 1;

324 
m_ùaid
.
x
 = 0;

325 
m_ùaid
.
y
 = 0;

326 
m_ùaid
.
z
 = 0;

327 
m_tid
.
x
 = 0;

328 
m_tid
.
y
 = 0;

329 
m_tid
.
z
 = 0;

330 
m_nùaid
.
x
 = 1;

331 
m_nùaid
.
y
 = 1;

332 
m_nùaid
.
z
 = 1;

333 
m_gridid
 = 0;

334 
m_v®id
 = 
Œue
;

335 
	}
}

336 
	$£t_tid
Ğ
dim3
 
tid
 ) { 
m_tid
 =id; 
	}
}

337 
ıy_tid_to_»g
Ğ
dim3
 
tid
 );

338 
	$£t_ùaid
Ğ
dim3
 
ùaid
 ) { 
m_ùaid
 = cid; 
	}
}

339 
	$£t_Áid
Ğ
dim3
 
tid
 ) { 
m_Áid
 =id; 
	}
}

340 
	$£t_nùaid
Ğ
dim3
 
ùa_size
 ) { 
m_nùaid
 = c_size; 
	}
}

342 
g‘_butš
Ğ
butš_id
, 
dim_mod
 );

344 
£t_dÚe
();

345 
boŞ
 
	$is_dÚe
(è{  
m_th»ad_dÚe
;
	}
}

346 
	$dÚecyşe
(ècÚ¡ {  
m_cyşe_dÚe
; 
	}
}

348 
	$Ãxt_š¡r
()

350 
m_icouÁ
++;

351 
m_b¿nch_k’
 = 
çl£
;

352  
m_PC
;

353 
	}
}

354 
boŞ
 
	$b¿nch_k’
() const

356  
m_b¿nch_k’
;

357 
	}
}

358 
	$g‘_pc
() const

360  
m_PC
;

361 
	}
}

362 
	$£t_Åc
Ğ
Åc
 )

364 
m_NPC
 = 
Åc
;

365 
	}
}

366 
£t_Åc
ĞcÚ¡ 
funùiÚ_šfo
 *
f
 );

367 
ÿÎ¡ack_push
Ğ
Åc
, 
½c
, cÚ¡ 
symbŞ
 *
»tuº_v¬_¤c
, cÚ¡ symbŞ *
»tuº_v¬_d¡
, 
ÿÎ_uid
 );

368 
boŞ
 
ÿÎ¡ack_pİ
();

369 
ÿÎ¡ack_push_¶us
Ğ
Åc
, 
½c
, cÚ¡ 
symbŞ
 *
»tuº_v¬_¤c
, cÚ¡ symbŞ *
»tuº_v¬_d¡
, 
ÿÎ_uid
 );

370 
boŞ
 
ÿÎ¡ack_pİ_¶us
();

371 
	$dump_ÿÎ¡ack
() const;

372 
¡d
::
¡ršg
 
	$g‘_loÿtiÚ
() const;

373 cÚ¡ 
±x_š¡ruùiÚ
 *
	$g‘_š¡
() const;

374 cÚ¡ 
±x_š¡ruùiÚ
 *
	$g‘_š¡
Ğ
addr_t
 
pc
 ) const;

375 
boŞ
 
	$½c_upd©ed
(ècÚ¡ {  
m_RPC_upd©ed
; 
	}
}

376 
boŞ
 
	$Ï¡_was_ÿÎ
(ècÚ¡ {  
m_Ï¡_was_ÿÎ
; 
	}
}

377 
	$g‘_½c
(ècÚ¡ {  
m_RPC
; 
	}
}

378 
	$ş—rRPC
()

380 
m_RPC
 = -1;

381 
m_RPC_upd©ed
 = 
çl£
;

382 
m_Ï¡_was_ÿÎ
 = 
çl£
;

383 
	}
}

384 
	$g‘_»tuº_PC
()

386  
m_ÿÎ¡ack
.
	`back
().
m_PC
;

387 
	}
}

388 
	$upd©e_pc
( )

390 
m_PC
 = 
m_NPC
;

391 
	}
}

392 
dump_»gs
(
FILE
 * 
å
);

393 
dump_modif›d»gs
(
FILE
 *
å
);

394 
	$ş—r_modif›d»gs
(è{ 
m_debug_Œaû_»gs_modif›d
.
	`back
().
	`ş—r
(); 
m_debug_Œaû_»gs_»ad
.back().ş—r(); 
	}
}

395 
funùiÚ_šfo
 *
	$g‘_fšfo
(è{  
m_func_šfo
; 
	}
}

396 cÚ¡ 
funùiÚ_šfo
 *
	$g‘_fšfo
(ècÚ¡ {  
m_func_šfo
; 
	}
}

397 
push_b»akaddr
(cÚ¡ 
İ”ªd_šfo
 &
b»akaddr
);

398 cÚ¡ 
	gİ”ªd_šfo
& 
pİ_b»akaddr
();

399 
	$’abË_debug_Œaû
(è{ 
m_’abË_debug_Œaû
 = 
Œue
; 
	}
}

400 
	$g‘_loÿl_mem_¡ack_poš‹r
(ècÚ¡ {  
m_loÿl_mem_¡ack_poš‹r
; 
	}
}

402 
memÜy_¥aû
 *
	$g‘_glob®_memÜy
(è{  
m_gpu
->
	`g‘_glob®_memÜy
(); 
	}
}

403 
memÜy_¥aû
 *
	$g‘_‹x_memÜy
(è{  
m_gpu
->
	`g‘_‹x_memÜy
(); 
	}
}

404 
memÜy_¥aû
 *
	$g‘_surf_memÜy
(è{  
m_gpu
->
	`g‘_surf_memÜy
(); 
	}
}

405 
memÜy_¥aû
 *
	$g‘_·¿m_memÜy
(è{  
m_k”Ãl
.
	`g‘_·¿m_memÜy
(); 
	}
}

406 cÚ¡ 
	ggpgpu_funùiÚ®_sim_cÚfig
 &
	$g‘_cÚfig
(ècÚ¡ {  
m_gpu
->
	`g‘_cÚfig
(); 
	}
}

407 
boŞ
 
	$isInFunùiÚ®SimuÏtiÚMode
(){  
m_funùiÚ®SimuÏtiÚMode
;
	}
}

408 
	$ex™CÜe
()

411 if(!
m_funùiÚ®SimuÏtiÚMode
)

412 
m_cÜe
->
	`w¬p_ex™
(
m_hw_wid
);

413 
	}
}

415 
	$»gi¡”Ex™
(){
m_ùa_šfo
->
	`»gi¡”_th»ad_ex™
(
this
);
	}
}

417 
	gpublic
:

418 
addr_t
 
m_Ï¡_efãùive_add»ss
;

419 
boŞ
 
	gm_b¿nch_k’
;

420 
memÜy_¥aû_t
 
	gm_Ï¡_memÜy_¥aû
;

421 
d¿m_ÿÎback_t
 
	gm_Ï¡_d¿m_ÿÎback
;

422 
memÜy_¥aû
 *
	gm_sh¬ed_mem
;

423 
memÜy_¥aû
 *
	gm_loÿl_mem
;

424 
±x_ùa_šfo
 *
	gm_ùa_šfo
;

425 
±x_»g_t
 
	gm_Ï¡_£t_İ”ªd_v®ue
;

427 
	g´iv©e
:

429 
boŞ
 
m_funùiÚ®SimuÏtiÚMode
;

430 
	gm_uid
;

431 
	gk”Ãl_šfo_t
 &
	gm_k”Ãl
;

432 
cÜe_t
 *
	gm_cÜe
;

433 
gpgpu_t
 *
	gm_gpu
;

434 
boŞ
 
	gm_v®id
;

435 
dim3
 
	gm_Áid
;

436 
dim3
 
	gm_tid
;

437 
dim3
 
	gm_nùaid
;

438 
dim3
 
	gm_ùaid
;

439 
	gm_gridid
;

440 
boŞ
 
	gm_th»ad_dÚe
;

441 
	gm_hw_sid
;

442 
	gm_hw_tid
;

443 
	gm_hw_wid
;

444 
	gm_hw_ùaid
;

446 
	gm_icouÁ
;

447 
	gm_PC
;

448 
	gm_NPC
;

449 
	gm_RPC
;

450 
boŞ
 
	gm_RPC_upd©ed
;

451 
boŞ
 
	gm_Ï¡_was_ÿÎ
;

452 
	gm_cyşe_dÚe
;

454 
	gm_b¬r›r_num
;

455 
boŞ
 
	gm_©_b¬r›r
;

457 
symbŞ_bË
 *
	gm_symbŞ_bË
;

458 
funùiÚ_šfo
 *
	gm_func_šfo
;

460 
	g¡d
::
li¡
<
¡ack_’Œy
> 
m_ÿÎ¡ack
;

461 
	gm_loÿl_mem_¡ack_poš‹r
;

463 
	gŒ1_hash_m­
<cÚ¡ 
	tsymbŞ
*,
	t±x_»g_t
> 
	t»g_m­_t
;

464 
	g¡d
::
li¡
<
»g_m­_t
> 
m_»gs
;

465 
	g¡d
::
li¡
<
»g_m­_t
> 
m_debug_Œaû_»gs_modif›d
;

466 
	g¡d
::
li¡
<
»g_m­_t
> 
m_debug_Œaû_»gs_»ad
;

467 
boŞ
 
	gm_’abË_debug_Œaû
;

469 
	g¡d
::
¡ack
<
şass
 
İ”ªd_šfo
> 
m_b»akaddrs
;

472 
addr_t
 
g’”ic_to_loÿl
Ğ
smid
, 
hwtid
,‡ddr_ˆ
addr
 );

473 
addr_t
 
g’”ic_to_sh¬ed
Ğ
smid
,‡ddr_ˆ
addr
 );

474 
addr_t
 
g’”ic_to_glob®
Ğaddr_ˆ
addr
 );

475 
addr_t
 
loÿl_to_g’”ic
Ğ
smid
, 
hwtid
,‡ddr_ˆ
addr
 );

476 
addr_t
 
sh¬ed_to_g’”ic
Ğ
smid
,‡ddr_ˆ
addr
 );

477 
addr_t
 
glob®_to_g’”ic
Ğaddr_ˆ
addr
 );

478 
boŞ
 
is¥aû_loÿl
Ğ
smid
, 
hwtid
, 
addr_t
 
addr
 );

479 
boŞ
 
is¥aû_sh¬ed
Ğ
smid
, 
addr_t
 
addr
 );

480 
boŞ
 
is¥aû_glob®
Ğ
addr_t
 
addr
 );

481 
memÜy_¥aû_t
 
which¥aû
Ğ
addr_t
 
addr
 );

483 
g_±x_th»ad_šfo_uid_Ãxt
;

	@../debug.h

28 #iâdeà
PTX_DEBUG_INCLUDED


29 
	#PTX_DEBUG_INCLUDED


	)

31 
	~"ab¡¿ù_h¬dw¬e_mod–.h
"

33 
	~<¡ršg
>

35 şas 
	cbrk_±
 {

36 
	mpublic
:

37 
	$brk_±
(è{ 
m_v®id
=
çl£
; }

38 
	$brk_±
ĞcÚ¡ *
f–še
, 
uid
 )

40 
m_v®id
 = 
Œue
;

41 
m_w©ch
 = 
çl£
;

42 
m_f–še
 = 
¡d
::
	`¡ršg
(
f–še
);

43 
m_th»ad_uid
=
uid
;

44 
	}
}

45 
	$brk_±
Ğ
addr
, 
v®ue
 )

47 
m_v®id
 = 
Œue
;

48 
m_w©ch
 = 
Œue
;

49 
m_addr
 = 
addr
;

50 
m_v®ue
 = 
v®ue
;

51 
	}
}

53 
	$g‘_v®ue
(ècÚ¡ {  
m_v®ue
; 
	}
}

54 
addr_t
 
	$g‘_addr
(ècÚ¡ {  
m_addr
; 
	}
}

55 
boŞ
 
	$is_v®id
(ècÚ¡ {  
m_v®id
; 
	}
}

56 
boŞ
 
	$is_w©chpošt
(ècÚ¡ {  
m_w©ch
; 
	}
}

57 
boŞ
 
is_equ®
ĞcÚ¡ 
¡d
::
¡ršg
 &
f–še
, 
uid
 ) const

59 ifĞ
	gm_w©ch
 )

60  
	gçl£
;

61 ifĞ(
	gm_th»ad_uid
 !ğ()-1è&& (
uid
 !ğ
m_th»ad_uid
) )

62  
çl£
;

63  
	gm_f–še
 =ğ
f–še
;

65 
	g¡d
::
¡ršg
 
	$loÿtiÚ
() const

67 
bufãr
[1024];

68 
	`¥rštf
(
bufãr
,"% th»ad uid = %u", 
m_f–še
.
	`c_¡r
(), 
m_th»ad_uid
);

69  
bufãr
;

70 
	}
}

72 
	$£t_v®ue
Ğ
v®
 ) {  
m_v®ue
=v®; 
	}
}

73 
	g´iv©e
:

74 
boŞ
 
m_v®id
;

75 
boŞ
 
	gm_w©ch
;

78 
	g¡d
::
¡ršg
 
m_f–še
;

79 
	gm_th»ad_uid
;

82 
	gm_addr
;

83 
	gm_v®ue
;

86 
gpgpu_±x_š¡ruùiÚ_şassifiÿtiÚ
 ;

88 
şass
 
	g±x_th»ad_šfo
;

89 
şass
 
	g±x_š¡ruùiÚ
;

90 
boŞ
 
th»ad_©_brk±
Ğ
±x_th»ad_šfo
 *
thd_šfo
, cÚ¡ 
brk_±
 &
b
 );

91 
h™_w©chpošt
Ğ
w©chpošt_num
, 
±x_th»ad_šfo
 *
thd
, cÚ¡ 
±x_š¡ruùiÚ
 *
pI
 );

	@../gpgpu-sim/mem_fetch.h

28 #iâdeà
MEM_FETCH_H


29 
	#MEM_FETCH_H


	)

31 
	~"addrdec.h
"

32 
	~"../ab¡¿ù_h¬dw¬e_mod–.h
"

33 
	~<b™£t
>

35 
	emf_ty³
 {

36 
	mREAD_REQUEST
 = 0,

37 
	mWRITE_REQUEST
,

38 
	mREAD_REPLY
,

39 
	mWRITE_ACK


42 
	#MF_TUP_BEGIN
(
X
è
	eX
 {

	)

43 
	#MF_TUP
(
X
è
	)
X

44 
	#MF_TUP_END
(
X
è};

	)

45 
	~"mem_ãtch_¡©us.tup
"

46 #undeà
MF_TUP_BEGIN


47 #undeà
MF_TUP


48 #undeà
MF_TUP_END


50 şas 
	cmem_ãtch
 {

51 
	mpublic
:

52 
mem_ãtch
ĞcÚ¡ 
mem_acûss_t
 &
acûss
,

53 cÚ¡ 
w¬p_š¡_t
 *
š¡
,

54 
ù¾_size
,

55 
wid
,

56 
sid
,

57 
c
,

58 cÚ¡ 
şass
 
memÜy_cÚfig
 *
cÚfig
 );

59 ~
mem_ãtch
();

61 
£t_¡©us
Ğ
mem_ãtch_¡©us
 
¡©us
, 
cyşe
 );

62 
	$£t_»¶y
()

64 
	`as£¹
Ğ
m_acûss
.
	`g‘_ty³
(è!ğ
L1_WRBK_ACC
 && m_acûss.g‘_ty³(è!ğ
L2_WRBK_ACC
 );

65 ifĞ
m_ty³
==
READ_REQUEST
 ) {

66 
	`as£¹
Ğ!
	`g‘_is_wr™e
() );

67 
m_ty³
 = 
READ_REPLY
;

68 } ifĞ
m_ty³
 =ğ
WRITE_REQUEST
 ) {

69 
	`as£¹
Ğ
	`g‘_is_wr™e
() );

70 
m_ty³
 = 
WRITE_ACK
;

73 
	`do_©omic
();

75 
	$´št
Ğ
FILE
 *
å
, 
boŞ
 
´št_š¡
 = 
Œue
 ) const;

77 cÚ¡ 
addrdec_t
 &
	$g‘_x_addr
(ècÚ¡ {  
m_¿w_addr
; 
	}
}

78 
	$g‘_d©a_size
(ècÚ¡ {  
m_d©a_size
; 
	}
}

79 
	$£t_d©a_size
Ğ
size
 ) { 
m_d©a_size
=size; 
	}
}

80 
	$g‘_ù¾_size
(ècÚ¡ {  
m_ù¾_size
; 
	}
}

81 
	$size
(ècÚ¡ {  
m_d©a_size
+
m_ù¾_size
; 
	}
}

82 
boŞ
 
	$is_wr™e
(è{ 
m_acûss
.
	`is_wr™e
();
	}
}

83 
	$£t_addr
(
Ãw_addr_ty³
 
addr
è{ 
m_acûss
.
	`£t_addr
×ddr); 
	}
}

84 
Ãw_addr_ty³
 
	$g‘_addr
(ècÚ¡ {  
m_acûss
.
	`g‘_addr
(); 
	}
}

85 
Ãw_addr_ty³
 
	$g‘_·¹™iÚ_addr
(ècÚ¡ {  
m_·¹™iÚ_addr
; 
	}
}

86 
	$g‘_sub_·¹™iÚ_id
(ècÚ¡ {  
m_¿w_addr
.
sub_·¹™iÚ
; 
	}
}

87 
boŞ
 
	$g‘_is_wr™e
(ècÚ¡ {  
m_acûss
.
	`is_wr™e
(); 
	}
}

88 
	$g‘_»que¡_uid
(ècÚ¡ {  
m_»que¡_uid
; 
	}
}

89 
	$g‘_sid
(ècÚ¡ {  
m_sid
; 
	}
}

90 
	$g‘_c
(ècÚ¡ {  
m_c
; 
	}
}

91 
	$g‘_wid
(ècÚ¡ {  
m_wid
; 
	}
}

92 
boŞ
 
	$i¡extu»
() const;

93 
boŞ
 
	$iscÚ¡
() const;

94 
mf_ty³
 
	$g‘_ty³
(ècÚ¡ {  
m_ty³
; 
	}
}

95 
boŞ
 
	$i§tomic
() const;

97 
	$£t_»tuº_time¡amp
Ğ
t
 ) { 
m_time¡amp2
ñ; 
	}
}

98 
	$£t_iút_»ûive_time
Ğ
t
 ) { 
m_iút_»ûive_time
ñ; 
	}
}

99 
	$g‘_time¡amp
(ècÚ¡ {  
m_time¡amp
; 
	}
}

100 
	$g‘_»tuº_time¡amp
(ècÚ¡ {  
m_time¡amp2
; 
	}
}

101 
	$g‘_iút_»ûive_time
(ècÚ¡ {  
m_iút_»ûive_time
; 
	}
}

103 
mem_acûss_ty³
 
	$g‘_acûss_ty³
(ècÚ¡ {  
m_acûss
.
	`g‘_ty³
(); 
	}
}

104 cÚ¡ 
	gaùive_mask_t
& 
	$g‘_acûss_w¬p_mask
(ècÚ¡ {  
m_acûss
.
	`g‘_w¬p_mask
(); 
	}
}

105 
mem_acûss_by‹_mask_t
 
	$g‘_acûss_by‹_mask
(ècÚ¡ {  
m_acûss
.
	`g‘_by‹_mask
(); 
	}
}

107 
add»ss_ty³
 
	$g‘_pc
(ècÚ¡ {  
m_š¡
.
	`em±y
()?-1:m_š¡.
pc
; 
	}
}

108 cÚ¡ 
	gw¬p_š¡_t
 &
	$g‘_š¡
(è{  
m_š¡
; 
	}
}

109 
mem_ãtch_¡©us
 
	$g‘_¡©us
(ècÚ¡ {  
m_¡©us
; 
	}
}

111 cÚ¡ 
memÜy_cÚfig
 *
	$g‘_mem_cÚfig
(){ 
m_mem_cÚfig
;
	}
}

113 
g‘_num_æ™s
(
boŞ
 
simt_to_mem
);

114 
	g´iv©e
:

116 
m_»que¡_uid
;

117 
	gm_sid
;

118 
	gm_c
;

119 
	gm_wid
;

122 
mem_ãtch_¡©us
 
	gm_¡©us
;

123 
	gm_¡©us_chªge
;

126 
mem_acûss_t
 
	gm_acûss
;

127 
	gm_d©a_size
;

128 
	gm_ù¾_size
;

129 
Ãw_addr_ty³
 
	gm_·¹™iÚ_addr
;

130 
addrdec_t
 
	gm_¿w_addr
;

131 
mf_ty³
 
	gm_ty³
;

134 
	gm_time¡amp
;

135 
	gm_time¡amp2
;

136 
	gm_iút_»ûive_time
;

139 
w¬p_š¡_t
 
	gm_š¡
;

141 
	gsm_Ãxt_mf_»que¡_uid
;

143 cÚ¡ 
şass
 
memÜy_cÚfig
 *
	gm_mem_cÚfig
;

144 
	giút_æ™_size
;

	@../gpgpu-sim/shader.h

29 #iâdeà
SHADER_H


30 
	#SHADER_H


	)

32 
	~<¡dio.h
>

33 
	~<¡dlib.h
>

34 
	~<m©h.h
>

35 
	~<as£¹.h
>

36 
	~<m­
>

37 
	~<£t
>

38 
	~<veùÜ
>

39 
	~<li¡
>

40 
	~<b™£t
>

41 
	~<ut™y
>

42 
	~<®gÜ™hm
>

43 
	~<deque
>

47 
	~"d–ayqueue.h
"

48 
	~"¡ack.h
"

49 
	~"d¿m.h
"

50 
	~"../ab¡¿ù_h¬dw¬e_mod–.h
"

51 
	~"scÜebßrd.h
"

52 
	~"mem_ãtch.h
"

53 
	~"¡©s.h
"

54 
	~"gpu-ÿche.h
"

55 
	~"Œaffic_b»akdown.h
"

59 
	#NO_OP_FLAG
 0xFF

	)

66 
	#READ_PACKET_SIZE
 8

	)

69 
	#WRITE_PACKET_SIZE
 8

	)

71 
	#WRITE_MASK_SIZE
 8

	)

74 
	#MAX_CTA_PER_SHADER
 32

	)

76 şas 
	cth»ad_ùx_t
 {

77 
	mpublic
:

78 
m_ùa_id
;

81 
	mn_š¢
;

82 
	mn_š¢_ac
;

83 
	mn_l1_mis_ac
;

84 
	mn_l1_mrgh™_ac
;

85 
	mn_l1_acûss_ac
;

87 
boŞ
 
	mm_aùive
;

90 şas 
	cshd_w¬p_t
 {

91 
	mpublic
:

92 
	$shd_w¬p_t
Ğ
şass
 
shad”_cÜe_ùx
 *
shad”
, 
w¬p_size
)

93 : 
	`m_shad”
(
shad”
), 
	$m_w¬p_size
(
w¬p_size
)

95 
m_¡Ües_out¡ªdšg
=0;

96 
m_š¡_š_p–še
=0;

97 
	`»£t
();

99 
	$»£t
()

101 
	`as£¹
Ğ
m_¡Ües_out¡ªdšg
==0);

102 
	`as£¹
Ğ
m_š¡_š_p–še
==0);

103 
m_imiss_³ndšg
=
çl£
;

104 
m_w¬p_id
=()-1;

105 
m_dyÇmic_w¬p_id
 = ()-1;

106 
n_com¶‘ed
 = 
m_w¬p_size
;

107 
m_n_©omic
=0;

108 
m_memb¬
=
çl£
;

109 
m_dÚe_ex™
=
Œue
;

110 
m_Ï¡_ãtch
=0;

111 
m_Ãxt
=0;

112 
	}
}

113 
š™
Ğ
add»ss_ty³
 
¡¬t_pc
,

114 
ùa_id
,

115 
wid
,

116 cÚ¡ 
¡d
::
b™£t
<
MAX_WARP_SIZE
> &
aùive
,

117 
dyÇmic_w¬p_id
 )

119 
	gm_ùa_id
=
ùa_id
;

120 
	gm_w¬p_id
=
wid
;

121 
	gm_dyÇmic_w¬p_id
=
dyÇmic_w¬p_id
;

122 
	gm_Ãxt_pc
=
¡¬t_pc
;

123 
as£¹
Ğ
n_com¶‘ed
 >ğ
aùive
.
couÁ
() );

124 
as£¹
Ğ
n_com¶‘ed
 <ğ
m_w¬p_size
);

125 
	gn_com¶‘ed
 -ğ
aùive
.
couÁ
();

126 
	gm_aùive_th»ads
 = 
aùive
;

127 
	gm_dÚe_ex™
=
çl£
;

130 
boŞ
 
	$funùiÚ®_dÚe
() const;

131 
boŞ
 
	`wa™šg
();

132 
boŞ
 
	$h¬dw¬e_dÚe
() const;

134 
boŞ
 
	$dÚe_ex™
(ècÚ¡ {  
m_dÚe_ex™
; 
	}
}

135 
	$£t_dÚe_ex™
(è{ 
m_dÚe_ex™
=
Œue
; 
	}
}

137 
	$´št
Ğ
FILE
 *
fout
 ) const;

138 
	$´št_ibufãr
Ğ
FILE
 *
fout
 ) const;

140 
	$g‘_n_com¶‘ed
(ècÚ¡ {  
n_com¶‘ed
; 
	}
}

141 
	$£t_com¶‘ed
Ğ
ÏÃ
 )

143 
	`as£¹
Ğ
m_aùive_th»ads
.
	`‹¡
(
ÏÃ
) );

144 
m_aùive_th»ads
.
	`»£t
(
ÏÃ
);

145 
n_com¶‘ed
++;

146 
	}
}

148 
	$£t_Ï¡_ãtch
Ğ
sim_cyşe
 ) { 
m_Ï¡_ãtch
=sim_cyşe; 
	}
}

150 
	$g‘_n_©omic
(ècÚ¡ {  
m_n_©omic
; 
	}
}

151 
	$šc_n_©omic
(è{ 
m_n_©omic
++; 
	}
}

152 
	$dec_n_©omic
(
n
è{ 
m_n_©omic
-ò; 
	}
}

154 
	$£t_memb¬
(è{ 
m_memb¬
=
Œue
; 
	}
}

155 
	$ş—r_memb¬
(è{ 
m_memb¬
=
çl£
; 
	}
}

156 
boŞ
 
	$g‘_memb¬
(ècÚ¡ {  
m_memb¬
; 
	}
}

157 
add»ss_ty³
 
	$g‘_pc
(ècÚ¡ {  
m_Ãxt_pc
; 
	}
}

158 
	$£t_Ãxt_pc
Ğ
add»ss_ty³
 
pc
 ) { 
m_Ãxt_pc
 =…c; 
	}
}

160 
	$ibufãr_fl
Ğ
¦Ù
, cÚ¡ 
w¬p_š¡_t
 *
pI
 )

162 
	`as£¹
(
¦Ù
 < 
IBUFFER_SIZE
 );

163 
m_ibufãr
[
¦Ù
].
m_š¡
=
pI
;

164 
m_ibufãr
[
¦Ù
].
m_v®id
=
Œue
;

165 
m_Ãxt
=0;

166 
	}
}

167 
boŞ
 
	$ibufãr_em±y
() const

169  
i
=0; i < 
IBUFFER_SIZE
; i++)

170 if(
m_ibufãr
[
i
].
m_v®id
)

171  
çl£
;

172  
Œue
;

173 
	}
}

174 
	$ibufãr_æush
()

176 
i
=0;i<
IBUFFER_SIZE
;i++) {

177 ifĞ
m_ibufãr
[
i
].
m_v®id
 )

178 
	`dec_š¡_š_p–še
();

179 
m_ibufãr
[
i
].
m_š¡
=
NULL
;

180 
m_ibufãr
[
i
].
m_v®id
=
çl£
;

182 
	}
}

183 cÚ¡ 
w¬p_š¡_t
 *
	$ibufãr_Ãxt_š¡
(è{  
m_ibufãr
[
m_Ãxt
].
m_š¡
; 
	}
}

184 
boŞ
 
	$ibufãr_Ãxt_v®id
(è{  
m_ibufãr
[
m_Ãxt
].
m_v®id
; 
	}
}

185 
	$ibufãr_ä“
()

187 
m_ibufãr
[
m_Ãxt
].
m_š¡
 = 
NULL
;

188 
m_ibufãr
[
m_Ãxt
].
m_v®id
 = 
çl£
;

189 
	}
}

190 
	$ibufãr_¡•
(è{ 
m_Ãxt
 = (m_Ãxt+1)%
IBUFFER_SIZE
; 
	}
}

192 
boŞ
 
	$imiss_³ndšg
(ècÚ¡ {  
m_imiss_³ndšg
; 
	}
}

193 
	$£t_imiss_³ndšg
(è{ 
m_imiss_³ndšg
=
Œue
; 
	}
}

194 
	$ş—r_imiss_³ndšg
(è{ 
m_imiss_³ndšg
=
çl£
; 
	}
}

196 
boŞ
 
	$¡Ües_dÚe
(ècÚ¡ {  
m_¡Ües_out¡ªdšg
 =ğ0; 
	}
}

197 
	$šc_¡Üe_»q
(è{ 
m_¡Ües_out¡ªdšg
++; 
	}
}

198 
	$dec_¡Üe_»q
()

200 
	`as£¹
Ğ
m_¡Ües_out¡ªdšg
 > 0 );

201 
m_¡Ües_out¡ªdšg
--;

202 
	}
}

204 
boŞ
 
	$š¡_š_p–še
(ècÚ¡ {  
m_š¡_š_p–še
 > 0; 
	}
}

205 
	$šc_š¡_š_p–še
(è{ 
m_š¡_š_p–še
++; 
	}
}

206 
	$dec_š¡_š_p–še
()

208 
	`as£¹
Ğ
m_š¡_š_p–še
 > 0 );

209 
m_š¡_š_p–še
--;

210 
	}
}

212 
	$g‘_ùa_id
(ècÚ¡ {  
m_ùa_id
; 
	}
}

214 
	$g‘_dyÇmic_w¬p_id
(ècÚ¡ {  
m_dyÇmic_w¬p_id
; 
	}
}

215 
	$g‘_w¬p_id
(ècÚ¡ {  
m_w¬p_id
; 
	}
}

217 
	$£t_issue_group_id
(
group_id
è{
m_issue_group_id
=group_id;
	}
}

218 
	$£t_id_š_issue_group
(
id_š_group
è{
m_id_š_group
=id_š_group;
	}
}

220 
	$g‘_issue_group_id
(ècÚ¡{ 
m_issue_group_id
;
	}
}

221 
	$g‘_id_š_issue_group
(ècÚ¡{ 
m_id_š_group
;
	}
}

223 
	g´iv©e
:

224 cÚ¡ 
IBUFFER_SIZE
=2;

225 
şass
 
shad”_cÜe_ùx
 *
	gm_shad”
;

226 
	gm_ùa_id
;

227 
	gm_w¬p_id
;

228 
	gm_w¬p_size
;

229 
	gm_dyÇmic_w¬p_id
;

231 
	gm_issue_group_id
;

232 
	gm_id_š_group
;

234 
add»ss_ty³
 
	gm_Ãxt_pc
;

235 
	gn_com¶‘ed
;

236 
	g¡d
::
b™£t
<
MAX_WARP_SIZE
> 
m_aùive_th»ads
;

238 
boŞ
 
	gm_imiss_³ndšg
;

240 
	sibufãr_’Œy
 {

241 
ibufãr_’Œy
(è{ 
	gm_v®id
 = 
çl£
; 
	gm_š¡
 = 
NULL
; }

242 cÚ¡ 
w¬p_š¡_t
 *
	gm_š¡
;

243 
boŞ
 
	gm_v®id
;

245 
ibufãr_’Œy
 
	gm_ibufãr
[
IBUFFER_SIZE
];

246 
	gm_Ãxt
;

248 
	gm_n_©omic
;

249 
boŞ
 
	gm_memb¬
;

251 
boŞ
 
	gm_dÚe_ex™
;

253 
	gm_Ï¡_ãtch
;

255 
	gm_¡Ües_out¡ªdšg
;

256 
	gm_š¡_š_p–še
;

261 
šlše
 
	$hw_tid_äom_wid
(
wid
, 
w¬p_size
, 
i
){ wid * w¬p_siz+ i;
	}
};

262 
šlše
 
	$wid_äom_hw_tid
(
tid
, 
w¬p_size
){id/w¬p_size;
	}
};

264 cÚ¡ 
	gWARP_PER_CTA_MAX
 = 48;

265 
	g¡d
::
	tb™£t
<
	tWARP_PER_CTA_MAX
> 
	tw¬p_£t_t
;

267 
»gi¡”_bªk
(
»gnum
, 
wid
, 
num_bªks
, 
bªk_w¬p_shiá
);

269 
şass
 
	gshad”_cÜe_ùx
;

270 
şass
 
	gshad”_cÜe_cÚfig
;

271 
şass
 
	gshad”_cÜe_¡©s
;

273 
	escheduËr_´iÜ™iz©iÚ_ty³


275 
	mSCHEDULER_PRIORITIZATION_LRR
 = 0,

276 
	mSCHEDULER_PRIORITIZATION_SRR
,

277 
	mSCHEDULER_PRIORITIZATION_GTO
,

278 
	mSCHEDULER_PRIORITIZATION_GTLRR
,

279 
	mSCHEDULER_PRIORITIZATION_GTY
,

280 
	mSCHEDULER_PRIORITIZATION_OLDEST
,

281 
	mSCHEDULER_PRIORITIZATION_YOUNGEST
,

286 
	ecÚü‘e_scheduËr


288 
	mCONCRETE_SCHEDULER_LRR
 = 0,

289 
	mCONCRETE_SCHEDULER_GTO
,

290 
	mCONCRETE_SCHEDULER_TWO_LEVEL_ACTIVE
,

291 
	mCONCRETE_SCHEDULER_GTO_INNER_GTO_OUTER
,

292 
	mCONCRETE_SCHEDULER_GREEDY_INNER_GTO_OUTER
,

293 
	mCONCRETE_SCHEDULER_RR_INNER_GTO_OUTER
,

294 
	mCONCRETE_SCHEDULER_RR_INNER_GREEDY_OUTER
,

295 
	mCONCRETE_SCHEDULER_WARP_LIMITING
,

296 
	mNUM_CONCRETE_SCHEDULERS


300 şas 
	cscheduËr_un™
 {

301 
	mpublic
:

302 
scheduËr_un™
(
shad”_cÜe_¡©s
* 
¡©s
, 
shad”_cÜe_ùx
* 
shad”
,

303 
ScÜebßrd
* 
scÜebßrd
, 
simt_¡ack
** 
simt
,

304 
¡d
::
veùÜ
<
shd_w¬p_t
>* 
w¬p
,

305 
»gi¡”_£t
* 
¥_out
,

306 
»gi¡”_£t
* 
sfu_out
,

307 
»gi¡”_£t
* 
mem_out
,

308 
id
)

309 : 
m_su³rvi£d_w¬ps
(), 
m_¡©s
(
¡©s
), 
m_shad”
(
shad”
),

310 
m_scÜebßrd
(
scÜebßrd
), 
m_simt_¡ack
(
simt
), 
m_w¬p
(
w¬p
),

311 
m_¥_out
(
¥_out
),
m_sfu_out
(
sfu_out
),
m_mem_out
(
mem_out
), 
	$m_id
(
id
){

312 if(
	`g‘_sid
()==1){

313 
boŞ
 
fe_ü—‹d
=
çl£
;

314 
issue_¡©us_fe
=
	`fİ’
("issue_¡©us.csv",
fe_ü—‹d
?"a":"w");

315 
fe_ü—‹d
 = 
Œue
;

318 
vœtu®
 ~
	$scheduËr_un™
(){if(
	`g‘_sid
()==1){
	`fşo£
(
issue_¡©us_fe
);}
	}
}

319 
vœtu®
 
	$add_su³rvi£d_w¬p_id
(
i
) {

320 
m_su³rvi£d_w¬ps
.
	`push_back
(&
	`w¬p
(
i
));

321 
	}
}

322 
vœtu®
 
	$dÚe_addšg_su³rvi£d_w¬ps
() {

323 
m_Ï¡_su³rvi£d_issued
 = 
m_su³rvi£d_w¬ps
.
	`’d
();

324 
	}
}

330 
cyşe
();

334 
	g‹m¶©e
 < 
ty³Çme
 
	gT
 >

335 
Üd”_Ìr
Ğ
ty³Çme
 
¡d
::
veùÜ
< 
T
 >& 
»suÉ_li¡
,

336 cÚ¡ 
ty³Çme
 
¡d
::
veùÜ
< 
T
 >& 
šput_li¡
,

337 cÚ¡ 
ty³Çme
 
¡d
::
veùÜ
< 
T
 >::
cÚ¡_™”©Ü
& 
Ï¡_issued_äom_šput
,

338 
num_w¬ps_to_add
 );

340 
	eOrd”šgTy³


344 
	gORDERING_GREEDY_THEN_PRIORITY_FUNC
 = 0,

347 
	gORDERED_PRIORITY_FUNC_ONLY
,

348 
	gNUM_ORDERING
,

350 
	g‹m¶©e
 < 
ty³Çme
 
	gU
 >

351 
Üd”_by_´iÜ™y
Ğ
¡d
::
veùÜ
< 
U
 >& 
»suÉ_li¡
,

352 cÚ¡ 
ty³Çme
 
¡d
::
veùÜ
< 
U
 >& 
šput_li¡
,

353 cÚ¡ 
ty³Çme
 
¡d
::
veùÜ
< 
U
 >::
cÚ¡_™”©Ü
& 
Ï¡_issued_äom_šput
,

354 
num_w¬ps_to_add
,

355 
Ord”šgTy³
 
age_Üd”šg
,

356 
	$boŞ
 (*
´iÜ™y_func
)(
U
 
lhs
, U 
rhs
) );

357 
boŞ
 
	`sÜt_w¬ps_by_Şde¡_dyÇmic_id
(
shd_w¬p_t
* 
lhs
, shd_w¬p_t* 
rhs
);

361 
vœtu®
 
	`Üd”_w¬ps
() = 0;

363 
´Ùeùed
:

364 
vœtu®
 
	`do_Ú_w¬p_issued
Ğ
w¬p_id
,

365 
num_issued
,

366 cÚ¡ 
¡d
::
veùÜ
< 
shd_w¬p_t
* >::
cÚ¡_™”©Ü
& 
´iÜ™ized_™”
 );

367 
šlše
 
	$g‘_sid
() const;

368 
´Ùeùed
:

369 
shd_w¬p_t
& 
	`w¬p
(
i
);

373 
¡d
::
veùÜ
< 
shd_w¬p_t
* > 
m_Ãxt_cyşe_´iÜ™ized_w¬ps
;

378 
¡d
::
veùÜ
< 
shd_w¬p_t
* > 
m_su³rvi£d_w¬ps
;

380 
¡d
::
veùÜ
< 
shd_w¬p_t
* >::
cÚ¡_™”©Ü
 
m_Ï¡_su³rvi£d_issued
;

381 
shad”_cÜe_¡©s
 *
m_¡©s
;

382 
shad”_cÜe_ùx
* 
m_shad”
;

384 
ScÜebßrd
* 
m_scÜebßrd
;

385 
simt_¡ack
** 
m_simt_¡ack
;

387 
¡d
::
veùÜ
<
shd_w¬p_t
>* 
m_w¬p
;

388 
»gi¡”_£t
* 
m_¥_out
;

389 
»gi¡”_£t
* 
m_sfu_out
;

390 
»gi¡”_£t
* 
m_mem_out
;

392 
m_id
;

394 
FILE
 *
issue_¡©us_fe
;

395 
	}
};

398 şas 
	cÌr_scheduËr
 : 
public
 
scheduËr_un™
 {

399 
public
:

400 
Ìr_scheduËr
 ( 
shad”_cÜe_¡©s
* 
¡©s
, 
shad”_cÜe_ùx
* 
shad”
,

401 
ScÜebßrd
* 
scÜebßrd
, 
simt_¡ack
** 
simt
,

402 
¡d
::
veùÜ
<
shd_w¬p_t
>* 
w¬p
,

403 
»gi¡”_£t
* 
¥_out
,

404 
»gi¡”_£t
* 
sfu_out
,

405 
»gi¡”_£t
* 
mem_out
,

406 
id
 )

407 : 
	$scheduËr_un™
 ( 
¡©s
, 
shad”
, 
scÜebßrd
, 
simt
, 
w¬p
, 
¥_out
, 
sfu_out
, 
mem_out
, 
id
 ){}

408 
vœtu®
 ~
	$Ìr_scheduËr
 (è{
	}
}

409 
vœtu®
 
Üd”_w¬ps
 ();

410 
vœtu®
 
	$dÚe_addšg_su³rvi£d_w¬ps
() {

411 
m_Ï¡_su³rvi£d_issued
 = 
m_su³rvi£d_w¬ps
.
	`’d
();

412 
	}
}

415 şas 
	cgto_scheduËr
 : 
public
 
scheduËr_un™
 {

416 
public
:

417 
gto_scheduËr
 ( 
shad”_cÜe_¡©s
* 
¡©s
, 
shad”_cÜe_ùx
* 
shad”
,

418 
ScÜebßrd
* 
scÜebßrd
, 
simt_¡ack
** 
simt
,

419 
¡d
::
veùÜ
<
shd_w¬p_t
>* 
w¬p
,

420 
»gi¡”_£t
* 
¥_out
,

421 
»gi¡”_£t
* 
sfu_out
,

422 
»gi¡”_£t
* 
mem_out
,

423 
id
 )

424 : 
	$scheduËr_un™
 ( 
¡©s
, 
shad”
, 
scÜebßrd
, 
simt
, 
w¬p
, 
¥_out
, 
sfu_out
, 
mem_out
, 
id
 ){}

425 
vœtu®
 ~
	$gto_scheduËr
 (è{
	}
}

426 
vœtu®
 
Üd”_w¬ps
 ();

427 
vœtu®
 
	$dÚe_addšg_su³rvi£d_w¬ps
() {

428 
m_Ï¡_su³rvi£d_issued
 = 
m_su³rvi£d_w¬ps
.
	`begš
();

429 
	}
}

434 şas 
	ctwo_Ëv–_aùive_scheduËr
 : 
public
 
scheduËr_un™
 {

435 
public
:

436 
two_Ëv–_aùive_scheduËr
 ( 
shad”_cÜe_¡©s
* 
¡©s
, 
shad”_cÜe_ùx
* 
shad”
,

437 
ScÜebßrd
* 
scÜebßrd
, 
simt_¡ack
** 
simt
,

438 
¡d
::
veùÜ
<
shd_w¬p_t
>* 
w¬p
,

439 
»gi¡”_£t
* 
¥_out
,

440 
»gi¡”_£t
* 
sfu_out
,

441 
»gi¡”_£t
* 
mem_out
,

442 
id
,

443 * 
cÚfig_¡r
 )

444 : 
scheduËr_un™
 ( 
¡©s
, 
shad”
, 
scÜebßrd
, 
simt
, 
w¬p
, 
¥_out
, 
sfu_out
, 
mem_out
, 
id
 ),

445 
	$m_³ndšg_w¬ps
()

447 
šÃr_Ëv–_»adš
;

448 
ou‹r_Ëv–_»adš
;

449 
»t
 = 
	`ssÿnf
Ğ
cÚfig_¡r
,

451 &
m_max_aùive_w¬ps
,

452 &
šÃr_Ëv–_»adš
,

453 &
ou‹r_Ëv–_»adš
);

454 
	`as£¹
Ğ3 =ğ
»t
 );

455 
m_šÃr_Ëv–_´iÜ™iz©iÚ
=(
scheduËr_´iÜ™iz©iÚ_ty³
)
šÃr_Ëv–_»adš
;

456 
m_ou‹r_Ëv–_´iÜ™iz©iÚ
=(
scheduËr_´iÜ™iz©iÚ_ty³
)
ou‹r_Ëv–_»adš
;

458 
vœtu®
 ~
	$two_Ëv–_aùive_scheduËr
 (è{
	}
}

459 
vœtu®
 
Üd”_w¬ps
();

460 
	$add_su³rvi£d_w¬p_id
(
i
) {

461 iàĞ
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`size
(è< 
m_max_aùive_w¬ps
 ) {

462 
m_Ãxt_cyşe_´iÜ™ized_w¬ps
.
	`push_back
Ğ&
	`w¬p
(
i
) );

464 
m_³ndšg_w¬ps
.
	`push_back
(&
	`w¬p
(
i
));

466 
	}
}

467 
vœtu®
 
	$dÚe_addšg_su³rvi£d_w¬ps
() {

468 
m_Ï¡_su³rvi£d_issued
 = 
m_su³rvi£d_w¬ps
.
	`begš
();

469 
	}
}

471 
	g´Ùeùed
:

472 
vœtu®
 
do_Ú_w¬p_issued
Ğ
w¬p_id
,

473 
num_issued
,

474 cÚ¡ 
¡d
::
veùÜ
< 
shd_w¬p_t
* >::
cÚ¡_™”©Ü
& 
´iÜ™ized_™”
 );

476 
	g´iv©e
:

477 
¡d
::
deque
< 
shd_w¬p_t
* > 
m_³ndšg_w¬ps
;

478 
scheduËr_´iÜ™iz©iÚ_ty³
 
	gm_šÃr_Ëv–_´iÜ™iz©iÚ
;

479 
scheduËr_´iÜ™iz©iÚ_ty³
 
	gm_ou‹r_Ëv–_´iÜ™iz©iÚ
;

480 
	gm_max_aùive_w¬ps
;

483 şas 
	cgto_šÃr_gto_ou‹r_scheduËr
 : 
public
 
scheduËr_un™
 {

484 
public
:

486 
group_id
;

487 
	mgroup_®l_¡®l_d‘
;

488 
	m¡d
::
veùÜ
<
shd_w¬p_t
*> 
w¬ps_queue
;

490 } 
	tissue_group_queue
;

492 
gto_šÃr_gto_ou‹r_scheduËr
 ( 
shad”_cÜe_¡©s
* 
¡©s
, 
shad”_cÜe_ùx
* 
shad”
,

493 
ScÜebßrd
* 
scÜebßrd
, 
simt_¡ack
** 
simt
,

494 
¡d
::
veùÜ
<
shd_w¬p_t
>* 
w¬p
,

495 
»gi¡”_£t
* 
¥_out
,

496 
»gi¡”_£t
* 
sfu_out
,

497 
»gi¡”_£t
* 
mem_out
,

498 
id
,

499 * 
cÚfig_¡r
 )

500 : 
scheduËr_un™
 ( 
¡©s
, 
shad”
, 
scÜebßrd
, 
simt
, 
w¬p
, 
¥_out
, 
sfu_out
, 
mem_out
, 
id
 ),

501 
	$m_issue_w¬ps_m©rix
()

503 
šÃr_Ëv–_»adš
;

504 
ou‹r_Ëv–_»adš
;

505 
»t
 = 
	`ssÿnf
Ğ
cÚfig_¡r
,

507 &
m_max_aùive_w¬ps
,

508 &
m_issue_group_size
,

509 &
šÃr_Ëv–_»adš
,

510 &
ou‹r_Ëv–_»adš
);

511 
	`as£¹
Ğ4 =ğ
»t
 );

512 
m_šÃr_Ëv–_´iÜ™iz©iÚ
=(
scheduËr_´iÜ™iz©iÚ_ty³
)
šÃr_Ëv–_»adš
;

513 
m_ou‹r_Ëv–_´iÜ™iz©iÚ
=(
scheduËr_´iÜ™iz©iÚ_ty³
)
ou‹r_Ëv–_»adš
;

519 
	}
}

520 
	gvœtu®
 ~
	$gto_šÃr_gto_ou‹r_scheduËr
 (è{
	}
}

521 
vœtu®
 
Üd”_w¬ps
();

523 
	$add_su³rvi£d_w¬p_id
(
i
) {

529 
issue_group_id
=
i
/
m_issue_group_size
;

530 
id_š_issue_group
=
i
%
m_issue_group_size
;

531 
	`w¬p
(
i
).
	`£t_issue_group_id
(
issue_group_id
);

532 
	`w¬p
(
i
).
	`£t_id_š_issue_group
(
id_š_issue_group
);

533 
m_su³rvi£d_w¬ps
.
	`push_back
(&
	`w¬p
(
i
));

535 
	}
}

537 
vœtu®
 
	$dÚe_addšg_su³rvi£d_w¬ps
() {

540 if(!
m_max_aùive_w¬ps
)

541 
m_max_aùive_w¬ps
=
m_su³rvi£d_w¬ps
.
	`size
();

542 
m_num_of_issue_groups
=(
m_su³rvi£d_w¬ps
.
	`size
()+
m_issue_group_size
-1)/m_issue_group_size;

543 
m_issue_w¬ps_m©rix
.
	`»size
(
m_num_of_issue_groups
);

544 
¡d
::
veùÜ
<
shd_w¬p_t
*>::
™”©Ü
 
™”
ğ
m_su³rvi£d_w¬ps
.
	`begš
();

545 
™”
!=
m_su³rvi£d_w¬ps
.
	`’d
();iter++){

546 
m_issue_w¬ps_m©rix
[(*
™”
)->
	`g‘_issue_group_id
()].
w¬ps_queue
.
	`push_back
((*iter));

549 
i
=0;i<
m_num_of_issue_groups
;i++){

550 
m_issue_w¬ps_m©rix
[
i
].
group_id
=i;

551 
m_issue_w¬ps_m©rix
[
i
].
group_®l_¡®l_d‘
=
çl£
;

554 
m_su³rvi£d_w¬ps
.
	`ş—r
();

555 
m_Ï¡_su³rvi£d_issued
 = 
m_su³rvi£d_w¬ps
.
	`begš
();

556 
	}
}

558 
	g´iv©e
:

559 
¡d
::
veùÜ
<
issue_group_queue
> 
m_issue_w¬ps_m©rix
;

561 
scheduËr_´iÜ™iz©iÚ_ty³
 
	gm_šÃr_Ëv–_´iÜ™iz©iÚ
;

562 
scheduËr_´iÜ™iz©iÚ_ty³
 
	gm_ou‹r_Ëv–_´iÜ™iz©iÚ
;

563 
	gm_issue_group_size
;

565 
	gm_num_of_issue_groups
;

566 
	gm_max_aùive_w¬ps
;

571 şas 
	cg»edy_šÃr_gto_ou‹r_scheduËr
 : 
public
 
scheduËr_un™
 {

572 
public
:

574 
group_id
;

575 
	mgroup_®l_¡®l_d‘
;

576 
	m¡d
::
veùÜ
<
shd_w¬p_t
*> 
w¬ps_queue
;

578 } 
	tissue_group_queue
;

580 
g»edy_šÃr_gto_ou‹r_scheduËr
 ( 
shad”_cÜe_¡©s
* 
¡©s
, 
shad”_cÜe_ùx
* 
shad”
,

581 
ScÜebßrd
* 
scÜebßrd
, 
simt_¡ack
** 
simt
,

582 
¡d
::
veùÜ
<
shd_w¬p_t
>* 
w¬p
,

583 
»gi¡”_£t
* 
¥_out
,

584 
»gi¡”_£t
* 
sfu_out
,

585 
»gi¡”_£t
* 
mem_out
,

586 
id
,

587 * 
cÚfig_¡r
 )

588 : 
scheduËr_un™
 ( 
¡©s
, 
shad”
, 
scÜebßrd
, 
simt
, 
w¬p
, 
¥_out
, 
sfu_out
, 
mem_out
, 
id
 ),

589 
	$m_issue_w¬ps_m©rix
()

591 
šÃr_Ëv–_»adš
;

592 
ou‹r_Ëv–_»adš
;

593 
»t
 = 
	`ssÿnf
Ğ
cÚfig_¡r
,

595 &
m_max_aùive_w¬ps
,

596 &
m_issue_group_size
,

597 &
šÃr_Ëv–_»adš
,

598 &
ou‹r_Ëv–_»adš
);

599 
	`as£¹
Ğ4 =ğ
»t
 );

600 
m_šÃr_Ëv–_´iÜ™iz©iÚ
=(
scheduËr_´iÜ™iz©iÚ_ty³
)
šÃr_Ëv–_»adš
;

601 
m_ou‹r_Ëv–_´iÜ™iz©iÚ
=(
scheduËr_´iÜ™iz©iÚ_ty³
)
ou‹r_Ëv–_»adš
;

602 
	}
}

603 
	gvœtu®
 ~
	$g»edy_šÃr_gto_ou‹r_scheduËr
 (è{
	}
}

604 
vœtu®
 
Üd”_w¬ps
();

606 
	$add_su³rvi£d_w¬p_id
(
i
) {

612 
issue_group_id
=
i
/
m_issue_group_size
;

613 
id_š_issue_group
=
i
%
m_issue_group_size
;

614 
	`w¬p
(
i
).
	`£t_issue_group_id
(
issue_group_id
);

615 
	`w¬p
(
i
).
	`£t_id_š_issue_group
(
id_š_issue_group
);

616 
m_su³rvi£d_w¬ps
.
	`push_back
(&
	`w¬p
(
i
));

618 
	}
}

620 
vœtu®
 
	$dÚe_addšg_su³rvi£d_w¬ps
() {

623 if(!
m_max_aùive_w¬ps
)

624 
m_max_aùive_w¬ps
=
m_su³rvi£d_w¬ps
.
	`size
();

625 
m_num_of_issue_groups
=(
m_su³rvi£d_w¬ps
.
	`size
()+
m_issue_group_size
-1)/m_issue_group_size;

626 
m_issue_w¬ps_m©rix
.
	`»size
(
m_num_of_issue_groups
);

627 
¡d
::
veùÜ
<
shd_w¬p_t
*>::
™”©Ü
 
™”
ğ
m_su³rvi£d_w¬ps
.
	`begš
();

628 
™”
!=
m_su³rvi£d_w¬ps
.
	`’d
();iter++){

629 
m_issue_w¬ps_m©rix
[(*
™”
)->
	`g‘_issue_group_id
()].
w¬ps_queue
.
	`push_back
((*iter));

632 
i
=0;i<
m_num_of_issue_groups
;i++){

633 
m_issue_w¬ps_m©rix
[
i
].
group_id
=i;

634 
m_issue_w¬ps_m©rix
[
i
].
group_®l_¡®l_d‘
=
çl£
;

637 
m_su³rvi£d_w¬ps
.
	`ş—r
();

638 
m_Ï¡_su³rvi£d_issued
 = 
m_su³rvi£d_w¬ps
.
	`begš
();

639 
	}
}

641 
	g´iv©e
:

642 
¡d
::
veùÜ
<
issue_group_queue
> 
m_issue_w¬ps_m©rix
;

644 
scheduËr_´iÜ™iz©iÚ_ty³
 
	gm_šÃr_Ëv–_´iÜ™iz©iÚ
;

645 
scheduËr_´iÜ™iz©iÚ_ty³
 
	gm_ou‹r_Ëv–_´iÜ™iz©iÚ
;

646 
	gm_issue_group_size
;

648 
	gm_num_of_issue_groups
;

649 
	gm_max_aùive_w¬ps
;

653 şas 
	c¼_šÃr_gto_ou‹r_scheduËr
 : 
public
 
scheduËr_un™
 {

654 
public
:

656 
group_id
;

657 
	mgroup_®l_¡®l_d‘
;

658 
	m¡d
::
veùÜ
<
shd_w¬p_t
*> 
w¬ps_queue
;

660 } 
	tissue_group_queue
;

662 
¼_šÃr_gto_ou‹r_scheduËr
 ( 
shad”_cÜe_¡©s
* 
¡©s
, 
shad”_cÜe_ùx
* 
shad”
,

663 
ScÜebßrd
* 
scÜebßrd
, 
simt_¡ack
** 
simt
,

664 
¡d
::
veùÜ
<
shd_w¬p_t
>* 
w¬p
,

665 
»gi¡”_£t
* 
¥_out
,

666 
»gi¡”_£t
* 
sfu_out
,

667 
»gi¡”_£t
* 
mem_out
,

668 
id
,

669 * 
cÚfig_¡r
 )

670 : 
scheduËr_un™
 ( 
¡©s
, 
shad”
, 
scÜebßrd
, 
simt
, 
w¬p
, 
¥_out
, 
sfu_out
, 
mem_out
, 
id
 ),

671 
	$m_issue_w¬ps_m©rix
()

673 
šÃr_Ëv–_»adš
;

674 
ou‹r_Ëv–_»adš
;

675 
»t
 = 
	`ssÿnf
Ğ
cÚfig_¡r
,

677 &
m_max_aùive_w¬ps
,

678 &
m_issue_group_size
,

679 &
šÃr_Ëv–_»adš
,

680 &
ou‹r_Ëv–_»adš
);

681 
	`as£¹
Ğ4 =ğ
»t
 );

682 
m_šÃr_Ëv–_´iÜ™iz©iÚ
=(
scheduËr_´iÜ™iz©iÚ_ty³
)
šÃr_Ëv–_»adš
;

683 
m_ou‹r_Ëv–_´iÜ™iz©iÚ
=(
scheduËr_´iÜ™iz©iÚ_ty³
)
ou‹r_Ëv–_»adš
;

684 
	}
}

685 
	gvœtu®
 ~
	$¼_šÃr_gto_ou‹r_scheduËr
 (è{
	}
}

686 
vœtu®
 
Üd”_w¬ps
();

688 
	$add_su³rvi£d_w¬p_id
(
i
) {

694 
issue_group_id
=
i
/
m_issue_group_size
;

695 
id_š_issue_group
=
i
%
m_issue_group_size
;

696 
	`w¬p
(
i
).
	`£t_issue_group_id
(
issue_group_id
);

697 
	`w¬p
(
i
).
	`£t_id_š_issue_group
(
id_š_issue_group
);

698 
m_su³rvi£d_w¬ps
.
	`push_back
(&
	`w¬p
(
i
));

700 
	}
}

702 
vœtu®
 
	$dÚe_addšg_su³rvi£d_w¬ps
() {

705 if(!
m_max_aùive_w¬ps
)

706 
m_max_aùive_w¬ps
=
m_su³rvi£d_w¬ps
.
	`size
();

707 
m_num_of_issue_groups
=(
m_su³rvi£d_w¬ps
.
	`size
()+
m_issue_group_size
-1)/m_issue_group_size;

708 
m_issue_w¬ps_m©rix
.
	`»size
(
m_num_of_issue_groups
);

709 
¡d
::
veùÜ
<
shd_w¬p_t
*>::
™”©Ü
 
™”
ğ
m_su³rvi£d_w¬ps
.
	`begš
();

710 
™”
!=
m_su³rvi£d_w¬ps
.
	`’d
();iter++){

711 
m_issue_w¬ps_m©rix
[(*
™”
)->
	`g‘_issue_group_id
()].
w¬ps_queue
.
	`push_back
((*iter));

714 
i
=0;i<
m_num_of_issue_groups
;i++){

715 
m_issue_w¬ps_m©rix
[
i
].
group_id
=i;

716 
m_issue_w¬ps_m©rix
[
i
].
group_®l_¡®l_d‘
=
çl£
;

719 
m_su³rvi£d_w¬ps
.
	`ş—r
();

720 
m_Ï¡_su³rvi£d_issued
 = 
m_su³rvi£d_w¬ps
.
	`begš
();

721 
	}
}

723 
	g´Ùeùed
:

724 
vœtu®
 
do_Ú_w¬p_issued
Ğ
w¬p_id
,

725 
num_issued
,

726 cÚ¡ 
¡d
::
veùÜ
< 
shd_w¬p_t
* >::
cÚ¡_™”©Ü
& 
´iÜ™ized_™”
 );

728 
	g´iv©e
:

729 
¡d
::
veùÜ
<
issue_group_queue
> 
m_issue_w¬ps_m©rix
;

731 
scheduËr_´iÜ™iz©iÚ_ty³
 
	gm_šÃr_Ëv–_´iÜ™iz©iÚ
;

732 
scheduËr_´iÜ™iz©iÚ_ty³
 
	gm_ou‹r_Ëv–_´iÜ™iz©iÚ
;

733 
	gm_issue_group_size
;

735 
	gm_num_of_issue_groups
;

736 
	gm_max_aùive_w¬ps
;

740 şas 
	c¼_šÃr_g»edy_ou‹r_scheduËr
 : 
public
 
scheduËr_un™
 {

741 
public
:

743 
group_id
;

744 
	mgroup_®l_¡®l_d‘
;

745 
	m¡d
::
veùÜ
<
shd_w¬p_t
*> 
w¬ps_queue
;

747 } 
	tissue_group_queue
;

749 
¼_šÃr_g»edy_ou‹r_scheduËr
 ( 
shad”_cÜe_¡©s
* 
¡©s
, 
shad”_cÜe_ùx
* 
shad”
,

750 
ScÜebßrd
* 
scÜebßrd
, 
simt_¡ack
** 
simt
,

751 
¡d
::
veùÜ
<
shd_w¬p_t
>* 
w¬p
,

752 
»gi¡”_£t
* 
¥_out
,

753 
»gi¡”_£t
* 
sfu_out
,

754 
»gi¡”_£t
* 
mem_out
,

755 
id
,

756 * 
cÚfig_¡r
 )

757 : 
scheduËr_un™
 ( 
¡©s
, 
shad”
, 
scÜebßrd
, 
simt
, 
w¬p
, 
¥_out
, 
sfu_out
, 
mem_out
, 
id
 ),

758 
	$m_issue_w¬ps_m©rix
()

760 
šÃr_Ëv–_»adš
;

761 
ou‹r_Ëv–_»adš
;

762 
»t
 = 
	`ssÿnf
Ğ
cÚfig_¡r
,

764 &
m_max_aùive_w¬ps
,

765 &
m_issue_group_size
,

766 &
šÃr_Ëv–_»adš
,

767 &
ou‹r_Ëv–_»adš
);

768 
	`as£¹
Ğ4 =ğ
»t
 );

769 
m_šÃr_Ëv–_´iÜ™iz©iÚ
=(
scheduËr_´iÜ™iz©iÚ_ty³
)
šÃr_Ëv–_»adš
;

770 
m_ou‹r_Ëv–_´iÜ™iz©iÚ
=(
scheduËr_´iÜ™iz©iÚ_ty³
)
ou‹r_Ëv–_»adš
;

771 
	}
}

772 
	gvœtu®
 ~
	$¼_šÃr_g»edy_ou‹r_scheduËr
 (è{
	}
}

773 
vœtu®
 
Üd”_w¬ps
();

775 
	$add_su³rvi£d_w¬p_id
(
i
) {

781 
issue_group_id
=
i
/
m_issue_group_size
;

782 
id_š_issue_group
=
i
%
m_issue_group_size
;

783 
	`w¬p
(
i
).
	`£t_issue_group_id
(
issue_group_id
);

784 
	`w¬p
(
i
).
	`£t_id_š_issue_group
(
id_š_issue_group
);

785 
m_su³rvi£d_w¬ps
.
	`push_back
(&
	`w¬p
(
i
));

787 
	}
}

789 
vœtu®
 
	$dÚe_addšg_su³rvi£d_w¬ps
() {

792 if(!
m_max_aùive_w¬ps
)

793 
m_max_aùive_w¬ps
=
m_su³rvi£d_w¬ps
.
	`size
();

794 
m_num_of_issue_groups
=(
m_su³rvi£d_w¬ps
.
	`size
()+
m_issue_group_size
-1)/m_issue_group_size;

795 
m_issue_w¬ps_m©rix
.
	`»size
(
m_num_of_issue_groups
);

796 
¡d
::
veùÜ
<
shd_w¬p_t
*>::
™”©Ü
 
™”
ğ
m_su³rvi£d_w¬ps
.
	`begš
();

797 
™”
!=
m_su³rvi£d_w¬ps
.
	`’d
();iter++){

798 
m_issue_w¬ps_m©rix
[(*
™”
)->
	`g‘_issue_group_id
()].
w¬ps_queue
.
	`push_back
((*iter));

801 
i
=0;i<
m_num_of_issue_groups
;i++){

802 
m_issue_w¬ps_m©rix
[
i
].
group_id
=i;

803 
m_issue_w¬ps_m©rix
[
i
].
group_®l_¡®l_d‘
=
çl£
;

806 
m_su³rvi£d_w¬ps
.
	`ş—r
();

807 
m_Ï¡_su³rvi£d_issued
 = 
m_su³rvi£d_w¬ps
.
	`begš
();

808 
	}
}

810 
	g´Ùeùed
:

811 
vœtu®
 
do_Ú_w¬p_issued
Ğ
w¬p_id
,

812 
num_issued
,

813 cÚ¡ 
¡d
::
veùÜ
< 
shd_w¬p_t
* >::
cÚ¡_™”©Ü
& 
´iÜ™ized_™”
 );

815 
	g´iv©e
:

816 
¡d
::
veùÜ
<
issue_group_queue
> 
m_issue_w¬ps_m©rix
;

818 
scheduËr_´iÜ™iz©iÚ_ty³
 
	gm_šÃr_Ëv–_´iÜ™iz©iÚ
;

819 
scheduËr_´iÜ™iz©iÚ_ty³
 
	gm_ou‹r_Ëv–_´iÜ™iz©iÚ
;

820 
	gm_issue_group_size
;

822 
	gm_num_of_issue_groups
;

823 
	gm_max_aùive_w¬ps
;

828 şas 
	cswl_scheduËr
 : 
public
 
scheduËr_un™
 {

829 
public
:

830 
swl_scheduËr
 ( 
shad”_cÜe_¡©s
* 
¡©s
, 
shad”_cÜe_ùx
* 
shad”
,

831 
ScÜebßrd
* 
scÜebßrd
, 
simt_¡ack
** 
simt
,

832 
¡d
::
veùÜ
<
shd_w¬p_t
>* 
w¬p
,

833 
»gi¡”_£t
* 
¥_out
,

834 
»gi¡”_£t
* 
sfu_out
,

835 
»gi¡”_£t
* 
mem_out
,

836 
id
,

837 * 
cÚfig_¡ršg
 );

838 
	mvœtu®
 ~
	$swl_scheduËr
 () {}

839 
vœtu®
 
	`Üd”_w¬ps
 ();

840 
vœtu®
 
	$dÚe_addšg_su³rvi£d_w¬ps
() {

841 
m_Ï¡_su³rvi£d_issued
 = 
m_su³rvi£d_w¬ps
.
	`begš
();

842 
	}
}

844 
	g´Ùeùed
:

845 
scheduËr_´iÜ™iz©iÚ_ty³
 
m_´iÜ™iz©iÚ
;

846 
	gm_num_w¬ps_to_lim™
;

851 şas 
	cİndcŞl_rfu_t
 {

852 
	mpublic
:

854 
	$İndcŞl_rfu_t
()

856 
m_num_bªks
=0;

857 
m_shad”
=
NULL
;

858 
m_š™Ÿlized
=
çl£
;

860 
	`add_cu_£t
(
cu_£t
, 
num_cu
, 
num_di¥©ch
);

861 
¡d
::
	tveùÜ
<
	t»gi¡”_£t
*> 
	tpÜt_veùÜ_t
;

862 
¡d
::
	tveùÜ
<> 
	tušt_veùÜ_t
;

863 
	`add_pÜt
Ğ
pÜt_veùÜ_t
 & 
šput
,…Üt_veùÜ_ˆ& 
ouput
, 
ušt_veùÜ_t
 
cu_£ts
);

864 
	`š™
Ğ
num_bªks
, 
shad”_cÜe_ùx
 *
shad”
 );

867 
boŞ
 
	`wr™eback
ĞcÚ¡ 
w¬p_š¡_t
 &
w¬p
 );

869 
	$¡•
()

871 
	`di¥©ch_»ady_cu
();

872 
	`®loÿ‹_»ads
();

873  
p
 = 0 ;… < 
m_š_pÜts
.
	`size
();…++ )

874 
	`®loÿ‹_cu
Ğ
p
 );

875 
	`´oûss_bªks
();

876 
	}
}

878 
	$dump
Ğ
FILE
 *
å
 ) const

880 
	`årštf
(
å
,"\n");

881 
	`årštf
(
å
,"Operand Collector State:\n");

882  
n
=0;‚ < 
m_cu
.
	`size
();‚++ ) {

883 
	`årštf
(
å
," CU-%2u: ", 
n
);

884 
m_cu
[
n
]->
	`dump
(
å
,
m_shad”
);

886 
m_¬b™”
.
	`dump
(
å
);

887 
	}
}

889 
shad”_cÜe_ùx
 *
	$shad”_cÜe
(è{  
m_shad”
; 
	}
}

891 
	g´iv©e
:

893 
	$´oûss_bªks
()

895 
m_¬b™”
.
	`»£t_®loùiÚ
();

896 
	}
}

898 
di¥©ch_»ady_cu
();

899 
®loÿ‹_cu
Ğ
pÜt
 );

900 
®loÿ‹_»ads
();

904 
şass
 
	gcŞËùÜ_un™_t
;

906 şas 
	cİ_t
 {

907 
	gpublic
:

909 
İ_t
(è{ 
m_v®id
 = 
çl£
; }

910 
İ_t
Ğ
cŞËùÜ_un™_t
 *
cu
, 
İ
, 
»g
, 
num_bªks
, 
bªk_w¬p_shiá
 )

912 
	gm_v®id
 = 
Œue
;

913 
	gm_w¬p
=
NULL
;

914 
	gm_cu
 = 
cu
;

915 
	gm_İ”ªd
 = 
İ
;

916 
	gm_»gi¡”
 = 
»g
;

917 
	gm_bªk
 = 
»gi¡”_bªk
(
»g
,
cu
->
g‘_w¬p_id
(),
num_bªks
,
bªk_w¬p_shiá
);

919 
İ_t
ĞcÚ¡ 
w¬p_š¡_t
 *
w¬p
, 
»g
, 
num_bªks
, 
bªk_w¬p_shiá
 )

921 
	gm_v®id
=
Œue
;

922 
	gm_w¬p
=
w¬p
;

923 
	gm_»gi¡”
=
»g
;

924 
	gm_cu
=
NULL
;

925 
	gm_İ”ªd
 = -1;

926 
	gm_bªk
 = 
»gi¡”_bªk
(
»g
,
w¬p
->
w¬p_id
(),
num_bªks
,
bªk_w¬p_shiá
);

930 
boŞ
 
v®id
(ècÚ¡ {  
	gm_v®id
; }

931 
g‘_»g
() const

933 
as£¹
Ğ
m_v®id
 );

934  
	gm_»gi¡”
;

936 
g‘_wid
() const

938 ifĞ
	gm_w¬p
 )  m_w¬p->
w¬p_id
();

939 ifĞ
	gm_cu
 )  m_cu->
g‘_w¬p_id
();

940 
abÜt
();

942 
g‘_aùive_couÁ
() const

944 ifĞ
	gm_w¬p
 )  m_w¬p->
aùive_couÁ
();

945 ifĞ
	gm_cu
 )  m_cu->
g‘_aùive_couÁ
();

946 
abÜt
();

948 cÚ¡ 
	gaùive_mask_t
 & 
g‘_aùive_mask
()

950 ifĞ
	gm_w¬p
 )  m_w¬p->
g‘_aùive_mask
();

951 ifĞ
	gm_cu
 )  m_cu->
g‘_aùive_mask
();

952 
abÜt
();

954 
g‘_¥_İ
() const

956 ifĞ
	gm_w¬p
 )  m_w¬p->
	g¥_İ
;

957 ifĞ
	gm_cu
 )  m_cu->
g‘_¥_İ
();

958 
abÜt
();

960 
g‘_oc_id
(ècÚ¡ {  
	gm_cu
->
g‘_id
(); }

961 
g‘_bªk
(ècÚ¡ {  
	gm_bªk
; }

962 
g‘_İ”ªd
(ècÚ¡ {  
	gm_İ”ªd
; }

963 
dump
(
FILE
 *
å
) const

965 if(
	gm_cu
)

966 
årštf
(
å
," <R%u, CU:%u, w:%02u> ", 
m_»gi¡”
,
m_cu
->
g‘_id
(),m_cu->
g‘_w¬p_id
());

967 ifĞ!
	gm_w¬p
->
em±y
() )

968 
årštf
(
å
," <R%u, wid:%02u> ", 
m_»gi¡”
,
m_w¬p
->
w¬p_id
() );

970 
	g¡d
::
¡ršg
 
g‘_»g_¡ršg
() const

972 
bufãr
[64];

973 
¢´štf
(
bufãr
,64,"R%u", 
m_»gi¡”
);

974  
	g¡d
::
¡ršg
(
bufãr
);

978 
»£t
(è{ 
	gm_v®id
 = 
çl£
; }

979 
	g´iv©e
:

980 
boŞ
 
m_v®id
;

981 
cŞËùÜ_un™_t
 *
	gm_cu
;

982 cÚ¡ 
w¬p_š¡_t
 *
	gm_w¬p
;

983 
	gm_İ”ªd
;

984 
	gm_»gi¡”
;

985 
	gm_bªk
;

988 
	e®loc_t
 {

989 
	gNO_ALLOC
,

990 
	gREAD_ALLOC
,

991 
	gWRITE_ALLOC
,

994 şas 
	c®loÿtiÚ_t
 {

995 
	gpublic
:

996 
®loÿtiÚ_t
(è{ 
m_®loÿtiÚ
 = 
NO_ALLOC
; }

997 
boŞ
 
is_»ad
(ècÚ¡ {  
	gm_®loÿtiÚ
==
READ_ALLOC
; }

998 
boŞ
 
is_wr™e
(ècÚ¡ { 
	gm_®loÿtiÚ
==
WRITE_ALLOC
; }

999 
boŞ
 
is_ä“
(ècÚ¡ { 
	gm_®loÿtiÚ
==
NO_ALLOC
; }

1000 
dump
(
FILE
 *
å
) const {

1001 ifĞ
	gm_®loÿtiÚ
 =ğ
NO_ALLOC
 ) { 
årštf
(
å
,"<free>"); }

1002 ifĞ
	gm_®loÿtiÚ
 =ğ
READ_ALLOC
 ) { 
årštf
(
å
,"rd: "); 
	gm_İ
.
dump
(fp); }

1003 ifĞ
	gm_®loÿtiÚ
 =ğ
WRITE_ALLOC
 ) { 
årštf
(
å
,"wr: "); 
	gm_İ
.
dump
(fp); }

1004 
årštf
(
å
,"\n");

1006 
®loc_»ad
ĞcÚ¡ 
İ_t
 &
İ
 ) { 
as£¹
(
is_ä“
()); 
	gm_®loÿtiÚ
=
READ_ALLOC
; 
	gm_İ
=op; }

1007 
®loc_wr™e
ĞcÚ¡ 
İ_t
 &
İ
 ) { 
as£¹
(
is_ä“
()); 
	gm_®loÿtiÚ
=
WRITE_ALLOC
; 
	gm_İ
=op; }

1008 
»£t
(è{ 
	gm_®loÿtiÚ
 = 
NO_ALLOC
; }

1009 
	g´iv©e
:

1010 
®loc_t
 
m_®loÿtiÚ
;

1011 
İ_t
 
	gm_İ
;

1014 şas 
	c¬b™”_t
 {

1015 
	gpublic
:

1017 
¬b™”_t
()

1019 
m_queue
=
NULL
;

1020 
	gm_®loÿ‹d_bªk
=
NULL
;

1021 
	gm_®loÿtÜ_¼_h—d
=
NULL
;

1022 
	g_šm©ch
=
NULL
;

1023 
	g_outm©ch
=
NULL
;

1024 
	g_»que¡
=
NULL
;

1025 
	gm_Ï¡_cu
=0;

1027 
š™
Ğ
num_cu
, 
num_bªks
 )

1029 
as£¹
(
num_cu
 > 0);

1030 
as£¹
(
num_bªks
 > 0);

1031 
	gm_num_cŞËùÜs
 = 
num_cu
;

1032 
	gm_num_bªks
 = 
num_bªks
;

1033 
	g_šm©ch
 = 
Ãw
 [ 
m_num_bªks
 ];

1034 
	g_outm©ch
 = 
Ãw
 [ 
m_num_cŞËùÜs
 ];

1035 
	g_»que¡
 = 
Ãw
 *[ 
m_num_bªks
 ];

1036 
	gi
=0; i<
	gm_num_bªks
;i++)

1037 
	g_»que¡
[
i
] = 
Ãw
 [
m_num_cŞËùÜs
];

1038 
	gm_queue
 = 
Ãw
 
¡d
::
li¡
<
İ_t
>[
num_bªks
];

1039 
	gm_®loÿ‹d_bªk
 = 
Ãw
 
®loÿtiÚ_t
[
num_bªks
];

1040 
	gm_®loÿtÜ_¼_h—d
 = 
Ãw
 [
num_cu
];

1041  
	gn
=0;‚<
	gnum_cu
;n++ )

1042 
	gm_®loÿtÜ_¼_h—d
[
n
] =‚%
num_bªks
;

1043 
»£t_®loùiÚ
();

1047 
dump
(
FILE
 *
å
) const

1049 
årštf
(
å
,"\n");

1050 
årštf
(
å
," Arbiter State:\n");

1051 
årštf
(
å
,"„equests:\n");

1052  
	gb
=0; b<
	gm_num_bªks
; b++ ) {

1053 
årštf
(
å
," bªk %u : ", 
b
 );

1054 
	g¡d
::
li¡
<
İ_t
>::
cÚ¡_™”©Ü
 
o
 = 
m_queue
[
b
].
begš
();

1055 ; 
	go
 !ğ
m_queue
[
b
].
’d
(); o++ ) {

1056 
	go
->
dump
(
å
);

1058 
årštf
(
å
,"\n");

1060 
årštf
(
å
," grants:\n");

1061 
	gb
=0;b<
	gm_num_bªks
;b++) {

1062 
årštf
(
å
," bªk %u : ", 
b
 );

1063 
	gm_®loÿ‹d_bªk
[
b
].
dump
(
å
);

1065 
årštf
(
å
,"\n");

1069 
	g¡d
::
li¡
<
İ_t
> 
®loÿ‹_»ads
();

1071 
add_»ad_»que¡s
Ğ
cŞËùÜ_un™_t
 *
cu
 )

1073 cÚ¡ 
İ_t
 *
	g¤c
 = 
cu
->
g‘_İ”ªds
();

1074  
	gi
=0; i<
	gMAX_REG_OPERANDS
*2; i++) {

1075 cÚ¡ 
	gİ_t
 &
	gİ
 = 
¤c
[
i
];

1076 ifĞ
	gİ
.
v®id
() ) {

1077 
	gbªk
 = 
İ
.
g‘_bªk
();

1078 
	gm_queue
[
bªk
].
push_back
(
İ
);

1082 
boŞ
 
bªk_idË
Ğ
bªk
 ) const

1084  
	gm_®loÿ‹d_bªk
[
bªk
].
is_ä“
();

1086 
®loÿ‹_bªk_fÜ_wr™e
Ğ
bªk
, cÚ¡ 
İ_t
 &
İ
 )

1088 
as£¹
Ğ
bªk
 < 
m_num_bªks
 );

1089 
	gm_®loÿ‹d_bªk
[
bªk
].
®loc_wr™e
(
İ
);

1091 
®loÿ‹_fÜ_»ad
Ğ
bªk
, cÚ¡ 
İ_t
 &
İ
 )

1093 
as£¹
Ğ
bªk
 < 
m_num_bªks
 );

1094 
	gm_®loÿ‹d_bªk
[
bªk
].
®loc_»ad
(
İ
);

1096 
»£t_®loùiÚ
()

1098  
	gb
=0; b < 
	gm_num_bªks
; b++ )

1099 
	gm_®loÿ‹d_bªk
[
b
].
»£t
();

1102 
	g´iv©e
:

1103 
m_num_bªks
;

1104 
	gm_num_cŞËùÜs
;

1106 
®loÿtiÚ_t
 *
	gm_®loÿ‹d_bªk
;

1107 
	g¡d
::
li¡
<
İ_t
> *
m_queue
;

1109 *
	gm_®loÿtÜ_¼_h—d
;

1110 
	gm_Ï¡_cu
;

1112 *
	g_šm©ch
;

1113 *
	g_outm©ch
;

1114 **
	g_»que¡
;

1117 şas 
	cšput_pÜt_t
 {

1118 
	gpublic
:

1119 
šput_pÜt_t
(
pÜt_veùÜ_t
 & 
šput
,…Üt_veùÜ_ˆ& 
ouut
, 
ušt_veùÜ_t
 
cu_£ts
)

1120 : 
m_š
(
šput
),
m_out
(
ouut
), 
m_cu_£ts
(
cu_£ts
)

1122 
as£¹
(
šput
.
size
(è=ğ
ouut
.size());

1123 
as£¹
(
nÙ
 
m_cu_£ts
.
em±y
());

1126 
pÜt_veùÜ_t
 
	gm_š
,
	gm_out
;

1127 
ušt_veùÜ_t
 
	gm_cu_£ts
;

1130 şas 
	ccŞËùÜ_un™_t
 {

1131 
	gpublic
:

1133 
cŞËùÜ_un™_t
()

1135 
m_ä“
 = 
Œue
;

1136 
	gm_w¬p
 = 
NULL
;

1137 
	gm_ouut_»gi¡”
 = 
NULL
;

1138 
	gm_¤c_İ
 = 
Ãw
 
İ_t
[
MAX_REG_OPERANDS
*2];

1139 
	gm_nÙ_»ady
.
»£t
();

1140 
	gm_w¬p_id
 = -1;

1141 
	gm_num_bªks
 = 0;

1142 
	gm_bªk_w¬p_shiá
 = 0;

1145 
boŞ
 
»ady
() const;

1146 cÚ¡ 
İ_t
 *
g‘_İ”ªds
(ècÚ¡ {  
	gm_¤c_İ
; }

1147 
dump
(
FILE
 *
å
, cÚ¡ 
shad”_cÜe_ùx
 *
shad”
 ) const;

1149 
g‘_w¬p_id
(ècÚ¡ {  
	gm_w¬p_id
; }

1150 
g‘_aùive_couÁ
(ècÚ¡ {  
	gm_w¬p
->
aùive_couÁ
(); }

1151 cÚ¡ 
	gaùive_mask_t
 & 
g‘_aùive_mask
(ècÚ¡ {  
	gm_w¬p
->get_active_mask(); }

1152 
g‘_¥_İ
(ècÚ¡ {  
	gm_w¬p
->
	g¥_İ
; }

1153 
g‘_id
(ècÚ¡ {  
	gm_cuid
; }

1156 
š™
(
n
,

1157 
num_bªks
,

1158 
log2_w¬p_size
,

1159 cÚ¡ 
cÜe_cÚfig
 *
cÚfig
,

1160 
İndcŞl_rfu_t
 *
rfu
 );

1161 
boŞ
 
®loÿ‹
Ğ
»gi¡”_£t
* 
p–še_»g
,„egi¡”_£t* 
ouut_»g
 );

1163 
cŞËù_İ”ªd
Ğ
İ
 )

1165 
	gm_nÙ_»ady
.
»£t
(
İ
);

1167 
g‘_num_İ”ªds
() const{

1168  
	gm_w¬p
->
g‘_num_İ”ªds
();

1170 
g‘_num_»gs
() const{

1171  
	gm_w¬p
->
g‘_num_»gs
();

1173 
di¥©ch
();

1174 
boŞ
 
is_ä“
(){ 
	gm_ä“
;}

1176 
	g´iv©e
:

1177 
boŞ
 
m_ä“
;

1178 
	gm_cuid
;

1179 
	gm_w¬p_id
;

1180 
w¬p_š¡_t
 *
	gm_w¬p
;

1181 
»gi¡”_£t
* 
	gm_ouut_»gi¡”
;

1182 
İ_t
 *
	gm_¤c_İ
;

1183 
	g¡d
::
b™£t
<
MAX_REG_OPERANDS
*2> 
m_nÙ_»ady
;

1184 
	gm_num_bªks
;

1185 
	gm_bªk_w¬p_shiá
;

1186 
İndcŞl_rfu_t
 *
	gm_rfu
;

1190 şas 
	cdi¥©ch_un™_t
 {

1191 
	gpublic
:

1192 
di¥©ch_un™_t
(
¡d
::
veùÜ
<
cŞËùÜ_un™_t
>* 
cus
)

1194 
m_Ï¡_cu
=0;

1195 
	gm_cŞËùÜ_un™s
=
cus
;

1196 
	gm_num_cŞËùÜs
 = (*
cus
).
size
();

1197 
	gm_Ãxt_cu
=0;

1200 
cŞËùÜ_un™_t
 *
fšd_»ady
()

1202  
	gn
=0;‚ < 
	gm_num_cŞËùÜs
;‚++ ) {

1203 
	gc
=(
m_Ï¡_cu
+
n
+1)%
m_num_cŞËùÜs
;

1204 ifĞ(*
	gm_cŞËùÜ_un™s
)[
c
].
»ady
() ) {

1205 
	gm_Ï¡_cu
=
c
;

1206  &((*
	gm_cŞËùÜ_un™s
)[
c
]);

1209  
	gNULL
;

1212 
	g´iv©e
:

1213 
m_num_cŞËùÜs
;

1214 
	g¡d
::
veùÜ
<
cŞËùÜ_un™_t
>* 
m_cŞËùÜ_un™s
;

1215 
	gm_Ï¡_cu
;

1216 
	gm_Ãxt_cu
;

1220 
boŞ
 
	gm_š™Ÿlized
;

1222 
	gm_num_cŞËùÜ_£ts
;

1224 
	gm_num_bªks
;

1225 
	gm_bªk_w¬p_shiá
;

1226 
	gm_w¬p_size
;

1227 
	g¡d
::
veùÜ
<
cŞËùÜ_un™_t
 *> 
m_cu
;

1228 
¬b™”_t
 
	gm_¬b™”
;

1236 
	g¡d
::
veùÜ
<
šput_pÜt_t
> 
m_š_pÜts
;

1237 
	g¡d
::
	tm­
<, 
	t¡d
::
	tveùÜ
<
	tcŞËùÜ_un™_t
> > 
	tcu_£ts_t
;

1238 
cu_£ts_t
 
	gm_cus
;

1239 
	g¡d
::
veùÜ
<
di¥©ch_un™_t
> 
m_di¥©ch_un™s
;

1244 
shad”_cÜe_ùx
 *
	gm_shad”
;

1247 şas 
	cb¬r›r_£t_t
 {

1248 
	mpublic
:

1249 
b¬r›r_£t_t
Ğ
max_w¬ps_³r_cÜe
, 
max_ùa_³r_cÜe
 );

1252 
®loÿ‹_b¬r›r
Ğ
ùa_id
, 
w¬p_£t_t
 
w¬ps
 );

1255 
d—Îoÿ‹_b¬r›r
Ğ
ùa_id
 );

1257 
	m¡d
::
	tm­
<, 
	tw¬p_£t_t
 > 
	tùa_to_w¬p_t
;

1260 
w¬p_»aches_b¬r›r
Ğ
ùa_id
, 
w¬p_id
 );

1263 
boŞ
 
	$avaabË_fÜ_ãtch
Ğ
w¬p_id
 ) const;

1266 
	`w¬p_ex™
Ğ
w¬p_id
 );

1269 
boŞ
 
	$w¬p_wa™šg_©_b¬r›r
Ğ
w¬p_id
 ) const;

1272 
	$dump
() const;

1274 
´iv©e
:

1275 
m_max_ùa_³r_cÜe
;

1276 
m_max_w¬ps_³r_cÜe
;

1278 
ùa_to_w¬p_t
 
m_ùa_to_w¬ps
;

1279 
w¬p_£t_t
 
m_w¬p_aùive
;

1280 
w¬p_£t_t
 
m_w¬p_©_b¬r›r
;

1283 
	sš¢_Ï‹ncy_šfo
 {

1284 
pc
;

1285 
Ï‹ncy
;

1288 
	siãtch_bufãr_t
 {

1289 
	`iãtch_bufãr_t
(è{ 
m_v®id
=
çl£
; }

1291 
	`iãtch_bufãr_t
Ğ
add»ss_ty³
 
pc
, 
nby‹s
, 
w¬p_id
 )

1293 
m_v®id
=
Œue
;

1294 
m_pc
=
pc
;

1295 
m_nby‹s
=
nby‹s
;

1296 
m_w¬p_id
=
w¬p_id
;

1299 
boŞ
 
m_v®id
;

1300 
add»ss_ty³
 
m_pc
;

1301 
m_nby‹s
;

1302 
m_w¬p_id
;

1305 
şass
 
shad”_cÜe_cÚfig
;

1307 şas 
	csimd_funùiÚ_un™
 {

1308 
public
:

1309 
	`simd_funùiÚ_un™
ĞcÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
 );

1310 ~
	$simd_funùiÚ_un™
(è{ 
d–‘e
 
m_di¥©ch_»g
; }

1313 
vœtu®
 
	$issue
Ğ
»gi¡”_£t
& 
sourû_»g
 ) { sourû_»g.
	`move_out_to
(
m_di¥©ch_»g
); 
occup›d
.
	`£t
(m_di¥©ch_»g->
Ï‹ncy
);
	}
}

1314 
vœtu®
 
cyşe
() = 0;

1315 
vœtu®
 
aùive_ÏÃs_š_p–še
() = 0;

1318 
vœtu®
 
	$şock_muÉl›r
(ècÚ¡ {  1; 
	}
}

1319 
vœtu®
 
boŞ
 
	$ÿn_issue
ĞcÚ¡ 
w¬p_š¡_t
 &
š¡
 ) cÚ¡ {  
m_di¥©ch_»g
->
	`em±y
(è&& !
occup›d
.
	`‹¡
(š¡.
Ï‹ncy
); 
	}
}

1320 
vœtu®
 
boŞ
 
	$¡®ÏbË
() const = 0;

1321 
vœtu®
 
	$´št
Ğ
FILE
 *
å
 ) const

1323 
	`årštf
(
å
,"% di¥©chğ", 
m_Çme
.
	`c_¡r
() );

1324 
m_di¥©ch_»g
->
	`´št
(
å
);

1325 
	}
}

1326 
	g´Ùeùed
:

1327 
¡d
::
¡ršg
 
m_Çme
;

1328 cÚ¡ 
shad”_cÜe_cÚfig
 *
	gm_cÚfig
;

1329 
w¬p_š¡_t
 *
	gm_di¥©ch_»g
;

1330 cÚ¡ 
	gMAX_ALU_LATENCY
 = 512;

1331 
	g¡d
::
b™£t
<
MAX_ALU_LATENCY
> 
occup›d
;

1334 şas 
	cp–šed_simd_un™
 : 
public
 
simd_funùiÚ_un™
 {

1335 
public
:

1336 
p–šed_simd_un™
Ğ
»gi¡”_£t
* 
»suÉ_pÜt
, cÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
, 
max_Ï‹ncy
, 
shad”_cÜe_ùx
 *
cÜe
 );

1339 
vœtu®
 
	$cyşe
()

1341 ifĞ!
m_p–še_»g
[0]->
	`em±y
() ){

1342 
m_»suÉ_pÜt
->
	`move_š
(
m_p–še_»g
[0]);

1344  
¡age
=0; (¡age+1)<
m_p–še_d•th
; stage++ )

1345 
	`move_w¬p
(
m_p–še_»g
[
¡age
], m_pipeline_reg[stage+1]);

1346 ifĞ!
m_di¥©ch_»g
->
	`em±y
() ) {

1347 ifĞ!
m_di¥©ch_»g
->
	`di¥©ch_d–ay
()) {

1348 
¡¬t_¡age
 = 
m_di¥©ch_»g
->
Ï‹ncy
 - m_di¥©ch_»g->
š™ŸtiÚ_š‹rv®
;

1349 
	`move_w¬p
(
m_p–še_»g
[
¡¬t_¡age
],
m_di¥©ch_»g
);

1352 
occup›d
 >>=1;

1354 
vœtu®
 
	`issue
Ğ
»gi¡”_£t
& 
sourû_»g
 );

1355 
vœtu®
 
	$g‘_aùive_ÏÃs_š_p–še
()

1357 
aùive_mask_t
 
aùive_ÏÃs
;

1358 
aùive_ÏÃs
.
	`»£t
();

1359  
¡age
=0; (¡age+1)<
m_p–še_d•th
; stage++ ){

1360 ifĞ!
m_p–še_»g
[
¡age
]->
	`em±y
() )

1361 
aùive_ÏÃs
|=
m_p–še_»g
[
¡age
]->
	`g‘_aùive_mask
();

1363  
aùive_ÏÃs
.
	`couÁ
();

1364 
	}
}

1365 
vœtu®
 
aùive_ÏÃs_š_p–še
() = 0;

1375 
vœtu®
 
boŞ
 
	$¡®ÏbË
(ècÚ¡ {  
çl£
; 
	}
}

1376 
vœtu®
 
boŞ
 
	$ÿn_issue
ĞcÚ¡ 
w¬p_š¡_t
 &
š¡
 ) const

1378  
simd_funùiÚ_un™
::
	`ÿn_issue
(
š¡
);

1379 
	}
}

1380 
vœtu®
 
	$´št
(
FILE
 *
å
) const

1382 
simd_funùiÚ_un™
::
	`´št
(
å
);

1383  
s
=
m_p–še_d•th
-1; s>=0; s-- ) {

1384 ifĞ!
m_p–še_»g
[
s
]->
	`em±y
() ) {

1385 
	`årštf
(
å
," %s[%2d] ", 
m_Çme
.
	`c_¡r
(), 
s
 );

1386 
m_p–še_»g
[
s
]->
	`´št
(
å
);

1389 
	}
}

1390 
	g´Ùeùed
:

1391 
m_p–še_d•th
;

1392 
w¬p_š¡_t
 **
	gm_p–še_»g
;

1393 
»gi¡”_£t
 *
	gm_»suÉ_pÜt
;

1394 
şass
 
shad”_cÜe_ùx
 *
	gm_cÜe
;

1397 şas 
	csfu
 : 
public
 
p–šed_simd_un™


1399 
public
:

1400 
sfu
Ğ
»gi¡”_£t
* 
»suÉ_pÜt
, cÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
, 
shad”_cÜe_ùx
 *
cÜe
 );

1401 
vœtu®
 
boŞ
 
	$ÿn_issue
ĞcÚ¡ 
w¬p_š¡_t
 &
š¡
 ) const

1403 
š¡
.
İ
) {

1404 
SFU_OP
: ;

1405 
ALU_SFU_OP
: ;

1406 :  
çl£
;

1408  
p–šed_simd_un™
::
	`ÿn_issue
(
š¡
);

1410 
vœtu®
 
	`aùive_ÏÃs_š_p–še
();

1411 
vœtu®
 
	`issue
Ğ
»gi¡”_£t
& 
sourû_»g
 );

1412 
	}
};

1414 şas 
	c¥_un™
 : 
public
 
p–šed_simd_un™


1416 
public
:

1417 
¥_un™
Ğ
»gi¡”_£t
* 
»suÉ_pÜt
, cÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
, 
shad”_cÜe_ùx
 *
cÜe
 );

1418 
vœtu®
 
boŞ
 
	$ÿn_issue
ĞcÚ¡ 
w¬p_š¡_t
 &
š¡
 ) const

1420 
š¡
.
İ
) {

1421 
SFU_OP
:  
çl£
;

1422 
LOAD_OP
:  
çl£
;

1423 
STORE_OP
:  
çl£
;

1424 
MEMORY_BARRIER_OP
:  
çl£
;

1427  
p–šed_simd_un™
::
	`ÿn_issue
(
š¡
);

1429 
vœtu®
 
	`aùive_ÏÃs_š_p–še
();

1430 
vœtu®
 
	`issue
Ğ
»gi¡”_£t
& 
sourû_»g
 );

1431 
	}
};

1433 
şass
 
	gsimt_cÜe_şu¡”
;

1434 
şass
 
	gshad”_memÜy_š‹rçû
;

1435 
şass
 
	gshad”_cÜe_mem_ãtch_®loÿtÜ
;

1436 
şass
 
	gÿche_t
;

1438 şas 
	cld¡_un™
: 
public
 
p–šed_simd_un™
 {

1439 
public
:

1440 
ld¡_un™
Ğ
mem_ãtch_š‹rçû
 *
iút
,

1441 
shad”_cÜe_mem_ãtch_®loÿtÜ
 *
mf_®loÿtÜ
,

1442 
shad”_cÜe_ùx
 *
cÜe
,

1443 
İndcŞl_rfu_t
 *
İ”ªd_cŞËùÜ
,

1444 
ScÜebßrd
 *
scÜebßrd
,

1445 cÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
,

1446 cÚ¡ 
memÜy_cÚfig
 *
mem_cÚfig
,

1447 
şass
 
shad”_cÜe_¡©s
 *
¡©s
,

1448 
sid
, 
c
 );

1451 
vœtu®
 
issue
Ğ
»gi¡”_£t
 &
š¡
 );

1452 
vœtu®
 
cyşe
();

1454 
fl
Ğ
mem_ãtch
 *
mf
 );

1455 
æush
();

1456 
wr™eback
();

1459 
vœtu®
 
	$şock_muÉl›r
() const;

1461 
vœtu®
 
boŞ
 
	$ÿn_issue
ĞcÚ¡ 
w¬p_š¡_t
 &
š¡
 ) const

1463 
š¡
.
İ
) {

1464 
LOAD_OP
: ;

1465 
STORE_OP
: ;

1466 
MEMORY_BARRIER_OP
: ;

1467 :  
çl£
;

1469  
m_di¥©ch_»g
->
	`em±y
();

1472 
vœtu®
 
	`aùive_ÏÃs_š_p–še
();

1473 
vœtu®
 
boŞ
 
	$¡®ÏbË
(ècÚ¡ {  
Œue
; 
	}
}

1474 
boŞ
 
	$»¥Ú£_bufãr_fuÎ
() const;

1475 
	$´št
(
FILE
 *
fout
) const;

1476 
	`´št_ÿche_¡©s
Ğ
FILE
 *
å
, & 
dl1_acûs£s
, & 
dl1_mis£s
 );

1477 
	`g‘_ÿche_¡©s
(&
»ad_acûs£s
, &
wr™e_acûs£s
, &
»ad_mis£s
, &
wr™e_mis£s
, 
ÿche_ty³
);

1478 
	`g‘_ÿche_¡©s
(
ÿche_¡©s
 &
cs
);

1480 
	$g‘_L1D_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const;

1481 
	$g‘_L1C_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const;

1482 
	$g‘_L1T_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const;

1484 
´Ùeùed
:

1485 
	`ld¡_un™
Ğ
mem_ãtch_š‹rçû
 *
iút
,

1486 
shad”_cÜe_mem_ãtch_®loÿtÜ
 *
mf_®loÿtÜ
,

1487 
shad”_cÜe_ùx
 *
cÜe
,

1488 
İndcŞl_rfu_t
 *
İ”ªd_cŞËùÜ
,

1489 
ScÜebßrd
 *
scÜebßrd
,

1490 cÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
,

1491 cÚ¡ 
memÜy_cÚfig
 *
mem_cÚfig
,

1492 
shad”_cÜe_¡©s
 *
¡©s
,

1493 
sid
,

1494 
c
,

1495 
l1_ÿche
* 
Ãw_l1d_ÿche
 );

1496 
	`š™
Ğ
mem_ãtch_š‹rçû
 *
iút
,

1497 
shad”_cÜe_mem_ãtch_®loÿtÜ
 *
mf_®loÿtÜ
,

1498 
shad”_cÜe_ùx
 *
cÜe
,

1499 
İndcŞl_rfu_t
 *
İ”ªd_cŞËùÜ
,

1500 
ScÜebßrd
 *
scÜebßrd
,

1501 cÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
,

1502 cÚ¡ 
memÜy_cÚfig
 *
mem_cÚfig
,

1503 
shad”_cÜe_¡©s
 *
¡©s
,

1504 
sid
,

1505 
c
 );

1507 
´Ùeùed
:

1508 
boŞ
 
	`sh¬ed_cyşe
Ğ
w¬p_š¡_t
 &
š¡
, 
mem_¡age_¡®l_ty³
 &
rc_ç
, 
mem_¡age_acûss_ty³
 &
ç_ty³
);

1509 
boŞ
 
	`cÚ¡ªt_cyşe
Ğ
w¬p_š¡_t
 &
š¡
, 
mem_¡age_¡®l_ty³
 &
rc_ç
, 
mem_¡age_acûss_ty³
 &
ç_ty³
);

1510 
boŞ
 
	`‹xtu»_cyşe
Ğ
w¬p_š¡_t
 &
š¡
, 
mem_¡age_¡®l_ty³
 &
rc_ç
, 
mem_¡age_acûss_ty³
 &
ç_ty³
);

1511 
boŞ
 
	`memÜy_cyşe
Ğ
w¬p_š¡_t
 &
š¡
, 
mem_¡age_¡®l_ty³
 &
rc_ç
, 
mem_¡age_acûss_ty³
 &
ç_ty³
);

1513 
vœtu®
 
mem_¡age_¡®l_ty³
 
	`´oûss_ÿche_acûss
Ğ
ÿche_t
* 
ÿche
,

1514 
Ãw_addr_ty³
 
add»ss
,

1515 
w¬p_š¡_t
 &
š¡
,

1516 
¡d
::
li¡
<
ÿche_ev’t
>& 
ev’ts
,

1517 
mem_ãtch
 *
mf
,

1518 
ÿche_»que¡_¡©us
 
¡©us
 );

1519 
mem_¡age_¡®l_ty³
 
	`´oûss_memÜy_acûss_queue
Ğ
ÿche_t
 *
ÿche
, 
w¬p_š¡_t
 &
š¡
 );

1521 cÚ¡ 
memÜy_cÚfig
 *
m_memÜy_cÚfig
;

1522 
şass
 
mem_ãtch_š‹rçû
 *
m_iút
;

1523 
shad”_cÜe_mem_ãtch_®loÿtÜ
 *
m_mf_®loÿtÜ
;

1524 
şass
 
shad”_cÜe_ùx
 *
m_cÜe
;

1525 
m_sid
;

1526 
m_c
;

1528 
‹x_ÿche
 *
m_L1T
;

1529 
»ad_Úly_ÿche
 *
m_L1C
;

1530 
l1_ÿche
 *
m_L1D
;

1531 
¡d
::
m­
<, std::m­<,> > 
m_³ndšg_wr™es
;

1532 
¡d
::
li¡
<
mem_ãtch
*> 
m_»¥Ú£_fifo
;

1533 
İndcŞl_rfu_t
 *
m_İ”ªd_cŞËùÜ
;

1534 
ScÜebßrd
 *
m_scÜebßrd
;

1536 
mem_ãtch
 *
m_Ãxt_glob®
;

1537 
w¬p_š¡_t
 
m_Ãxt_wb
;

1538 
m_wr™eback_¬b
;

1539 
m_num_wr™eback_ş›Ás
;

1541 
mem_¡age_¡®l_ty³
 
m_mem_rc
;

1543 
shad”_cÜe_¡©s
 *
m_¡©s
;

1546 
m_Ï¡_š¡_gpu_sim_cyşe
;

1547 
m_Ï¡_š¡_gpu_tÙ_sim_cyşe
;

1548 
	}
};

1550 
	ep–še_¡age_Çme_t
 {

1551 
	mID_OC_SP
=0,

1552 
	mID_OC_SFU
,

1553 
	mID_OC_MEM
,

1554 
	mOC_EX_SP
,

1555 
	mOC_EX_SFU
,

1556 
	mOC_EX_MEM
,

1557 
	mEX_WB
,

1558 
	mN_PIPELINE_STAGES


1561 cÚ¡ * cÚ¡ 
	gp–še_¡age_Çme_decode
[] = {

1572 
	gshad”_cÜe_cÚfig
 : 
public
 
cÜe_cÚfig


1574 
shad”_cÜe_cÚfig
(){

1575 
p–še_widths_¡ršg
 = 
NULL
;

1578 
š™
()

1580 
	gÁok
 = 
ssÿnf
(
gpgpu_shad”_cÜe_p–še_İt
,"%d:%d",

1581 &
n_th»ad_³r_shad”
,

1582 &
w¬p_size
);

1583 if(
	gÁok
 != 2) {

1584 
´štf
("GPGPU-Sim uArch:ƒrror while…arsing configuration string gpgpu_shader_core_pipeline_opt\n");

1585 
abÜt
();

1588 * 
	gtoks
 = 
Ãw
 [100];

1589 * 
	gtokd
 = 
toks
;

1590 
¡rıy
(
toks
,
p–še_widths_¡ršg
);

1592 
	gtoks
 = 
¡¹ok
(
toks
,",");

1593 
	gi
 = 0; i < 
	gN_PIPELINE_STAGES
; i++) {

1594 
as£¹
(
toks
);

1595 
	gÁok
 = 
ssÿnf
(
toks
,"%d", &
pe_widths
[
i
]);

1596 
as£¹
(
Áok
 == 1);

1597 
	gtoks
 = 
¡¹ok
(
NULL
,",");

1599 
	gd–‘e
[] 
	gtokd
;

1601 ià(
	gn_th»ad_³r_shad”
 > 
	gMAX_THREAD_PER_SM
) {

1602 
´štf
("GPGPU-Sim uArch: Error ** increase MAX_THREAD_PER_SM in‡bstract_hardware_model.h from %uo %u\n",

1603 
MAX_THREAD_PER_SM
, 
n_th»ad_³r_shad”
);

1604 
abÜt
();

1606 
	gmax_w¬ps_³r_shad”
 = 
n_th»ad_³r_shad”
/
w¬p_size
;

1607 
as£¹
Ğ!(
n_th»ad_³r_shad”
 % 
w¬p_size
) );

1608 
	gmax_sfu_Ï‹ncy
 = 512;

1609 
	gmax_¥_Ï‹ncy
 = 32;

1610 
	gm_L1I_cÚfig
.
š™
(
m_L1I_cÚfig
.
m_cÚfig_¡ršg
,
FuncCacheP»ãrNÚe
);

1611 
	gm_L1T_cÚfig
.
š™
(
m_L1T_cÚfig
.
m_cÚfig_¡ršg
,
FuncCacheP»ãrNÚe
);

1612 
	gm_L1C_cÚfig
.
š™
(
m_L1C_cÚfig
.
m_cÚfig_¡ršg
,
FuncCacheP»ãrNÚe
);

1613 
	gm_L1D_cÚfig
.
š™
(
m_L1D_cÚfig
.
m_cÚfig_¡ršg
,
FuncCacheP»ãrNÚe
);

1614 
	ggpgpu_ÿche_‹xl1_lšesize
 = 
m_L1T_cÚfig
.
g‘_lše_sz
();

1615 
	ggpgpu_ÿche_cÚ¡l1_lšesize
 = 
m_L1C_cÚfig
.
g‘_lše_sz
();

1616 
	gm_v®id
 = 
Œue
;

1618 
»g_İtiÚs
(
şass
 
O±iÚP¬£r
 * 
İp
 );

1619 
max_ùa
ĞcÚ¡ 
k”Ãl_šfo_t
 &
k
 ) const;

1620 
num_shad”
(ècÚ¡ {  
n_simt_şu¡”s
*
	gn_simt_cÜes_³r_şu¡”
; }

1621 
sid_to_şu¡”
Ğ
sid
 ) cÚ¡ {  
	gsid
 / 
	gn_simt_cÜes_³r_şu¡”
; }

1622 
sid_to_cid
Ğ
sid
 ) cÚ¡ {  
	gsid
 % 
	gn_simt_cÜes_³r_şu¡”
; }

1623 
cid_to_sid
Ğ
cid
, 
şu¡”_id
 ) cÚ¡ {  clu¡”_id*
	gn_simt_cÜes_³r_şu¡”
 + 
	gcid
; }

1626 *
	ggpgpu_shad”_cÜe_p–še_İt
;

1627 
boŞ
 
	ggpgpu_³rãù_mem
;

1628 
boŞ
 
	ggpgpu_şock_g©ed_»g_fe
;

1629 
boŞ
 
	ggpgpu_şock_g©ed_ÏÃs
;

1630 
div”g’û_suµÜt_t
 
	gmod–
;

1631 
	gn_th»ad_³r_shad”
;

1632 
	gn_»gfe_g©šg_group
;

1633 
	gmax_w¬ps_³r_shad”
;

1634 
	gmax_ùa_³r_cÜe
;

1636 * 
	ggpgpu_scheduËr_¡ršg
;

1638 * 
	gp–še_widths_¡ršg
;

1639 
	gpe_widths
[
N_PIPELINE_STAGES
];

1641 
mubË
 
ÿche_cÚfig
 
	gm_L1I_cÚfig
;

1642 
mubË
 
ÿche_cÚfig
 
	gm_L1T_cÚfig
;

1643 
mubË
 
ÿche_cÚfig
 
	gm_L1C_cÚfig
;

1644 
mubË
 
ÿche_cÚfig
 
	gm_L1D_cÚfig
;

1646 
boŞ
 
	ggmem_sk_L1D
;

1648 
boŞ
 
	ggpgpu_dwf_»g_bªkcÚæiù
;

1650 
	ggpgpu_num_sched_³r_cÜe
;

1651 
	ggpgpu_max_š¢_issue_³r_w¬p
;

1654 
	ggpgpu_İ”ªd_cŞËùÜ_num_un™s_¥
;

1655 
	ggpgpu_İ”ªd_cŞËùÜ_num_un™s_sfu
;

1656 
	ggpgpu_İ”ªd_cŞËùÜ_num_un™s_mem
;

1657 
	ggpgpu_İ”ªd_cŞËùÜ_num_un™s_g’
;

1659 
	ggpgpu_İ”ªd_cŞËùÜ_num_š_pÜts_¥
;

1660 
	ggpgpu_İ”ªd_cŞËùÜ_num_š_pÜts_sfu
;

1661 
	ggpgpu_İ”ªd_cŞËùÜ_num_š_pÜts_mem
;

1662 
	ggpgpu_İ”ªd_cŞËùÜ_num_š_pÜts_g’
;

1664 
	ggpgpu_İ”ªd_cŞËùÜ_num_out_pÜts_¥
;

1665 
	ggpgpu_İ”ªd_cŞËùÜ_num_out_pÜts_sfu
;

1666 
	ggpgpu_İ”ªd_cŞËùÜ_num_out_pÜts_mem
;

1667 
	ggpgpu_İ”ªd_cŞËùÜ_num_out_pÜts_g’
;

1669 
	ggpgpu_num_¥_un™s
;

1670 
	ggpgpu_num_sfu_un™s
;

1671 
	ggpgpu_num_mem_un™s
;

1674 
	ggpgpu_shad”_»gi¡”s
;

1675 
	ggpgpu_w¬pdi¡ro_shad”
;

1676 
	ggpgpu_w¬p_issue_shad”
;

1677 
	ggpgpu_num_»g_bªks
;

1678 
boŞ
 
	ggpgpu_»g_bªk_u£_w¬p_id
;

1679 
boŞ
 
	ggpgpu_loÿl_mem_m­
;

1681 
	gmax_¥_Ï‹ncy
;

1682 
	gmax_sfu_Ï‹ncy
;

1684 
	gn_simt_cÜes_³r_şu¡”
;

1685 
	gn_simt_şu¡”s
;

1686 
	gn_simt_ejeùiÚ_bufãr_size
;

1687 
	gld¡_un™_»¥Ú£_queue_size
;

1689 
	gsimt_cÜe_sim_Üd”
;

1691 
mem2deviû
(
memid
ècÚ¡ {  
	gmemid
 + 
	gn_simt_şu¡”s
; }

1694 
	sshad”_cÜe_¡©s_pod
 {

1696 * 
	mshad”_cÜe_¡©s_pod_¡¬t
[];

1697 *
	mshad”_cyşes
;

1698 *
	mm_num_sim_š¢
;

1699 *
	mm_num_sim_wš¢
;

1700 *
	mm_Ï¡_num_sim_š¢
;

1701 *
	mm_Ï¡_num_sim_wš¢
;

1702 *
	mm_num_decoded_š¢
;

1703 *
	mm_p–še_duty_cyşe
;

1704 *
	mm_num_FPdecoded_š¢
;

1705 *
	mm_num_INTdecoded_š¢
;

1706 *
	mm_num_¡Üequeued_š¢
;

1707 *
	mm_num_lßdqueued_š¢
;

1708 *
	mm_num_Ÿlu_aûs£s
;

1709 *
	mm_num_å_aûs£s
;

1710 *
	mm_num_imul_aûs£s
;

1711 *
	mm_num_‹x_š¡
;

1712 *
	mm_num_åmul_aûs£s
;

1713 *
	mm_num_idiv_aûs£s
;

1714 *
	mm_num_ådiv_aûs£s
;

1715 *
	mm_num_¥_aûs£s
;

1716 *
	mm_num_sfu_aûs£s
;

1717 *
	mm_num_Œªs_aûs£s
;

1718 *
	mm_num_mem_aûs£s
;

1719 *
	mm_num_¥_comm™‹d
;

1720 *
	mm_num_b_h™s
;

1721 *
	mm_num_b_acûs£s
;

1722 *
	mm_num_sfu_comm™‹d
;

1723 *
	mm_num_mem_comm™‹d
;

1724 *
	mm_»ad_»gfe_aûs£s
;

1725 *
	mm_wr™e_»gfe_aûs£s
;

1726 *
	mm_nÚ_rf_İ”ªds
;

1727 *
	mm_num_imul24_aûs£s
;

1728 *
	mm_num_imul32_aûs£s
;

1729 *
	mm_aùive_¥_ÏÃs
;

1730 *
	mm_aùive_sfu_ÏÃs
;

1731 *
	mm_aùive_fu_ÏÃs
;

1732 *
	mm_aùive_fu_mem_ÏÃs
;

1733 *
	mm_n_div”ge
;

1734 
	mgpgpu_n_lßd_š¢
;

1735 
	mgpgpu_n_¡Üe_š¢
;

1736 
	mgpgpu_n_shmem_š¢
;

1737 
	mgpgpu_n_‹x_š¢
;

1738 
	mgpgpu_n_cÚ¡_š¢
;

1739 
	mgpgpu_n_·¿m_š¢
;

1740 
	mgpgpu_n_shmem_bkcÚæiù
;

1741 
	mgpgpu_n_ÿche_bkcÚæiù
;

1742 
	mgpgpu_n_šŒaw¬p_mshr_m”ge
;

1743 
	mgpgpu_n_cmem_pÜtcÚæiù
;

1744 
	mgpu_¡®l_shd_mem_b»akdown
[
N_MEM_STAGE_ACCESS_TYPE
][
N_MEM_STAGE_STALL_TYPE
];

1745 
	mgpu_»g_bªk_cÚæiù_¡®ls
;

1746 *
	mshad”_cyşe_di¡ro
;

1747 *
	mÏ¡_shad”_cyşe_di¡ro
;

1748 *
	mnum_w¬ps_issuabË
;

1749 
	mgpgpu_n_¡®l_shd_mem
;

1752 
	mgpgpu_n_mem_»ad_loÿl
;

1753 
	mgpgpu_n_mem_wr™e_loÿl
;

1754 
	mgpgpu_n_mem_‹xtu»
;

1755 
	mgpgpu_n_mem_cÚ¡
;

1756 
	mgpgpu_n_mem_»ad_glob®
;

1757 
	mgpgpu_n_mem_wr™e_glob®
;

1758 
	mgpgpu_n_mem_»ad_š¡
;

1760 
	mgpgpu_n_mem_l2_wr™eback
;

1761 
	mgpgpu_n_mem_l1_wr™e_®loÿ‹
;

1762 
	mgpgpu_n_mem_l2_wr™e_®loÿ‹
;

1764 
	mmade_wr™e_mfs
;

1765 
	mmade_»ad_mfs
;

1767 *
	mgpgpu_n_shmem_bªk_acûss
;

1768 *
	mn_simt_to_mem
;

1769 *
	mn_mem_to_simt
;

1772 şas 
	cshad”_cÜe_¡©s
 : 
public
 
shad”_cÜe_¡©s_pod
 {

1773 
public
:

1774 
	$shad”_cÜe_¡©s
ĞcÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
 )

1776 
m_cÚfig
 = 
cÚfig
;

1777 
shad”_cÜe_¡©s_pod
 *
pod
 = 
»š‹½»t_ÿ¡
< shad”_cÜe_¡©s_pod * > ( 
this
->
shad”_cÜe_¡©s_pod_¡¬t
 );

1778 
	`mem£t
(
pod
,0,(
shad”_cÜe_¡©s_pod
));

1779 
shad”_cyşes
=(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1780 
m_num_sim_š¢
 = (*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1781 
m_num_sim_wš¢
 = (*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1782 
m_Ï¡_num_sim_wš¢
 = (*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1783 
m_Ï¡_num_sim_š¢
 = (*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1784 
m_p–še_duty_cyşe
=(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1785 
m_num_decoded_š¢
 = (*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1786 
m_num_FPdecoded_š¢
 = (*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1787 
m_num_¡Üequeued_š¢
=(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1788 
m_num_lßdqueued_š¢
=(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1789 
m_num_INTdecoded_š¢
 = (*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1790 
m_num_Ÿlu_aûs£s
 = (*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1791 
m_num_å_aûs£s
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1792 
m_num_‹x_š¡
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1793 
m_num_imul_aûs£s
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1794 
m_num_imul24_aûs£s
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1795 
m_num_imul32_aûs£s
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1796 
m_num_åmul_aûs£s
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1797 
m_num_idiv_aûs£s
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1798 
m_num_ådiv_aûs£s
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1799 
m_num_¥_aûs£s
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1800 
m_num_sfu_aûs£s
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1801 
m_num_Œªs_aûs£s
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1802 
m_num_mem_aûs£s
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1803 
m_num_¥_comm™‹d
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1804 
m_num_b_h™s
=(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1805 
m_num_b_acûs£s
=(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1806 
m_aùive_¥_ÏÃs
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1807 
m_aùive_sfu_ÏÃs
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1808 
m_aùive_fu_ÏÃs
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1809 
m_aùive_fu_mem_ÏÃs
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1810 
m_num_sfu_comm™‹d
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1811 
m_num_mem_comm™‹d
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1812 
m_»ad_»gfe_aûs£s
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1813 
m_wr™e_»gfe_aûs£s
ğ(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1814 
m_nÚ_rf_İ”ªds
=(*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1815 
m_n_div”ge
 = (*è
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(),());

1816 
shad”_cyşe_di¡ro
 = (*è
	`ÿÎoc
(
cÚfig
->
w¬p_size
+3, ());

1817 
Ï¡_shad”_cyşe_di¡ro
 = (*è
	`ÿÎoc
(
m_cÚfig
->
w¬p_size
+3, ());

1819 
n_simt_to_mem
 = (*)
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(), ());

1820 
n_mem_to_simt
 = (*)
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(), ());

1822 
m_outgošg_Œaffic_¡©s
 = 
Ãw
 
	`Œaffic_b»akdown
("coretomem");

1823 
m_šcomšg_Œaffic_¡©s
 = 
Ãw
 
	`Œaffic_b»akdown
("memtocore");

1825 
gpgpu_n_shmem_bªk_acûss
 = (*)
	`ÿÎoc
(
cÚfig
->
	`num_shad”
(), ());

1827 
m_shad”_dyÇmic_w¬p_issue_di¡ro
.
	`»size
Ğ
cÚfig
->
	`num_shad”
() );

1828 
m_shad”_w¬p_¦Ù_issue_di¡ro
.
	`»size
Ğ
cÚfig
->
	`num_shad”
() );

1831 ~
	$shad”_cÜe_¡©s
()

1833 
d–‘e
 
m_outgošg_Œaffic_¡©s
;

1834 
d–‘e
 
m_šcomšg_Œaffic_¡©s
;

1835 
	`ä“
(
m_num_sim_š¢
);

1836 
	`ä“
(
m_num_sim_wš¢
);

1837 
	`ä“
(
m_n_div”ge
);

1838 
	`ä“
(
shad”_cyşe_di¡ro
);

1839 
	`ä“
(
Ï¡_shad”_cyşe_di¡ro
);

1840 
	}
}

1842 
	$Ãw_grid
()

1844 
	}
}

1846 
ev’t_w¬p_issued
Ğ
s_id
, 
w¬p_id
, 
num_issued
, 
dyÇmic_w¬p_id
 );

1848 
visu®iz”_´št
Ğ
gzFe
 
visu®iz”_fe
 );

1850 
	$´št
Ğ
FILE
 *
fout
 ) const;

1852 cÚ¡ 
¡d
::
veùÜ
< std::veùÜ<> >& 
	$g‘_dyÇmic_w¬p_issue
() const

1854  
m_shad”_dyÇmic_w¬p_issue_di¡ro
;

1855 
	}
}

1857 cÚ¡ 
	g¡d
::
veùÜ
< 
¡d
::veùÜ<> >& 
	$g‘_w¬p_¦Ù_issue
() const

1859  
m_shad”_w¬p_¦Ù_issue_di¡ro
;

1860 
	}
}

1862 
	g´iv©e
:

1863 cÚ¡ 
shad”_cÜe_cÚfig
 *
m_cÚfig
;

1865 
Œaffic_b»akdown
 *
	gm_outgošg_Œaffic_¡©s
;

1866 
Œaffic_b»akdown
 *
	gm_šcomšg_Œaffic_¡©s
;

1869 
	g¡d
::
veùÜ
< 
¡d
::veùÜ<> > 
m_shad”_dyÇmic_w¬p_issue_di¡ro
;

1870 
	g¡d
::
veùÜ
<> 
m_Ï¡_shad”_dyÇmic_w¬p_issue_di¡ro
;

1871 
	g¡d
::
veùÜ
< 
¡d
::veùÜ<> > 
m_shad”_w¬p_¦Ù_issue_di¡ro
;

1872 
	g¡d
::
veùÜ
<> 
m_Ï¡_shad”_w¬p_¦Ù_issue_di¡ro
;

1874 
ä›nd
 
şass
 
	gpow”_¡©_t
;

1875 
ä›nd
 
şass
 
	gshad”_cÜe_ùx
;

1876 
ä›nd
 
şass
 
	gld¡_un™
;

1877 
ä›nd
 
şass
 
	gsimt_cÜe_şu¡”
;

1878 
ä›nd
 
şass
 
	gscheduËr_un™
;

1879 
ä›nd
 
şass
 
	gTwoLev–ScheduËr
;

1880 
ä›nd
 
şass
 
	gLoo£RoundRobbšScheduËr
;

1883 şas 
	cshad”_cÜe_mem_ãtch_®loÿtÜ
 : 
public
 
mem_ãtch_®loÿtÜ
 {

1884 
public
:

1885 
	$shad”_cÜe_mem_ãtch_®loÿtÜ
Ğ
cÜe_id
, 
şu¡”_id
, cÚ¡ 
memÜy_cÚfig
 *
cÚfig
 )

1887 
m_cÜe_id
 = 
cÜe_id
;

1888 
m_şu¡”_id
 = 
şu¡”_id
;

1889 
m_memÜy_cÚfig
 = 
cÚfig
;

1891 
mem_ãtch
 *
	$®loc
Ğ
Ãw_addr_ty³
 
addr
, 
mem_acûss_ty³
 
ty³
, 
size
, 
boŞ
 
wr
 ) const

1893 
mem_acûss_t
 
	`acûss
Ğ
ty³
, 
addr
, 
size
, 
wr
 );

1894 
mem_ãtch
 *
mf
 = 
Ãw
 
	`mem_ãtch
Ğ
acûss
,

1895 
NULL
,

1896 
wr
?
WRITE_PACKET_SIZE
:
READ_PACKET_SIZE
,

1898 
m_cÜe_id
,

1899 
m_şu¡”_id
,

1900 
m_memÜy_cÚfig
 );

1901  
mf
;

1902 
	}
}

1904 
mem_ãtch
 *
	$®loc
ĞcÚ¡ 
w¬p_š¡_t
 &
š¡
, cÚ¡ 
mem_acûss_t
 &
acûss
 ) const

1906 
w¬p_š¡_t
 
š¡_cİy
 = 
š¡
;

1907 
mem_ãtch
 *
mf
 = 
Ãw
 
	`mem_ãtch
(
acûss
,

1908 &
š¡_cİy
,

1909 
acûss
.
	`is_wr™e
()?
WRITE_PACKET_SIZE
:
READ_PACKET_SIZE
,

1910 
š¡
.
	`w¬p_id
(),

1911 
m_cÜe_id
,

1912 
m_şu¡”_id
,

1913 
m_memÜy_cÚfig
);

1914  
mf
;

1915 
	}
}

1917 
	g´iv©e
:

1918 
m_cÜe_id
;

1919 
	gm_şu¡”_id
;

1920 cÚ¡ 
memÜy_cÚfig
 *
	gm_memÜy_cÚfig
;

1923 şas 
	cshad”_cÜe_ùx
 : 
public
 
cÜe_t
 {

1924 
public
:

1926 
shad”_cÜe_ùx
Ğ
şass
 
gpgpu_sim
 *
gpu
,

1927 
şass
 
simt_cÜe_şu¡”
 *
şu¡”
,

1928 
shad”_id
,

1929 
c_id
,

1930 cÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
,

1931 cÚ¡ 
memÜy_cÚfig
 *
mem_cÚfig
,

1932 
shad”_cÜe_¡©s
 *
¡©s
 );

1936 
cyşe
();

1937 
»š™
(
¡¬t_th»ad
, 
’d_th»ad
, 
boŞ
 
»£t_nÙ_com¶‘ed
 );

1938 
issue_block2cÜe
Ğ
şass
 
k”Ãl_šfo_t
 &
k”Ãl
 );

1939 
ÿche_æush
();

1940 
acû±_ãtch_»¥Ú£
Ğ
mem_ãtch
 *
mf
 );

1941 
acû±_ld¡_un™_»¥Ú£
Ğ
şass
 
mem_ãtch
 * 
mf
 );

1942 
	$£t_k”Ãl
Ğ
k”Ãl_šfo_t
 *
k
 )

1944 
	`as£¹
(
k
);

1945 
m_k”Ãl
=
k
;

1946 
k
->
	`šc_ruÂšg
();

1947 
	`´štf
("GPGPU-Sim uArch: Shad” %d bšdØk”ÃÈ%u \'%s\'\n", 
m_sid
, 
m_k”Ãl
->
	`g‘_uid
(),

1948 
m_k”Ãl
->
	`Çme
().
	`c_¡r
() );

1952 
boŞ
 
	$ãtch_un™_»¥Ú£_bufãr_fuÎ
() const;

1953 
boŞ
 
	$ld¡_un™_»¥Ú£_bufãr_fuÎ
() const;

1954 
	$g‘_nÙ_com¶‘ed
(ècÚ¡ {  
m_nÙ_com¶‘ed
; 
	}
}

1955 
	$g‘_n_aùive_ùa
(ècÚ¡ {  
m_n_aùive_ùa
; 
	}
}

1956 
	$i§ùive
(ècÚ¡ {if(
m_n_aùive_ùa
>0è 1;  0;
	}
}

1957 
k”Ãl_šfo_t
 *
	$g‘_k”Ãl
(è{  
m_k”Ãl
; 
	}
}

1958 
	$g‘_sid
(ècÚ¡ { 
m_sid
;
	}
}

1962 
vœtu®
 
w¬p_ex™
Ğ
w¬p_id
 );

1965 
vœtu®
 
boŞ
 
	$w¬p_wa™šg_©_b¬r›r
Ğ
w¬p_id
 ) const;

1966 
	$g‘_pdom_¡ack_tİ_šfo
Ğ
tid
, *
pc
, *
½c
 ) const;

1970 
	`mem_š¡ruùiÚ_¡©s
(cÚ¡ 
w¬p_š¡_t
 &
š¡
);

1971 
	`deüem’t_©omic_couÁ
Ğ
wid
, 
n
 );

1972 
	$šc_¡Üe_»q
Ğ
w¬p_id
è{ 
m_w¬p
[w¬p_id].
	`šc_¡Üe_»q
(); 
	}
}

1973 
	$dec_š¡_š_p–še
Ğ
w¬p_id
 ) { 
m_w¬p
[w¬p_id].
	`dec_š¡_š_p–še
(); 
	}
}

1974 
¡Üe_ack
Ğ
şass
 
mem_ãtch
 *
mf
 );

1975 
boŞ
 
w¬p_wa™šg_©_mem_b¬r›r
Ğ
w¬p_id
 );

1976 
£t_max_ùa
ĞcÚ¡ 
k”Ãl_šfo_t
 &
k”Ãl
 );

1977 
w¬p_š¡_com¶‘e
(cÚ¡ 
w¬p_š¡_t
 &
š¡
);

1980 
	g¡d
::
li¡
<> 
	$g‘_»gs_wr™‹n
ĞcÚ¡ 
š¡_t
 &
fvt
 ) const;

1981 cÚ¡ 
shad”_cÜe_cÚfig
 *
	$g‘_cÚfig
(ècÚ¡ {  
m_cÚfig
; 
	}
}

1982 
´št_ÿche_¡©s
Ğ
FILE
 *
å
, & 
dl1_acûs£s
, & 
dl1_mis£s
 );

1984 
g‘_ÿche_¡©s
(
ÿche_¡©s
 &
cs
);

1985 
	$g‘_L1I_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const;

1986 
	$g‘_L1D_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const;

1987 
	$g‘_L1C_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const;

1988 
	$g‘_L1T_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const;

1990 
	$g‘_iút_pow”_¡©s
(&
n_simt_to_mem
, &
n_mem_to_simt
) const;

1993 
	$di¥Ïy_simt_¡©e
(
FILE
 *
fout
, 
mask
 ) const;

1994 
	$di¥Ïy_p–še
Ğ
FILE
 *
fout
, 
´št_mem
, 
mask3b™
 ) const;

1996 
	$šşßd_¡©
(è{
m_¡©s
->
m_num_lßdqueued_š¢
[
m_sid
]++;
	}
}

1997 
	$šc¡Üe_¡©
(è{
m_¡©s
->
m_num_¡Üequeued_š¢
[
m_sid
]++;
	}
}

1998 
	$šcŸlu_¡©
(
aùive_couÁ
,
Ï‹ncy
) {

1999 if(
m_cÚfig
->
gpgpu_şock_g©ed_ÏÃs
==
çl£
){

2000 
m_¡©s
->
m_num_Ÿlu_aûs£s
[
m_sid
]=m_¡©s->m_num_Ÿlu_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy


2001 + 
	`šaùive_ÏÃs_acûs£s_nÚsfu
(
aùive_couÁ
, 
Ï‹ncy
);

2003 
m_¡©s
->
m_num_Ÿlu_aûs£s
[
m_sid
]=m_¡©s->m_num_Ÿlu_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy
;

2005 
	}
}

2006 
	$šùex_¡©
(
aùive_couÁ
,
Ï‹ncy
){

2007 
m_¡©s
->
m_num_‹x_š¡
[
m_sid
]=m_¡©s->m_num_‹x_š¡[m_sid]+
aùive_couÁ
*
Ï‹ncy
;

2008 
	}
}

2009 
	$šcimul_¡©
(
aùive_couÁ
,
Ï‹ncy
) {

2010 if(
m_cÚfig
->
gpgpu_şock_g©ed_ÏÃs
==
çl£
){

2011 
m_¡©s
->
m_num_imul_aûs£s
[
m_sid
]=m_¡©s->m_num_imul_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy


2012 + 
	`šaùive_ÏÃs_acûs£s_nÚsfu
(
aùive_couÁ
, 
Ï‹ncy
);

2014 
m_¡©s
->
m_num_imul_aûs£s
[
m_sid
]=m_¡©s->m_num_imul_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy
;

2016 
	}
}

2017 
	$šcimul24_¡©
(
aùive_couÁ
,
Ï‹ncy
) {

2018 if(
m_cÚfig
->
gpgpu_şock_g©ed_ÏÃs
==
çl£
){

2019 
m_¡©s
->
m_num_imul24_aûs£s
[
m_sid
]=m_¡©s->m_num_imul24_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy


2020 + 
	`šaùive_ÏÃs_acûs£s_nÚsfu
(
aùive_couÁ
, 
Ï‹ncy
);

2022 
m_¡©s
->
m_num_imul24_aûs£s
[
m_sid
]=m_¡©s->m_num_imul24_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy
;

2024 
	}
}

2025 
	$šcimul32_¡©
(
aùive_couÁ
,
Ï‹ncy
) {

2026 if(
m_cÚfig
->
gpgpu_şock_g©ed_ÏÃs
==
çl£
){

2027 
m_¡©s
->
m_num_imul32_aûs£s
[
m_sid
]=m_¡©s->m_num_imul32_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy


2028 + 
	`šaùive_ÏÃs_acûs£s_sfu
(
aùive_couÁ
, 
Ï‹ncy
);

2030 
m_¡©s
->
m_num_imul32_aûs£s
[
m_sid
]=m_¡©s->m_num_imul32_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy
;

2033 
	}
}

2034 
	$šcidiv_¡©
(
aùive_couÁ
,
Ï‹ncy
) {

2035 if(
m_cÚfig
->
gpgpu_şock_g©ed_ÏÃs
==
çl£
){

2036 
m_¡©s
->
m_num_idiv_aûs£s
[
m_sid
]=m_¡©s->m_num_idiv_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy


2037 + 
	`šaùive_ÏÃs_acûs£s_sfu
(
aùive_couÁ
, 
Ï‹ncy
);

2039 
m_¡©s
->
m_num_idiv_aûs£s
[
m_sid
]=m_¡©s->m_num_idiv_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy
;

2041 
	}
}

2042 
	$šcå®u_¡©
(
aùive_couÁ
,
Ï‹ncy
) {

2043 if(
m_cÚfig
->
gpgpu_şock_g©ed_ÏÃs
==
çl£
){

2044 
m_¡©s
->
m_num_å_aûs£s
[
m_sid
]=m_¡©s->m_num_å_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy


2045 + 
	`šaùive_ÏÃs_acûs£s_nÚsfu
(
aùive_couÁ
, 
Ï‹ncy
);

2047 
m_¡©s
->
m_num_å_aûs£s
[
m_sid
]=m_¡©s->m_num_å_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy
;

2049 
	}
}

2050 
	$šcåmul_¡©
(
aùive_couÁ
,
Ï‹ncy
) {

2052 if(
m_cÚfig
->
gpgpu_şock_g©ed_ÏÃs
==
çl£
){

2053 
m_¡©s
->
m_num_åmul_aûs£s
[
m_sid
]=m_¡©s->m_num_åmul_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy


2054 + 
	`šaùive_ÏÃs_acûs£s_nÚsfu
(
aùive_couÁ
, 
Ï‹ncy
);

2056 
m_¡©s
->
m_num_åmul_aûs£s
[
m_sid
]=m_¡©s->m_num_åmul_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy
;

2058 
	}
}

2059 
	$šcådiv_¡©
(
aùive_couÁ
,
Ï‹ncy
) {

2060 if(
m_cÚfig
->
gpgpu_şock_g©ed_ÏÃs
==
çl£
){

2061 
m_¡©s
->
m_num_ådiv_aûs£s
[
m_sid
]=m_¡©s->m_num_ådiv_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy


2062 + 
	`šaùive_ÏÃs_acûs£s_sfu
(
aùive_couÁ
, 
Ï‹ncy
);

2064 
m_¡©s
->
m_num_ådiv_aûs£s
[
m_sid
]=m_¡©s->m_num_ådiv_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy
;

2066 
	}
}

2067 
	$šù¿ns_¡©
(
aùive_couÁ
,
Ï‹ncy
) {

2068 if(
m_cÚfig
->
gpgpu_şock_g©ed_ÏÃs
==
çl£
){

2069 
m_¡©s
->
m_num_Œªs_aûs£s
[
m_sid
]=m_¡©s->m_num_Œªs_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy


2070 + 
	`šaùive_ÏÃs_acûs£s_sfu
(
aùive_couÁ
, 
Ï‹ncy
);

2072 
m_¡©s
->
m_num_Œªs_aûs£s
[
m_sid
]=m_¡©s->m_num_Œªs_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy
;

2074 
	}
}

2076 
	$šcsfu_¡©
(
aùive_couÁ
,
Ï‹ncy
è{
m_¡©s
->
m_num_sfu_aûs£s
[
m_sid
]=m_¡©s->m_num_sfu_aûs£s[m_sid]+aùive_couÁ*Ï‹ncy;
	}
}

2077 
	$šc¥_¡©
(
aùive_couÁ
,
Ï‹ncy
è{
m_¡©s
->
m_num_¥_aûs£s
[
m_sid
]=m_¡©s->m_num_¥_aûs£s[m_sid]+aùive_couÁ*Ï‹ncy;
	}
}

2078 
	$šcmem_¡©
(
aùive_couÁ
,
Ï‹ncy
) {

2079 if(
m_cÚfig
->
gpgpu_şock_g©ed_ÏÃs
==
çl£
){

2080 
m_¡©s
->
m_num_mem_aûs£s
[
m_sid
]=m_¡©s->m_num_mem_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy


2081 + 
	`šaùive_ÏÃs_acûs£s_nÚsfu
(
aùive_couÁ
, 
Ï‹ncy
);

2083 
m_¡©s
->
m_num_mem_aûs£s
[
m_sid
]=m_¡©s->m_num_mem_aûs£s[m_sid]+
aùive_couÁ
*
Ï‹ncy
;

2085 
	}
}

2086 
šûxec¡©
(
w¬p_š¡_t
 *&
š¡
);

2088 
	$šüegfe_»ads
(
aùive_couÁ
è{
m_¡©s
->
m_»ad_»gfe_aûs£s
[
m_sid
]=m_¡©s->m_»ad_»gfe_aûs£s[m_sid]+aùive_couÁ;
	}
}

2089 
	$šüegfe_wr™es
(
aùive_couÁ
){
m_¡©s
->
m_wr™e_»gfe_aûs£s
[
m_sid
]=m_¡©s->m_wr™e_»gfe_aûs£s[m_sid]+aùive_couÁ;
	}
}

2090 
	$šúÚ_rf_İ”ªds
(
aùive_couÁ
){
m_¡©s
->
m_nÚ_rf_İ”ªds
[
m_sid
]=m_¡©s->m_nÚ_rf_İ”ªds[m_sid]+aùive_couÁ;
	}
}

2092 
	$šc¥aùiv–ªes_¡©
(
aùive_couÁ
è{
m_¡©s
->
m_aùive_¥_ÏÃs
[
m_sid
]=m_¡©s->m_aùive_¥_ÏÃs[m_sid]+aùive_couÁ;
	}
}

2093 
	$šcsfuaùiv–ªes_¡©
(
aùive_couÁ
è{
m_¡©s
->
m_aùive_sfu_ÏÃs
[
m_sid
]=m_¡©s->m_aùive_sfu_ÏÃs[m_sid]+aùive_couÁ;
	}
}

2094 
	$šcfuaùiv–ªes_¡©
(
aùive_couÁ
è{
m_¡©s
->
m_aùive_fu_ÏÃs
[
m_sid
]=m_¡©s->m_aùive_fu_ÏÃs[m_sid]+aùive_couÁ;
	}
}

2095 
	$šcfumemaùiv–ªes_¡©
(
aùive_couÁ
è{
m_¡©s
->
m_aùive_fu_mem_ÏÃs
[
m_sid
]=m_¡©s->m_aùive_fu_mem_ÏÃs[m_sid]+aùive_couÁ;
	}
}

2097 
	$šc_simt_to_mem
(
n_æ™s
){ 
m_¡©s
->
n_simt_to_mem
[
m_sid
] +ğn_æ™s; 
	}
}

2099 
	g´iv©e
:

2100 
	$šaùive_ÏÃs_acûs£s_sfu
(
aùive_couÁ
,
Ï‹ncy
){

2101  ( ((32-
aùive_couÁ
)>>1)*
Ï‹ncy
) + ( ((32-active_count)>>3)*latency) + ( ((32-active_count)>>3)*latency);

2102 
	}
}

2103 
	$šaùive_ÏÃs_acûs£s_nÚsfu
(
aùive_couÁ
,
Ï‹ncy
){

2104  ( ((32-
aùive_couÁ
)>>1)*
Ï‹ncy
);

2105 
	}
}

2107 
‹¡_»s_bus
(
Ï‹ncy
);

2108 
š™_w¬ps
(
ùa_id
, 
¡¬t_th»ad
, 
’d_th»ad
);

2109 
vœtu®
 
checkExecutiÚStusAndUpd©e
(
w¬p_š¡_t
 &
š¡
, 
t
, 
tid
);

2110 
add»ss_ty³
 
	$Ãxt_pc
Ğ
tid
 ) const;

2111 
	`ãtch
();

2112 
	`»gi¡”_ùa_th»ad_ex™
Ğ
ùa_num
 );

2114 
	`decode
();

2116 
	`issue
();

2117 
ä›nd
 
şass
 
scheduËr_un™
;

2118 
ä›nd
 
şass
 
TwoLev–ScheduËr
;

2119 
ä›nd
 
şass
 
Loo£RoundRobbšScheduËr
;

2120 
ä›nd
 
şass
 
gto_šÃr_gto_ou‹r_scheduËr
;

2121 
	`issue_w¬p
Ğ
»gi¡”_£t
& 
w¬p
, cÚ¡ 
w¬p_š¡_t
 *
pI
, cÚ¡ 
aùive_mask_t
 &
aùive_mask
, 
w¬p_id
 );

2122 
	`func_exec_š¡
Ğ
w¬p_š¡_t
 &
š¡
 );

2125 
	`Œª¦©e_loÿl_memaddr
Ğ
add»ss_ty³
 
loÿÏddr
, 
tid
, 
num_shad”
, 
d©asize
, 
Ãw_addr_ty³
* 
Œª¦©ed_addrs
 );

2127 
	`»ad_İ”ªds
();

2129 
	`execu‹
();

2131 
	`wr™eback
();

2134 
	$dump_w¬p_¡©e
Ğ
FILE
 *
fout
 ) const;

2135 
	$´št_¡age
(
¡age
, 
FILE
 *
fout
) const;

2136 
m_Ï¡_š¡_gpu_sim_cyşe
;

2137 
m_Ï¡_š¡_gpu_tÙ_sim_cyşe
;

2140 
m_sid
;

2141 
m_c
;

2142 cÚ¡ 
shad”_cÜe_cÚfig
 *
m_cÚfig
;

2143 cÚ¡ 
memÜy_cÚfig
 *
m_memÜy_cÚfig
;

2144 
şass
 
simt_cÜe_şu¡”
 *
m_şu¡”
;

2147 
shad”_cÜe_¡©s
 *
m_¡©s
;

2150 
m_n_aùive_ùa
;

2151 
m_ùa_¡©us
[
MAX_CTA_PER_SHADER
];

2152 
m_nÙ_com¶‘ed
;

2153 
¡d
::
b™£t
<
MAX_THREAD_PER_SM
> 
m_aùive_th»ads
;

2156 
th»ad_ùx_t
 *
m_th»adS‹
;

2159 
mem_ãtch_š‹rçû
 *
m_iút
;

2160 
shad”_cÜe_mem_ãtch_®loÿtÜ
 *
m_mem_ãtch_®loÿtÜ
;

2163 
»ad_Úly_ÿche
 *
m_L1I
;

2164 
m_Ï¡_w¬p_ãtched
;

2167 
¡d
::
veùÜ
<
shd_w¬p_t
> 
m_w¬p
;

2168 
b¬r›r_£t_t
 
m_b¬r›rs
;

2169 
iãtch_bufãr_t
 
m_š¡_ãtch_bufãr
;

2170 
¡d
::
veùÜ
<
»gi¡”_£t
> 
m_p–še_»g
;

2171 
ScÜebßrd
 *
m_scÜebßrd
;

2172 
İndcŞl_rfu_t
 
m_İ”ªd_cŞËùÜ
;

2175 
¡d
::
veùÜ
<
scheduËr_un™
*> 
scheduËrs
;

2178 
m_num_funùiÚ_un™s
;

2179 
¡d
::
veùÜ
<
p–še_¡age_Çme_t
> 
m_di¥©ch_pÜt
;

2180 
¡d
::
veùÜ
<
p–še_¡age_Çme_t
> 
m_issue_pÜt
;

2181 
¡d
::
veùÜ
<
simd_funùiÚ_un™
*> 
m_fu
;

2182 
ld¡_un™
 *
m_ld¡_un™
;

2183 cÚ¡ 
MAX_ALU_LATENCY
 = 512;

2184 
num_»suÉ_bus
;

2185 
¡d
::
veùÜ
< std::
b™£t
<
MAX_ALU_LATENCY
>* > 
m_»suÉ_bus
;

2188 
k”Ãl_max_ùa_³r_shad”
;

2189 
k”Ãl_·dded_th»ads_³r_ùa
;

2194 
m_dyÇmic_w¬p_id
;

2195 
	}
};

2197 şas 
	csimt_cÜe_şu¡”
 {

2198 
	mpublic
:

2199 
simt_cÜe_şu¡”
Ğ
şass
 
gpgpu_sim
 *
gpu
,

2200 
şu¡”_id
,

2201 cÚ¡ 
shad”_cÜe_cÚfig
 *
cÚfig
,

2202 cÚ¡ 
memÜy_cÚfig
 *
mem_cÚfig
,

2203 
shad”_cÜe_¡©s
 *
¡©s
,

2204 
memÜy_¡©s_t
 *
m¡©s
 );

2206 
cÜe_cyşe
();

2207 
iút_cyşe
();

2209 
»š™
();

2210 
issue_block2cÜe
();

2211 
ÿche_æush
();

2212 
boŞ
 
iút_šjeùiÚ_bufãr_fuÎ
(
size
, boŞ 
wr™e
);

2213 
iút_šjeù_»que¡_·ck‘
(
şass
 
mem_ãtch
 *
mf
);

2216 
boŞ
 
	$»¥Ú£_queue_fuÎ
() {

2217  ( 
m_»¥Ú£_fifo
.
	`size
(è>ğ
m_cÚfig
->
n_simt_ejeùiÚ_bufãr_size
 );

2219 
	$push_»¥Ú£_fifo
(
şass
 
mem_ãtch
 *
mf
) {

2220 
m_»¥Ú£_fifo
.
	`push_back
(
mf
);

2221 
	}
}

2223 
	$g‘_pdom_¡ack_tİ_šfo
Ğ
sid
, 
tid
, *
pc
, *
½c
 ) const;

2224 
	`max_ùa
ĞcÚ¡ 
k”Ãl_šfo_t
 &
k”Ãl
 );

2225 
	$g‘_nÙ_com¶‘ed
() const;

2226 
	$´št_nÙ_com¶‘ed
Ğ
FILE
 *
å
 ) const;

2227 
	$g‘_n_aùive_ùa
() const;

2228 
	$g‘_n_aùive_sms
() const;

2229 
gpgpu_sim
 *
	$g‘_gpu
(è{  
m_gpu
; 
	}
}

2231 
di¥Ïy_p–še
Ğ
sid
, 
FILE
 *
fout
, 
´št_mem
, 
mask
 );

2232 
	$´št_ÿche_¡©s
Ğ
FILE
 *
å
, & 
dl1_acûs£s
, & 
dl1_mis£s
 ) const;

2234 
	$g‘_ÿche_¡©s
(
ÿche_¡©s
 &
cs
) const;

2235 
	$g‘_L1I_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const;

2236 
	$g‘_L1D_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const;

2237 
	$g‘_L1C_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const;

2238 
	$g‘_L1T_sub_¡©s
(
ÿche_sub_¡©s
 &
css
) const;

2240 
	$g‘_iút_¡©s
(&
n_simt_to_mem
, &
n_mem_to_simt
) const;

2242 
´iv©e
:

2243 
m_şu¡”_id
;

2244 
gpgpu_sim
 *
m_gpu
;

2245 cÚ¡ 
shad”_cÜe_cÚfig
 *
m_cÚfig
;

2246 
shad”_cÜe_¡©s
 *
m_¡©s
;

2247 
memÜy_¡©s_t
 *
m_memÜy_¡©s
;

2248 
shad”_cÜe_ùx
 **
m_cÜe
;

2250 
m_ùa_issue_Ãxt_cÜe
;

2251 
¡d
::
li¡
<> 
m_cÜe_sim_Üd”
;

2252 
¡d
::
li¡
<
mem_ãtch
*> 
m_»¥Ú£_fifo
;

2253 
	}
};

2255 şas 
	cshad”_memÜy_š‹rçû
 : 
public
 
mem_ãtch_š‹rçû
 {

2256 
public
:

2257 
	$shad”_memÜy_š‹rçû
Ğ
shad”_cÜe_ùx
 *
cÜe
, 
simt_cÜe_şu¡”
 *
şu¡”
 ) { 
m_cÜe
=cÜe; 
m_şu¡”
=cluster; }

2258 
vœtu®
 
boŞ
 
	$fuÎ
Ğ
size
, 
boŞ
 
wr™e
 ) const

2260  
m_şu¡”
->
	`iút_šjeùiÚ_bufãr_fuÎ
(
size
,
wr™e
);

2261 
	}
}

2262 
vœtu®
 
	$push
(
mem_ãtch
 *
mf
)

2264 
m_cÜe
->
	`šc_simt_to_mem
(
mf
->
	`g‘_num_æ™s
(
Œue
));

2265 
m_şu¡”
->
	`iút_šjeù_»que¡_·ck‘
(
mf
);

2266 
	}
}

2267 
	g´iv©e
:

2268 
shad”_cÜe_ùx
 *
m_cÜe
;

2269 
simt_cÜe_şu¡”
 *
	gm_şu¡”
;

2272 şas 
	c³rãù_memÜy_š‹rçû
 : 
public
 
mem_ãtch_š‹rçû
 {

2273 
public
:

2274 
	$³rãù_memÜy_š‹rçû
Ğ
shad”_cÜe_ùx
 *
cÜe
, 
simt_cÜe_şu¡”
 *
şu¡”
 ) { 
m_cÜe
=cÜe; 
m_şu¡”
=cluster; }

2275 
vœtu®
 
boŞ
 
	$fuÎ
Ğ
size
, 
boŞ
 
wr™e
) const

2277  
m_şu¡”
->
	`»¥Ú£_queue_fuÎ
();

2278 
	}
}

2279 
vœtu®
 
	$push
(
mem_ãtch
 *
mf
)

2281 iàĞ
mf
 && mf->
	`i§tomic
() )

2282 
mf
->
	`do_©omic
();

2283 
m_cÜe
->
	`šc_simt_to_mem
(
mf
->
	`g‘_num_æ™s
(
Œue
));

2284 
m_şu¡”
->
	`push_»¥Ú£_fifo
(
mf
);

2285 
	}
}

2286 
	g´iv©e
:

2287 
shad”_cÜe_ùx
 *
m_cÜe
;

2288 
simt_cÜe_şu¡”
 *
	gm_şu¡”
;

2292 
šlše
 
	gscheduËr_un™
::
	$g‘_sid
(ècÚ¡ {  
m_shad”
->
	`g‘_sid
(); 
	}
}

	@../gpgpusim_entrypoint.h

28 #iâdeà
GPGPUSIM_ENTRYPOINT_H_INCLUDED


29 
	#GPGPUSIM_ENTRYPOINT_H_INCLUDED


	)

31 
	~"ab¡¿ù_h¬dw¬e_mod–.h
"

33 
	~<time.h
>

34 
time_t
 
g_simuÏtiÚ_¡¬‰ime
;

38 
şass
 
gpgpu_sim
 *
gpgpu_±x_sim_š™_³rf
();

39 
¡¬t_sim_th»ad
(
­i
);

41 
gpgpu_İ’ş_±x_sim_maš_³rf
Ğ
k”Ãl_šfo_t
 *
grid
 );

42 
gpgpu_İ’ş_±x_sim_maš_func
Ğ
k”Ãl_šfo_t
 *
grid
 );

	@../intersim2/globals.hpp

28 #iâdeà
_GLOBALS_HPP_


29 
	#_GLOBALS_HPP_


	)

30 
	~<¡ršg
>

31 
	~<veùÜ
>

32 
	~<io¡»am
>

36 
G‘SimTime
();

38 
şass
 
	gSts
;

39 
Sts
 * 
G‘Sts
(cÚ¡ 
¡d
::
¡ršg
 & 
Çme
);

41 
şass
 
	gIÁ”cÚÃùIÁ”çû
;

42 
IÁ”cÚÃùIÁ”çû
 *
g_iút_š‹rçû
;

44 
boŞ
 
gPrštAùiv™y
;

46 
gK
;

47 
gN
;

48 
gC
;

50 
gNodes
;

52 
boŞ
 
gT¿û
;

54 
¡d
::
o¡»am
 * 
gW©chOut
;

	@../intersim2/interconnect_interface.hpp

28 #iâdeà
_INTERCONNECT_INTERFACE_HPP_


29 
	#_INTERCONNECT_INTERFACE_HPP_


	)

31 
	~<veùÜ
>

32 
	~<queue
>

33 
	~<io¡»am
>

34 
	~<m­
>

35 
usšg
 
Çme¥aû
 
	g¡d
;

39 
şass
 
	gFl™
;

40 
şass
 
	gGPUT¿fficMªag”
;

41 
şass
 
	gIÁ”simCÚfig
;

42 
şass
 
	gN‘wÜk
;

43 
şass
 
	gSts
;

47 şas 
	cIÁ”cÚÃùIÁ”çû
 {

48 
	mpublic
:

49 
IÁ”cÚÃùIÁ”çû
();

50 
	mvœtu®
 ~
IÁ”cÚÃùIÁ”çû
();

51 
IÁ”cÚÃùIÁ”çû
* 
New
(cÚ¡ * cÚ¡ 
cÚfig_fe
);

52 
vœtu®
 
C»©eIÁ”cÚÃù
(
n_shad”
, 
n_mem
);

55 
vœtu®
 
In™
();

56 
vœtu®
 
Push
(
šput_deviûID
, 
ouut_deviûID
, * 
d©a
, 
size
);

57 
vœtu®
 * 
Pİ
(
ouput_deviûID
);

58 
vœtu®
 
Advªû
();

59 
vœtu®
 
boŞ
 
	$Busy
() const;

60 
vœtu®
 
boŞ
 
	$HasBufãr
(
deviûID
, 
size
) const;

61 
vœtu®
 
	$Di¥ÏySts
() const;

62 
vœtu®
 
	$Di¥ÏyOv”®lSts
() const;

63 
	$G‘Fl™Size
() const;

65 
vœtu®
 
	$Di¥ÏyS‹
(
FILE
* 
å
) const;

68 
	`Wr™eOutBufãr
Ğ
subÃt
, 
ouut
, 
Fl™
* 
æ™
 );

69 
	`T¿nsãr2Bound¬yBufãr
(
subÃt
, 
ouut
);

71 
	$G‘IútTime
() const;

73 
Sts
* 
	$G‘IútSts
(cÚ¡ 
¡ršg
 & 
Çme
) const;

75 
Fl™
* 
	`G‘EjeùedFl™
(
subÃt
, 
node
);

77 
´Ùeùed
:

79 şas 
	c_Bound¬yBufãrI‹m
 {

80 
public
:

81 
	`_Bound¬yBufãrI‹m
():
	`_·ck‘_n
(0) {}

82 
šlše
 
	`Size
(ècÚ¡ {  
_bufãr
.
	`size
(); }

83 
šlše
 
boŞ
 
	`HasPack‘
(ècÚ¡ {  
_·ck‘_n
; }

84 * 
	`PİPack‘
();

85 * 
	`TİPack‘
() const;

86 
	`PushFl™D©a
(* 
d©a
,
boŞ
 
is_
);

88 
´iv©e
:

89 
queue
<*> 
_bufãr
;

90 
queue
<
boŞ
> 
__æag
;

91 
_·ck‘_n
;

93 
queue
<
	tFl™
*> 
	t_EjeùiÚBufãrI‹m
;

95 
	`_C»©eBufãr
( );

96 
	`_C»©eNodeM­
(
n_shad”
, 
n_mem
, 
n_node
, 
u£_m­
);

97 
	`_Di¥ÏyM­
(
dim
,
couÁ
);

100 
veùÜ
<veùÜ<veùÜ<
_Bound¬yBufãrI‹m
> > > 
_bound¬y_bufãr
;

101 
_bound¬y_bufãr_ÿ·c™y
;

103 
veùÜ
<veùÜ<veùÜ<
_EjeùiÚBufãrI‹m
> > > 
_ejeùiÚ_bufãr
;

105 
veùÜ
<veùÜ<
queue
<
Fl™
* > > > 
_ejeùed_æ™_queue
;

107 
_ejeùiÚ_bufãr_ÿ·c™y
;

108 
_šput_bufãr_ÿ·c™y
;

110 
veùÜ
<veùÜ<> > 
_round_robš_tuº
;

112 
GPUT¿fficMªag”
* 
_Œaffic_mªag”
;

113 
_æ™_size
;

114 
IÁ”simCÚfig
* 
_iút_cÚfig
;

115 
_n_shad”
, 
_n_mem
;

116 
veùÜ
<
N‘wÜk
 *> 
_Ãt
;

117 
_vcs
;

118 
_subÃts
;

123 
m­
<, > 
_node_m­
;

126 
m­
<, > 
_»v”£_node_m­
;

128 
	}
};

	@../option_parser.h

28 #´agm¨
Úû


30 
	~<¡dio.h
>

31 
	~<¡dlib.h
>

35 
şass
 
	tO±iÚP¬£r
 *
	tİtiÚ_·r£r_t
;

38 
	eİtiÚ_dty³
 {

39 
	mOPT_INT32
,

40 
	mOPT_UINT32
,

41 
	mOPT_INT64
,

42 
	mOPT_UINT64
,

43 
	mOPT_BOOL
,

44 
	mOPT_FLOAT
,

45 
	mOPT_DOUBLE
,

46 
	mOPT_CHAR
,

47 
	mOPT_CSTR


51 
İtiÚ_·r£r_t
 
İtiÚ_·r£r_ü—‹
();

52 
İtiÚ_·r£r_de¡roy
(
İtiÚ_·r£r_t
 
İp
);

55 
İtiÚ_·r£r_»gi¡”
(
İtiÚ_·r£r_t
 
İp
,

56 cÚ¡ *
Çme
,

57 
İtiÚ_dty³
 
ty³
,

58 *
v¬ŸbË
,

59 cÚ¡ *
desc
,

60 cÚ¡ *
deçuÉv®ue
);

63 
İtiÚ_·r£r_cmdlše
(
İtiÚ_·r£r_t
 
İp
,

64 
¬gc
, cÚ¡ *
¬gv
[]);

69 
İtiÚ_·r£r_cfgfe
(
İtiÚ_·r£r_t
 
İp
,

70 cÚ¡ *
f’ame
);

73 
İtiÚ_·r£r_d–im™ed_¡ršg
(
İtiÚ_·r£r_t
 
İp
,

74 cÚ¡ *
šput¡ršg
,

75 cÚ¡ *
d–im™”s
);

77 
İtiÚ_·r£r_´št
(
İtiÚ_·r£r_t
 
İp
,

78 
FILE
 *
fout
);

	@../statwrapper.h

1 #iâdeà
STAT_WRAPER_H


2 
	#STAT_WRAPER_H


	)

4 
şass
 
Sts
* 
StC»©e
 (cÚ¡ * 
Çme
, 
bš_size
, 
num_bšs
) ;

5 
StCË¬
(* 
¡
);

6 
StAddSam¶e
 (* 
¡
, 
v®
);

7 
StAv”age
(* 
¡
) ;

8 
StMax
(* 
¡
) ;

9 
StMš
(* 
¡
) ;

10 
StDi¥
 (* 
¡
);

	@../tr1_hash_map.h

28 #´agm¨
Úû


31 #ifdeà
__ılu¥lus


34 #ià 
defšed
Ğ
__GNUC__
 ) 
ªd
 
nÙ
 defšedĞ
_GLIBCXX_DEBUG
 )

35 #ià
__GNUC__
 >ğ4 && 
__GNUC_MINOR__
 >= 3

36 
	~<unÜd”ed_m­
>

37 
	#Œ1_hash_m­
 
¡d
::
unÜd”ed_m­


	)

38 
	#Œ1_hash_m­_ism­
 0

	)

40 
	~<m­
>

41 
	#Œ1_hash_m­
 
¡d
::
m­


	)

42 
	#Œ1_hash_m­_ism­
 1

	)

45 
	~<m­
>

46 
	#Œ1_hash_m­
 
¡d
::
m­


	)

47 
	#Œ1_hash_m­_ism­
 1

	)

	@../trace.h

31 #iâdeà
__TRACE_H__


32 
	#__TRACE_H__


	)

34 
gpu_sim_cyşe
;

35 
gpu_tÙ_sim_cyşe
;

37 
Çme¥aû
 
	gT¿û
 {

39 
	#TS_TUP_BEGIN
(
X
è
	eX
 {

	)

40 
	#TS_TUP
(
X
è
	)
X

41 
	#TS_TUP_END
(
X
è};

	)

42 
	~"Œaû_¡»ams.tup
"

43 #undeà
TS_TUP_BEGIN


44 #undeà
TS_TUP


45 #undeà
TS_TUP_END


47 
boŞ
 
’abËd
;

48 
§m¶šg_cÜe
;

49 
§m¶šg_memÜy_·¹™iÚ
;

50 cÚ¡ * 
Œaû_¡»ams_¡r
[];

51 
boŞ
 
Œaû_¡»ams_’abËd
[
NUM_TRACE_STREAMS
];

52 cÚ¡ * 
cÚfig_¡r
;

54 
š™
();

59 #ià
TRACING_ON


61 
	#SIM_PRINT_STR
 "GPGPU-Sim Cyş%Îu: % - "

	)

62 
	#DTRACE
(
x
è((
T¿û
::
Œaû_¡»ams_’abËd
[T¿û::x]è&& T¿û::
’abËd
)

	)

63 
	#DPRINTF
(
x
, ...) do {\

64 ià(
	`DTRACE
(
x
)) {\

65 
	`´štf
Ğ
SIM_PRINT_STR
,\

66 
gpu_sim_cyşe
 + 
gpu_tÙ_sim_cyşe
,\

67 
T¿û
::
Œaû_¡»ams_¡r
[T¿û::
x
] );\

68 
	`´štf
(
__VA_ARGS__
);\

70 } 0)

	)

75 
	#DTRACE
(
x
è(
çl£
)

	)

76 
	#DPRINTF
(
x
, ...èdØ{} 0)

	)

	@/usr/include/assert.h

24 #ifdef 
_ASSERT_H


26 #undeà
_ASSERT_H


27 #undeà
as£¹


28 #undeà
__ASSERT_VOID_CAST


30 #ifdef 
__USE_GNU


31 #undeà
as£¹_³¼Ü


36 
	#_ASSERT_H
 1

	)

37 
	~<ã©u»s.h
>

39 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,95)

40 
	#__ASSERT_VOID_CAST
 
¡©ic_ÿ¡
<>

	)

42 
	#__ASSERT_VOID_CAST
 ()

	)

50 #ifdef 
NDEBUG


52 
	#as£¹
(
ex´
è(
	`__ASSERT_VOID_CAST
 (0))

	)

60 #ifdef 
__USE_GNU


61 
	#as£¹_³¼Ü
(
”ºum
è(
	`__ASSERT_VOID_CAST
 (0))

	)

66 
__BEGIN_DECLS


69 
	$__as£¹_ç
 (
__cÚ¡
 *
__as£¹iÚ
, __cÚ¡ *
__fe
,

70 
__lše
, 
__cÚ¡
 *
__funùiÚ
)

71 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

74 
	$__as£¹_³¼Ü_ç
 (
__”ºum
, 
__cÚ¡
 *
__fe
,

75 
__lše
,

76 
__cÚ¡
 *
__funùiÚ
)

77 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

82 
	$__as£¹
 (cÚ¡ *
__as£¹iÚ
, cÚ¡ *
__fe
, 
__lše
)

83 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

86 
__END_DECLS


88 
	#as£¹
(
ex´
) \

89 ((
ex´
) \

90 ? 
	`__ASSERT_VOID_CAST
 (0) \

91 : 
	`__as£¹_ç
 (
	`__STRING
(
ex´
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

93 #ifdef 
__USE_GNU


94 
	#as£¹_³¼Ü
(
”ºum
) \

95 (!(
”ºum
) \

96 ? 
	`__ASSERT_VOID_CAST
 (0) \

97 : 
	`__as£¹_³¼Ü_ç
 ((
”ºum
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

105 #ià
defšed
 
__ılu¥lus
 ? 
	`__GNUC_PREREQ
 (2, 6) : __GNUC_PREREQ (2, 4)

106 
	#__ASSERT_FUNCTION
 
__PRETTY_FUNCTION__


	)

108 #ià
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

109 
	#__ASSERT_FUNCTION
 
__func__


	)

111 
	#__ASSERT_FUNCTION
 ((
__cÚ¡
 *è0)

	)

	@/usr/include/limits.h

24 #iâdeà
_LIBC_LIMITS_H_


25 
	#_LIBC_LIMITS_H_
 1

	)

27 
	~<ã©u»s.h
>

33 
	#MB_LEN_MAX
 16

	)

38 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2

43 #iâdeà
_LIMITS_H


44 
	#_LIMITS_H
 1

	)

46 
	~<b™s/wÜdsize.h
>

55 
	#CHAR_BIT
 8

	)

58 
	#SCHAR_MIN
 (-128)

	)

59 
	#SCHAR_MAX
 127

	)

62 
	#UCHAR_MAX
 255

	)

65 #ifdeà
__CHAR_UNSIGNED__


66 
	#CHAR_MIN
 0

	)

67 
	#CHAR_MAX
 
UCHAR_MAX


	)

69 
	#CHAR_MIN
 
SCHAR_MIN


	)

70 
	#CHAR_MAX
 
SCHAR_MAX


	)

74 
	#SHRT_MIN
 (-32768)

	)

75 
	#SHRT_MAX
 32767

	)

78 
	#USHRT_MAX
 65535

	)

81 
	#INT_MIN
 (-
INT_MAX
 - 1)

	)

82 
	#INT_MAX
 2147483647

	)

85 
	#UINT_MAX
 4294967295U

	)

88 #ià
__WORDSIZE
 == 64

89 
	#LONG_MAX
 9223372036854775807L

	)

91 
	#LONG_MAX
 2147483647L

	)

93 
	#LONG_MIN
 (-
LONG_MAX
 - 1L)

	)

96 #ià
__WORDSIZE
 == 64

97 
	#ULONG_MAX
 18446744073709551615UL

	)

99 
	#ULONG_MAX
 4294967295UL

	)

102 #ifdeà
__USE_ISOC99


105 
	#LLONG_MAX
 9223372036854775807LL

	)

106 
	#LLONG_MIN
 (-
LLONG_MAX
 - 1LL)

	)

109 
	#ULLONG_MAX
 18446744073709551615ULL

	)

123 #ià
defšed
 
__GNUC__
 && !defšed 
_GCC_LIMITS_H_


125 #šşude_Ãxˆ<
lim™s
.
h
>

131 #ià
defšed
 
__USE_ISOC99
 && defšed 
__GNUC__


132 #iâdeà
LLONG_MIN


133 
	#LLONG_MIN
 (-
LLONG_MAX
-1)

	)

135 #iâdeà
LLONG_MAX


136 
	#LLONG_MAX
 
__LONG_LONG_MAX__


	)

138 #iâdeà
ULLONG_MAX


139 
	#ULLONG_MAX
 (
LLONG_MAX
 * 2ULL + 1)

	)

143 #ifdef 
__USE_POSIX


145 
	~<b™s/posix1_lim.h
>

148 #ifdef 
__USE_POSIX2


149 
	~<b™s/posix2_lim.h
>

152 #ifdef 
__USE_XOPEN


153 
	~<b™s/xİ’_lim.h
>

	@/usr/include/math.h

25 #iâdef 
_MATH_H


26 
	#_MATH_H
 1

	)

28 
	~<ã©u»s.h
>

30 
	g__BEGIN_DECLS


34 
	~<b™s/huge_v®.h
>

35 #ifdeà
__USE_ISOC99


36 
	~<b™s/huge_v®f.h
>

37 
	~<b™s/huge_v®l.h
>

40 
	~<b™s/šf.h
>

43 
	~<b™s/Çn.h
>

47 
	~<b™s/m©hdef.h
>

54 
	#__MATHCALL
(
funùiÚ
,
suffix
, 
¬gs
) \

55 
	`__MATHDECL
 (
_MdoubË_
,
funùiÚ
,
suffix
, 
¬gs
)

	)

56 
	#__MATHDECL
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

57 
	`__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
); \

58 
	`__MATHDECL_1
(
ty³
, 
	`__CONCAT
(
__
,
funùiÚ
),
suffix
, 
¬gs
)

	)

59 
	#__MATHCALLX
(
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
) \

60 
	`__MATHDECLX
 (
_MdoubË_
,
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
)

	)

61 
	#__MATHDECLX
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
) \

62 
	`__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
è
	`__©Œibu‹__
 (
©Œib
); \

63 
	`__MATHDECL_1
(
ty³
, 
	`__CONCAT
(
__
,
funùiÚ
),
suffix
, 
¬gs
è
	`__©Œibu‹__
 (
©Œib
)

	)

64 
	#__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

65 
ty³
 
	`__MATH_PRECNAME
(
funùiÚ
,
suffix
è
¬gs
 
__THROW


	)

67 
	#_MdoubË_
 

	)

68 
	#__MATH_PRECNAME
(
Çme
,
r
è
	`__CONCAT
Òame,r)

	)

69 
	#_MdoubË_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_STD


	)

70 
	#_MdoubË_END_NAMESPACE
 
__END_NAMESPACE_STD


	)

71 
	~<b™s/m©hÿÎs.h
>

72 #undeà
_MdoubË_


73 #undeà
_MdoubË_BEGIN_NAMESPACE


74 #undeà
_MdoubË_END_NAMESPACE


75 #undeà
__MATH_PRECNAME


77 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_ISOC99


83 #iâdeà
_Mæßt_


84 
	#_Mæßt_
 

	)

86 
	#_MdoubË_
 
_Mæßt_


	)

87 #ifdeà
__STDC__


88 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f
##
	)
r

90 
	#__MATH_PRECNAME
(
Çme
,
r
èÇm
f
 
	)
r

92 
	#_MdoubË_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_C99


	)

93 
	#_MdoubË_END_NAMESPACE
 
__END_NAMESPACE_C99


	)

94 
	~<b™s/m©hÿÎs.h
>

95 #undeà
_MdoubË_


96 #undeà
_MdoubË_BEGIN_NAMESPACE


97 #undeà
_MdoubË_END_NAMESPACE


98 #undeà
__MATH_PRECNAME


100 #ià(
__STDC__
 - 0 || 
__GNUC__
 - 0) \

101 && (!
defšed
 
__NO_LONG_DOUBLE_MATH
 || defšed 
__LDBL_COMPAT
)

102 #ifdeà
__LDBL_COMPAT


104 #ifdeà
__USE_ISOC99


105 
	$__Ædbl_Ãx‰ow¬df
 (
__x
, 
__y
)

106 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

107 #ifdeà
__REDIRECT_NTH


108 
	`__REDIRECT_NTH
 (
Ãx‰ow¬df
, (
__x
, 
__y
),

109 
__Ædbl_Ãx‰ow¬df
)

110 
	`__©Œibu‹__
 ((
__cÚ¡__
));

111 
	`__REDIRECT_NTH
 (
Ãx‰ow¬d
, (
__x
, 
__y
),

112 
Ãxá”
è
	`__©Œibu‹__
 ((
__cÚ¡__
));

113 
	`__REDIRECT_NTH
 (
Ãx‰ow¬dl
,

114 (
__x
, 
__y
),

115 
Ãxá”
è
	`__©Œibu‹__
 ((
__cÚ¡__
));

122 #undeà
__MATHDECL_1


123 
	#__MATHDECL_2
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
®Ÿs
) \

124 
ty³
 
	`__REDIRECT_NTH
(
	`__MATH_PRECNAME
(
funùiÚ
,
suffix
), \

125 
¬gs
, 
®Ÿs
)

	)

126 
	#__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

127 
	`__MATHDECL_2
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
	`__CONCAT
(funùiÚ,suffix))

	)

130 #iâdeà
_MlÚg_doubË_


131 
	#_MlÚg_doubË_
 

	)

133 
	#_MdoubË_
 
_MlÚg_doubË_


	)

134 #ifdeà
__STDC__


135 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
l
##
	)
r

137 
	#__MATH_PRECNAME
(
Çme
,
r
èÇm
l
 
	)
r

139 
	#_MdoubË_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_C99


	)

140 
	#_MdoubË_END_NAMESPACE
 
__END_NAMESPACE_C99


	)

141 
	~<b™s/m©hÿÎs.h
>

142 #undeà
_MdoubË_


143 #undeà
_MdoubË_BEGIN_NAMESPACE


144 #undeà
_MdoubË_END_NAMESPACE


145 #undeà
__MATH_PRECNAME


150 #undeà
__MATHDECL_1


151 #undeà
__MATHDECL


152 #undeà
__MATHCALL


155 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


157 
signgam
;

162 #ifdeà
__USE_ISOC99


200 
FP_NAN
,

201 
	#FP_NAN
 
FP_NAN


	)

202 
FP_INFINITE
,

203 
	#FP_INFINITE
 
FP_INFINITE


	)

204 
FP_ZERO
,

205 
	#FP_ZERO
 
FP_ZERO


	)

206 
FP_SUBNORMAL
,

207 
	#FP_SUBNORMAL
 
FP_SUBNORMAL


	)

208 
FP_NORMAL


209 
	#FP_NORMAL
 
FP_NORMAL


	)

213 #ifdeà
__NO_LONG_DOUBLE_MATH


214 
	#åşassify
(
x
) \

215 ( (
x
è=ğ (è? 
	`__åşassifyf
 (xè: 
	`__åşassify
 (x))

	)

217 
	#åşassify
(
x
) \

218 ( (
x
) ==  () \

219 ? 
	`__åşassifyf
 (
x
) \

220 :  (
x
) ==  () \

221 ? 
	`__åşassify
 (
x
è: 
	`__åşassifyl
 (x))

	)

225 #ifdeà
__NO_LONG_DOUBLE_MATH


226 
	#signb™
(
x
) \

227 ( (
x
è=ğ (è? 
	`__signb™f
 (xè: 
	`__signb™
 (x))

	)

229 
	#signb™
(
x
) \

230 ( (
x
) ==  () \

231 ? 
	`__signb™f
 (
x
) \

232 :  (
x
) ==  () \

233 ? 
	`__signb™
 (
x
è: 
	`__signb™l
 (x))

	)

237 #ifdeà
__NO_LONG_DOUBLE_MATH


238 
	#isfš™e
(
x
) \

239 ( (
x
è=ğ (è? 
	`__fš™ef
 (xè: 
	`__fš™e
 (x))

	)

241 
	#isfš™e
(
x
) \

242 ( (
x
) ==  () \

243 ? 
	`__fš™ef
 (
x
) \

244 :  (
x
) ==  () \

245 ? 
	`__fš™e
 (
x
è: 
	`__fš™–
 (x))

	)

249 
	#i¢Üm®
(
x
è(
	`åşassify
 (xè=ğ
FP_NORMAL
)

	)

253 #ifdeà
__NO_LONG_DOUBLE_MATH


254 
	#i¢ª
(
x
) \

255 ( (
x
è=ğ (è? 
	`__i¢ªf
 (xè: 
	`__i¢ª
 (x))

	)

257 
	#i¢ª
(
x
) \

258 ( (
x
) ==  () \

259 ? 
	`__i¢ªf
 (
x
) \

260 :  (
x
) ==  () \

261 ? 
	`__i¢ª
 (
x
è: 
	`__i¢ªl
 (x))

	)

265 #ifdeà
__NO_LONG_DOUBLE_MATH


266 
	#isšf
(
x
) \

267 ( (
x
è=ğ (è? 
	`__isšff
 (xè: 
	`__isšf
 (x))

	)

269 
	#isšf
(
x
) \

270 ( (
x
) ==  () \

271 ? 
	`__isšff
 (
x
) \

272 :  (
x
) ==  () \

273 ? 
	`__isšf
 (
x
è: 
	`__isšæ
 (x))

	)

277 
	#MATH_ERRNO
 1

	)

278 
	#MATH_ERREXCEPT
 2

	)

283 #iâdeà
__FAST_MATH__


284 
	#m©h_”rhªdlšg
 (
MATH_ERRNO
 | 
MATH_ERREXCEPT
)

	)

289 #ifdef 
__USE_MISC


293 
_IEEE_
 = -1,

294 
_SVID_
,

295 
_XOPEN_
,

296 
_POSIX_
,

297 
_ISOC_


298 } 
	t_LIB_VERSION_TYPE
;

303 
_LIB_VERSION_TYPE
 
_LIB_VERSION
;

307 #ifdeà
__USE_SVID


313 #ifdeà
__ılu¥lus


314 
__exû±iÚ


316 
exû±iÚ


319 
ty³
;

320 *
Çme
;

321 
¬g1
;

322 
¬g2
;

323 
»tv®
;

324 
	}
};

326 #ifdeà
__ılu¥lus


327 
	$m©h”r
 (
__exû±iÚ
 *
__exc
è
	`throw
 ();

329 
	`m©h”r
 (
exû±iÚ
 *
__exc
);

332 
	#X_TLOSS
 1.41484755040568800000e+16

	)

335 
	#DOMAIN
 1

	)

336 
	#SING
 2

	)

337 
	#OVERFLOW
 3

	)

338 
	#UNDERFLOW
 4

	)

339 
	#TLOSS
 5

	)

340 
	#PLOSS
 6

	)

343 
	#HUGE
 3.40282347e+38F

	)

347 #ifdeà
__USE_XOPEN


349 
	#MAXFLOAT
 3.40282347e+38F

	)

356 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN


357 
	#M_E
 2.7182818284590452354

	)

358 
	#M_LOG2E
 1.4426950408889634074

	)

359 
	#M_LOG10E
 0.43429448190325182765

	)

360 
	#M_LN2
 0.69314718055994530942

	)

361 
	#M_LN10
 2.30258509299404568402

	)

362 
	#M_PI
 3.14159265358979323846

	)

363 
	#M_PI_2
 1.57079632679489661923

	)

364 
	#M_PI_4
 0.78539816339744830962

	)

365 
	#M_1_PI
 0.31830988618379067154

	)

366 
	#M_2_PI
 0.63661977236758134308

	)

367 
	#M_2_SQRTPI
 1.12837916709551257390

	)

368 
	#M_SQRT2
 1.41421356237309504880

	)

369 
	#M_SQRT1_2
 0.70710678118654752440

	)

375 #ifdeà
__USE_GNU


376 
	#M_El
 2.7182818284590452353602874713526625L

	)

377 
	#M_LOG2El
 1.4426950408889634073599246810018921L

	)

378 
	#M_LOG10El
 0.4342944819032518276511289189166051L

	)

379 
	#M_LN2l
 0.6931471805599453094172321214581766L

	)

380 
	#M_LN10l
 2.3025850929940456840179914546843642L

	)

381 
	#M_PIl
 3.1415926535897932384626433832795029L

	)

382 
	#M_PI_2l
 1.5707963267948966192313216916397514L

	)

383 
	#M_PI_4l
 0.7853981633974483096156608458198757L

	)

384 
	#M_1_PIl
 0.3183098861837906715377675267450287L

	)

385 
	#M_2_PIl
 0.6366197723675813430755350534900574L

	)

386 
	#M_2_SQRTPIl
 1.1283791670955125738961589031215452L

	)

387 
	#M_SQRT2l
 1.4142135623730950488016887242096981L

	)

388 
	#M_SQRT1_2l
 0.7071067811865475244008443621048490L

	)

395 #ià
defšed
 
__STRICT_ANSI__
 && !defšed 
__NO_MATH_INLINES


396 
	#__NO_MATH_INLINES
 1

	)

399 #ià
defšed
 
__USE_ISOC99
 && 
	`__GNUC_PREREQ
(2,97)

406 
	#isg»©”
(
x
, 
y
è
	`__butš_isg»©”
(x, y)

	)

407 
	#isg»©”equ®
(
x
, 
y
è
	`__butš_isg»©”equ®
(x, y)

	)

408 
	#i¦ess
(
x
, 
y
è
	`__butš_i¦ess
(x, y)

	)

409 
	#i¦es£qu®
(
x
, 
y
è
	`__butš_i¦es£qu®
(x, y)

	)

410 
	#i¦essg»©”
(
x
, 
y
è
	`__butš_i¦essg»©”
(x, y)

	)

411 
	#isunÜd”ed
(
u
, 
v
è
	`__butš_isunÜd”ed
(u, v)

	)

415 #ifdeà
__USE_EXTERN_INLINES


416 
	~<b™s/m©hšlše.h
>

419 #ifdeà
__USE_ISOC99


423 #iâdeà
isg»©”


424 
	#isg»©”
(
x
, 
y
) \

425 (
__ex‹nsiÚ__
 \

426 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

427 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x > __y; 
	}
}))

	)

431 #iâdeà
isg»©”equ®


432 
	#isg»©”equ®
(
x
, 
y
) \

433 (
__ex‹nsiÚ__
 \

434 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

435 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x >ğ__y; }))

	)

439 #iâdeà
i¦ess


440 
	#i¦ess
(
x
, 
y
) \

441 (
__ex‹nsiÚ__
 \

442 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

443 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x < __y; }))

	)

447 #iâdeà
i¦es£qu®


448 
	#i¦es£qu®
(
x
, 
y
) \

449 (
__ex‹nsiÚ__
 \

450 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

451 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x <ğ__y; }))

	)

455 #iâdeà
i¦essg»©”


456 
	#i¦essg»©”
(
x
, 
y
) \

457 (
__ex‹nsiÚ__
 \

458 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

459 !
	`isunÜd”ed
 (
__x
, 
__y
è&& (__x < __y || __y < __x); }))

	)

463 #iâdeà
isunÜd”ed


464 
	#isunÜd”ed
(
u
, 
v
) \

465 (
__ex‹nsiÚ__
 \

466 ({ 
	`__ty³of__
(
u
è
__u
 = (u); __ty³of__(
v
è
__v
 = (v); \

467 
	`åşassify
 (
__u
è=ğ
FP_NAN
 || fpşassify (
__v
è=ğFP_NAN; }))

	)

472 
	g__END_DECLS


	@/usr/include/stdio.h

24 #iâdeà
_STDIO_H


26 #ià!
defšed
 
__Ãed_FILE
 && !defšed 
__Ãed___FILE


27 
	#_STDIO_H
 1

	)

28 
	~<ã©u»s.h
>

30 
	g__BEGIN_DECLS


32 
	#__Ãed_size_t


	)

33 
	#__Ãed_NULL


	)

34 
	~<¡ddef.h
>

36 
	~<b™s/ty³s.h
>

37 
	#__Ãed_FILE


	)

38 
	#__Ãed___FILE


	)

42 #ià!
defšed
 
__FILE_defšed
 && defšed 
__Ãed_FILE


45 
	g_IO_FILE
;

47 
__BEGIN_NAMESPACE_STD


49 
_IO_FILE
 
	tFILE
;

50 
	g__END_NAMESPACE_STD


51 #ià
defšed
 
__USE_LARGEFILE64
 || defšed 
__USE_SVID
 || defšed 
__USE_POSIX
 \

52 || 
defšed
 
	g__USE_BSD
 || defšed 
	g__USE_ISOC99
 || defšed 
	g__USE_XOPEN
 \

53 || 
defšed
 
__USE_POSIX2


54 
	$__USING_NAMESPACE_STD
(
FILE
)

57 
	#__FILE_defšed
 1

	)

59 #undeà
__Ãed_FILE


62 #ià!
defšed
 
____FILE_defšed
 && defšed 
__Ãed___FILE


65 
_IO_FILE
 
	t__FILE
;

67 
	#____FILE_defšed
 1

	)

69 #undeà
__Ãed___FILE


72 #ifdef 
_STDIO_H


73 
	#_STDIO_USES_IOSTREAM


	)

75 
	~<libio.h
>

77 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


78 #ifdeà
__GNUC__


79 #iâdeà
_VA_LIST_DEFINED


80 
_G_va_li¡
 
	tva_li¡
;

81 
	#_VA_LIST_DEFINED


	)

84 
	~<¡d¬g.h
>

88 #ifdeà
__USE_XOPEN2K8


89 #iâdeà
__off_t_defšed


90 #iâdeà
__USE_FILE_OFFSET64


91 
__off_t
 
	toff_t
;

93 
__off64_t
 
	toff_t
;

95 
	#__off_t_defšed


	)

97 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


98 
__off64_t
 
	toff64_t
;

99 
	#__off64_t_defšed


	)

102 #iâdeà
__ssize_t_defšed


103 
__ssize_t
 
	tssize_t
;

104 
	#__ssize_t_defšed


	)

109 
__BEGIN_NAMESPACE_STD


110 #iâdeà
__USE_FILE_OFFSET64


111 
_G_åos_t
 
	tåos_t
;

113 
_G_åos64_t
 
	tåos_t
;

115 
__END_NAMESPACE_STD


116 #ifdeà
__USE_LARGEFILE64


117 
_G_åos64_t
 
	tåos64_t
;

121 
	#_IOFBF
 0

	)

122 
	#_IOLBF
 1

	)

123 
	#_IONBF
 2

	)

127 #iâdeà
BUFSIZ


128 
	#BUFSIZ
 
_IO_BUFSIZ


	)

134 #iâdeà
EOF


135 
	#EOF
 (-1)

	)

141 
	#SEEK_SET
 0

	)

142 
	#SEEK_CUR
 1

	)

143 
	#SEEK_END
 2

	)

146 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


148 
	#P_tmpdœ
 "/tmp"

	)

161 
	~<b™s/¡dio_lim.h
>

165 
_IO_FILE
 *
¡dš
;

166 
_IO_FILE
 *
¡dout
;

167 
_IO_FILE
 *
¡d”r
;

168 #ifdeà
__STDC__


170 
	#¡dš
 
¡dš


	)

171 
	#¡dout
 
¡dout


	)

172 
	#¡d”r
 
¡d”r


	)

175 
__BEGIN_NAMESPACE_STD


177 
	$»move
 (
__cÚ¡
 *
__f’ame
è
__THROW
;

179 
	$»Çme
 (
__cÚ¡
 *
__Şd
, __cÚ¡ *
__Ãw
è
__THROW
;

180 
__END_NAMESPACE_STD


182 #ifdeà
__USE_ATFILE


184 
	$»Çm—t
 (
__Şdfd
, 
__cÚ¡
 *
__Şd
, 
__Ãwfd
,

185 
__cÚ¡
 *
__Ãw
è
__THROW
;

188 
__BEGIN_NAMESPACE_STD


193 #iâdeà
__USE_FILE_OFFSET64


194 
FILE
 *
	$tmpfe
 (è
__wur
;

196 #ifdeà
__REDIRECT


197 
FILE
 *
	`__REDIRECT
 (
tmpfe
, (), 
tmpfe64
è
__wur
;

199 
	#tmpfe
 
tmpfe64


	)

203 #ifdeà
__USE_LARGEFILE64


204 
FILE
 *
	$tmpfe64
 (è
__wur
;

208 *
	$tm²am
 (*
__s
è
__THROW
 
__wur
;

209 
__END_NAMESPACE_STD


211 #ifdeà
__USE_MISC


214 *
	$tm²am_r
 (*
__s
è
__THROW
 
__wur
;

218 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


226 *
	$‹m²am
 (
__cÚ¡
 *
__dœ
, __cÚ¡ *
__pfx
)

227 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

231 
__BEGIN_NAMESPACE_STD


236 
	`fşo£
 (
FILE
 *
__¡»am
);

241 
	`fæush
 (
FILE
 *
__¡»am
);

242 
__END_NAMESPACE_STD


244 #ifdeà
__USE_MISC


251 
	`fæush_uÆocked
 (
FILE
 *
__¡»am
);

254 #ifdeà
__USE_GNU


261 
	`fşo£®l
 ();

265 
__BEGIN_NAMESPACE_STD


266 #iâdeà
__USE_FILE_OFFSET64


271 
FILE
 *
	$fİ’
 (
__cÚ¡
 *
__»¡riù
 
__f’ame
,

272 
__cÚ¡
 *
__»¡riù
 
__modes
è
__wur
;

277 
FILE
 *
	$äeİ’
 (
__cÚ¡
 *
__»¡riù
 
__f’ame
,

278 
__cÚ¡
 *
__»¡riù
 
__modes
,

279 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

281 #ifdeà
__REDIRECT


282 
FILE
 *
	`__REDIRECT
 (
fİ’
, (
__cÚ¡
 *
__»¡riù
 
__f’ame
,

283 
__cÚ¡
 *
__»¡riù
 
__modes
), 
fİ’64
)

284 
__wur
;

285 
FILE
 *
	`__REDIRECT
 (
äeİ’
, (
__cÚ¡
 *
__»¡riù
 
__f’ame
,

286 
__cÚ¡
 *
__»¡riù
 
__modes
,

287 
FILE
 *
__»¡riù
 
__¡»am
), 
äeİ’64
)

288 
__wur
;

290 
	#fİ’
 
fİ’64


	)

291 
	#äeİ’
 
äeİ’64


	)

294 
__END_NAMESPACE_STD


295 #ifdeà
__USE_LARGEFILE64


296 
FILE
 *
	$fİ’64
 (
__cÚ¡
 *
__»¡riù
 
__f’ame
,

297 
__cÚ¡
 *
__»¡riù
 
__modes
è
__wur
;

298 
FILE
 *
	$äeİ’64
 (
__cÚ¡
 *
__»¡riù
 
__f’ame
,

299 
__cÚ¡
 *
__»¡riù
 
__modes
,

300 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

303 #ifdef 
__USE_POSIX


305 
FILE
 *
	$fdİ’
 (
__fd
, 
__cÚ¡
 *
__modes
è
__THROW
 
__wur
;

308 #ifdef 
__USE_GNU


311 
FILE
 *
	$fİ’cook›
 (*
__»¡riù
 
__magic_cook›
,

312 
__cÚ¡
 *
__»¡riù
 
__modes
,

313 
_IO_cook›_io_funùiÚs_t
 
__io_funcs
è
__THROW
 
__wur
;

316 #ifdeà
__USE_XOPEN2K8


318 
FILE
 *
	$fmemİ’
 (*
__s
, 
size_t
 
__Ën
, 
__cÚ¡
 *
__modes
)

319 
__THROW
 
__wur
;

324 
FILE
 *
	$İ’_mem¡»am
 (**
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
 
__wur
;

328 
__BEGIN_NAMESPACE_STD


331 
	$£tbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
è
__THROW
;

335 
	$£tvbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

336 
__modes
, 
size_t
 
__n
è
__THROW
;

337 
__END_NAMESPACE_STD


339 #ifdef 
__USE_BSD


342 
	$£tbufãr
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

343 
size_t
 
__size
è
__THROW
;

346 
	$£šebuf
 (
FILE
 *
__¡»am
è
__THROW
;

350 
__BEGIN_NAMESPACE_STD


355 
	`årštf
 (
FILE
 *
__»¡riù
 
__¡»am
,

356 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...);

361 
	`´štf
 (
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...);

363 
	$¥rštf
 (*
__»¡riù
 
__s
,

364 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

370 
	`vårštf
 (
FILE
 *
__»¡riù
 
__s
, 
__cÚ¡
 *__»¡riù 
__fÜm©
,

371 
_G_va_li¡
 
__¬g
);

376 
	`v´štf
 (
__cÚ¡
 *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
);

378 
	$v¥rštf
 (*
__»¡riù
 
__s
, 
__cÚ¡
 *__»¡riù 
__fÜm©
,

379 
_G_va_li¡
 
__¬g
è
__THROW
;

380 
__END_NAMESPACE_STD


382 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_ISOC99
 || defšed 
__USE_UNIX98


383 
__BEGIN_NAMESPACE_C99


385 
	$¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

386 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...)

387 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

389 
	$v¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

390 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

391 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

392 
__END_NAMESPACE_C99


395 #ifdeà
__USE_GNU


398 
	$va¥rštf
 (**
__»¡riù
 
__±r
, 
__cÚ¡
 *__»¡riù 
__f
,

399 
_G_va_li¡
 
__¬g
)

400 
__THROW
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 0))è
__wur
;

401 
	$__a¥rštf
 (**
__»¡riù
 
__±r
,

402 
__cÚ¡
 *
__»¡riù
 
__fmt
, ...)

403 
__THROW
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

404 
	$a¥rštf
 (**
__»¡riù
 
__±r
,

405 
__cÚ¡
 *
__»¡riù
 
__fmt
, ...)

406 
__THROW
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

409 #ifdeà
__USE_XOPEN2K8


416 
	$vd´štf
 (
__fd
, 
__cÚ¡
 *
__»¡riù
 
__fmt
,

417 
_G_va_li¡
 
__¬g
)

418 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

419 
	$d´štf
 (
__fd
, 
__cÚ¡
 *
__»¡riù
 
__fmt
, ...)

420 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

424 
__BEGIN_NAMESPACE_STD


429 
	$fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

430 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...è
__wur
;

435 
	$sÿnf
 (
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...è
__wur
;

437 
	$ssÿnf
 (
__cÚ¡
 *
__»¡riù
 
__s
,

438 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

440 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

441 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

442 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

443 #ifdeà
__REDIRECT


447 
	`__REDIRECT
 (
fsÿnf
, (
FILE
 *
__»¡riù
 
__¡»am
,

448 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...),

449 
__isoc99_fsÿnf
è
__wur
;

450 
	`__REDIRECT
 (
sÿnf
, (
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...),

451 
__isoc99_sÿnf
è
__wur
;

452 
	`__REDIRECT
 (
ssÿnf
, (
__cÚ¡
 *
__»¡riù
 
__s
,

453 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...),

454 
__isoc99_ssÿnf
è
__THROW
;

456 
	$__isoc99_fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

457 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...è
__wur
;

458 
	$__isoc99_sÿnf
 (
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...è
__wur
;

459 
	$__isoc99_ssÿnf
 (
__cÚ¡
 *
__»¡riù
 
__s
,

460 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

461 
	#fsÿnf
 
__isoc99_fsÿnf


	)

462 
	#sÿnf
 
__isoc99_sÿnf


	)

463 
	#ssÿnf
 
__isoc99_ssÿnf


	)

467 
__END_NAMESPACE_STD


469 #ifdef 
__USE_ISOC99


470 
__BEGIN_NAMESPACE_C99


475 
	$vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
, 
__cÚ¡
 *__»¡riù 
__fÜm©
,

476 
_G_va_li¡
 
__¬g
)

477 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

483 
	$vsÿnf
 (
__cÚ¡
 *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

484 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

487 
	$vssÿnf
 (
__cÚ¡
 *
__»¡riù
 
__s
,

488 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

489 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

491 #ià!
defšed
 
__USE_GNU
 \

492 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

493 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

494 #ifdeà
__REDIRECT


498 
	`__REDIRECT
 (
vfsÿnf
,

499 (
FILE
 *
__»¡riù
 
__s
,

500 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
),

501 
__isoc99_vfsÿnf
)

502 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

503 
	`__REDIRECT
 (
vsÿnf
, (
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

504 
_G_va_li¡
 
__¬g
), 
__isoc99_vsÿnf
)

505 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

506 
	`__REDIRECT
 (
vssÿnf
,

507 (
__cÚ¡
 *
__»¡riù
 
__s
,

508 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
),

509 
__isoc99_vssÿnf
)

510 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

512 
	$__isoc99_vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
,

513 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

514 
_G_va_li¡
 
__¬g
è
__wur
;

515 
	$__isoc99_vsÿnf
 (
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

516 
_G_va_li¡
 
__¬g
è
__wur
;

517 
	$__isoc99_vssÿnf
 (
__cÚ¡
 *
__»¡riù
 
__s
,

518 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

519 
_G_va_li¡
 
__¬g
è
__THROW
;

520 
	#vfsÿnf
 
__isoc99_vfsÿnf


	)

521 
	#vsÿnf
 
__isoc99_vsÿnf


	)

522 
	#vssÿnf
 
__isoc99_vssÿnf


	)

526 
__END_NAMESPACE_C99


530 
__BEGIN_NAMESPACE_STD


535 
	`fg‘c
 (
FILE
 *
__¡»am
);

536 
	`g‘c
 (
FILE
 *
__¡»am
);

542 
	`g‘ch¬
 ();

543 
__END_NAMESPACE_STD


547 
	#g‘c
(
_å
è
	`_IO_g‘c
 (_å)

	)

549 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


554 
	`g‘c_uÆocked
 (
FILE
 *
__¡»am
);

555 
	`g‘ch¬_uÆocked
 ();

558 #ifdeà
__USE_MISC


565 
	`fg‘c_uÆocked
 (
FILE
 *
__¡»am
);

569 
__BEGIN_NAMESPACE_STD


577 
	`åutc
 (
__c
, 
FILE
 *
__¡»am
);

578 
	`putc
 (
__c
, 
FILE
 *
__¡»am
);

584 
	`putch¬
 (
__c
);

585 
__END_NAMESPACE_STD


589 
	#putc
(
_ch
, 
_å
è
	`_IO_putc
 (_ch, _å)

	)

591 #ifdeà
__USE_MISC


598 
	`åutc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

601 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


606 
	`putc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

607 
	`putch¬_uÆocked
 (
__c
);

611 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC
 \

612 || (
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

614 
	`g‘w
 (
FILE
 *
__¡»am
);

617 
	`putw
 (
__w
, 
FILE
 *
__¡»am
);

621 
__BEGIN_NAMESPACE_STD


626 *
	$fg‘s
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

627 
__wur
;

634 *
	$g‘s
 (*
__s
è
__wur
;

635 
__END_NAMESPACE_STD


637 #ifdeà
__USE_GNU


644 *
	$fg‘s_uÆocked
 (*
__»¡riù
 
__s
, 
__n
,

645 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

649 #ifdef 
__USE_XOPEN2K8


660 
_IO_ssize_t
 
	$__g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

661 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

662 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

663 
_IO_ssize_t
 
	$g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

664 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

665 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

673 
_IO_ssize_t
 
	$g‘lše
 (**
__»¡riù
 
__lš•Œ
,

674 
size_t
 *
__»¡riù
 
__n
,

675 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

679 
__BEGIN_NAMESPACE_STD


684 
	`åuts
 (
__cÚ¡
 *
__»¡riù
 
__s
, 
FILE
 *__»¡riù 
__¡»am
);

690 
	`puts
 (
__cÚ¡
 *
__s
);

697 
	`ung‘c
 (
__c
, 
FILE
 *
__¡»am
);

704 
size_t
 
	$ä—d
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

705 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

710 
size_t
 
	$fwr™e
 (
__cÚ¡
 *
__»¡riù
 
__±r
, 
size_t
 
__size
,

711 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__s
è
__wur
;

712 
__END_NAMESPACE_STD


714 #ifdeà
__USE_GNU


721 
	`åuts_uÆocked
 (
__cÚ¡
 *
__»¡riù
 
__s
,

722 
FILE
 *
__»¡riù
 
__¡»am
);

725 #ifdeà
__USE_MISC


732 
size_t
 
	$ä—d_uÆocked
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

733 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

734 
size_t
 
	$fwr™e_uÆocked
 (
__cÚ¡
 *
__»¡riù
 
__±r
, 
size_t
 
__size
,

735 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

739 
__BEGIN_NAMESPACE_STD


744 
	`f£ek
 (
FILE
 *
__¡»am
, 
__off
, 
__wh’û
);

749 
	$á–l
 (
FILE
 *
__¡»am
è
__wur
;

754 
	`»wšd
 (
FILE
 *
__¡»am
);

755 
__END_NAMESPACE_STD


762 #ià
defšed
 
__USE_LARGEFILE
 || defšed 
__USE_XOPEN2K


763 #iâdeà
__USE_FILE_OFFSET64


768 
	`f£eko
 (
FILE
 *
__¡»am
, 
__off_t
 
__off
, 
__wh’û
);

773 
__off_t
 
	$á–lo
 (
FILE
 *
__¡»am
è
__wur
;

775 #ifdeà
__REDIRECT


776 
	`__REDIRECT
 (
f£eko
,

777 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
),

778 
f£eko64
);

779 
__off64_t
 
	`__REDIRECT
 (
á–lo
, (
FILE
 *
__¡»am
), 
á–lo64
);

781 
	#f£eko
 
f£eko64


	)

782 
	#á–lo
 
á–lo64


	)

787 
__BEGIN_NAMESPACE_STD


788 #iâdeà
__USE_FILE_OFFSET64


793 
	`fg‘pos
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos_t
 *__»¡riù 
__pos
);

798 
	`f£os
 (
FILE
 *
__¡»am
, 
__cÚ¡
 
åos_t
 *
__pos
);

800 #ifdeà
__REDIRECT


801 
	`__REDIRECT
 (
fg‘pos
, (
FILE
 *
__»¡riù
 
__¡»am
,

802 
åos_t
 *
__»¡riù
 
__pos
), 
fg‘pos64
);

803 
	`__REDIRECT
 (
f£os
,

804 (
FILE
 *
__¡»am
, 
__cÚ¡
 
åos_t
 *
__pos
), 
f£os64
);

806 
	#fg‘pos
 
fg‘pos64


	)

807 
	#f£os
 
f£os64


	)

810 
__END_NAMESPACE_STD


812 #ifdeà
__USE_LARGEFILE64


813 
	`f£eko64
 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
);

814 
__off64_t
 
	$á–lo64
 (
FILE
 *
__¡»am
è
__wur
;

815 
	`fg‘pos64
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos64_t
 *__»¡riù 
__pos
);

816 
	`f£os64
 (
FILE
 *
__¡»am
, 
__cÚ¡
 
åos64_t
 *
__pos
);

819 
__BEGIN_NAMESPACE_STD


821 
	$ş—»¼
 (
FILE
 *
__¡»am
è
__THROW
;

823 
	$ãof
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

825 
	$ã¼Ü
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

826 
__END_NAMESPACE_STD


828 #ifdeà
__USE_MISC


830 
	$ş—»¼_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
;

831 
	$ãof_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

832 
	$ã¼Ü_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

836 
__BEGIN_NAMESPACE_STD


841 
	`³¼Ü
 (
__cÚ¡
 *
__s
);

842 
__END_NAMESPACE_STD


848 
	~<b™s/sys_”¾i¡.h
>

851 #ifdef 
__USE_POSIX


853 
	$f’o
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

856 #ifdeà
__USE_MISC


858 
	$f’o_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

862 #ià(
defšed
 
__USE_POSIX2
 || defšed 
__USE_SVID
 || defšed 
__USE_BSD
 || \

863 
defšed
 
__USE_MISC
)

868 
FILE
 *
	$pİ’
 (
__cÚ¡
 *
__commªd
, __cÚ¡ *
__modes
è
__wur
;

874 
	`pşo£
 (
FILE
 *
__¡»am
);

878 #ifdef 
__USE_POSIX


880 *
	$ù”mid
 (*
__s
è
__THROW
;

884 #ifdeà
__USE_XOPEN


886 *
	`cu£rid
 (*
__s
);

890 #ifdef 
__USE_GNU


891 
ob¡ack
;

894 
	$ob¡ack_´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

895 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...)

896 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

897 
	$ob¡ack_v´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

898 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

899 
_G_va_li¡
 
__¬gs
)

900 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

904 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


908 
	$æockfe
 (
FILE
 *
__¡»am
è
__THROW
;

912 
	$árylockfe
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

915 
	$fuÆockfe
 (
FILE
 *
__¡»am
è
__THROW
;

918 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


922 
	#__Ãed_g‘İt


	)

923 
	~<g‘İt.h
>

928 #ifdeà
__USE_EXTERN_INLINES


929 
	~<b™s/¡dio.h
>

931 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__ex‹º_®ways_šlše


932 
	~<b™s/¡dio2.h
>

934 #ifdeà
__LDBL_COMPAT


935 
	~<b™s/¡dio-ldbl.h
>

938 
__END_DECLS


	@/usr/include/stdlib.h

23 #iâdef 
_STDLIB_H


25 
	~<ã©u»s.h
>

28 
	#__Ãed_size_t


	)

29 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


30 
	#__Ãed_wch¬_t


	)

31 
	#__Ãed_NULL


	)

33 
	~<¡ddef.h
>

35 
	g__BEGIN_DECLS


37 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


38 
	#_STDLIB_H
 1

	)

40 #ià(
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8
è&& !defšed 
_SYS_WAIT_H


42 
	~<b™s/wa™æags.h
>

43 
	~<b™s/wa™¡©us.h
>

45 #ifdeà
__USE_BSD


50 #ià
defšed
 
__GNUC__
 && !defšed 
__ılu¥lus


51 
	#__WAIT_INT
(
¡©us
) \

52 (
	`__ex‹nsiÚ__
 (((uniÚ { 
	`__ty³of
(
¡©us
è
__š
; 
__i
; }) \

53 { .
__š
 = (
¡©us
è}).
__i
))

	)

55 
	#__WAIT_INT
(
¡©us
è(*(*è&(¡©us))

	)

63 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2 || defšed 
__ılu¥lus


64 
	#__WAIT_STATUS
 *

	)

65 
	#__WAIT_STATUS_DEFN
 *

	)

70 
wa™
 *
	m__u±r
;

71 *
	m__Œ
;

72 } 
	t__WAIT_STATUS
 
	t__©Œibu‹__
 ((
	t__Œª¥¬’t_uniÚ__
));

73 
	#__WAIT_STATUS_DEFN
 *

	)

78 
	#__WAIT_INT
(
¡©us
è(¡©us)

	)

79 
	#__WAIT_STATUS
 *

	)

80 
	#__WAIT_STATUS_DEFN
 *

	)

85 
	#WEXITSTATUS
(
¡©us
è
	`__WEXITSTATUS
 (
	`__WAIT_INT
 (¡©us))

	)

86 
	#WTERMSIG
(
¡©us
è
	`__WTERMSIG
 (
	`__WAIT_INT
 (¡©us))

	)

87 
	#WSTOPSIG
(
¡©us
è
	`__WSTOPSIG
 (
	`__WAIT_INT
 (¡©us))

	)

88 
	#WIFEXITED
(
¡©us
è
	`__WIFEXITED
 (
	`__WAIT_INT
 (¡©us))

	)

89 
	#WIFSIGNALED
(
¡©us
è
	`__WIFSIGNALED
 (
	`__WAIT_INT
 (¡©us))

	)

90 
	#WIFSTOPPED
(
¡©us
è
	`__WIFSTOPPED
 (
	`__WAIT_INT
 (¡©us))

	)

91 #ifdeà
__WIFCONTINUED


92 
	#WIFCONTINUED
(
¡©us
è
	`__WIFCONTINUED
 (
	`__WAIT_INT
 (¡©us))

	)

96 
__BEGIN_NAMESPACE_STD


100 
	mquÙ
;

101 
	m»m
;

102 } 
	tdiv_t
;

105 #iâdeà
__ldiv_t_defšed


108 
	mquÙ
;

109 
	m»m
;

110 } 
	tldiv_t
;

111 
	#__ldiv_t_defšed
 1

	)

113 
	g__END_NAMESPACE_STD


115 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__Îdiv_t_defšed


116 
__BEGIN_NAMESPACE_C99


118 
__ex‹nsiÚ__
 struct

120 
	mquÙ
;

121 
	m»m
;

122 } 
	tÎdiv_t
;

123 
	#__Îdiv_t_defšed
 1

	)

124 
	g__END_NAMESPACE_C99


129 
	#RAND_MAX
 2147483647

	)

134 
	#EXIT_FAILURE
 1

	)

135 
	#EXIT_SUCCESS
 0

	)

139 
	#MB_CUR_MAX
 (
	`__ùy³_g‘_mb_cur_max
 ())

	)

140 
size_t
 
	$__ùy³_g‘_mb_cur_max
 (è
__THROW
 
__wur
;

143 
__BEGIN_NAMESPACE_STD


145 
	$©of
 (
__cÚ¡
 *
__ÅŒ
)

146 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

148 
	$©oi
 (
__cÚ¡
 *
__ÅŒ
)

149 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

151 
	$©Ş
 (
__cÚ¡
 *
__ÅŒ
)

152 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

153 
__END_NAMESPACE_STD


155 #ià
defšed
 
__USE_ISOC99
 || (defšed 
__GLIBC_HAVE_LONG_LONG
 && defšed 
__USE_MISC
)

156 
__BEGIN_NAMESPACE_C99


158 
__ex‹nsiÚ__
 
	$©Şl
 (
__cÚ¡
 *
__ÅŒ
)

159 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

160 
__END_NAMESPACE_C99


163 
__BEGIN_NAMESPACE_STD


165 
	$¡¹od
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

166 **
__»¡riù
 
__’d±r
)

167 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

168 
__END_NAMESPACE_STD


170 #ifdef 
__USE_ISOC99


171 
__BEGIN_NAMESPACE_C99


173 
	$¡¹of
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

174 **
__»¡riù
 
__’d±r
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

176 
	$¡¹Şd
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

177 **
__»¡riù
 
__’d±r
)

178 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

179 
__END_NAMESPACE_C99


182 
__BEGIN_NAMESPACE_STD


184 
	$¡¹Ş
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

185 **
__»¡riù
 
__’d±r
, 
__ba£
)

186 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

188 
	$¡¹oul
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

189 **
__»¡riù
 
__’d±r
, 
__ba£
)

190 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

191 
__END_NAMESPACE_STD


193 #ià
defšed
 
__GLIBC_HAVE_LONG_LONG
 && defšed 
__USE_BSD


195 
__ex‹nsiÚ__


196 
	$¡¹oq
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

197 **
__»¡riù
 
__’d±r
, 
__ba£
)

198 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

200 
__ex‹nsiÚ__


201 
	$¡¹ouq
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

202 **
__»¡riù
 
__’d±r
, 
__ba£
)

203 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

206 #ià
defšed
 
__USE_ISOC99
 || (defšed 
__GLIBC_HAVE_LONG_LONG
 && defšed 
__USE_MISC
)

207 
__BEGIN_NAMESPACE_C99


209 
__ex‹nsiÚ__


210 
	$¡¹Şl
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

211 **
__»¡riù
 
__’d±r
, 
__ba£
)

212 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

214 
__ex‹nsiÚ__


215 
	$¡¹ouÎ
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

216 **
__»¡riù
 
__’d±r
, 
__ba£
)

217 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

218 
__END_NAMESPACE_C99


222 #ifdeà
__USE_GNU


236 
	~<xloÿË.h
>

240 
	$¡¹Ş_l
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

241 **
__»¡riù
 
__’d±r
, 
__ba£
,

242 
__loÿË_t
 
__loc
è
__THROW
 
	`__nÚnuÎ
 ((1, 4)è
__wur
;

244 
	$¡¹oul_l
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

245 **
__»¡riù
 
__’d±r
,

246 
__ba£
, 
__loÿË_t
 
__loc
)

247 
__THROW
 
	`__nÚnuÎ
 ((1, 4)è
__wur
;

249 
__ex‹nsiÚ__


250 
	$¡¹Şl_l
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

251 **
__»¡riù
 
__’d±r
, 
__ba£
,

252 
__loÿË_t
 
__loc
)

253 
__THROW
 
	`__nÚnuÎ
 ((1, 4)è
__wur
;

255 
__ex‹nsiÚ__


256 
	$¡¹ouÎ_l
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

257 **
__»¡riù
 
__’d±r
,

258 
__ba£
, 
__loÿË_t
 
__loc
)

259 
__THROW
 
	`__nÚnuÎ
 ((1, 4)è
__wur
;

261 
	$¡¹od_l
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

262 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

263 
__THROW
 
	`__nÚnuÎ
 ((1, 3)è
__wur
;

265 
	$¡¹of_l
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

266 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

267 
__THROW
 
	`__nÚnuÎ
 ((1, 3)è
__wur
;

269 
	$¡¹Şd_l
 (
__cÚ¡
 *
__»¡riù
 
__ÅŒ
,

270 **
__»¡riù
 
__’d±r
,

271 
__loÿË_t
 
__loc
)

272 
__THROW
 
	`__nÚnuÎ
 ((1, 3)è
__wur
;

276 #ifdeà
__USE_EXTERN_INLINES


277 
__BEGIN_NAMESPACE_STD


278 
__ex‹º_šlše
 

279 
	`__NTH
 (
	$©of
 (
__cÚ¡
 *
__ÅŒ
))

281  
	`¡¹od
 (
__ÅŒ
, (**è
NULL
);

282 
	}
}

283 
__ex‹º_šlše
 

284 
__NTH
 (
	$©oi
 (
__cÚ¡
 *
__ÅŒ
))

286  (è
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

287 
	}
}

288 
__ex‹º_šlše
 

289 
__NTH
 (
	$©Ş
 (
__cÚ¡
 *
__ÅŒ
))

291  
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

292 
	}
}

293 
	g__END_NAMESPACE_STD


295 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_ISOC99


296 
__BEGIN_NAMESPACE_C99


297 
__ex‹nsiÚ__
 
__ex‹º_šlše
 

298 
__NTH
 (
	$©Şl
 (
__cÚ¡
 *
__ÅŒ
))

300  
	`¡¹Şl
 (
__ÅŒ
, (**è
NULL
, 10);

301 
	}
}

302 
	g__END_NAMESPACE_C99


307 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN_EXTENDED


311 *
	$l64a
 (
__n
è
__THROW
 
__wur
;

314 
	$a64l
 (
__cÚ¡
 *
__s
)

315 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

319 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_BSD


320 
	~<sys/ty³s.h
>

327 
	$¿ndom
 (è
__THROW
;

330 
	$¤ªdom
 (
__£ed
è
__THROW
;

336 *
	$š™¡©e
 (
__£ed
, *
__¡©ebuf
,

337 
size_t
 
__¡©–’
è
__THROW
 
	`__nÚnuÎ
 ((2));

341 *
	$£t¡©e
 (*
__¡©ebuf
è
__THROW
 
	`__nÚnuÎ
 ((1));

344 #ifdeà
__USE_MISC


349 
	s¿ndom_d©a


351 
št32_t
 *
åŒ
;

352 
št32_t
 *
½Œ
;

353 
št32_t
 *
¡©e
;

354 
¿nd_ty³
;

355 
¿nd_deg
;

356 
¿nd_£p
;

357 
št32_t
 *
’d_±r
;

360 
	$¿ndom_r
 (
¿ndom_d©a
 *
__»¡riù
 
__buf
,

361 
št32_t
 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

363 
	$¤ªdom_r
 (
__£ed
, 
¿ndom_d©a
 *
__buf
)

364 
__THROW
 
	`__nÚnuÎ
 ((2));

366 
	$š™¡©e_r
 (
__£ed
, *
__»¡riù
 
__¡©ebuf
,

367 
size_t
 
__¡©–’
,

368 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

369 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

371 
	$£t¡©e_r
 (*
__»¡riù
 
__¡©ebuf
,

372 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

373 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

378 
__BEGIN_NAMESPACE_STD


380 
	$¿nd
 (è
__THROW
;

382 
	$¤ªd
 (
__£ed
è
__THROW
;

383 
__END_NAMESPACE_STD


385 #ifdeà
__USE_POSIX


387 
	$¿nd_r
 (*
__£ed
è
__THROW
;

391 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


395 
	$d¿nd48
 (è
__THROW
;

396 
	$”ªd48
 (
__xsubi
[3]è
__THROW
 
	`__nÚnuÎ
 ((1));

399 
	$Ìªd48
 (è
__THROW
;

400 
	$Äªd48
 (
__xsubi
[3])

401 
__THROW
 
	`__nÚnuÎ
 ((1));

404 
	$m¿nd48
 (è
__THROW
;

405 
	$j¿nd48
 (
__xsubi
[3])

406 
__THROW
 
	`__nÚnuÎ
 ((1));

409 
	$¤ªd48
 (
__£edv®
è
__THROW
;

410 *
	$£ed48
 (
__£ed16v
[3])

411 
__THROW
 
	`__nÚnuÎ
 ((1));

412 
	$lcÚg48
 (
__·¿m
[7]è
__THROW
 
	`__nÚnuÎ
 ((1));

414 #ifdeà
__USE_MISC


418 
	sd¿nd48_d©a


420 
__x
[3];

421 
__Şd_x
[3];

422 
__c
;

423 
__š™
;

424 
__a
;

428 
	$d¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

429 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

430 
	$”ªd48_r
 (
__xsubi
[3],

431 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

432 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

435 
	$Ìªd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

436 *
__»¡riù
 
__»suÉ
)

437 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

438 
	$Äªd48_r
 (
__xsubi
[3],

439 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

440 *
__»¡riù
 
__»suÉ
)

441 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

444 
	$m¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

445 *
__»¡riù
 
__»suÉ
)

446 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

447 
	$j¿nd48_r
 (
__xsubi
[3],

448 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

449 *
__»¡riù
 
__»suÉ
)

450 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

453 
	$¤ªd48_r
 (
__£edv®
, 
d¿nd48_d©a
 *
__bufãr
)

454 
__THROW
 
	`__nÚnuÎ
 ((2));

456 
	$£ed48_r
 (
__£ed16v
[3],

457 
d¿nd48_d©a
 *
__bufãr
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

459 
	$lcÚg48_r
 (
__·¿m
[7],

460 
d¿nd48_d©a
 *
__bufãr
)

461 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

467 #iâdeà
__m®loc_ªd_ÿÎoc_defšed


468 
	#__m®loc_ªd_ÿÎoc_defšed


	)

469 
__BEGIN_NAMESPACE_STD


471 *
	$m®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

473 *
	$ÿÎoc
 (
size_t
 
__nmemb
, size_ˆ
__size
)

474 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

475 
__END_NAMESPACE_STD


478 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


479 
__BEGIN_NAMESPACE_STD


485 *
	$»®loc
 (*
__±r
, 
size_t
 
__size
)

486 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

488 
	$ä“
 (*
__±r
è
__THROW
;

489 
__END_NAMESPACE_STD


491 #ifdef 
__USE_MISC


493 
	$cä“
 (*
__±r
è
__THROW
;

496 #ià
defšed
 
__USE_GNU
 || defšed 
__USE_BSD
 || defšed 
__USE_MISC


497 
	~<®loÿ.h
>

500 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

501 || 
defšed
 
__USE_BSD


503 *
	$v®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

506 #ifdeà
__USE_XOPEN2K


508 
	$posix_mem®ign
 (**
__mem±r
, 
size_t
 
__®ignm’t
, size_ˆ
__size
)

509 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

512 
__BEGIN_NAMESPACE_STD


514 
	$abÜt
 (è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

518 
	`©ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

520 #ifdeà
__USE_GNU


524 #ifdeà
__ılu¥lus


525 "C++" 
	`©_quick_ex™
 ((*
__func
) ())

526 
__THROW
 
	`__asm
 ("©_quick_ex™"è
	`__nÚnuÎ
 ((1));

528 
	`©_quick_ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

531 
__END_NAMESPACE_STD


533 #ifdef 
__USE_MISC


536 
	`Ú_ex™
 ((*
__func
è(
__¡©us
, *
__¬g
), *__arg)

537 
__THROW
 
	`__nÚnuÎ
 ((1));

540 
__BEGIN_NAMESPACE_STD


544 
	$ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

546 #ifdeà
__USE_GNU


552 
	$quick_ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

554 
__END_NAMESPACE_STD


556 #ifdeà
__USE_ISOC99


557 
__BEGIN_NAMESPACE_C99


560 
	$_Ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

561 
__END_NAMESPACE_C99


565 
__BEGIN_NAMESPACE_STD


567 *
	$g‘’v
 (
__cÚ¡
 *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

568 
__END_NAMESPACE_STD


572 *
	$__£cu»_g‘’v
 (
__cÚ¡
 *
__Çme
)

573 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

575 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


579 
	$pu‹nv
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

582 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN2K


585 
	$£‹nv
 (
__cÚ¡
 *
__Çme
, __cÚ¡ *
__v®ue
, 
__»¶aû
)

586 
__THROW
 
	`__nÚnuÎ
 ((2));

589 
	$un£‹nv
 (
__cÚ¡
 *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

592 #ifdef 
__USE_MISC


596 
	$ş—»nv
 (è
__THROW
;

600 #ià
defšed
 
__USE_MISC
 \

601 || (
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
)

606 *
	$mk‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

609 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
 \

610 || 
defšed
 
__USE_XOPEN2K8


619 #iâdeà
__USE_FILE_OFFSET64


620 
	$mk¡emp
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

622 #ifdeà
__REDIRECT


623 
	`__REDIRECT
 (
mk¡emp
, (*
__‹m¶©e
), 
mk¡emp64
)

624 
	`__nÚnuÎ
 ((1)è
__wur
;

626 
	#mk¡emp
 
mk¡emp64


	)

629 #ifdeà
__USE_LARGEFILE64


630 
	$mk¡emp64
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

634 #ifdeà
__USE_MISC


641 #iâdeà
__USE_FILE_OFFSET64


642 
	$mk¡emps
 (*
__‹m¶©e
, 
__suffixËn
è
	`__nÚnuÎ
 ((1)è
__wur
;

644 #ifdeà
__REDIRECT


645 
	`__REDIRECT
 (
mk¡emps
, (*
__‹m¶©e
, 
__suffixËn
),

646 
mk¡emps64
è
	`__nÚnuÎ
 ((1)è
__wur
;

648 
	#mk¡emps
 
mk¡emps64


	)

651 #ifdeà
__USE_LARGEFILE64


652 
	$mk¡emps64
 (*
__‹m¶©e
, 
__suffixËn
)

653 
	`__nÚnuÎ
 ((1)è
__wur
;

657 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN2K8


663 *
	$mkd‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

666 #ifdeà
__USE_GNU


673 #iâdeà
__USE_FILE_OFFSET64


674 
	$mko¡emp
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

676 #ifdeà
__REDIRECT


677 
	`__REDIRECT
 (
mko¡emp
, (*
__‹m¶©e
, 
__æags
), 
mko¡emp64
)

678 
	`__nÚnuÎ
 ((1)è
__wur
;

680 
	#mko¡emp
 
mko¡emp64


	)

683 #ifdeà
__USE_LARGEFILE64


684 
	$mko¡emp64
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

693 #iâdeà
__USE_FILE_OFFSET64


694 
	$mko¡emps
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

695 
	`__nÚnuÎ
 ((1)è
__wur
;

697 #ifdeà
__REDIRECT


698 
	`__REDIRECT
 (
mko¡emps
, (*
__‹m¶©e
, 
__suffixËn
,

699 
__æags
), 
mko¡emps64
)

700 
	`__nÚnuÎ
 ((1)è
__wur
;

702 
	#mko¡emps
 
mko¡emps64


	)

705 #ifdeà
__USE_LARGEFILE64


706 
	$mko¡emps64
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

707 
	`__nÚnuÎ
 ((1)è
__wur
;

712 
__BEGIN_NAMESPACE_STD


717 
	$sy¡em
 (
__cÚ¡
 *
__commªd
è
__wur
;

718 
__END_NAMESPACE_STD


721 #ifdef 
__USE_GNU


724 *
	$ÿnÚiÿlize_fe_Çme
 (
__cÚ¡
 *
__Çme
)

725 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

728 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


734 *
	$»®·th
 (
__cÚ¡
 *
__»¡riù
 
__Çme
,

735 *
__»¡riù
 
__»sŞved
è
__THROW
 
__wur
;

740 #iâdeà
__COMPAR_FN_T


741 
	#__COMPAR_FN_T


	)

742 (*
	t__com·r_â_t
è(
	t__cÚ¡
 *, __const *);

744 #ifdef 
__USE_GNU


745 
__com·r_â_t
 
	tcom·risÚ_â_t
;

748 #ifdeà
__USE_GNU


749 (*
	t__com·r_d_â_t
è(
	t__cÚ¡
 *, __const *, *);

752 
__BEGIN_NAMESPACE_STD


755 *
	$b£¬ch
 (
__cÚ¡
 *
__key
, __cÚ¡ *
__ba£
,

756 
size_t
 
__nmemb
, size_ˆ
__size
, 
__com·r_â_t
 
__com·r
)

757 
	`__nÚnuÎ
 ((1, 2, 5)è
__wur
;

761 
	$qsÜt
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

762 
__com·r_â_t
 
__com·r
è
	`__nÚnuÎ
 ((1, 4));

763 #ifdeà
__USE_GNU


764 
	$qsÜt_r
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

765 
__com·r_d_â_t
 
__com·r
, *
__¬g
)

766 
	`__nÚnuÎ
 ((1, 4));

771 
	$abs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

772 
	$Ïbs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

773 
__END_NAMESPACE_STD


775 #ifdeà
__USE_ISOC99


776 
__ex‹nsiÚ__
 
	$Îabs
 (
__x
)

777 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

781 
__BEGIN_NAMESPACE_STD


785 
div_t
 
	$div
 (
__num”
, 
__d’om
)

786 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

787 
ldiv_t
 
	$ldiv
 (
__num”
, 
__d’om
)

788 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

789 
__END_NAMESPACE_STD


791 #ifdeà
__USE_ISOC99


792 
__BEGIN_NAMESPACE_C99


793 
__ex‹nsiÚ__
 
Îdiv_t
 
	$Îdiv
 (
__num”
,

794 
__d’om
)

795 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

796 
__END_NAMESPACE_C99


800 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

801 || 
defšed
 
__USE_SVID


808 *
	$ecvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

809 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

814 *
	$fcvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

815 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

820 *
	$gcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

821 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

824 #ifdeà
__USE_MISC


826 *
	$qecvt
 (
__v®ue
, 
__ndig™
,

827 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

828 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

829 *
	$qfcvt
 (
__v®ue
, 
__ndig™
,

830 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

831 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

832 *
	$qgcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

833 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

838 
	$ecvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

839 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

840 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

841 
	$fcvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

842 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

843 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

845 
	$qecvt_r
 (
__v®ue
, 
__ndig™
,

846 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

847 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

848 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

849 
	$qfcvt_r
 (
__v®ue
, 
__ndig™
,

850 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

851 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

852 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

857 
__BEGIN_NAMESPACE_STD


860 
	$mbËn
 (
__cÚ¡
 *
__s
, 
size_t
 
__n
è
__THROW
 
__wur
;

863 
	$mbtowc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

864 
__cÚ¡
 *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
 
__wur
;

867 
	$wùomb
 (*
__s
, 
wch¬_t
 
__wch¬
è
__THROW
 
__wur
;

871 
size_t
 
	$mb¡owcs
 (
wch¬_t
 *
__»¡riù
 
__pwcs
,

872 
__cÚ¡
 *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

874 
size_t
 
	$wc¡ombs
 (*
__»¡riù
 
__s
,

875 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__pwcs
, 
size_t
 
__n
)

876 
__THROW
;

877 
__END_NAMESPACE_STD


880 #ifdeà
__USE_SVID


885 
	$½m©ch
 (
__cÚ¡
 *
__»¥Ú£
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

889 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


896 
	$g‘subİt
 (**
__»¡riù
 
__İtiÚp
,

897 *
__cÚ¡
 *
__»¡riù
 
__tok’s
,

898 **
__»¡riù
 
__v®u•
)

899 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3)è
__wur
;

903 #ifdeà
__USE_XOPEN


905 
	$£tkey
 (
__cÚ¡
 *
__key
è
__THROW
 
	`__nÚnuÎ
 ((1));

911 #ifdeà
__USE_XOPEN2KXSI


913 
	$posix_İ’±
 (
__oæag
è
__wur
;

916 #ifdeà
__USE_XOPEN


921 
	$g¿Á±
 (
__fd
è
__THROW
;

925 
	$uÆock±
 (
__fd
è
__THROW
;

930 *
	$±¢ame
 (
__fd
è
__THROW
 
__wur
;

933 #ifdeà
__USE_GNU


937 
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

938 
__THROW
 
	`__nÚnuÎ
 ((2));

941 
	`g‘±
 ();

944 #ifdeà
__USE_BSD


948 
	$g‘lßdavg
 (
__lßdavg
[], 
__ÃËm
)

949 
__THROW
 
	`__nÚnuÎ
 ((1));

954 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__ex‹º_®ways_šlše


955 
	~<b™s/¡dlib.h
>

957 #ifdeà
__LDBL_COMPAT


958 
	~<b™s/¡dlib-ldbl.h
>

962 #undeà
__Ãed_m®loc_ªd_ÿÎoc


964 
__END_DECLS


	@/usr/include/string.h

24 #iâdef 
_STRING_H


25 
	#_STRING_H
 1

	)

27 
	~<ã©u»s.h
>

29 
	g__BEGIN_DECLS


32 
	#__Ãed_size_t


	)

33 
	#__Ãed_NULL


	)

34 
	~<¡ddef.h
>

37 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

38 
	#__CORRECT_ISO_CPP_STRING_H_PROTO


	)

42 
__BEGIN_NAMESPACE_STD


44 *
	$memıy
 (*
__»¡riù
 
__de¡
,

45 
__cÚ¡
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

46 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

49 *
	$memmove
 (*
__de¡
, 
__cÚ¡
 *
__¤c
, 
size_t
 
__n
)

50 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

51 
__END_NAMESPACE_STD


56 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_BSD
 || defšed 
__USE_XOPEN


57 *
	$memcıy
 (*
__»¡riù
 
__de¡
, 
__cÚ¡
 *__»¡riù 
__¤c
,

58 
__c
, 
size_t
 
__n
)

59 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

63 
__BEGIN_NAMESPACE_STD


65 *
	$mem£t
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

68 
	$memcmp
 (
__cÚ¡
 *
__s1
, __cÚ¡ *
__s2
, 
size_t
 
__n
)

69 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

72 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


75 *
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

76 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

77 
__cÚ¡
 *
	`memchr
 (__cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

78 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

80 #ifdeà
__OPTIMIZE__


81 
__ex‹º_®ways_šlše
 *

82 
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW


84  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

87 
__ex‹º_®ways_šlše
 
__cÚ¡
 *

88 
	`memchr
 (
__cÚ¡
 *
__s
, 
__c
, 
size_t
 
__n
è
__THROW


90  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

93 
	}
}

95 *
	$memchr
 (
__cÚ¡
 *
__s
, 
__c
, 
size_t
 
__n
)

96 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

98 
__END_NAMESPACE_STD


100 #ifdeà
__USE_GNU


103 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


104 "C++" *
	$¿wmemchr
 (*
__s
, 
__c
)

105 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

106 "C++" 
__cÚ¡
 *
	$¿wmemchr
 (
__cÚ¡
 *
__s
, 
__c
)

107 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

109 *
	$¿wmemchr
 (
__cÚ¡
 *
__s
, 
__c
)

110 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

114 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


115 "C++" *
	$memrchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

116 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

117 "C++" 
__cÚ¡
 *
	$memrchr
 (
__cÚ¡
 *
__s
, 
__c
, 
size_t
 
__n
)

118 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

120 *
	$memrchr
 (
__cÚ¡
 *
__s
, 
__c
, 
size_t
 
__n
)

121 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

126 
__BEGIN_NAMESPACE_STD


128 *
	$¡rıy
 (*
__»¡riù
 
__de¡
, 
__cÚ¡
 *__»¡riù 
__¤c
)

129 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

131 *
	$¡ºıy
 (*
__»¡riù
 
__de¡
,

132 
__cÚ¡
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

133 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

136 *
	$¡rÿt
 (*
__»¡riù
 
__de¡
, 
__cÚ¡
 *__»¡riù 
__¤c
)

137 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

139 *
	$¡ºÿt
 (*
__»¡riù
 
__de¡
, 
__cÚ¡
 *__»¡riù 
__¤c
,

140 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

143 
	$¡rcmp
 (
__cÚ¡
 *
__s1
, __cÚ¡ *
__s2
)

144 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

146 
	$¡ºcmp
 (
__cÚ¡
 *
__s1
, __cÚ¡ *
__s2
, 
size_t
 
__n
)

147 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

150 
	$¡rcŞl
 (
__cÚ¡
 *
__s1
, __cÚ¡ *
__s2
)

151 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

153 
size_t
 
	$¡rxäm
 (*
__»¡riù
 
__de¡
,

154 
__cÚ¡
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

155 
__THROW
 
	`__nÚnuÎ
 ((2));

156 
__END_NAMESPACE_STD


158 #ifdeà
__USE_XOPEN2K8


162 
	~<xloÿË.h
>

165 
	$¡rcŞl_l
 (
__cÚ¡
 *
__s1
, __cÚ¡ *
__s2
, 
__loÿË_t
 
__l
)

166 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

168 
size_t
 
	$¡rxäm_l
 (*
__de¡
, 
__cÚ¡
 *
__¤c
, 
size_t
 
__n
,

169 
__loÿË_t
 
__l
è
__THROW
 
	`__nÚnuÎ
 ((2, 4));

172 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 \

173 || 
defšed
 
__USE_XOPEN2K8


175 *
	$¡rdup
 (
__cÚ¡
 *
__s
)

176 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

182 #ià
defšed
 
__USE_XOPEN2K8


183 *
	$¡ºdup
 (
__cÚ¡
 *
__¡ršg
, 
size_t
 
__n
)

184 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

187 #ià
defšed
 
__USE_GNU
 && defšed 
__GNUC__


189 
	#¡rdu·
(
s
) \

190 (
__ex‹nsiÚ__
 \

192 
__cÚ¡
 *
__Şd
 = (
s
); \

193 
size_t
 
__Ën
 = 
	`¡¾’
 (
__Şd
) + 1; \

194 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
); \

195 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

196 
	}
}))

	)

199 
	#¡ºdu·
(
s
, 
n
) \

200 (
__ex‹nsiÚ__
 \

202 
__cÚ¡
 *
__Şd
 = (
s
); \

203 
size_t
 
__Ën
 = 
	`¡ºËn
 (
__Şd
, (
n
)); \

204 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
 + 1); \

205 
__Ãw
[
__Ën
] = '\0'; \

206 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

207 }))

	)

210 
	g__BEGIN_NAMESPACE_STD


212 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


215 *
¡rchr
 (*
__s
, 
__c
)

216 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

217 
__cÚ¡
 *
¡rchr
 (__cÚ¡ *
__s
, 
__c
)

218 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

220 #ifdeà
__OPTIMIZE__


221 
__ex‹º_®ways_šlše
 *

222 
¡rchr
 (*
__s
, 
__c
è
	g__THROW


224  
__butš_¡rchr
 (
__s
, 
__c
);

227 
__ex‹º_®ways_šlše
 
__cÚ¡
 *

228 
¡rchr
 (
__cÚ¡
 *
__s
, 
__c
è
	g__THROW


230  
__butš_¡rchr
 (
__s
, 
__c
);

235 *
	$¡rchr
 (
__cÚ¡
 *
__s
, 
__c
)

236 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

239 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


242 *
	`¡¼chr
 (*
__s
, 
__c
)

243 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

244 
__cÚ¡
 *
	`¡¼chr
 (__cÚ¡ *
__s
, 
__c
)

245 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

247 #ifdeà
__OPTIMIZE__


248 
__ex‹º_®ways_šlše
 *

249 
	`¡¼chr
 (*
__s
, 
__c
è
__THROW


251  
	`__butš_¡¼chr
 (
__s
, 
__c
);

254 
__ex‹º_®ways_šlše
 
__cÚ¡
 *

255 
	`¡¼chr
 (
__cÚ¡
 *
__s
, 
__c
è
__THROW


257  
	`__butš_¡¼chr
 (
__s
, 
__c
);

260 
	}
}

262 *
	$¡¼chr
 (
__cÚ¡
 *
__s
, 
__c
)

263 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

265 
__END_NAMESPACE_STD


267 #ifdeà
__USE_GNU


270 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


271 "C++" *
	$¡rchºul
 (*
__s
, 
__c
)

272 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

273 "C++" 
__cÚ¡
 *
	$¡rchºul
 (
__cÚ¡
 *
__s
, 
__c
)

274 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

276 *
	$¡rchºul
 (
__cÚ¡
 *
__s
, 
__c
)

277 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

281 
__BEGIN_NAMESPACE_STD


284 
size_t
 
	$¡rc¥n
 (
__cÚ¡
 *
__s
, __cÚ¡ *
__»jeù
)

285 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

288 
size_t
 
	$¡r¥n
 (
__cÚ¡
 *
__s
, __cÚ¡ *
__acû±
)

289 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

291 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


294 *
	`¡½brk
 (*
__s
, 
__cÚ¡
 *
__acû±
)

295 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

296 
__cÚ¡
 *
	`¡½brk
 (__cÚ¡ *
__s
, __cÚ¡ *
__acû±
)

297 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

299 #ifdeà
__OPTIMIZE__


300 
__ex‹º_®ways_šlše
 *

301 
	`¡½brk
 (*
__s
, 
__cÚ¡
 *
__acû±
è
__THROW


303  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

306 
__ex‹º_®ways_šlše
 
__cÚ¡
 *

307 
	`¡½brk
 (
__cÚ¡
 *
__s
, __cÚ¡ *
__acû±
è
__THROW


309  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

312 
	}
}

314 *
	$¡½brk
 (
__cÚ¡
 *
__s
, __cÚ¡ *
__acû±
)

315 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

318 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


321 *
	`¡r¡r
 (*
__hay¡ack
, 
__cÚ¡
 *
__ÃedË
)

322 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

323 
__cÚ¡
 *
	`¡r¡r
 (__cÚ¡ *
__hay¡ack
,

324 
__cÚ¡
 *
__ÃedË
)

325 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

327 #ifdeà
__OPTIMIZE__


328 
__ex‹º_®ways_šlše
 *

329 
	`¡r¡r
 (*
__hay¡ack
, 
__cÚ¡
 *
__ÃedË
è
__THROW


331  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

334 
__ex‹º_®ways_šlše
 
__cÚ¡
 *

335 
	`¡r¡r
 (
__cÚ¡
 *
__hay¡ack
, __cÚ¡ *
__ÃedË
è
__THROW


337  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

340 
	}
}

342 *
	$¡r¡r
 (
__cÚ¡
 *
__hay¡ack
, __cÚ¡ *
__ÃedË
)

343 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

348 *
	$¡¹ok
 (*
__»¡riù
 
__s
, 
__cÚ¡
 *__»¡riù 
__d–im
)

349 
__THROW
 
	`__nÚnuÎ
 ((2));

350 
__END_NAMESPACE_STD


354 *
	$__¡¹ok_r
 (*
__»¡riù
 
__s
,

355 
__cÚ¡
 *
__»¡riù
 
__d–im
,

356 **
__»¡riù
 
__§ve_±r
)

357 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

358 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


359 *
	$¡¹ok_r
 (*
__»¡riù
 
__s
, 
__cÚ¡
 *__»¡riù 
__d–im
,

360 **
__»¡riù
 
__§ve_±r
)

361 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

364 #ifdeà
__USE_GNU


366 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


367 "C++" *
	$¡rÿ£¡r
 (*
__hay¡ack
, 
__cÚ¡
 *
__ÃedË
)

368 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

369 "C++" 
__cÚ¡
 *
	$¡rÿ£¡r
 (
__cÚ¡
 *
__hay¡ack
,

370 
__cÚ¡
 *
__ÃedË
)

371 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

373 *
	$¡rÿ£¡r
 (
__cÚ¡
 *
__hay¡ack
, __cÚ¡ *
__ÃedË
)

374 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

378 #ifdeà
__USE_GNU


382 *
	$memmem
 (
__cÚ¡
 *
__hay¡ack
, 
size_t
 
__hay¡ackËn
,

383 
__cÚ¡
 *
__ÃedË
, 
size_t
 
__ÃedËËn
)

384 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 3));

388 *
	$__mempıy
 (*
__»¡riù
 
__de¡
,

389 
__cÚ¡
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

390 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

391 *
	$mempıy
 (*
__»¡riù
 
__de¡
,

392 
__cÚ¡
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

393 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

397 
__BEGIN_NAMESPACE_STD


399 
size_t
 
	$¡¾’
 (
__cÚ¡
 *
__s
)

400 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

401 
__END_NAMESPACE_STD


403 #ifdef 
__USE_XOPEN2K8


406 
size_t
 
	$¡ºËn
 (
__cÚ¡
 *
__¡ršg
, 
size_t
 
__maxËn
)

407 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

411 
__BEGIN_NAMESPACE_STD


413 *
	$¡»¼Ü
 (
__”ºum
è
__THROW
;

414 
__END_NAMESPACE_STD


415 #ià
defšed
 
__USE_XOPEN2K
 || defšed 
__USE_MISC


423 #ià
defšed
 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


426 #ifdeà
__REDIRECT_NTH


427 
	`__REDIRECT_NTH
 (
¡»¼Ü_r
,

428 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
),

429 
__xpg_¡»¼Ü_r
è
	`__nÚnuÎ
 ((2));

431 
	$__xpg_¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

432 
__THROW
 
	`__nÚnuÎ
 ((2));

433 
	#¡»¼Ü_r
 
__xpg_¡»¼Ü_r


	)

438 *
	$¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

439 
__THROW
 
	`__nÚnuÎ
 ((2));

443 #ifdeà
__USE_XOPEN2K8


445 *
	$¡»¼Ü_l
 (
__”ºum
, 
__loÿË_t
 
__l
è
__THROW
;

451 
	$__bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

453 #ifdeà
__USE_BSD


455 
	$bcİy
 (
__cÚ¡
 *
__¤c
, *
__de¡
, 
size_t
 
__n
)

456 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

459 
	$bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

462 
	$bcmp
 (
__cÚ¡
 *
__s1
, __cÚ¡ *
__s2
, 
size_t
 
__n
)

463 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

466 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


469 *
	`šdex
 (*
__s
, 
__c
)

470 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

471 
__cÚ¡
 *
	`šdex
 (__cÚ¡ *
__s
, 
__c
)

472 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

474 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


475 
__ex‹º_®ways_šlše
 *

476 
	`šdex
 (*
__s
, 
__c
è
__THROW


478  
	`__butš_šdex
 (
__s
, 
__c
);

481 
__ex‹º_®ways_šlše
 
__cÚ¡
 *

482 
	`šdex
 (
__cÚ¡
 *
__s
, 
__c
è
__THROW


484  
	`__butš_šdex
 (
__s
, 
__c
);

487 
	}
}

489 *
	$šdex
 (
__cÚ¡
 *
__s
, 
__c
)

490 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

494 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


497 *
	`ršdex
 (*
__s
, 
__c
)

498 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

499 
__cÚ¡
 *
	`ršdex
 (__cÚ¡ *
__s
, 
__c
)

500 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

502 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


503 
__ex‹º_®ways_šlše
 *

504 
	`ršdex
 (*
__s
, 
__c
è
__THROW


506  
	`__butš_ršdex
 (
__s
, 
__c
);

509 
__ex‹º_®ways_šlše
 
__cÚ¡
 *

510 
	`ršdex
 (
__cÚ¡
 *
__s
, 
__c
è
__THROW


512  
	`__butš_ršdex
 (
__s
, 
__c
);

515 
	}
}

517 *
	$ršdex
 (
__cÚ¡
 *
__s
, 
__c
)

518 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

523 
	$ffs
 (
__i
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

527 #ifdef 
__USE_GNU


528 
	$ff¦
 (
__l
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

529 #ifdeà
__GNUC__


530 
__ex‹nsiÚ__
 
	$ff¦l
 (
__Î
)

531 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

536 
	$¡rÿ£cmp
 (
__cÚ¡
 *
__s1
, __cÚ¡ *
__s2
)

537 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

540 
	$¡ºÿ£cmp
 (
__cÚ¡
 *
__s1
, __cÚ¡ *
__s2
, 
size_t
 
__n
)

541 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

544 #ifdef 
__USE_GNU


547 
	$¡rÿ£cmp_l
 (
__cÚ¡
 *
__s1
, __cÚ¡ *
__s2
,

548 
__loÿË_t
 
__loc
)

549 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

551 
	$¡ºÿ£cmp_l
 (
__cÚ¡
 *
__s1
, __cÚ¡ *
__s2
,

552 
size_t
 
__n
, 
__loÿË_t
 
__loc
)

553 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 4));

556 #ifdef 
__USE_BSD


559 *
	$¡r£p
 (**
__»¡riù
 
__¡ršgp
,

560 
__cÚ¡
 *
__»¡riù
 
__d–im
)

561 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

564 #ifdef 
__USE_XOPEN2K8


566 *
	$¡rsigÇl
 (
__sig
è
__THROW
;

569 *
	$__¡pıy
 (*
__»¡riù
 
__de¡
, 
__cÚ¡
 *__»¡riù 
__¤c
)

570 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

571 *
	$¡pıy
 (*
__»¡riù
 
__de¡
, 
__cÚ¡
 *__»¡riù 
__¤c
)

572 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

576 *
	$__¡²ıy
 (*
__»¡riù
 
__de¡
,

577 
__cÚ¡
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

578 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

579 *
	$¡²ıy
 (*
__»¡riù
 
__de¡
,

580 
__cÚ¡
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

581 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

584 #ifdef 
__USE_GNU


586 
	$¡rv”scmp
 (
__cÚ¡
 *
__s1
, __cÚ¡ *
__s2
)

587 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

590 *
	$¡räy
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

593 *
	$memäob
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

595 #iâdeà
ba£Çme


600 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


601 "C++" *
	$ba£Çme
 (*
__f’ame
)

602 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

603 "C++" 
__cÚ¡
 *
	$ba£Çme
 (
__cÚ¡
 *
__f’ame
)

604 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

606 *
	$ba£Çme
 (
__cÚ¡
 *
__f’ame
è
__THROW
 
	`__nÚnuÎ
 ((1));

612 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

613 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__OPTIMIZE_SIZE__
 \

614 && !
defšed
 
__NO_INLINE__
 && !defšed 
__ılu¥lus


634 
	~<b™s/¡ršg.h
>

637 
	~<b™s/¡ršg2.h
>

640 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__ex‹º_®ways_šlše


642 
	~<b™s/¡ršg3.h
>

646 
__END_DECLS


	@/usr/include/time.h

23 #iâdef 
_TIME_H


25 #ià(! 
defšed
 
__Ãed_time_t
 && !defšed 
__Ãed_şock_t
 && \

26 ! 
defšed
 
	g__Ãed_time¥ec
)

27 
	#_TIME_H
 1

	)

28 
	~<ã©u»s.h
>

30 
	g__BEGIN_DECLS


34 #ifdef 
_TIME_H


36 
	#__Ãed_size_t


	)

37 
	#__Ãed_NULL


	)

38 
	~<¡ddef.h
>

42 
	~<b™s/time.h
>

45 #ià!
defšed
 
__STRICT_ANSI__
 && !defšed 
__USE_XOPEN2K


46 #iâdeà
CLK_TCK


47 
	#CLK_TCK
 
CLOCKS_PER_SEC


	)

53 #ià!
defšed
 
__şock_t_defšed
 && (defšed 
_TIME_H
 || defšed 
__Ãed_şock_t
)

54 
	#__şock_t_defšed
 1

	)

56 
	~<b™s/ty³s.h
>

58 
__BEGIN_NAMESPACE_STD


60 
__şock_t
 
	tşock_t
;

61 
	g__END_NAMESPACE_STD


62 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_POSIX
 || defšed 
__USE_MISC


63 
	$__USING_NAMESPACE_STD
(
şock_t
)

67 #undeà
__Ãed_şock_t


69 #ià!
defšed
 
__time_t_defšed
 && (defšed 
_TIME_H
 || defšed 
__Ãed_time_t
)

70 
	#__time_t_defšed
 1

	)

72 
	~<b™s/ty³s.h
>

74 
__BEGIN_NAMESPACE_STD


76 
__time_t
 
	ttime_t
;

77 
__END_NAMESPACE_STD


78 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC
 || defšed 
__USE_SVID


79 
	$__USING_NAMESPACE_STD
(
time_t
)

83 #undeà
__Ãed_time_t


85 #ià!
defšed
 
__şockid_t_defšed
 && \

86 ((
defšed
 
_TIME_H
 && defšed 
__USE_POSIX199309
è|| defšed 
__Ãed_şockid_t
)

87 
	#__şockid_t_defšed
 1

	)

89 
	~<b™s/ty³s.h
>

92 
__şockid_t
 
	tşockid_t
;

95 #undeà
__şockid_time_t


97 #ià!
defšed
 
__tim”_t_defšed
 && \

98 ((
defšed
 
_TIME_H
 && defšed 
__USE_POSIX199309
è|| defšed 
__Ãed_tim”_t
)

99 
	#__tim”_t_defšed
 1

	)

101 
	~<b™s/ty³s.h
>

104 
__tim”_t
 
	ttim”_t
;

107 #undeà
__Ãed_tim”_t


110 #ià!
defšed
 
__time¥ec_defšed
 && \

111 ((
defšed
 
_TIME_H
 && \

112 (
defšed
 
__USE_POSIX199309
 || defšed 
__USE_MISC
)) || \

113 
defšed
 
__Ãed_time¥ec
)

114 
	#__time¥ec_defšed
 1

	)

116 
	~<b™s/ty³s.h
>

120 
	stime¥ec


122 
__time_t
 
tv_£c
;

123 
tv_n£c
;

127 #undeà
__Ãed_time¥ec


130 #ifdef 
_TIME_H


131 
__BEGIN_NAMESPACE_STD


133 
	stm


135 
tm_£c
;

136 
tm_mš
;

137 
tm_hour
;

138 
tm_mday
;

139 
tm_mÚ
;

140 
tm_y—r
;

141 
tm_wday
;

142 
tm_yday
;

143 
tm_isd¡
;

145 #ifdef 
__USE_BSD


146 
tm_gmtoff
;

147 
__cÚ¡
 *
tm_zÚe
;

149 
__tm_gmtoff
;

150 
__cÚ¡
 *
__tm_zÚe
;

153 
__END_NAMESPACE_STD


154 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_POSIX
 || defšed 
__USE_MISC


155 
	$__USING_NAMESPACE_STD
(
tm
)

159 #ifdeà
__USE_POSIX199309


161 
	s™im”¥ec


163 
time¥ec
 
™_š‹rv®
;

164 
time¥ec
 
™_v®ue
;

168 
sigev’t
;

172 #ifdeà
__USE_XOPEN2K


173 #iâdeà
__pid_t_defšed


174 
__pid_t
 
	tpid_t
;

175 
	#__pid_t_defšed


	)

180 
__BEGIN_NAMESPACE_STD


183 
şock_t
 
	$şock
 (è
__THROW
;

186 
time_t
 
	$time
 (
time_t
 *
__tim”
è
__THROW
;

189 
	$difáime
 (
time_t
 
__time1
,ime_ˆ
__time0
)

190 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

193 
time_t
 
	$mktime
 (
tm
 *
__
è
__THROW
;

199 
size_t
 
	$¡ráime
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

200 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

201 
__cÚ¡
 
tm
 *
__»¡riù
 
__
è
__THROW
;

202 
__END_NAMESPACE_STD


204 #ifdeà
__USE_XOPEN


207 *
	$¡½time
 (
__cÚ¡
 *
__»¡riù
 
__s
,

208 
__cÚ¡
 *
__»¡riù
 
__fmt
, 
tm
 *
__
)

209 
__THROW
;

212 #ifdeà
__USE_XOPEN2K8


215 
	~<xloÿË.h
>

217 
size_t
 
	$¡ráime_l
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

218 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

219 
__cÚ¡
 
tm
 *
__»¡riù
 
__
,

220 
__loÿË_t
 
__loc
è
__THROW
;

223 #ifdeà
__USE_GNU


224 *
	$¡½time_l
 (
__cÚ¡
 *
__»¡riù
 
__s
,

225 
__cÚ¡
 *
__»¡riù
 
__fmt
, 
tm
 *
__
,

226 
__loÿË_t
 
__loc
è
__THROW
;

230 
__BEGIN_NAMESPACE_STD


233 
tm
 *
	$gmtime
 (
__cÚ¡
 
time_t
 *
__tim”
è
__THROW
;

237 
tm
 *
	$loÿÉime
 (
__cÚ¡
 
time_t
 *
__tim”
è
__THROW
;

238 
__END_NAMESPACE_STD


240 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


243 
tm
 *
	$gmtime_r
 (
__cÚ¡
 
time_t
 *
__»¡riù
 
__tim”
,

244 
tm
 *
__»¡riù
 
__
è
__THROW
;

248 
tm
 *
	$loÿÉime_r
 (
__cÚ¡
 
time_t
 *
__»¡riù
 
__tim”
,

249 
tm
 *
__»¡riù
 
__
è
__THROW
;

252 
__BEGIN_NAMESPACE_STD


255 *
	$asùime
 (
__cÚ¡
 
tm
 *
__
è
__THROW
;

258 *
	$ùime
 (
__cÚ¡
 
time_t
 *
__tim”
è
__THROW
;

259 
__END_NAMESPACE_STD


261 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


266 *
	$asùime_r
 (
__cÚ¡
 
tm
 *
__»¡riù
 
__
,

267 *
__»¡riù
 
__buf
è
__THROW
;

270 *
	$ùime_r
 (
__cÚ¡
 
time_t
 *
__»¡riù
 
__tim”
,

271 *
__»¡riù
 
__buf
è
__THROW
;

276 *
__tzÇme
[2];

277 
__daylight
;

278 
__timezÚe
;

281 #ifdef 
__USE_POSIX


283 *
tzÇme
[2];

287 
	$tz£t
 (è
__THROW
;

290 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


291 
daylight
;

292 
timezÚe
;

295 #ifdeà
__USE_SVID


298 
	$¡ime
 (
__cÚ¡
 
time_t
 *
__wh’
è
__THROW
;

304 
	#__i¦—p
(
y—r
) \

305 ((
y—r
è% 4 =ğ0 && ((y—rè% 100 !ğ0 || (y—rè% 400 =ğ0))

	)

308 #ifdeà
__USE_MISC


313 
time_t
 
	$timegm
 (
tm
 *
__
è
__THROW
;

316 
time_t
 
	$tim–oÿl
 (
tm
 *
__
è
__THROW
;

319 
	$dysize
 (
__y—r
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

323 #ifdeà
__USE_POSIX199309


328 
	`Çno¦“p
 (
__cÚ¡
 
time¥ec
 *
__»que¡ed_time
,

329 
time¥ec
 *
__»maššg
);

333 
	$şock_g‘»s
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__»s
è
__THROW
;

336 
	$şock_g‘time
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__
è
__THROW
;

339 
	$şock_£‰ime
 (
şockid_t
 
__şock_id
, 
__cÚ¡
 
time¥ec
 *
__
)

340 
__THROW
;

342 #ifdeà
__USE_XOPEN2K


347 
	`şock_Çno¦“p
 (
şockid_t
 
__şock_id
, 
__æags
,

348 
__cÚ¡
 
time¥ec
 *
__»q
,

349 
time¥ec
 *
__»m
);

352 
	$şock_g‘ıuşockid
 (
pid_t
 
__pid
, 
şockid_t
 *
__şock_id
è
__THROW
;

357 
	$tim”_ü—‹
 (
şockid_t
 
__şock_id
,

358 
sigev’t
 *
__»¡riù
 
__evp
,

359 
tim”_t
 *
__»¡riù
 
__tim”id
è
__THROW
;

362 
	$tim”_d–‘e
 (
tim”_t
 
__tim”id
è
__THROW
;

365 
	$tim”_£‰ime
 (
tim”_t
 
__tim”id
, 
__æags
,

366 
__cÚ¡
 
™im”¥ec
 *
__»¡riù
 
__v®ue
,

367 
™im”¥ec
 *
__»¡riù
 
__ov®ue
è
__THROW
;

370 
	$tim”_g‘time
 (
tim”_t
 
__tim”id
, 
™im”¥ec
 *
__v®ue
)

371 
__THROW
;

374 
	$tim”_g‘ov”run
 (
tim”_t
 
__tim”id
è
__THROW
;

378 #ifdeà
__USE_XOPEN_EXTENDED


390 
g‘d©e_”r
;

399 
tm
 *
	`g‘d©e
 (
__cÚ¡
 *
__¡ršg
);

402 #ifdeà
__USE_GNU


413 
	`g‘d©e_r
 (
__cÚ¡
 *
__»¡riù
 
__¡ršg
,

414 
tm
 *
__»¡riù
 
__»sbuå
);

417 
__END_DECLS


	@/usr/include/zlib.h

31 #iâdeà
ZLIB_H


32 
	#ZLIB_H


	)

34 
	~"zcÚf.h
"

36 #ifdeà
__ılu¥lus


40 
	#ZLIB_VERSION
 "1.2.3"

	)

41 
	#ZLIB_VERNUM
 0x1230

	)

77 
voidpf
 (*
	t®loc_func
è
	tOF
((
	tvoidpf
 
	tİaque
, 
	tuIÁ
 
	t™ems
, uIÁ 
	tsize
));

78 (*
ä“_func
è
	tOF
((
	tvoidpf
 
	tİaque
, voidpà
	tadd»ss
));

80 
š‹º®_¡©e
;

82 
	sz_¡»am_s
 {

83 
By‹f
 *
Ãxt_š
;

84 
uIÁ
 
ava_š
;

85 
uLÚg
 
tÙ®_š
;

87 
By‹f
 *
Ãxt_out
;

88 
uIÁ
 
ava_out
;

89 
uLÚg
 
tÙ®_out
;

91 *
msg
;

92 
š‹º®_¡©e
 
FAR
 *
¡©e
;

94 
®loc_func
 
z®loc
;

95 
ä“_func
 
zä“
;

96 
voidpf
 
İaque
;

98 
d©a_ty³
;

99 
uLÚg
 
adËr
;

100 
uLÚg
 
»£rved
;

101 } 
	tz_¡»am
;

103 
z_¡»am
 
	tFAR
 *
	tz_¡»amp
;

109 
	sgz_h—d”_s
 {

110 
‹xt
;

111 
uLÚg
 
time
;

112 
xæags
;

113 
os
;

114 
By‹f
 *
exŒa
;

115 
uIÁ
 
exŒa_Ën
;

116 
uIÁ
 
exŒa_max
;

117 
By‹f
 *
Çme
;

118 
uIÁ
 
Çme_max
;

119 
By‹f
 *
comm’t
;

120 
uIÁ
 
comm_max
;

121 
hüc
;

122 
dÚe
;

124 } 
	tgz_h—d”
;

126 
gz_h—d”
 
	tFAR
 *
	tgz_h—d”p
;

162 
	#Z_NO_FLUSH
 0

	)

163 
	#Z_PARTIAL_FLUSH
 1

	)

164 
	#Z_SYNC_FLUSH
 2

	)

165 
	#Z_FULL_FLUSH
 3

	)

166 
	#Z_FINISH
 4

	)

167 
	#Z_BLOCK
 5

	)

170 
	#Z_OK
 0

	)

171 
	#Z_STREAM_END
 1

	)

172 
	#Z_NEED_DICT
 2

	)

173 
	#Z_ERRNO
 (-1)

	)

174 
	#Z_STREAM_ERROR
 (-2)

	)

175 
	#Z_DATA_ERROR
 (-3)

	)

176 
	#Z_MEM_ERROR
 (-4)

	)

177 
	#Z_BUF_ERROR
 (-5)

	)

178 
	#Z_VERSION_ERROR
 (-6)

	)

183 
	#Z_NO_COMPRESSION
 0

	)

184 
	#Z_BEST_SPEED
 1

	)

185 
	#Z_BEST_COMPRESSION
 9

	)

186 
	#Z_DEFAULT_COMPRESSION
 (-1)

	)

189 
	#Z_FILTERED
 1

	)

190 
	#Z_HUFFMAN_ONLY
 2

	)

191 
	#Z_RLE
 3

	)

192 
	#Z_FIXED
 4

	)

193 
	#Z_DEFAULT_STRATEGY
 0

	)

196 
	#Z_BINARY
 0

	)

197 
	#Z_TEXT
 1

	)

198 
	#Z_ASCII
 
Z_TEXT


	)

199 
	#Z_UNKNOWN
 2

	)

202 
	#Z_DEFLATED
 8

	)

205 
	#Z_NULL
 0

	)

207 
	#zlib_v”siÚ
 
	`zlibV”siÚ
()

	)

212 
ZEXTERN
 cÚ¡ * 
ZEXPORT
 
zlibV”siÚ
 
OF
(());

242 
ZEXTERN
 
ZEXPORT
 
deæ©e
 
OF
((
z_¡»amp
 
¡rm
, 
æush
));

328 
ZEXTERN
 
ZEXPORT
 
deæ©eEnd
 
OF
((
z_¡»amp
 
¡rm
));

363 
ZEXTERN
 
ZEXPORT
 
šæ©e
 
OF
((
z_¡»amp
 
¡rm
, 
æush
));

462 
ZEXTERN
 
ZEXPORT
 
šæ©eEnd
 
OF
((
z_¡»amp
 
¡rm
));

538 
ZEXTERN
 
ZEXPORT
 
deæ©eS‘DiùiÚ¬y
 
OF
((
z_¡»amp
 
¡rm
,

539 cÚ¡ 
By‹f
 *
diùiÚ¬y
,

540 
uIÁ
 
diùL’gth
));

577 
ZEXTERN
 
ZEXPORT
 
deæ©eCİy
 
OF
((
z_¡»amp
 
de¡
,

578 
z_¡»amp
 
sourû
));

595 
ZEXTERN
 
ZEXPORT
 
deæ©eRe£t
 
OF
((
z_¡»amp
 
¡rm
));

606 
ZEXTERN
 
ZEXPORT
 
deæ©eP¬ams
 
OF
((
z_¡»amp
 
¡rm
,

607 
Ëv–
,

608 
¡¿‹gy
));

627 
ZEXTERN
 
ZEXPORT
 
deæ©eTuÃ
 
OF
((
z_¡»amp
 
¡rm
,

628 
good_Ëngth
,

629 
max_Ïzy
,

630 
niû_Ëngth
,

631 
max_chaš
));

644 
ZEXTERN
 
uLÚg
 
ZEXPORT
 
deæ©eBound
 
OF
((
z_¡»amp
 
¡rm
,

645 
uLÚg
 
sourûL’
));

653 
ZEXTERN
 
ZEXPORT
 
deæ©ePrime
 
OF
((
z_¡»amp
 
¡rm
,

654 
b™s
,

655 
v®ue
));

669 
ZEXTERN
 
ZEXPORT
 
deæ©eS‘H—d”
 
OF
((
z_¡»amp
 
¡rm
,

670 
gz_h—d”p
 
h—d
));

736 
ZEXTERN
 
ZEXPORT
 
šæ©eS‘DiùiÚ¬y
 
OF
((
z_¡»amp
 
¡rm
,

737 cÚ¡ 
By‹f
 *
diùiÚ¬y
,

738 
uIÁ
 
diùL’gth
));

758 
ZEXTERN
 
ZEXPORT
 
šæ©eSync
 
OF
((
z_¡»amp
 
¡rm
));

773 
ZEXTERN
 
ZEXPORT
 
šæ©eCİy
 
OF
((
z_¡»amp
 
de¡
,

774 
z_¡»amp
 
sourû
));

789 
ZEXTERN
 
ZEXPORT
 
šæ©eRe£t
 
OF
((
z_¡»amp
 
¡rm
));

799 
ZEXTERN
 
ZEXPORT
 
šæ©ePrime
 
OF
((
z_¡»amp
 
¡rm
,

800 
b™s
,

801 
v®ue
));

815 
ZEXTERN
 
ZEXPORT
 
šæ©eG‘H—d”
 
OF
((
z_¡»amp
 
¡rm
,

816 
gz_h—d”p
 
h—d
));

877 (*
š_func
è
	tOF
((
	tFAR
 *, FAR * FAR *));

878 (*
out_func
è
	tOF
((
	tFAR
 *, FAR *, ));

880 
ZEXTERN
 
ZEXPORT
 
šæ©eBack
 
OF
((
z_¡»amp
 
¡rm
,

881 
š_func
 
š
, 
FAR
 *
š_desc
,

882 
out_func
 
out
, 
FAR
 *
out_desc
));

949 
ZEXTERN
 
ZEXPORT
 
šæ©eBackEnd
 
OF
((
z_¡»amp
 
¡rm
));

957 
ZEXTERN
 
uLÚg
 
ZEXPORT
 
zlibCompeFÏgs
 
OF
(());

1009 
ZEXTERN
 
ZEXPORT
 
com´ess
 
OF
((
By‹f
 *
de¡
, 
uLÚgf
 *
de¡L’
,

1010 cÚ¡ 
By‹f
 *
sourû
, 
uLÚg
 
sourûL’
));

1024 
ZEXTERN
 
ZEXPORT
 
com´ess2
 
OF
((
By‹f
 *
de¡
, 
uLÚgf
 *
de¡L’
,

1025 cÚ¡ 
By‹f
 *
sourû
, 
uLÚg
 
sourûL’
,

1026 
Ëv–
));

1040 
ZEXTERN
 
uLÚg
 
ZEXPORT
 
com´essBound
 
OF
((uLÚg 
sourûL’
));

1047 
ZEXTERN
 
ZEXPORT
 
uncom´ess
 
OF
((
By‹f
 *
de¡
, 
uLÚgf
 *
de¡L’
,

1048 cÚ¡ 
By‹f
 *
sourû
, 
uLÚg
 
sourûL’
));

1066 
voidp
 
	tgzFe
;

1068 
ZEXTERN
 
gzFe
 
ZEXPORT
 
gzİ’
 
OF
((cÚ¡ *
·th
, cÚ¡ *
mode
));

1085 
ZEXTERN
 
gzFe
 
ZEXPORT
 
gzdİ’
 
OF
((
fd
, cÚ¡ *
mode
));

1098 
ZEXTERN
 
ZEXPORT
 
gz£¬ams
 
OF
((
gzFe
 
fe
, 
Ëv–
, 
¡¿‹gy
));

1106 
ZEXTERN
 
ZEXPORT
 
gz»ad
 
OF
((
gzFe
 
fe
, 
voidp
 
buf
, 
Ën
));

1114 
ZEXTERN
 
ZEXPORT
 
gzwr™e
 
OF
((
gzFe
 
fe
,

1115 
voidpc
 
buf
, 
Ën
));

1122 
ZEXTERN
 
ZEXPORTVA
 
gz´štf
 
OF
((
gzFe
 
fe
, cÚ¡ *
fÜm©
, ...));

1135 
ZEXTERN
 
ZEXPORT
 
gzputs
 
OF
((
gzFe
 
fe
, cÚ¡ *
s
));

1142 
ZEXTERN
 * 
ZEXPORT
 
gzg‘s
 
OF
((
gzFe
 
fe
, *
buf
, 
Ën
));

1151 
ZEXTERN
 
ZEXPORT
 
gzputc
 
OF
((
gzFe
 
fe
, 
c
));

1157 
ZEXTERN
 
ZEXPORT
 
gzg‘c
 
OF
((
gzFe
 
fe
));

1163 
ZEXTERN
 
ZEXPORT
 
gzung‘c
 
OF
((
c
, 
gzFe
 
fe
));

1173 
ZEXTERN
 
ZEXPORT
 
gzæush
 
OF
((
gzFe
 
fe
, 
æush
));

1183 
ZEXTERN
 
z_off_t
 
ZEXPORT
 
gz£ek
 
OF
((
gzFe
 
fe
,

1184 
z_off_t
 
off£t
, 
wh’û
));

1201 
ZEXTERN
 
ZEXPORT
 
gz»wšd
 
OF
((
gzFe
 
fe
));

1208 
ZEXTERN
 
z_off_t
 
ZEXPORT
 
gz‹Î
 
OF
((
gzFe
 
fe
));

1217 
ZEXTERN
 
ZEXPORT
 
gzeof
 
OF
((
gzFe
 
fe
));

1223 
ZEXTERN
 
ZEXPORT
 
gzdœeù
 
OF
((
gzFe
 
fe
));

1229 
ZEXTERN
 
ZEXPORT
 
gzşo£
 
OF
((
gzFe
 
fe
));

1236 
ZEXTERN
 cÚ¡ * 
ZEXPORT
 
gz”rÜ
 
OF
((
gzFe
 
fe
, *
”ºum
));

1245 
ZEXTERN
 
ZEXPORT
 
gzş—»¼
 
OF
((
gzFe
 
fe
));

1260 
ZEXTERN
 
uLÚg
 
ZEXPORT
 
adËr32
 
OF
((uLÚg 
adËr
, cÚ¡ 
By‹f
 *
buf
, 
uIÁ
 
Ën
));

1276 
ZEXTERN
 
uLÚg
 
ZEXPORT
 
adËr32_combše
 
OF
((uLÚg 
adËr1
, uLÚg 
adËr2
,

1277 
z_off_t
 
Ën2
));

1285 
ZEXTERN
 
uLÚg
 
ZEXPORT
 
üc32
 
OF
((uLÚg 
üc
, cÚ¡ 
By‹f
 *
buf
, 
uIÁ
 
Ën
));

1301 
ZEXTERN
 
uLÚg
 
ZEXPORT
 
üc32_combše
 
OF
((uLÚg 
üc1
, uLÚg 
üc2
, 
z_off_t
 
Ën2
));

1317 
ZEXTERN
 
ZEXPORT
 
deæ©eIn™_
 
OF
((
z_¡»amp
 
¡rm
, 
Ëv–
,

1318 cÚ¡ *
v”siÚ
, 
¡»am_size
));

1319 
ZEXTERN
 
ZEXPORT
 
šæ©eIn™_
 
OF
((
z_¡»amp
 
¡rm
,

1320 cÚ¡ *
v”siÚ
, 
¡»am_size
));

1321 
ZEXTERN
 
ZEXPORT
 
deæ©eIn™2_
 
OF
((
z_¡»amp
 
¡rm
, 
Ëv–
, 
m‘hod
,

1322 
wšdowB™s
, 
memLev–
,

1323 
¡¿‹gy
, cÚ¡ *
v”siÚ
,

1324 
¡»am_size
));

1325 
ZEXTERN
 
ZEXPORT
 
šæ©eIn™2_
 
OF
((
z_¡»amp
 
¡rm
, 
wšdowB™s
,

1326 cÚ¡ *
v”siÚ
, 
¡»am_size
));

1327 
ZEXTERN
 
ZEXPORT
 
šæ©eBackIn™_
 
OF
((
z_¡»amp
 
¡rm
, 
wšdowB™s
,

1328 
FAR
 *
wšdow
,

1329 cÚ¡ *
v”siÚ
,

1330 
¡»am_size
));

1331 
	#deæ©eIn™
(
¡rm
, 
Ëv–
) \

1332 
	`deæ©eIn™_
((
¡rm
), (
Ëv–
), 
ZLIB_VERSION
, (
z_¡»am
))

	)

1333 
	#šæ©eIn™
(
¡rm
) \

1334 
	`šæ©eIn™_
((
¡rm
), 
ZLIB_VERSION
, (
z_¡»am
))

	)

1335 
	#deæ©eIn™2
(
¡rm
, 
Ëv–
, 
m‘hod
, 
wšdowB™s
, 
memLev–
, 
¡¿‹gy
) \

1336 
	`deæ©eIn™2_
((
¡rm
),(
Ëv–
),(
m‘hod
),(
wšdowB™s
),(
memLev–
),\

1337 (
¡¿‹gy
), 
ZLIB_VERSION
, (
z_¡»am
))

	)

1338 
	#šæ©eIn™2
(
¡rm
, 
wšdowB™s
) \

1339 
	`šæ©eIn™2_
((
¡rm
), (
wšdowB™s
), 
ZLIB_VERSION
, (
z_¡»am
))

	)

1340 
	#šæ©eBackIn™
(
¡rm
, 
wšdowB™s
, 
wšdow
) \

1341 
	`šæ©eBackIn™_
((
¡rm
), (
wšdowB™s
), (
wšdow
), \

1342 
ZLIB_VERSION
, (
z_¡»am
))

	)

1345 #ià!
defšed
(
ZUTIL_H
è&& !defšed(
NO_DUMMY_DECL
)

1346 
	sš‹º®_¡©e
 {
dummy
;};

1349 
ZEXTERN
 cÚ¡ * 
ZEXPORT
 
zE¼Ü
 
OF
(());

1350 
ZEXTERN
 
ZEXPORT
 
šæ©eSyncPošt
 
OF
((
z_¡»amp
 
z
));

1351 
ZEXTERN
 cÚ¡ 
uLÚgf
 * 
ZEXPORT
 
g‘_üc_bË
 
OF
(());

1353 #ifdeà
__ılu¥lus


	@mem_fetch_status.tup

28 
	$MF_TUP_BEGIN
Ğ
mem_ãtch_¡©us
 )

29 
	`MF_TUP
Ğ
MEM_FETCH_INITIALIZED
 ),

30 
	`MF_TUP
Ğ
IN_L1I_MISS_QUEUE
 ),

31 
	`MF_TUP
Ğ
IN_L1D_MISS_QUEUE
 ),

32 
	`MF_TUP
Ğ
IN_L1T_MISS_QUEUE
 ),

33 
	`MF_TUP
Ğ
IN_L1C_MISS_QUEUE
 ),

34 
	`MF_TUP
Ğ
IN_L1TLB_MISS_QUEUE
 ),

35 
	`MF_TUP
Ğ
IN_VM_MANAGER_QUEUE
 ),

36 
	`MF_TUP
Ğ
IN_ICNT_TO_MEM
 ),

37 
	`MF_TUP
Ğ
IN_PARTITION_ROP_DELAY
 ),

38 
	`MF_TUP
Ğ
IN_PARTITION_ICNT_TO_L2_QUEUE
 ),

39 
	`MF_TUP
Ğ
IN_PARTITION_L2_TO_DRAM_QUEUE
 ),

40 
	`MF_TUP
Ğ
IN_PARTITION_DRAM_LATENCY_QUEUE
 ),

41 
	`MF_TUP
Ğ
IN_PARTITION_L2_MISS_QUEUE
 ),

42 
	`MF_TUP
Ğ
IN_PARTITION_MC_INTERFACE_QUEUE
 ),

43 
	`MF_TUP
Ğ
IN_PARTITION_MC_INPUT_QUEUE
 ),

44 
	`MF_TUP
Ğ
IN_PARTITION_MC_BANK_ARB_QUEUE
 ),

45 
	`MF_TUP
Ğ
IN_PARTITION_DRAM
 ),

46 
	`MF_TUP
Ğ
IN_PARTITION_MC_RETURNQ
 ),

47 
	`MF_TUP
Ğ
IN_PARTITION_DRAM_TO_L2_QUEUE
 ),

48 
	`MF_TUP
Ğ
IN_PARTITION_L2_FILL_QUEUE
 ),

49 
	`MF_TUP
Ğ
IN_PARTITION_L2_TO_ICNT_QUEUE
 ),

50 
	`MF_TUP
Ğ
IN_ICNT_TO_SHADER
 ),

51 
	`MF_TUP
Ğ
IN_CLUSTER_TO_SHADER_QUEUE
 ),

52 
	`MF_TUP
Ğ
IN_SHADER_LDST_RESPONSE_FIFO
 ),

53 
	`MF_TUP
Ğ
IN_SHADER_FETCHED
 ),

54 
	`MF_TUP
Ğ
IN_SHADER_L1T_ROB
 ),

55 
	`MF_TUP
Ğ
MEM_FETCH_DELETED
 ),

56 
	$MF_TUP
Ğ
NUM_MEM_REQ_STAT
 )

57 
	`MF_TUP_END
Ğ
mem_ãtch_¡©us
 )

	@/usr/include/alloca.h

19 #iâdef 
_ALLOCA_H


20 
	#_ALLOCA_H
 1

	)

22 
	~<ã©u»s.h
>

24 
	#__Ãed_size_t


	)

25 
	~<¡ddef.h
>

27 
	g__BEGIN_DECLS


30 #undeà
®loÿ


33 *
	$®loÿ
 (
size_t
 
__size
è
__THROW
;

35 #ifdef 
__GNUC__


36 
	#®loÿ
(
size
è
	`__butš_®loÿ
 (size)

	)

39 
__END_DECLS


	@/usr/include/bits/huge_val.h

22 #iâdeà
_MATH_H


28 #ià
__GNUC_PREREQ
(3,3)

29 
	#HUGE_VAL
 (
	`__butš_huge_v®
())

	)

30 #–ià
__GNUC_PREREQ
(2,96)

31 
	#HUGE_VAL
 (
__ex‹nsiÚ__
 0x1.0
p2047
)

	)

32 #–ià
defšed
 
__GNUC__


34 
	#HUGE_VAL
 \

35 (
__ex‹nsiÚ__
 \

36 ((uniÚ { 
__l
 
	`__©Œibu‹__
((
	`__mode__
(
__DI__
))); 
__d
; }) \

37 { 
__l
: 0x7ff0000000000000ULL }).
__d
)

	)

41 
	~<’dŸn.h
>

43 uniÚ { 
	m__c
[8]; 
	m__d
; } 
	t__huge_v®_t
;

45 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


46 
	#__HUGE_VAL_by‹s
 { 0x7f, 0xf0, 0, 0, 0, 0, 0, 0 }

	)

48 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


49 
	#__HUGE_VAL_by‹s
 { 0, 0, 0, 0, 0, 0, 0xf0, 0x7à}

	)

52 
__huge_v®_t
 
	g__huge_v®
 = { 
__HUGE_VAL_by‹s
 };

53 
	#HUGE_VAL
 (
__huge_v®
.
__d
)

	)

	@/usr/include/bits/huge_valf.h

22 #iâdeà
_MATH_H


28 #ià
__GNUC_PREREQ
(3,3)

29 
	#HUGE_VALF
 (
	`__butš_huge_v®f
())

	)

30 #–ià
__GNUC_PREREQ
(2,96)

31 
	#HUGE_VALF
 (
__ex‹nsiÚ__
 0x1.0
p255f
)

	)

32 #–ià
defšed
 
__GNUC__


34 
	#HUGE_VALF
 \

35 (
__ex‹nsiÚ__
 \

36 ((uniÚ { 
__l
 
	`__©Œibu‹__
((
	`__mode__
(
__SI__
))); 
__d
; }) \

37 { 
__l
: 0x7f800000UL }).
__d
)

	)

41 uniÚ { 
	m__c
[4]; 
	m__f
; } 
	t__huge_v®f_t
;

43 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


44 
	#__HUGE_VALF_by‹s
 { 0x7f, 0x80, 0, 0 }

	)

46 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


47 
	#__HUGE_VALF_by‹s
 { 0, 0, 0x80, 0x7à}

	)

50 
__huge_v®f_t
 
	g__huge_v®f
 = { 
__HUGE_VALF_by‹s
 };

51 
	#HUGE_VALF
 (
__huge_v®f
.
__f
)

	)

	@/usr/include/bits/huge_vall.h

21 #iâdeà
_MATH_H


25 #ià
__GNUC_PREREQ
(3,3)

26 
	#HUGE_VALL
 (
	`__butš_huge_v®l
())

	)

28 
	#HUGE_VALL
 ((è
HUGE_VAL
)

	)

	@/usr/include/bits/inf.h

20 #iâdeà
_MATH_H


26 #ià
__GNUC_PREREQ
(3,3)

27 
	#INFINITY
 (
	`__butš_šff
())

	)

29 
	#INFINITY
 
HUGE_VALF


	)

	@/usr/include/bits/mathcalls.h

46 #iâdeà
_MATH_H


53 
_MdoubË_BEGIN_NAMESPACE


55 
__MATHCALL
 (
acos
,, (
_MdoubË_
 
__x
));

57 
__MATHCALL
 (
asš
,, (
_MdoubË_
 
__x
));

59 
__MATHCALL
 (
©ª
,, (
_MdoubË_
 
__x
));

61 
__MATHCALL
 (
©ª2
,, (
_MdoubË_
 
__y
, _MdoubË_ 
__x
));

64 
__MATHCALL
 (
cos
,, (
_MdoubË_
 
__x
));

66 
__MATHCALL
 (
sš
,, (
_MdoubË_
 
__x
));

68 
__MATHCALL
 (
n
,, (
_MdoubË_
 
__x
));

73 
__MATHCALL
 (
cosh
,, (
_MdoubË_
 
__x
));

75 
__MATHCALL
 (
sšh
,, (
_MdoubË_
 
__x
));

77 
__MATHCALL
 (
nh
,, (
_MdoubË_
 
__x
));

78 
	g_MdoubË_END_NAMESPACE


80 #ifdeà
__USE_GNU


82 
__MATHDECL
 (,
sšcos
,,

83 (
_MdoubË_
 
__x
, _MdoubË_ *
__sšx
, _MdoubË_ *
__cosx
));

86 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_ISOC99


87 
__BEGIN_NAMESPACE_C99


89 
__MATHCALL
 (
acosh
,, (
_MdoubË_
 
__x
));

91 
__MATHCALL
 (
asšh
,, (
_MdoubË_
 
__x
));

93 
__MATHCALL
 (
©ªh
,, (
_MdoubË_
 
__x
));

94 
	g__END_NAMESPACE_C99


99 
_MdoubË_BEGIN_NAMESPACE


101 
__MATHCALL
 (
exp
,, (
_MdoubË_
 
__x
));

104 
__MATHCALL
 (
äexp
,, (
_MdoubË_
 
__x
, *
__expÚ’t
));

107 
__MATHCALL
 (
ldexp
,, (
_MdoubË_
 
__x
, 
__expÚ’t
));

110 
__MATHCALL
 (
log
,, (
_MdoubË_
 
__x
));

113 
__MATHCALL
 (
log10
,, (
_MdoubË_
 
__x
));

116 
__MATHCALL
 (
modf
,, (
_MdoubË_
 
__x
, _MdoubË_ *
__Œ
));

117 
	g_MdoubË_END_NAMESPACE


119 #ifdeà
__USE_GNU


121 
__MATHCALL
 (
exp10
,, (
_MdoubË_
 
__x
));

123 
__MATHCALL
 (
pow10
,, (
_MdoubË_
 
__x
));

126 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_ISOC99


127 
__BEGIN_NAMESPACE_C99


129 
__MATHCALL
 (
expm1
,, (
_MdoubË_
 
__x
));

132 
__MATHCALL
 (
log1p
,, (
_MdoubË_
 
__x
));

135 
__MATHCALL
 (
logb
,, (
_MdoubË_
 
__x
));

136 
	g__END_NAMESPACE_C99


139 #ifdeà
__USE_ISOC99


140 
__BEGIN_NAMESPACE_C99


142 
__MATHCALL
 (
exp2
,, (
_MdoubË_
 
__x
));

145 
__MATHCALL
 (
log2
,, (
_MdoubË_
 
__x
));

146 
	g__END_NAMESPACE_C99


152 
_MdoubË_BEGIN_NAMESPACE


154 
__MATHCALL
 (
pow
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
));

157 
__MATHCALL
 (
sq¹
,, (
_MdoubË_
 
__x
));

158 
	g_MdoubË_END_NAMESPACE


160 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN
 || defšed 
__USE_ISOC99


161 
__BEGIN_NAMESPACE_C99


163 
__MATHCALL
 (
hypÙ
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
));

164 
	g__END_NAMESPACE_C99


167 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_ISOC99


168 
__BEGIN_NAMESPACE_C99


170 
__MATHCALL
 (
cb¹
,, (
_MdoubË_
 
__x
));

171 
	g__END_NAMESPACE_C99


177 
_MdoubË_BEGIN_NAMESPACE


179 
__MATHCALLX
 (
û
,, (
_MdoubË_
 
__x
), (
__cÚ¡__
));

182 
__MATHCALLX
 (
çbs
,, (
_MdoubË_
 
__x
), (
__cÚ¡__
));

185 
__MATHCALLX
 (
æoÜ
,, (
_MdoubË_
 
__x
), (
__cÚ¡__
));

188 
__MATHCALL
 (
fmod
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
));

193 
__MATHDECL_1
 (,
__isšf
,, (
_MdoubË_
 
__v®ue
)è
__©Œibu‹__
 ((
__cÚ¡__
));

196 
__MATHDECL_1
 (,
__fš™e
,, (
_MdoubË_
 
__v®ue
)è
__©Œibu‹__
 ((
__cÚ¡__
));

197 
	g_MdoubË_END_NAMESPACE


199 #ifdeà
__USE_MISC


202 
__MATHDECL_1
 (,
isšf
,, (
_MdoubË_
 
__v®ue
)è
__©Œibu‹__
 ((
__cÚ¡__
));

205 
__MATHDECL_1
 (,
fš™e
,, (
_MdoubË_
 
__v®ue
)è
__©Œibu‹__
 ((
__cÚ¡__
));

208 
__MATHCALL
 (
d»m
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
));

212 
__MATHCALL
 (
signifiÿnd
,, (
_MdoubË_
 
__x
));

215 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_ISOC99


216 
__BEGIN_NAMESPACE_C99


218 
__MATHCALLX
 (
cİysign
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
), (
__cÚ¡__
));

219 
	g__END_NAMESPACE_C99


222 #ifdeà
__USE_ISOC99


223 
__BEGIN_NAMESPACE_C99


225 
__MATHCALLX
 (
Çn
,, (
__cÚ¡
 *
__gb
), (
__cÚ¡__
));

226 
	g__END_NAMESPACE_C99


231 
__MATHDECL_1
 (,
__i¢ª
,, (
_MdoubË_
 
__v®ue
)è
__©Œibu‹__
 ((
__cÚ¡__
));

233 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


235 
__MATHDECL_1
 (,
i¢ª
,, (
_MdoubË_
 
__v®ue
)è
__©Œibu‹__
 ((
__cÚ¡__
));

238 
__MATHCALL
 (
j0
,, (
_MdoubË_
));

239 
__MATHCALL
 (
j1
,, (
_MdoubË_
));

240 
__MATHCALL
 (
jn
,, (, 
_MdoubË_
));

241 
__MATHCALL
 (
y0
,, (
_MdoubË_
));

242 
__MATHCALL
 (
y1
,, (
_MdoubË_
));

243 
__MATHCALL
 (
yn
,, (, 
_MdoubË_
));

247 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN
 || defšed 
__USE_ISOC99


248 
__BEGIN_NAMESPACE_C99


250 
__MATHCALL
 (
”f
,, (
_MdoubË_
));

251 
__MATHCALL
 (
”fc
,, (
_MdoubË_
));

252 
__MATHCALL
 (
lgamma
,, (
_MdoubË_
));

253 
	g__END_NAMESPACE_C99


256 #ifdeà
__USE_ISOC99


257 
__BEGIN_NAMESPACE_C99


259 
__MATHCALL
 (
tgamma
,, (
_MdoubË_
));

260 
	g__END_NAMESPACE_C99


263 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


265 
__MATHCALL
 (
gamma
,, (
_MdoubË_
));

268 #ifdeà
__USE_MISC


272 
__MATHCALL
 (
lgamma
,
_r
, (
_MdoubË_
, *
__signgamp
));

276 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_ISOC99


277 
__BEGIN_NAMESPACE_C99


280 
__MATHCALL
 (
ršt
,, (
_MdoubË_
 
__x
));

283 
__MATHCALLX
 (
Ãxá”
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
), (
__cÚ¡__
));

284 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__LDBL_COMPAT


285 
__MATHCALLX
 (
Ãx‰ow¬d
,, (
_MdoubË_
 
__x
, 
__y
), (
__cÚ¡__
));

289 
__MATHCALL
 (
»mašd”
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
));

291 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_ISOC99


293 
__MATHCALL
 (
sÿlbn
,, (
_MdoubË_
 
__x
, 
__n
));

297 
__MATHDECL
 (,
ogb
,, (
_MdoubË_
 
__x
));

300 #ifdeà
__USE_ISOC99


302 
__MATHCALL
 (
sÿlbÊ
,, (
_MdoubË_
 
__x
, 
__n
));

306 
__MATHCALL
 (
Ã¬byšt
,, (
_MdoubË_
 
__x
));

310 
__MATHCALLX
 (
round
,, (
_MdoubË_
 
__x
), (
__cÚ¡__
));

314 
__MATHCALLX
 (
Œunc
,, (
_MdoubË_
 
__x
), (
__cÚ¡__
));

319 
__MATHCALL
 (
»mquo
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
, *
__quo
));

326 
__MATHDECL
 (,
Ìšt
,, (
_MdoubË_
 
__x
));

327 
__MATHDECL
 (,
Îršt
,, (
_MdoubË_
 
__x
));

331 
__MATHDECL
 (,
Ìound
,, (
_MdoubË_
 
__x
));

332 
__MATHDECL
 (,
Îround
,, (
_MdoubË_
 
__x
));

336 
__MATHCALL
 (
fdim
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
));

339 
__MATHCALL
 (
fmax
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
));

342 
__MATHCALL
 (
fmš
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
));

346 
__MATHDECL_1
 (, 
__åşassify
,, (
_MdoubË_
 
__v®ue
))

347 
__©Œibu‹__
 ((
__cÚ¡__
));

350 
__MATHDECL_1
 (, 
__signb™
,, (
_MdoubË_
 
__v®ue
))

351 
__©Œibu‹__
 ((
__cÚ¡__
));

355 
__MATHCALL
 (
fma
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
, _MdoubË_ 
__z
));

358 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_ISOC99


359 
	g__END_NAMESPACE_C99


362 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


364 
__MATHCALL
 (
sÿlb
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__n
));

	@/usr/include/bits/mathdef.h

19 #ià!
defšed
 
_MATH_H
 && !defšed 
_COMPLEX_H


23 #ià
defšed
 
__USE_ISOC99
 && defšed 
_MATH_H
 && !defšed 
_MATH_H_MATHDEF


24 
	#_MATH_H_MATHDEF
 1

	)

26 
	~<b™s/wÜdsize.h
>

28 #ià
__WORDSIZE
 =ğ64 || (
defšed
 
__FLT_EVAL_METHOD__
 && __FLT_EVAL_METHOD__ == 0)

31 
	tæßt_t
;

32 
	tdoubË_t
;

38 
	tæßt_t
;

40 
	tdoubË_t
;

45 
	#FP_ILOGB0
 (-2147483647 - 1)

	)

46 
	#FP_ILOGBNAN
 (-2147483647 - 1)

	)

	@/usr/include/bits/mathinline.h

21 #iâdeà
_MATH_H


25 
	~<b™s/wÜdsize.h
>

27 #iâdeà
__ex‹º_šlše


28 
	#__MATH_INLINE
 
__šlše


	)

30 
	#__MATH_INLINE
 
__ex‹º_šlše


	)

34 #ià
defšed
 
__USE_ISOC99
 && defšed 
__GNUC__
 && __GNUC__ >= 2

37 
__MATH_INLINE
 

38 
__NTH
 (
	$__signb™f
 (
__x
))

40 #ià
__WORDSIZE
 == 32

41 
__ex‹nsiÚ__
 uniÚ { 
__f
; 
__i
; } 
__u
 = { __f: 
__x
 };

42  
__u
.
__i
 < 0;

44 
__m
;

45 
	`__asm
 ("pmovmskb %1, %0" : "ô" (
__m
è: "x" (
__x
));

46  
__m
 & 0x8;

48 
	}
}

49 
__MATH_INLINE
 

50 
__NTH
 (
	$__signb™
 (
__x
))

52 #ià
__WORDSIZE
 == 32

53 
__ex‹nsiÚ__
 uniÚ { 
__d
; 
__i
[2]; } 
__u
 = { __d: 
__x
 };

54  
__u
.
__i
[1] < 0;

56 
__m
;

57 
	`__asm
 ("pmovmskb %1, %0" : "ô" (
__m
è: "x" (
__x
));

58  
__m
 & 0x80;

60 
	}
}

61 
__MATH_INLINE
 

62 
__NTH
 (
	$__signb™l
 (
__x
))

64 
__ex‹nsiÚ__
 uniÚ { 
__l
; 
__i
[3]; } 
__u
 = { __l: 
__x
 };

65  (
__u
.
__i
[2] & 0x8000) != 0;

66 
	}
}

	@/usr/include/bits/nan.h

20 #iâdeà
_MATH_H


27 #ià
__GNUC_PREREQ
(3,3)

29 
	#NAN
 (
	`__butš_Çnf
 (""))

	)

31 #–ià
defšed
 
__GNUC__


33 
	#NAN
 \

34 (
__ex‹nsiÚ__
 \

35 ((uniÚ { 
__l
 
	`__©Œibu‹__
 ((
	`__mode__
 (
__SI__
))); 
__d
; }) \

36 { 
__l
: 0x7fc00000UL }).
__d
)

	)

40 
	~<’dŸn.h
>

42 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


43 
	#__Çn_by‹s
 { 0x7f, 0xc0, 0, 0 }

	)

45 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


46 
	#__Çn_by‹s
 { 0, 0, 0xc0, 0x7à}

	)

49 uniÚ { 
	m__c
[4]; 
	m__d
; } 
__Çn_uniÚ


50 
	g__©Œibu‹_u£d__
 = { 
__Çn_by‹s
 };

51 
	#NAN
 (
__Çn_uniÚ
.
__d
)

	)

	@/usr/include/bits/posix1_lim.h

25 #iâdef 
_BITS_POSIX1_LIM_H


26 
	#_BITS_POSIX1_LIM_H
 1

	)

32 
	#_POSIX_AIO_LISTIO_MAX
 2

	)

35 
	#_POSIX_AIO_MAX
 1

	)

38 
	#_POSIX_ARG_MAX
 4096

	)

41 #ifdeà
__USE_XOPEN2K


42 
	#_POSIX_CHILD_MAX
 25

	)

44 
	#_POSIX_CHILD_MAX
 6

	)

48 
	#_POSIX_DELAYTIMER_MAX
 32

	)

52 
	#_POSIX_HOST_NAME_MAX
 255

	)

55 
	#_POSIX_LINK_MAX
 8

	)

58 
	#_POSIX_LOGIN_NAME_MAX
 9

	)

61 
	#_POSIX_MAX_CANON
 255

	)

65 
	#_POSIX_MAX_INPUT
 255

	)

68 
	#_POSIX_MQ_OPEN_MAX
 8

	)

71 
	#_POSIX_MQ_PRIO_MAX
 32

	)

74 
	#_POSIX_NAME_MAX
 14

	)

77 #ifdeà
__USE_XOPEN2K


78 
	#_POSIX_NGROUPS_MAX
 8

	)

80 
	#_POSIX_NGROUPS_MAX
 0

	)

84 #ifdeà
__USE_XOPEN2K


85 
	#_POSIX_OPEN_MAX
 20

	)

87 
	#_POSIX_OPEN_MAX
 16

	)

90 #ià!
defšed
 
__USE_XOPEN2K
 || defšed 
__USE_GNU


93 
	#_POSIX_FD_SETSIZE
 
_POSIX_OPEN_MAX


	)

97 
	#_POSIX_PATH_MAX
 256

	)

100 
	#_POSIX_PIPE_BUF
 512

	)

104 
	#_POSIX_RE_DUP_MAX
 255

	)

107 
	#_POSIX_RTSIG_MAX
 8

	)

110 
	#_POSIX_SEM_NSEMS_MAX
 256

	)

113 
	#_POSIX_SEM_VALUE_MAX
 32767

	)

116 
	#_POSIX_SIGQUEUE_MAX
 32

	)

119 
	#_POSIX_SSIZE_MAX
 32767

	)

122 
	#_POSIX_STREAM_MAX
 8

	)

125 
	#_POSIX_SYMLINK_MAX
 255

	)

129 
	#_POSIX_SYMLOOP_MAX
 8

	)

132 
	#_POSIX_TIMER_MAX
 32

	)

135 
	#_POSIX_TTY_NAME_MAX
 9

	)

138 
	#_POSIX_TZNAME_MAX
 6

	)

140 #ià!
defšed
 
__USE_XOPEN2K
 || defšed 
__USE_GNU


142 
	#_POSIX_QLIMIT
 1

	)

146 
	#_POSIX_HIWAT
 
_POSIX_PIPE_BUF


	)

149 
	#_POSIX_UIO_MAXIOV
 16

	)

153 
	#_POSIX_CLOCKRES_MIN
 20000000

	)

157 
	~<b™s/loÿl_lim.h
>

160 #iâdef 
SSIZE_MAX


161 
	#SSIZE_MAX
 
LONG_MAX


	)

168 #iâdef 
NGROUPS_MAX


169 
	#NGROUPS_MAX
 8

	)

	@/usr/include/bits/posix2_lim.h

23 #iâdef 
_BITS_POSIX2_LIM_H


24 
	#_BITS_POSIX2_LIM_H
 1

	)

28 
	#_POSIX2_BC_BASE_MAX
 99

	)

31 
	#_POSIX2_BC_DIM_MAX
 2048

	)

34 
	#_POSIX2_BC_SCALE_MAX
 99

	)

37 
	#_POSIX2_BC_STRING_MAX
 1000

	)

41 
	#_POSIX2_COLL_WEIGHTS_MAX
 2

	)

45 
	#_POSIX2_EXPR_NEST_MAX
 32

	)

48 
	#_POSIX2_LINE_MAX
 2048

	)

52 
	#_POSIX2_RE_DUP_MAX
 255

	)

56 
	#_POSIX2_CHARCLASS_NAME_MAX
 14

	)

63 #iâdef 
BC_BASE_MAX


64 
	#BC_BASE_MAX
 
_POSIX2_BC_BASE_MAX


	)

66 #iâdef 
BC_DIM_MAX


67 
	#BC_DIM_MAX
 
_POSIX2_BC_DIM_MAX


	)

69 #iâdef 
BC_SCALE_MAX


70 
	#BC_SCALE_MAX
 
_POSIX2_BC_SCALE_MAX


	)

72 #iâdef 
BC_STRING_MAX


73 
	#BC_STRING_MAX
 
_POSIX2_BC_STRING_MAX


	)

75 #iâdef 
COLL_WEIGHTS_MAX


76 
	#COLL_WEIGHTS_MAX
 255

	)

78 #iâdef 
EXPR_NEST_MAX


79 
	#EXPR_NEST_MAX
 
_POSIX2_EXPR_NEST_MAX


	)

81 #iâdef 
LINE_MAX


82 
	#LINE_MAX
 
_POSIX2_LINE_MAX


	)

84 #iâdef 
CHARCLASS_NAME_MAX


85 
	#CHARCLASS_NAME_MAX
 2048

	)

89 
	#RE_DUP_MAX
 (0x7fff)

	)

	@/usr/include/bits/stdio-ldbl.h

20 #iâdeà
_STDIO_H


24 
__BEGIN_NAMESPACE_STD


25 
	$__LDBL_REDIR_DECL
 (
årštf
)

26 
	$__LDBL_REDIR_DECL
 (
´štf
)

27 
	$__LDBL_REDIR_DECL
 (
¥rštf
)

28 
	$__LDBL_REDIR_DECL
 (
vårštf
)

29 
	$__LDBL_REDIR_DECL
 (
v´štf
)

30 
	$__LDBL_REDIR_DECL
 (
v¥rštf
)

31 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

32 && !
defšed
 
__REDIRECT
 \

33 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

34 
	$__LDBL_REDIR1_DECL
 (
fsÿnf
, 
__Ædbl___isoc99_fsÿnf
)

35 
	$__LDBL_REDIR1_DECL
 (
sÿnf
, 
__Ædbl___isoc99_sÿnf
)

36 
	$__LDBL_REDIR1_DECL
 (
ssÿnf
, 
__Ædbl___isoc99_ssÿnf
)

38 
	$__LDBL_REDIR_DECL
 (
fsÿnf
)

39 
	$__LDBL_REDIR_DECL
 (
sÿnf
)

40 
	$__LDBL_REDIR_DECL
 (
ssÿnf
)

42 
__END_NAMESPACE_STD


44 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_ISOC99
 || defšed 
__USE_UNIX98


45 
__BEGIN_NAMESPACE_C99


46 
	$__LDBL_REDIR_DECL
 (
¢´štf
)

47 
	$__LDBL_REDIR_DECL
 (
v¢´štf
)

48 
__END_NAMESPACE_C99


51 #ifdef 
__USE_ISOC99


52 
__BEGIN_NAMESPACE_C99


53 #ià!
defšed
 
__USE_GNU
 && !defšed 
__REDIRECT
 \

54 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

55 
	$__LDBL_REDIR1_DECL
 (
vfsÿnf
, 
__Ædbl___isoc99_vfsÿnf
)

56 
	$__LDBL_REDIR1_DECL
 (
vsÿnf
, 
__Ædbl___isoc99_vsÿnf
)

57 
	$__LDBL_REDIR1_DECL
 (
vssÿnf
, 
__Ædbl___isoc99_vssÿnf
)

59 
	$__LDBL_REDIR_DECL
 (
vfsÿnf
)

60 
	$__LDBL_REDIR_DECL
 (
vssÿnf
)

61 
	$__LDBL_REDIR_DECL
 (
vsÿnf
)

63 
__END_NAMESPACE_C99


66 #ifdeà
__USE_GNU


67 
	$__LDBL_REDIR_DECL
 (
vd´štf
)

68 
	$__LDBL_REDIR_DECL
 (
d´štf
)

69 
	$__LDBL_REDIR_DECL
 (
va¥rštf
)

70 
	$__LDBL_REDIR_DECL
 (
__a¥rštf
)

71 
	$__LDBL_REDIR_DECL
 (
a¥rštf
)

72 
	$__LDBL_REDIR_DECL
 (
ob¡ack_´štf
)

73 
	$__LDBL_REDIR_DECL
 (
ob¡ack_v´štf
)

76 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__ex‹º_®ways_šlše


77 
	$__LDBL_REDIR_DECL
 (
__¥rštf_chk
)

78 
	$__LDBL_REDIR_DECL
 (
__v¥rštf_chk
)

79 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_ISOC99
 || defšed 
__USE_UNIX98


80 
	$__LDBL_REDIR_DECL
 (
__¢´štf_chk
)

81 
	$__LDBL_REDIR_DECL
 (
__v¢´štf_chk
)

83 #ià
__USE_FORTIFY_LEVEL
 > 1

84 
	$__LDBL_REDIR_DECL
 (
__årštf_chk
)

85 
	$__LDBL_REDIR_DECL
 (
__´štf_chk
)

86 
	$__LDBL_REDIR_DECL
 (
__vårštf_chk
)

87 
	$__LDBL_REDIR_DECL
 (
__v´štf_chk
)

88 #ifdeà
__USE_GNU


89 
	$__LDBL_REDIR_DECL
 (
__a¥rštf_chk
)

90 
	$__LDBL_REDIR_DECL
 (
__va¥rštf_chk
)

91 
	$__LDBL_REDIR_DECL
 (
__d´štf_chk
)

92 
	$__LDBL_REDIR_DECL
 (
__vd´štf_chk
)

93 
	$__LDBL_REDIR_DECL
 (
__ob¡ack_´štf_chk
)

94 
	$__LDBL_REDIR_DECL
 (
__ob¡ack_v´štf_chk
)

	@/usr/include/bits/stdio.h

20 #iâdeà
_STDIO_H


24 #iâdeà
__ex‹º_šlše


25 
	#__STDIO_INLINE
 
šlše


	)

27 
	#__STDIO_INLINE
 
__ex‹º_šlše


	)

31 #ifdeà
__USE_EXTERN_INLINES


34 #ià!(
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__ex‹º_®ways_šlše
)

36 
__STDIO_INLINE
 

37 
	$v´štf
 (
__cÚ¡
 *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__¬g
)

39  
	`vårštf
 (
¡dout
, 
__fmt
, 
__¬g
);

40 
	}
}

44 
__STDIO_INLINE
 

45 
	$g‘ch¬
 ()

47  
	`_IO_g‘c
 (
¡dš
);

48 
	}
}

51 #ifdeà
__USE_MISC


53 
__STDIO_INLINE
 

54 
	$fg‘c_uÆocked
 (
FILE
 *
__å
)

56  
	`_IO_g‘c_uÆocked
 (
__å
);

57 
	}
}

61 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


63 
__STDIO_INLINE
 

64 
	$g‘c_uÆocked
 (
FILE
 *
__å
)

66  
	`_IO_g‘c_uÆocked
 (
__å
);

67 
	}
}

70 
__STDIO_INLINE
 

71 
	$g‘ch¬_uÆocked
 ()

73  
	`_IO_g‘c_uÆocked
 (
¡dš
);

74 
	}
}

79 
__STDIO_INLINE
 

80 
	$putch¬
 (
__c
)

82  
	`_IO_putc
 (
__c
, 
¡dout
);

83 
	}
}

86 #ifdeà
__USE_MISC


88 
__STDIO_INLINE
 

89 
	$åutc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
)

91  
	`_IO_putc_uÆocked
 (
__c
, 
__¡»am
);

92 
	}
}

96 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


98 
__STDIO_INLINE
 

99 
	$putc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
)

101  
	`_IO_putc_uÆocked
 (
__c
, 
__¡»am
);

102 
	}
}

105 
__STDIO_INLINE
 

106 
	$putch¬_uÆocked
 (
__c
)

108  
	`_IO_putc_uÆocked
 (
__c
, 
¡dout
);

109 
	}
}

113 #ifdef 
__USE_GNU


115 
__STDIO_INLINE
 
_IO_ssize_t


116 
	$g‘lše
 (**
__lš•Œ
, 
size_t
 *
__n
, 
FILE
 *
__¡»am
)

118  
	`__g‘d–im
 (
__lš•Œ
, 
__n
, '\n', 
__¡»am
);

119 
	}
}

123 #ifdeà
__USE_MISC


125 
__STDIO_INLINE
 

126 
__NTH
 (
	$ãof_uÆocked
 (
FILE
 *
__¡»am
))

128  
	`_IO_ãof_uÆocked
 (
__¡»am
);

129 
	}
}

132 
__STDIO_INLINE
 

133 
__NTH
 (
	$ã¼Ü_uÆocked
 (
FILE
 *
__¡»am
))

135  
	`_IO_ã¼Ü_uÆocked
 (
__¡»am
);

136 
	}
}

142 #ià
defšed
 
__USE_MISC
 && defšed 
__GNUC__
 && defšed 
__OPTIMIZE__
 \

143 && !
defšed
 
	g__ılu¥lus


145 
	#ä—d_uÆocked
(
±r
, 
size
, 
n
, 
¡»am
) \

146 (
	`__ex‹nsiÚ__
 ((
	`__butš_cÚ¡ªt_p
 (
size
è&& __butš_cÚ¡ªt_°(
n
) \

147 && (
size_t
è(
size
è* (size_tè(
n
) <= 8 \

148 && (
size_t
è(
size
) != 0) \

149 ? ({ *
__±r
 = (*è(
±r
); \

150 
FILE
 *
__¡»am
 = (
¡»am
); \

151 
size_t
 
__út
; \

152 
__út
 = (
size_t
è(
size
è* (size_tè(
n
); \

153 
__út
 > 0; --__cnt) \

155 
__c
 = 
	`_IO_g‘c_uÆocked
 (
__¡»am
); \

156 ià(
__c
 =ğ
EOF
) \

158 *
__±r
++ = 
__c
; \

160 ((
size_t
è(
size
è* (size_tè(
n
è- 
__út
) \

161 / (
size_t
è(
size
); }) \

162 : (((
	`__butš_cÚ¡ªt_p
 (
size
è&& (
size_t
) (size) == 0) \

163 || (
	`__butš_cÚ¡ªt_p
 (
n
è&& (
size_t
) (n) == 0)) \

165 ? ((è(
±r
), (è(
¡»am
), (è(
size
), \

166 (è(
n
), (
size_t
) 0) \

167 : 
	`ä—d_uÆocked
 (
±r
, 
size
, 
n
, 
¡»am
))))

	)

169 
	#fwr™e_uÆocked
(
±r
, 
size
, 
n
, 
¡»am
) \

170 (
	`__ex‹nsiÚ__
 ((
	`__butš_cÚ¡ªt_p
 (
size
è&& __butš_cÚ¡ªt_°(
n
) \

171 && (
size_t
è(
size
è* (size_tè(
n
) <= 8 \

172 && (
size_t
è(
size
) != 0) \

173 ? ({ cÚ¡ *
__±r
 = (cÚ¡ *è(
±r
); \

174 
FILE
 *
__¡»am
 = (
¡»am
); \

175 
size_t
 
__út
; \

176 
__út
 = (
size_t
è(
size
è* (size_tè(
n
); \

177 
__út
 > 0; --__cnt) \

178 ià(
	`_IO_putc_uÆocked
 (*
__±r
++, 
__¡»am
è=ğ
EOF
) \

180 ((
size_t
è(
size
è* (size_tè(
n
è- 
__út
) \

181 / (
size_t
è(
size
); }) \

182 : (((
	`__butš_cÚ¡ªt_p
 (
size
è&& (
size_t
) (size) == 0) \

183 || (
	`__butš_cÚ¡ªt_p
 (
n
è&& (
size_t
) (n) == 0)) \

185 ? ((è(
±r
), (è(
¡»am
), (è(
size
), \

186 (è(
n
), (
size_t
) 0) \

187 : 
	`fwr™e_uÆocked
 (
±r
, 
size
, 
n
, 
¡»am
))))

	)

191 #undeà
__STDIO_INLINE


	@/usr/include/bits/stdio2.h

20 #iâdeà
_STDIO_H


24 
	$__¥rštf_chk
 (*
__»¡riù
 
__s
, 
__æag
, 
size_t
 
__¦’
,

25 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

26 
	$__v¥rštf_chk
 (*
__»¡riù
 
__s
, 
__æag
, 
size_t
 
__¦’
,

27 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

28 
_G_va_li¡
 
__­
è
__THROW
;

30 #ifdeà
__va_¬g_·ck


31 
__ex‹º_®ways_šlše
 

32 
	`__NTH
 (
	$¥rštf
 (*
__»¡riù
 
__s
, 
__cÚ¡
 *__»¡riù 
__fmt
, ...))

34  
	`__butš___¥rštf_chk
 (
__s
, 
__USE_FORTIFY_LEVEL
 - 1,

35 
	`__bos
 (
__s
), 
__fmt
, 
	`__va_¬g_·ck
 ());

36 
	}
}

37 #–ià!
defšed
 
__ılu¥lus


38 
	#¥rštf
(
¡r
, ...) \

39 
	`__butš___¥rštf_chk
 (
¡r
, 
__USE_FORTIFY_LEVEL
 - 1, 
	`__bos
 (str), \

40 
__VA_ARGS__
)

	)

43 
__ex‹º_®ways_šlše
 

44 
__NTH
 (
	$v¥rštf
 (*
__»¡riù
 
__s
, 
__cÚ¡
 *__»¡riù 
__fmt
,

45 
_G_va_li¡
 
__­
))

47  
	`__butš___v¥rštf_chk
 (
__s
, 
__USE_FORTIFY_LEVEL
 - 1,

48 
	`__bos
 (
__s
), 
__fmt
, 
__­
);

49 
	}
}

51 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_ISOC99
 || defšed 
__USE_UNIX98


53 
	$__¢´štf_chk
 (*
__»¡riù
 
__s
, 
size_t
 
__n
, 
__æag
,

54 
size_t
 
__¦’
, 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

55 ...è
__THROW
;

56 
	$__v¢´štf_chk
 (*
__»¡riù
 
__s
, 
size_t
 
__n
, 
__æag
,

57 
size_t
 
__¦’
, 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

58 
_G_va_li¡
 
__­
è
__THROW
;

60 #ifdeà
__va_¬g_·ck


61 
__ex‹º_®ways_šlše
 

62 
	`__NTH
 (
	$¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__n
,

63 
__cÚ¡
 *
__»¡riù
 
__fmt
, ...))

65  
	`__butš___¢´štf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

66 
	`__bos
 (
__s
), 
__fmt
, 
	`__va_¬g_·ck
 ());

67 
	}
}

68 #–ià!
defšed
 
__ılu¥lus


69 
	#¢´štf
(
¡r
, 
Ën
, ...) \

70 
	`__butš___¢´štf_chk
 (
¡r
, 
Ën
, 
__USE_FORTIFY_LEVEL
 - 1, 
	`__bos
 (str), \

71 
__VA_ARGS__
)

	)

74 
__ex‹º_®ways_šlše
 

75 
__NTH
 (
	$v¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__n
,

76 
__cÚ¡
 *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
))

78  
	`__butš___v¢´štf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

79 
	`__bos
 (
__s
), 
__fmt
, 
__­
);

80 
	}
}

84 #ià
__USE_FORTIFY_LEVEL
 > 1

86 
__årštf_chk
 (
FILE
 *
__»¡riù
 
__¡»am
, 
__æag
,

87 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...);

88 
__´štf_chk
 (
__æag
, 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...);

89 
__vårštf_chk
 (
FILE
 *
__»¡riù
 
__¡»am
, 
__æag
,

90 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__­
);

91 
__v´štf_chk
 (
__æag
, 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

92 
_G_va_li¡
 
__­
);

94 #ifdeà
__va_¬g_·ck


95 
__ex‹º_®ways_šlše
 

96 
	$årštf
 (
FILE
 *
__»¡riù
 
__¡»am
, 
__cÚ¡
 *__»¡riù 
__fmt
, ...)

98  
	`__årštf_chk
 (
__¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

99 
	`__va_¬g_·ck
 ());

100 
	}
}

102 
__ex‹º_®ways_šlše
 

103 
	$´štf
 (
__cÚ¡
 *
__»¡riù
 
__fmt
, ...)

105  
	`__´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
	`__va_¬g_·ck
 ());

106 
	}
}

107 #–ià!
defšed
 
__ılu¥lus


108 
	#´štf
(...) \

109 
	`__´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

110 
	#årštf
(
¡»am
, ...) \

111 
	`__årštf_chk
 (
¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

114 
__ex‹º_®ways_šlše
 

115 
	$v´štf
 (
__cÚ¡
 *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
)

117 #ifdeà
__USE_EXTERN_INLINES


118  
	`__vårštf_chk
 (
¡dout
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

120  
	`__v´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

122 
	}
}

124 
__ex‹º_®ways_šlše
 

125 
	$vårštf
 (
FILE
 *
__»¡riù
 
__¡»am
,

126 
__cÚ¡
 *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
)

128  
	`__vårštf_chk
 (
__¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

129 
	}
}

131 #ifdeà
__USE_GNU


133 
	$__a¥rštf_chk
 (**
__»¡riù
 
__±r
, 
__æag
,

134 
__cÚ¡
 *
__»¡riù
 
__fmt
, ...)

135 
__THROW
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 3, 4))è
__wur
;

136 
	$__va¥rštf_chk
 (**
__»¡riù
 
__±r
, 
__æag
,

137 
__cÚ¡
 *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__¬g
)

138 
__THROW
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 3, 0))è
__wur
;

139 
	$__d´štf_chk
 (
__fd
, 
__æag
, 
__cÚ¡
 *
__»¡riù
 
__fmt
,

140 ...è
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

141 
	$__vd´štf_chk
 (
__fd
, 
__æag
,

142 
__cÚ¡
 *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__¬g
)

143 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

144 
	$__ob¡ack_´štf_chk
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

145 
__æag
, 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

147 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

148 
	$__ob¡ack_v´štf_chk
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

149 
__æag
,

150 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

151 
_G_va_li¡
 
__¬gs
)

152 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

154 #ifdeà
__va_¬g_·ck


155 
__ex‹º_®ways_šlše
 

156 
	`__NTH
 (
	$a¥rštf
 (**
__»¡riù
 
__±r
, 
__cÚ¡
 *__»¡riù 
__fmt
, ...))

158  
	`__a¥rštf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

159 
	`__va_¬g_·ck
 ());

160 
	}
}

162 
__ex‹º_®ways_šlše
 

163 
__NTH
 (
	$__a¥rštf
 (**
__»¡riù
 
__±r
, 
__cÚ¡
 *__»¡riù 
__fmt
,

166  
	`__a¥rštf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

167 
	`__va_¬g_·ck
 ());

168 
	}
}

170 
__ex‹º_®ways_šlše
 

171 
	$d´štf
 (
__fd
, 
__cÚ¡
 *
__»¡riù
 
__fmt
, ...)

173  
	`__d´štf_chk
 (
__fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

174 
	`__va_¬g_·ck
 ());

175 
	}
}

177 
__ex‹º_®ways_šlše
 

178 
__NTH
 (
	$ob¡ack_´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

179 
__cÚ¡
 *
__»¡riù
 
__fmt
, ...))

181  
	`__ob¡ack_´štf_chk
 (
__ob¡ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

182 
	`__va_¬g_·ck
 ());

183 
	}
}

184 #–ià!
defšed
 
__ılu¥lus


185 
	#a¥rštf
(
±r
, ...) \

186 
	`__a¥rštf_chk
 (
±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

187 
	#__a¥rštf
(
±r
, ...) \

188 
	`__a¥rštf_chk
 (
±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

189 
	#d´štf
(
fd
, ...) \

190 
	`__d´štf_chk
 (
fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

191 
	#ob¡ack_´štf
(
ob¡ack
, ...) \

192 
	`__ob¡ack_´štf_chk
 (
ob¡ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

195 
__ex‹º_®ways_šlše
 

196 
__NTH
 (
	$va¥rštf
 (**
__»¡riù
 
__±r
, 
__cÚ¡
 *__»¡riù 
__fmt
,

197 
_G_va_li¡
 
__­
))

199  
	`__va¥rštf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

200 
	}
}

202 
__ex‹º_®ways_šlše
 

203 
	$vd´štf
 (
__fd
, 
__cÚ¡
 *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
)

205  
	`__vd´štf_chk
 (
__fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

206 
	}
}

208 
__ex‹º_®ways_šlše
 

209 
__NTH
 (
	$ob¡ack_v´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

210 
__cÚ¡
 *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
))

212  
	`__ob¡ack_v´štf_chk
 (
__ob¡ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

213 
__­
);

214 
	}
}

220 *
	$__g‘s_chk
 (*
__¡r
, 
size_t
è
__wur
;

221 *
	`__REDIRECT
 (
__g‘s_w¬n
, (*
__¡r
), 
g‘s
)

222 
__wur
 
	`__w¬Ç‰r
 ("please use fgets or getline instead, gets can't "

225 
__ex‹º_®ways_šlše
 
__wur
 *

226 
	$g‘s
 (*
__¡r
)

228 ià(
	`__bos
 (
__¡r
è!ğ(
size_t
) -1)

229  
	`__g‘s_chk
 (
__¡r
, 
	`__bos
 (__str));

230  
	`__g‘s_w¬n
 (
__¡r
);

231 
	}
}

233 *
	$__fg‘s_chk
 (*
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

234 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

235 *
	`__REDIRECT
 (
__fg‘s_®Ÿs
,

236 (*
__»¡riù
 
__s
, 
__n
,

237 
FILE
 *
__»¡riù
 
__¡»am
), 
fg‘s
è
__wur
;

238 *
	`__REDIRECT
 (
__fg‘s_chk_w¬n
,

239 (*
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

240 
FILE
 *
__»¡riù
 
__¡»am
), 
__fg‘s_chk
)

241 
__wur
 
	`__w¬Ç‰r
 ("fgets called with bigger sizehan†ength "

244 
__ex‹º_®ways_šlše
 
__wur
 *

245 
	$fg‘s
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

247 ià(
	`__bos
 (
__s
è!ğ(
size_t
) -1)

249 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
) || __n <= 0)

250  
	`__fg‘s_chk
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__¡»am
);

252 ià((
size_t
è
__n
 > 
	`__bos
 (
__s
))

253  
	`__fg‘s_chk_w¬n
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__¡»am
);

255  
	`__fg‘s_®Ÿs
 (
__s
, 
__n
, 
__¡»am
);

256 
	}
}

258 
size_t
 
	$__ä—d_chk
 (*
__»¡riù
 
__±r
, 
size_t
 
__±¾’
,

259 
size_t
 
__size
, size_ˆ
__n
,

260 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

261 
size_t
 
	`__REDIRECT
 (
__ä—d_®Ÿs
,

262 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

263 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
),

264 
ä—d
è
__wur
;

265 
size_t
 
	`__REDIRECT
 (
__ä—d_chk_w¬n
,

266 (*
__»¡riù
 
__±r
, 
size_t
 
__±¾’
,

267 
size_t
 
__size
, size_ˆ
__n
,

268 
FILE
 *
__»¡riù
 
__¡»am
),

269 
__ä—d_chk
)

270 
__wur
 
	`__w¬Ç‰r
 ("fread called with bigger size *‚membhan†ength "

273 
__ex‹º_®ways_šlše
 
__wur
 
size_t


274 
	$ä—d
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
, size_ˆ
__n
,

275 
FILE
 *
__»¡riù
 
__¡»am
)

277 ià(
	`__bos0
 (
__±r
è!ğ(
size_t
) -1)

279 ià(!
	`__butš_cÚ¡ªt_p
 (
__size
)

280 || !
	`__butš_cÚ¡ªt_p
 (
__n
)

281 || (
__size
 | 
__n
è>ğ(((
size_t
) 1) << (8 *  (size_t) / 2)))

282  
	`__ä—d_chk
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
, 
__¡»am
);

284 ià(
__size
 * 
__n
 > 
	`__bos0
 (
__±r
))

285  
	`__ä—d_chk_w¬n
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
, 
__¡»am
);

287  
	`__ä—d_®Ÿs
 (
__±r
, 
__size
, 
__n
, 
__¡»am
);

288 
	}
}

290 #ifdeà
__USE_GNU


291 *
	$__fg‘s_uÆocked_chk
 (*
__»¡riù
 
__s
, 
size_t
 
__size
,

292 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

293 *
	`__REDIRECT
 (
__fg‘s_uÆocked_®Ÿs
,

294 (*
__»¡riù
 
__s
, 
__n
,

295 
FILE
 *
__»¡riù
 
__¡»am
), 
fg‘s_uÆocked
è
__wur
;

296 *
	`__REDIRECT
 (
__fg‘s_uÆocked_chk_w¬n
,

297 (*
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

298 
FILE
 *
__»¡riù
 
__¡»am
), 
__fg‘s_uÆocked_chk
)

299 
__wur
 
	`__w¬Ç‰r
 ("fgets_unlocked called with bigger sizehan†ength "

302 
__ex‹º_®ways_šlše
 
__wur
 *

303 
	$fg‘s_uÆocked
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

305 ià(
	`__bos
 (
__s
è!ğ(
size_t
) -1)

307 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
) || __n <= 0)

308  
	`__fg‘s_uÆocked_chk
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__¡»am
);

310 ià((
size_t
è
__n
 > 
	`__bos
 (
__s
))

311  
	`__fg‘s_uÆocked_chk_w¬n
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__¡»am
);

313  
	`__fg‘s_uÆocked_®Ÿs
 (
__s
, 
__n
, 
__¡»am
);

314 
	}
}

317 #ifdeà
__USE_MISC


318 #undeà
ä—d_uÆocked


319 
size_t
 
	$__ä—d_uÆocked_chk
 (*
__»¡riù
 
__±r
, 
size_t
 
__±¾’
,

320 
size_t
 
__size
, size_ˆ
__n
,

321 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

322 
size_t
 
	`__REDIRECT
 (
__ä—d_uÆocked_®Ÿs
,

323 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

324 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
),

325 
ä—d_uÆocked
è
__wur
;

326 
size_t
 
	`__REDIRECT
 (
__ä—d_uÆocked_chk_w¬n
,

327 (*
__»¡riù
 
__±r
, 
size_t
 
__±¾’
,

328 
size_t
 
__size
, size_ˆ
__n
,

329 
FILE
 *
__»¡riù
 
__¡»am
),

330 
__ä—d_uÆocked_chk
)

331 
__wur
 
	`__w¬Ç‰r
 ("fread_unlocked called with bigger size *‚membhan "

334 
__ex‹º_®ways_šlše
 
__wur
 
size_t


335 
	$ä—d_uÆocked
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
, size_ˆ
__n
,

336 
FILE
 *
__»¡riù
 
__¡»am
)

338 ià(
	`__bos0
 (
__±r
è!ğ(
size_t
) -1)

340 ià(!
	`__butš_cÚ¡ªt_p
 (
__size
)

341 || !
	`__butš_cÚ¡ªt_p
 (
__n
)

342 || (
__size
 | 
__n
è>ğ(((
size_t
) 1) << (8 *  (size_t) / 2)))

343  
	`__ä—d_uÆocked_chk
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
,

344 
__¡»am
);

346 ià(
__size
 * 
__n
 > 
	`__bos0
 (
__±r
))

347  
	`__ä—d_uÆocked_chk_w¬n
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
,

348 
__¡»am
);

351 #ifdeà
__USE_EXTERN_INLINES


352 ià(
	`__butš_cÚ¡ªt_p
 (
__size
)

353 && 
	`__butš_cÚ¡ªt_p
 (
__n
)

354 && (
__size
 | 
__n
è< (((
size_t
) 1) << (8 *  (size_t) / 2))

355 && 
__size
 * 
__n
 <= 8)

357 
size_t
 
__út
 = 
__size
 * 
__n
;

358 *
__ıŒ
 = (*è
__±r
;

359 ià(
__út
 == 0)

362 ; 
__út
 > 0; --__cnt)

364 
__c
 = 
	`_IO_g‘c_uÆocked
 (
__¡»am
);

365 ià(
__c
 =ğ
EOF
)

367 *
__ıŒ
++ = 
__c
;

369  (
__ıŒ
 - (*è
__±r
è/ 
__size
;

372  
	`__ä—d_uÆocked_®Ÿs
 (
__±r
, 
__size
, 
__n
, 
__¡»am
);

373 
	}
}

	@/usr/include/bits/stdio_lim.h

19 #ià!
defšed
 
_STDIO_H
 && !defšed 
__Ãed_FOPEN_MAX
 && !defšed 
__Ãed_IOV_MAX


23 #ifdeà
_STDIO_H


24 
	#L_tm²am
 20

	)

25 
	#TMP_MAX
 238328

	)

26 
	#FILENAME_MAX
 4096

	)

28 #ifdeà
__USE_POSIX


29 
	#L_ù”mid
 9

	)

30 #ià!
defšed
 
__USE_XOPEN2K
 || defšed 
__USE_GNU


31 
	#L_cu£rid
 9

	)

36 #ià
defšed
 
__Ãed_FOPEN_MAX
 || defšed 
_STDIO_H


37 #undeà
FOPEN_MAX


38 
	#FOPEN_MAX
 16

	)

41 #ià
defšed
 
__Ãed_IOV_MAX
 && !defšed 
IOV_MAX


42 
	#IOV_MAX
 1024

	)

	@/usr/include/bits/stdlib-ldbl.h

20 #iâdeà
_STDLIB_H


24 #ifdef 
__USE_ISOC99


25 
__BEGIN_NAMESPACE_C99


26 
	$__LDBL_REDIR1_DECL
 (
¡¹Şd
, 
¡¹od
)

27 
__END_NAMESPACE_C99


30 #ifdeà
__USE_GNU


31 
	$__LDBL_REDIR1_DECL
 (
¡¹Şd_l
, 
¡¹od_l
)

34 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN_EXTENDED


35 #ifdeà
__USE_MISC


36 
	$__LDBL_REDIR1_DECL
 (
qecvt
, 
ecvt
)

37 
	$__LDBL_REDIR1_DECL
 (
qfcvt
, 
fcvt
)

38 
	$__LDBL_REDIR1_DECL
 (
qgcvt
, 
gcvt
)

39 
	$__LDBL_REDIR1_DECL
 (
qecvt_r
, 
ecvt_r
)

40 
	$__LDBL_REDIR1_DECL
 (
qfcvt_r
, 
fcvt_r
)

	@/usr/include/bits/stdlib.h

20 #iâdeà
_STDLIB_H


24 *
	$__»®·th_chk
 (
__cÚ¡
 *
__»¡riù
 
__Çme
,

25 *
__»¡riù
 
__»sŞved
,

26 
size_t
 
__»sŞvedËn
è
__THROW
 
__wur
;

27 *
	`__REDIRECT_NTH
 (
__»®·th_®Ÿs
,

28 (
__cÚ¡
 *
__»¡riù
 
__Çme
,

29 *
__»¡riù
 
__»sŞved
), 
»®·th
è
__wur
;

30 *
	`__REDIRECT_NTH
 (
__»®·th_chk_w¬n
,

31 (
__cÚ¡
 *
__»¡riù
 
__Çme
,

32 *
__»¡riù
 
__»sŞved
,

33 
size_t
 
__»sŞvedËn
), 
__»®·th_chk
è
__wur


34 
	`__w¬Ç‰r
 ("second‡rgument of„ealpath must beƒither NULL or‡t "

37 
__ex‹º_®ways_šlše
 
__wur
 *

38 
	`__NTH
 (
	$»®·th
 (
__cÚ¡
 *
__»¡riù
 
__Çme
, *__»¡riù 
__»sŞved
))

40 ià(
	`__bos
 (
__»sŞved
è!ğ(
size_t
) -1)

42 #ià
defšed
 
_LIBC_LIMITS_H_
 && defšed 
PATH_MAX


43 ià(
	`__bos
 (
__»sŞved
è< 
PATH_MAX
)

44  
	`__»®·th_chk_w¬n
 (
__Çme
, 
__»sŞved
, 
	`__bos
 (__resolved));

46  
	`__»®·th_chk
 (
__Çme
, 
__»sŞved
, 
	`__bos
 (__resolved));

49  
	`__»®·th_®Ÿs
 (
__Çme
, 
__»sŞved
);

50 
	}
}

53 
	$__±¢ame_r_chk
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
,

54 
size_t
 
__Ä—l
è
__THROW
 
	`__nÚnuÎ
 ((2));

55 
	`__REDIRECT_NTH
 (
__±¢ame_r_®Ÿs
, (
__fd
, *
__buf
,

56 
size_t
 
__buæ’
), 
±¢ame_r
)

57 
	`__nÚnuÎ
 ((2));

58 
	`__REDIRECT_NTH
 (
__±¢ame_r_chk_w¬n
,

59 (
__fd
, *
__buf
, 
size_t
 
__buæ’
,

60 
size_t
 
__Ä—l
), 
__±¢ame_r_chk
)

61 
	`__nÚnuÎ
 ((2)è
	`__w¬Ç‰r
 ("ptsname_r called with buflen biggerhan "

64 
__ex‹º_®ways_šlše
 

65 
	`__NTH
 (
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
))

67 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

69 ià(!
	`__butš_cÚ¡ªt_p
 (
__buæ’
))

70  
	`__±¢ame_r_chk
 (
__fd
, 
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

71 ià(
__buæ’
 > 
	`__bos
 (
__buf
))

72  
	`__±¢ame_r_chk_w¬n
 (
__fd
, 
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

74  
	`__±¢ame_r_®Ÿs
 (
__fd
, 
__buf
, 
__buæ’
);

75 
	}
}

78 
	$__wùomb_chk
 (*
__s
, 
wch¬_t
 
__wch¬
, 
size_t
 
__buæ’
)

79 
__THROW
 
__wur
;

80 
	`__REDIRECT_NTH
 (
__wùomb_®Ÿs
, (*
__s
, 
wch¬_t
 
__wch¬
),

81 
wùomb
è
__wur
;

83 
__ex‹º_®ways_šlše
 
__wur
 

84 
	`__NTH
 (
	$wùomb
 (*
__s
, 
wch¬_t
 
__wch¬
))

89 
	#__STDLIB_MB_LEN_MAX
 16

	)

90 #ià
defšed
 
MB_LEN_MAX
 && MB_LEN_MAX !ğ
__STDLIB_MB_LEN_MAX


93 ià(
	`__bos
 (
__s
è!ğ(
size_t
è-1 && 
__STDLIB_MB_LEN_MAX
 > __bos (__s))

94  
	`__wùomb_chk
 (
__s
, 
__wch¬
, 
	`__bos
 (__s));

95  
	`__wùomb_®Ÿs
 (
__s
, 
__wch¬
);

96 
	}
}

99 
size_t
 
	$__mb¡owcs_chk
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

100 
__cÚ¡
 *
__»¡riù
 
__¤c
,

101 
size_t
 
__Ën
, size_ˆ
__d¡Ën
è
__THROW
;

102 
size_t
 
	`__REDIRECT_NTH
 (
__mb¡owcs_®Ÿs
,

103 (
wch¬_t
 *
__»¡riù
 
__d¡
,

104 
__cÚ¡
 *
__»¡riù
 
__¤c
,

105 
size_t
 
__Ën
), 
mb¡owcs
);

106 
size_t
 
	`__REDIRECT_NTH
 (
__mb¡owcs_chk_w¬n
,

107 (
wch¬_t
 *
__»¡riù
 
__d¡
,

108 
__cÚ¡
 *
__»¡riù
 
__¤c
,

109 
size_t
 
__Ën
, size_ˆ
__d¡Ën
), 
__mb¡owcs_chk
)

110 
	`__w¬Ç‰r
 ("mbstowcs called with dst buffer smallerhan†en "

113 
__ex‹º_®ways_šlše
 
size_t


114 
	`__NTH
 (
	$mb¡owcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
, 
__cÚ¡
 *__»¡riù 
__¤c
,

115 
size_t
 
__Ën
))

117 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

119 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

120  
	`__mb¡owcs_chk
 (
__d¡
, 
__¤c
, 
__Ën
,

121 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

123 ià(
__Ën
 > 
	`__bos
 (
__d¡
è/  (
wch¬_t
))

124  
	`__mb¡owcs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__Ën
,

125 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

127  
	`__mb¡owcs_®Ÿs
 (
__d¡
, 
__¤c
, 
__Ën
);

128 
	}
}

131 
size_t
 
	$__wc¡ombs_chk
 (*
__»¡riù
 
__d¡
,

132 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

133 
size_t
 
__Ën
, size_ˆ
__d¡Ën
è
__THROW
;

134 
size_t
 
	`__REDIRECT_NTH
 (
__wc¡ombs_®Ÿs
,

135 (*
__»¡riù
 
__d¡
,

136 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

137 
size_t
 
__Ën
), 
wc¡ombs
);

138 
size_t
 
	`__REDIRECT_NTH
 (
__wc¡ombs_chk_w¬n
,

139 (*
__»¡riù
 
__d¡
,

140 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

141 
size_t
 
__Ën
, size_ˆ
__d¡Ën
), 
__wc¡ombs_chk
)

142 
	`__w¬Ç‰r
 ("wcstombs called with dst buffer smallerhan†en");

144 
__ex‹º_®ways_šlše
 
size_t


145 
	`__NTH
 (
	$wc¡ombs
 (*
__»¡riù
 
__d¡
, 
__cÚ¡
 
wch¬_t
 *__»¡riù 
__¤c
,

146 
size_t
 
__Ën
))

148 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

150 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

151  
	`__wc¡ombs_chk
 (
__d¡
, 
__¤c
, 
__Ën
, 
	`__bos
 (__dst));

152 ià(
__Ën
 > 
	`__bos
 (
__d¡
))

153  
	`__wc¡ombs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__Ën
, 
	`__bos
 (__dst));

155  
	`__wc¡ombs_®Ÿs
 (
__d¡
, 
__¤c
, 
__Ën
);

156 
	}
}

	@/usr/include/bits/string.h

20 #iâdeà
_STRING_H


26 
	#_STRING_ARCH_uÇligÃd
 1

	)

	@/usr/include/bits/string2.h

21 #iâdeà
_STRING_H


25 #ià!
defšed
 
__NO_STRING_INLINES
 && !defšed 
__BOUNDED_POINTERS__


42 #iâdeà
__STRING_INLINE


43 #ifdeà
__ılu¥lus


44 
	#__STRING_INLINE
 
šlše


	)

46 
	#__STRING_INLINE
 
__ex‹º_šlše


	)

50 #ià
_STRING_ARCH_uÇligÃd


52 
	~<’dŸn.h
>

53 
	~<b™s/ty³s.h
>

55 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


56 
	#__STRING2_SMALL_GET16
(
¤c
, 
idx
) \

57 (((
__cÚ¡
 *è(__cÚ¡ *è(
¤c
))[
idx
 + 1] << 8 \

58 | ((
__cÚ¡
 *è(__cÚ¡ *è(
¤c
))[
idx
])

	)

59 
	#__STRING2_SMALL_GET32
(
¤c
, 
idx
) \

60 (((((
__cÚ¡
 *è(__cÚ¡ *è(
¤c
))[
idx
 + 3] << 8 \

61 | ((
__cÚ¡
 *è(__cÚ¡ *è(
¤c
))[
idx
 + 2]) << 8 \

62 | ((
__cÚ¡
 *è(__cÚ¡ *è(
¤c
))[
idx
 + 1]) << 8 \

63 | ((
__cÚ¡
 *è(__cÚ¡ *è(
¤c
))[
idx
])

	)

65 
	#__STRING2_SMALL_GET16
(
¤c
, 
idx
) \

66 (((
__cÚ¡
 *è(__cÚ¡ *è(
¤c
))[
idx
] << 8 \

67 | ((
__cÚ¡
 *è(__cÚ¡ *è(
¤c
))[
idx
 + 1])

	)

68 
	#__STRING2_SMALL_GET32
(
¤c
, 
idx
) \

69 (((((
__cÚ¡
 *è(__cÚ¡ *è(
¤c
))[
idx
] << 8 \

70 | ((
__cÚ¡
 *è(__cÚ¡ *è(
¤c
))[
idx
 + 1]) << 8 \

71 | ((
__cÚ¡
 *è(__cÚ¡ *è(
¤c
))[
idx
 + 2]) << 8 \

72 | ((
__cÚ¡
 *è(__cÚ¡ *è(
¤c
))[
idx
 + 3])

	)

77 
	#__STRING2_COPY_TYPE
(
N
) \

78 ¡ruù { 
__¬r
[
N
]; } \

79 
	t__©Œibu‹__
 ((
	t__·cked__
)è
	t__STRING2_COPY_ARR
##
	tN


	)

80 
	t__STRING2_COPY_TYPE
 (2);

81 
__STRING2_COPY_TYPE
 (3);

82 
__STRING2_COPY_TYPE
 (4);

83 
__STRING2_COPY_TYPE
 (5);

84 
__STRING2_COPY_TYPE
 (6);

85 
__STRING2_COPY_TYPE
 (7);

86 
__STRING2_COPY_TYPE
 (8);

87 #undeà
__STRING2_COPY_TYPE


93 
	#__¡ršg2_1b±r_p
(
__x
) \

94 ((
size_t
)(cÚ¡ *)((
__x
è+ 1è- (size_t)(cÚ¡ *)(__xè=ğ1)

	)

97 #ià!
defšed
 
_HAVE_STRING_ARCH_mem£t


98 #ià!
__GNUC_PREREQ
 (3, 0)

99 #ià
_STRING_ARCH_uÇligÃd


100 
	#mem£t
(
s
, 
c
, 
n
) \

101 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
n
) && (n) <= 16 \

102 ? ((
n
) == 1 \

103 ? 
	`__mem£t_1
 (
s
, 
c
) \

104 : 
	`__mem£t_gc
 (
s
, 
c
, 
n
)) \

105 : (
	`__butš_cÚ¡ªt_p
 (
c
) && (c) == '\0' \

106 ? ({ *
__s
 = (
s
); 
	`__bz”o
 (__s, 
n
); __s; }) \

107 : 
	`mem£t
 (
s
, 
c
, 
n
))))

	)

109 
	#__mem£t_1
(
s
, 
c
è({ *
__s
 = (s); \

110 *((
__ušt8_t
 *è
__s
èğ(__ušt8_tè
c
; __s; })

	)

112 
	#__mem£t_gc
(
s
, 
c
, 
n
) \

113 ({ *
__s
 = (
s
); \

115 
__ui
; \

116 
__usi
; \

117 
__uc
; \

118 } *
__u
 = 
__s
; \

119 
__ušt8_t
 
__c
 = (__ušt8_tè(
c
); \

122 (è(
n
)) \

125 
__u
->
__ui
 = 
__c
 * 0x01010101; \

126 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

128 
__u
->
__ui
 = 
__c
 * 0x01010101; \

129 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

131 
__u
->
__ui
 = 
__c
 * 0x01010101; \

132 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

134 
__u
->
__usi
 = (è
__c
 * 0x0101; \

135 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2); \

136 
__u
->
__uc
 = (è
__c
; \

140 
__u
->
__ui
 = 
__c
 * 0x01010101; \

141 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

143 
__u
->
__ui
 = 
__c
 * 0x01010101; \

144 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

146 
__u
->
__ui
 = 
__c
 * 0x01010101; \

147 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

149 
__u
->
__usi
 = (è
__c
 * 0x0101; \

153 
__u
->
__ui
 = 
__c
 * 0x01010101; \

154 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

156 
__u
->
__ui
 = 
__c
 * 0x01010101; \

157 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

159 
__u
->
__ui
 = 
__c
 * 0x01010101; \

160 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

162 
__u
->
__uc
 = (è
__c
; \

166 
__u
->
__ui
 = 
__c
 * 0x01010101; \

167 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

169 
__u
->
__ui
 = 
__c
 * 0x01010101; \

170 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

172 
__u
->
__ui
 = 
__c
 * 0x01010101; \

173 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

175 
__u
->
__ui
 = 
__c
 * 0x01010101; \

180 
__s
; })

	)

182 
	#mem£t
(
s
, 
c
, 
n
) \

183 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
) && (c) == '\0' \

184 ? ({ *
__s
 = (
s
); 
	`__bz”o
 (__s, 
n
); __s; }) \

185 : 
	`mem£t
 (
s
, 
c
, 
n
)))

	)

194 #ià
__GNUC_PREREQ
 (2, 91)

195 
	#__bz”o
(
s
, 
n
è
	`__butš_mem£t
 (s, '\0',‚)

	)

203 #ifdeà
__USE_GNU


204 #ià!
defšed
 
_HAVE_STRING_ARCH_mempıy
 || defšed 
_FORCE_INLINES


205 #iâdeà
_HAVE_STRING_ARCH_mempıy


206 #ià
__GNUC_PREREQ
 (3, 4)

207 
	#__mempıy
(
de¡
, 
¤c
, 
n
è
	`__butš_mempıy
 (de¡, src,‚)

	)

208 #–ià
__GNUC_PREREQ
 (3, 0)

209 
	#__mempıy
(
de¡
, 
¤c
, 
n
) \

210 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

211 && 
	`__¡ršg2_1b±r_p
 (
¤c
è&& 
n
 <= 8 \

212 ? 
	`__butš_memıy
 (
de¡
, 
¤c
, 
n
) + (n) \

213 : 
	`__mempıy
 (
de¡
, 
¤c
, 
n
)))

	)

215 
	#__mempıy
(
de¡
, 
¤c
, 
n
) \

216 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

217 && 
	`__¡ršg2_1b±r_p
 (
¤c
è&& 
n
 <= 8 \

218 ? 
	`__mempıy_sm®l
 (
de¡
, 
	`__mempıy_¬gs
 (
¤c
), 
n
) \

219 : 
	`__mempıy
 (
de¡
, 
¤c
, 
n
)))

	)

223 
	#mempıy
(
de¡
, 
¤c
, 
n
è
	`__mempıy
 (de¡, src,‚)

	)

226 #ià!
__GNUC_PREREQ
 (3, 0è|| 
defšed
 
_FORCE_INLINES


227 #ià
_STRING_ARCH_uÇligÃd


228 #iâdeà
_FORCE_INLINES


229 
	#__mempıy_¬gs
(
¤c
) \

230 ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[2], \

231 ((
__cÚ¡
 *è(
¤c
))[4], ((__const *) (src))[6], \

232 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 0), \

233 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 4), \

234 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 0), \

235 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 4)

	)

237 
__STRING_INLINE
 *
__mempıy_sm®l
 (*, , , , ,

238 
__ušt16_t
, __ušt16_t, 
__ušt32_t
,

239 
__ušt32_t
, 
size_t
);

240 
__STRING_INLINE
 *

241 
	$__mempıy_sm®l
 (*
__de¡1
,

242 
__¤c0_1
, 
__¤c2_1
, 
__¤c4_1
, 
__¤c6_1
,

243 
__ušt16_t
 
__¤c0_2
, __ušt16_ˆ
__¤c4_2
,

244 
__ušt32_t
 
__¤c0_4
, __ušt32_ˆ
__¤c4_4
,

245 
size_t
 
__¤ş’
)

248 
__ušt32_t
 
__ui
;

249 
__ušt16_t
 
__usi
;

250 
__uc
;

251 
__c
;

252 } *
__u
 = 
__de¡1
;

253 (è
__¤ş’
)

256 
__u
->
__c
 = 
__¤c0_1
;

257 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

260 
__u
->
__usi
 = 
__¤c0_2
;

261 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

264 
__u
->
__usi
 = 
__¤c0_2
;

265 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

266 
__u
->
__c
 = 
__¤c2_1
;

267 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

270 
__u
->
__ui
 = 
__¤c0_4
;

271 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

274 
__u
->
__ui
 = 
__¤c0_4
;

275 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

276 
__u
->
__c
 = 
__¤c4_1
;

277 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

280 
__u
->
__ui
 = 
__¤c0_4
;

281 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

282 
__u
->
__usi
 = 
__¤c4_2
;

283 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

286 
__u
->
__ui
 = 
__¤c0_4
;

287 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

288 
__u
->
__usi
 = 
__¤c4_2
;

289 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

290 
__u
->
__c
 = 
__¤c6_1
;

291 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

294 
__u
->
__ui
 = 
__¤c0_4
;

295 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

296 
__u
->
__ui
 = 
__¤c4_4
;

297 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

300  (*è
__u
;

301 
	}
}

303 #iâdeà
_FORCE_INLINES


304 
	#__mempıy_¬gs
(
¤c
) \

305 ((
__cÚ¡
 *è(
¤c
))[0], \

306 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR2
) \

307 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1] } }), \

308 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR3
) \

309 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

310 ((
__cÚ¡
 *è(
¤c
))[2] } }), \

311 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR4
) \

312 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

313 ((
__cÚ¡
 *è(
¤c
))[2], ((__const *) (src))[3] } }), \

314 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR5
) \

315 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

316 ((
__cÚ¡
 *è(
¤c
))[2], ((__const *) (src))[3], \

317 ((
__cÚ¡
 *è(
¤c
))[4] } }), \

318 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR6
) \

319 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

320 ((
__cÚ¡
 *è(
¤c
))[2], ((__const *) (src))[3], \

321 ((
__cÚ¡
 *è(
¤c
))[4], ((__const *) (src))[5] } }), \

322 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR7
) \

323 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

324 ((
__cÚ¡
 *è(
¤c
))[2], ((__const *) (src))[3], \

325 ((
__cÚ¡
 *è(
¤c
))[4], ((__const *) (src))[5], \

326 ((
__cÚ¡
 *è(
¤c
))[6] } }), \

327 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR8
) \

328 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

329 ((
__cÚ¡
 *è(
¤c
))[2], ((__const *) (src))[3], \

330 ((
__cÚ¡
 *è(
¤c
))[4], ((__const *) (src))[5], \

331 ((
__cÚ¡
 *è(
¤c
))[6], ((__cÚ¡ *è(¤c))[7] } })

	)

333 
__STRING_INLINE
 *
__mempıy_sm®l
 (*, , 
__STRING2_COPY_ARR2
,

334 
__STRING2_COPY_ARR3
,

335 
__STRING2_COPY_ARR4
,

336 
__STRING2_COPY_ARR5
,

337 
__STRING2_COPY_ARR6
,

338 
__STRING2_COPY_ARR7
,

339 
__STRING2_COPY_ARR8
, 
size_t
);

340 
__STRING_INLINE
 *

341 
	$__mempıy_sm®l
 (*
__de¡
, 
__¤c1
,

342 
__STRING2_COPY_ARR2
 
__¤c2
, 
__STRING2_COPY_ARR3
 
__¤c3
,

343 
__STRING2_COPY_ARR4
 
__¤c4
, 
__STRING2_COPY_ARR5
 
__¤c5
,

344 
__STRING2_COPY_ARR6
 
__¤c6
, 
__STRING2_COPY_ARR7
 
__¤c7
,

345 
__STRING2_COPY_ARR8
 
__¤c8
, 
size_t
 
__¤ş’
)

348 
__c
;

349 
__STRING2_COPY_ARR2
 
__sÿ2
;

350 
__STRING2_COPY_ARR3
 
__sÿ3
;

351 
__STRING2_COPY_ARR4
 
__sÿ4
;

352 
__STRING2_COPY_ARR5
 
__sÿ5
;

353 
__STRING2_COPY_ARR6
 
__sÿ6
;

354 
__STRING2_COPY_ARR7
 
__sÿ7
;

355 
__STRING2_COPY_ARR8
 
__sÿ8
;

356 } *
__u
 = 
__de¡
;

357 (è
__¤ş’
)

360 
__u
->
__c
 = 
__¤c1
;

363 
__ex‹nsiÚ__
 
__u
->
__sÿ2
 = 
__¤c2
;

366 
__ex‹nsiÚ__
 
__u
->
__sÿ3
 = 
__¤c3
;

369 
__ex‹nsiÚ__
 
__u
->
__sÿ4
 = 
__¤c4
;

372 
__ex‹nsiÚ__
 
__u
->
__sÿ5
 = 
__¤c5
;

375 
__ex‹nsiÚ__
 
__u
->
__sÿ6
 = 
__¤c6
;

378 
__ex‹nsiÚ__
 
__u
->
__sÿ7
 = 
__¤c7
;

381 
__ex‹nsiÚ__
 
__u
->
__sÿ8
 = 
__¤c8
;

384  
	`__ex‹nsiÚ__
 ((*è
__u
 + 
__¤ş’
);

385 
	}
}

393 #iâdeà
_HAVE_STRING_ARCH_¡rchr


394 *
__¿wmemchr
 (cÚ¡ *
__s
, 
__c
);

395 #ià
__GNUC_PREREQ
 (3, 2)

396 
	#¡rchr
(
s
, 
c
) \

397 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
è&& !__butš_cÚ¡ªt_°(
s
) \

398 && (
c
) == '\0' \

399 ? (*è
	`__¿wmemchr
 (
s
, 
c
) \

400 : 
	`__butš_¡rchr
 (
s
, 
c
)))

	)

402 
	#¡rchr
(
s
, 
c
) \

403 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
) && (c) == '\0' \

404 ? (*è
	`__¿wmemchr
 (
s
, 
c
) \

405 : 
	`¡rchr
 (
s
, 
c
)))

	)

411 #ià(!
defšed
 
_HAVE_STRING_ARCH_¡rıy
 && !
__GNUC_PREREQ
 (3, 0)) \

412 || 
defšed
 
	g_FORCE_INLINES


413 #ià!
defšed
 
_HAVE_STRING_ARCH_¡rıy
 && !
__GNUC_PREREQ
 (3, 0)

414 
	#¡rıy
(
de¡
, 
¤c
) \

415 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

416 ? (
	`__¡ršg2_1b±r_p
 (
¤c
è&& 
	`¡¾’
 (src) + 1 <= 8 \

417 ? 
	`__¡rıy_sm®l
 (
de¡
, 
	`__¡rıy_¬gs
 (
¤c
), \

418 
	`¡¾’
 (
¤c
) + 1) \

419 : (*è
	`memıy
 (
de¡
, 
¤c
, 
	`¡¾’
 (src) + 1)) \

420 : 
	`¡rıy
 (
de¡
, 
¤c
)))

	)

423 #ià
_STRING_ARCH_uÇligÃd


424 #iâdeà
_FORCE_INLINES


425 
	#__¡rıy_¬gs
(
¤c
) \

426 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 0), \

427 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 4), \

428 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 0), \

429 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 4)

	)

431 
__STRING_INLINE
 *
__¡rıy_sm®l
 (*, 
__ušt16_t
, __uint16_t,

432 
__ušt32_t
, __ušt32_t, 
size_t
);

433 
__STRING_INLINE
 *

434 
	$__¡rıy_sm®l
 (*
__de¡
,

435 
__ušt16_t
 
__¤c0_2
, __ušt16_ˆ
__¤c4_2
,

436 
__ušt32_t
 
__¤c0_4
, __ušt32_ˆ
__¤c4_4
,

437 
size_t
 
__¤ş’
)

440 
__ušt32_t
 
__ui
;

441 
__ušt16_t
 
__usi
;

442 
__uc
;

443 } *
__u
 = (*è
__de¡
;

444 (è
__¤ş’
)

447 
__u
->
__uc
 = '\0';

450 
__u
->
__usi
 = 
__¤c0_2
;

453 
__u
->
__usi
 = 
__¤c0_2
;

454 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

455 
__u
->
__uc
 = '\0';

458 
__u
->
__ui
 = 
__¤c0_4
;

461 
__u
->
__ui
 = 
__¤c0_4
;

462 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

463 
__u
->
__uc
 = '\0';

466 
__u
->
__ui
 = 
__¤c0_4
;

467 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

468 
__u
->
__usi
 = 
__¤c4_2
;

471 
__u
->
__ui
 = 
__¤c0_4
;

472 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

473 
__u
->
__usi
 = 
__¤c4_2
;

474 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

475 
__u
->
__uc
 = '\0';

478 
__u
->
__ui
 = 
__¤c0_4
;

479 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

480 
__u
->
__ui
 = 
__¤c4_4
;

483  
__de¡
;

484 
	}
}

486 #iâdeà
_FORCE_INLINES


487 
	#__¡rıy_¬gs
(
¤c
) \

488 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR2
) \

489 { { ((
__cÚ¡
 *è(
¤c
))[0], '\0' } }), \

490 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR3
) \

491 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

493 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR4
) \

494 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

495 ((
__cÚ¡
 *è(
¤c
))[2], '\0' } }), \

496 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR5
) \

497 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

498 ((
__cÚ¡
 *è(
¤c
))[2], ((__const *) (src))[3], \

500 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR6
) \

501 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

502 ((
__cÚ¡
 *è(
¤c
))[2], ((__const *) (src))[3], \

503 ((
__cÚ¡
 *è(
¤c
))[4], '\0' } }), \

504 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR7
) \

505 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

506 ((
__cÚ¡
 *è(
¤c
))[2], ((__const *) (src))[3], \

507 ((
__cÚ¡
 *è(
¤c
))[4], ((__const *) (src))[5], \

509 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR8
) \

510 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

511 ((
__cÚ¡
 *è(
¤c
))[2], ((__const *) (src))[3], \

512 ((
__cÚ¡
 *è(
¤c
))[4], ((__const *) (src))[5], \

513 ((
__cÚ¡
 *è(
¤c
))[6], '\0' } })

	)

515 
__STRING_INLINE
 *
__¡rıy_sm®l
 (*, 
__STRING2_COPY_ARR2
,

516 
__STRING2_COPY_ARR3
,

517 
__STRING2_COPY_ARR4
,

518 
__STRING2_COPY_ARR5
,

519 
__STRING2_COPY_ARR6
,

520 
__STRING2_COPY_ARR7
,

521 
__STRING2_COPY_ARR8
, 
size_t
);

522 
__STRING_INLINE
 *

523 
	$__¡rıy_sm®l
 (*
__de¡
,

524 
__STRING2_COPY_ARR2
 
__¤c2
, 
__STRING2_COPY_ARR3
 
__¤c3
,

525 
__STRING2_COPY_ARR4
 
__¤c4
, 
__STRING2_COPY_ARR5
 
__¤c5
,

526 
__STRING2_COPY_ARR6
 
__¤c6
, 
__STRING2_COPY_ARR7
 
__¤c7
,

527 
__STRING2_COPY_ARR8
 
__¤c8
, 
size_t
 
__¤ş’
)

530 
__c
;

531 
__STRING2_COPY_ARR2
 
__sÿ2
;

532 
__STRING2_COPY_ARR3
 
__sÿ3
;

533 
__STRING2_COPY_ARR4
 
__sÿ4
;

534 
__STRING2_COPY_ARR5
 
__sÿ5
;

535 
__STRING2_COPY_ARR6
 
__sÿ6
;

536 
__STRING2_COPY_ARR7
 
__sÿ7
;

537 
__STRING2_COPY_ARR8
 
__sÿ8
;

538 } *
__u
 = (*è
__de¡
;

539 (è
__¤ş’
)

542 
__u
->
__c
 = '\0';

545 
__ex‹nsiÚ__
 
__u
->
__sÿ2
 = 
__¤c2
;

548 
__ex‹nsiÚ__
 
__u
->
__sÿ3
 = 
__¤c3
;

551 
__ex‹nsiÚ__
 
__u
->
__sÿ4
 = 
__¤c4
;

554 
__ex‹nsiÚ__
 
__u
->
__sÿ5
 = 
__¤c5
;

557 
__ex‹nsiÚ__
 
__u
->
__sÿ6
 = 
__¤c6
;

560 
__ex‹nsiÚ__
 
__u
->
__sÿ7
 = 
__¤c7
;

563 
__ex‹nsiÚ__
 
__u
->
__sÿ8
 = 
__¤c8
;

566  
__de¡
;

567 
	}
}

573 #ifdeà
__USE_GNU


574 #ià!
defšed
 
_HAVE_STRING_ARCH_¡pıy
 || defšed 
_FORCE_INLINES


575 #iâdeà
_HAVE_STRING_ARCH_¡pıy


576 #ià
__GNUC_PREREQ
 (3, 4)

577 
	#__¡pıy
(
de¡
, 
¤c
è
	`__butš_¡pıy
 (de¡, src)

	)

578 #–ià
__GNUC_PREREQ
 (3, 0)

579 
	#__¡pıy
(
de¡
, 
¤c
) \

580 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

581 ? (
	`__¡ršg2_1b±r_p
 (
¤c
è&& 
	`¡¾’
 (src) + 1 <= 8 \

582 ? 
	`__butš_¡rıy
 (
de¡
, 
¤c
è+ 
	`¡¾’
 (src) \

583 : ((*è(
__mempıy
è(
de¡
, 
¤c
, 
	`¡¾’
 (src) + 1) \

585 : 
	`__¡pıy
 (
de¡
, 
¤c
)))

	)

587 
	#__¡pıy
(
de¡
, 
¤c
) \

588 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

589 ? (
	`__¡ršg2_1b±r_p
 (
¤c
è&& 
	`¡¾’
 (src) + 1 <= 8 \

590 ? 
	`__¡pıy_sm®l
 (
de¡
, 
	`__¡pıy_¬gs
 (
¤c
), \

591 
	`¡¾’
 (
¤c
) + 1) \

592 : ((*è(
__mempıy
è(
de¡
, 
¤c
, 
	`¡¾’
 (src) + 1) \

594 : 
	`__¡pıy
 (
de¡
, 
¤c
)))

	)

598 
	#¡pıy
(
de¡
, 
¤c
è
	`__¡pıy
 (de¡, src)

	)

601 #ià!
__GNUC_PREREQ
 (3, 0è|| 
defšed
 
_FORCE_INLINES


602 #ià
_STRING_ARCH_uÇligÃd


603 #iâdeà
_FORCE_INLINES


604 
	#__¡pıy_¬gs
(
¤c
) \

605 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 0), \

606 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 4), \

607 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 0), \

608 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 4)

	)

610 
__STRING_INLINE
 *
__¡pıy_sm®l
 (*, 
__ušt16_t
, __uint16_t,

611 
__ušt32_t
, __ušt32_t, 
size_t
);

612 
__STRING_INLINE
 *

613 
	$__¡pıy_sm®l
 (*
__de¡
,

614 
__ušt16_t
 
__¤c0_2
, __ušt16_ˆ
__¤c4_2
,

615 
__ušt32_t
 
__¤c0_4
, __ušt32_ˆ
__¤c4_4
,

616 
size_t
 
__¤ş’
)

619 
__ui
;

620 
__usi
;

621 
__uc
;

622 
__c
;

623 } *
__u
 = (*è
__de¡
;

624 (è
__¤ş’
)

627 
__u
->
__uc
 = '\0';

630 
__u
->
__usi
 = 
__¤c0_2
;

631 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

634 
__u
->
__usi
 = 
__¤c0_2
;

635 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

636 
__u
->
__uc
 = '\0';

639 
__u
->
__ui
 = 
__¤c0_4
;

640 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 3);

643 
__u
->
__ui
 = 
__¤c0_4
;

644 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

645 
__u
->
__uc
 = '\0';

648 
__u
->
__ui
 = 
__¤c0_4
;

649 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

650 
__u
->
__usi
 = 
__¤c4_2
;

651 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

654 
__u
->
__ui
 = 
__¤c0_4
;

655 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

656 
__u
->
__usi
 = 
__¤c4_2
;

657 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

658 
__u
->
__uc
 = '\0';

661 
__u
->
__ui
 = 
__¤c0_4
;

662 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

663 
__u
->
__ui
 = 
__¤c4_4
;

664 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 3);

667  &
__u
->
__c
;

668 
	}
}

670 #iâdeà
_FORCE_INLINES


671 
	#__¡pıy_¬gs
(
¤c
) \

672 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR2
) \

673 { { ((
__cÚ¡
 *è(
¤c
))[0], '\0' } }), \

674 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR3
) \

675 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

677 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR4
) \

678 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

679 ((
__cÚ¡
 *è(
¤c
))[2], '\0' } }), \

680 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR5
) \

681 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

682 ((
__cÚ¡
 *è(
¤c
))[2], ((__const *) (src))[3], \

684 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR6
) \

685 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

686 ((
__cÚ¡
 *è(
¤c
))[2], ((__const *) (src))[3], \

687 ((
__cÚ¡
 *è(
¤c
))[4], '\0' } }), \

688 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR7
) \

689 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

690 ((
__cÚ¡
 *è(
¤c
))[2], ((__const *) (src))[3], \

691 ((
__cÚ¡
 *è(
¤c
))[4], ((__const *) (src))[5], \

693 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR8
) \

694 { { ((
__cÚ¡
 *è(
¤c
))[0], ((__const *) (src))[1], \

695 ((
__cÚ¡
 *è(
¤c
))[2], ((__const *) (src))[3], \

696 ((
__cÚ¡
 *è(
¤c
))[4], ((__const *) (src))[5], \

697 ((
__cÚ¡
 *è(
¤c
))[6], '\0' } })

	)

699 
__STRING_INLINE
 *
__¡pıy_sm®l
 (*, 
__STRING2_COPY_ARR2
,

700 
__STRING2_COPY_ARR3
,

701 
__STRING2_COPY_ARR4
,

702 
__STRING2_COPY_ARR5
,

703 
__STRING2_COPY_ARR6
,

704 
__STRING2_COPY_ARR7
,

705 
__STRING2_COPY_ARR8
, 
size_t
);

706 
__STRING_INLINE
 *

707 
	$__¡pıy_sm®l
 (*
__de¡
,

708 
__STRING2_COPY_ARR2
 
__¤c2
, 
__STRING2_COPY_ARR3
 
__¤c3
,

709 
__STRING2_COPY_ARR4
 
__¤c4
, 
__STRING2_COPY_ARR5
 
__¤c5
,

710 
__STRING2_COPY_ARR6
 
__¤c6
, 
__STRING2_COPY_ARR7
 
__¤c7
,

711 
__STRING2_COPY_ARR8
 
__¤c8
, 
size_t
 
__¤ş’
)

714 
__c
;

715 
__STRING2_COPY_ARR2
 
__sÿ2
;

716 
__STRING2_COPY_ARR3
 
__sÿ3
;

717 
__STRING2_COPY_ARR4
 
__sÿ4
;

718 
__STRING2_COPY_ARR5
 
__sÿ5
;

719 
__STRING2_COPY_ARR6
 
__sÿ6
;

720 
__STRING2_COPY_ARR7
 
__sÿ7
;

721 
__STRING2_COPY_ARR8
 
__sÿ8
;

722 } *
__u
 = (*è
__de¡
;

723 (è
__¤ş’
)

726 
__u
->
__c
 = '\0';

729 
__ex‹nsiÚ__
 
__u
->
__sÿ2
 = 
__¤c2
;

732 
__ex‹nsiÚ__
 
__u
->
__sÿ3
 = 
__¤c3
;

735 
__ex‹nsiÚ__
 
__u
->
__sÿ4
 = 
__¤c4
;

738 
__ex‹nsiÚ__
 
__u
->
__sÿ5
 = 
__¤c5
;

741 
__ex‹nsiÚ__
 
__u
->
__sÿ6
 = 
__¤c6
;

744 
__ex‹nsiÚ__
 
__u
->
__sÿ7
 = 
__¤c7
;

747 
__ex‹nsiÚ__
 
__u
->
__sÿ8
 = 
__¤c8
;

750  
__de¡
 + 
__¤ş’
 - 1;

751 
	}
}

759 #iâdeà
_HAVE_STRING_ARCH_¡ºıy


760 #ià
__GNUC_PREREQ
 (3, 2)

761 
	#¡ºıy
(
de¡
, 
¤c
, 
n
è
	`__butš_¡ºıy
 (de¡, src,‚)

	)

763 
	#¡ºıy
(
de¡
, 
¤c
, 
n
) \

764 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

765 ? (
	`¡¾’
 (
¤c
è+ 1 >ğ((
size_t
è(
n
)) \

766 ? (*è
	`memıy
 (
de¡
, 
¤c
, 
n
) \

767 : 
	`¡ºıy
 (
de¡
, 
¤c
, 
n
)) \

768 : 
	`¡ºıy
 (
de¡
, 
¤c
, 
n
)))

	)

774 #iâdeà
_HAVE_STRING_ARCH_¡ºÿt


775 #ifdeà
_USE_STRING_ARCH_¡rchr


776 
	#¡ºÿt
(
de¡
, 
¤c
, 
n
) \

777 (
	`__ex‹nsiÚ__
 ({ *
__de¡
 = (
de¡
); \

778 
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

779 ? (
	`¡¾’
 (
¤c
è< ((
size_t
è(
n
)) \

780 ? 
	`¡rÿt
 (
__de¡
, 
¤c
) \

781 : (*((*è
	`__mempıy
 (
	`¡rchr
 (
__de¡
, '\0'), \

782 
¤c
, 
n
)èğ'\0', 
__de¡
)) \

783 : 
	`¡ºÿt
 (
de¡
, 
¤c
, 
n
); }))

	)

784 #–ià
__GNUC_PREREQ
 (3, 2)

785 
	#¡ºÿt
(
de¡
, 
¤c
, 
n
è
	`__butš_¡ºÿt
 (de¡, src,‚)

	)

787 
	#¡ºÿt
(
de¡
, 
¤c
, 
n
) \

788 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

789 ? (
	`¡¾’
 (
¤c
è< ((
size_t
è(
n
)) \

790 ? 
	`¡rÿt
 (
de¡
, 
¤c
) \

791 : 
	`¡ºÿt
 (
de¡
, 
¤c
, 
n
)) \

792 : 
	`¡ºÿt
 (
de¡
, 
¤c
, 
n
)))

	)

798 #iâdeà
_HAVE_STRING_ARCH_¡rcmp


799 #ià
__GNUC_PREREQ
 (3, 2)

800 
	#¡rcmp
(
s1
, 
s2
) \

801 
__ex‹nsiÚ__
 \

802 ({ 
size_t
 
__s1_Ën
, 
__s2_Ën
; \

803 (
	`__butš_cÚ¡ªt_p
 (
s1
è&& __butš_cÚ¡ªt_°(
s2
) \

804 && (
__s1_Ën
 = 
	`¡¾’
 (
s1
), 
__s2_Ën
 = sŒËÀ(
s2
), \

805 (!
	`__¡ršg2_1b±r_p
 (
s1
è|| 
__s1_Ën
 >= 4) \

806 && (!
	`__¡ršg2_1b±r_p
 (
s2
è|| 
__s2_Ën
 >= 4)) \

807 ? 
	`__butš_¡rcmp
 (
s1
, 
s2
) \

808 : (
	`__butš_cÚ¡ªt_p
 (
s1
è&& 
	`__¡ršg2_1b±r_p
 (s1) \

809 && (
__s1_Ën
 = 
	`¡¾’
 (
s1
), __s1_len < 4) \

810 ? (
	`__butš_cÚ¡ªt_p
 (
s2
è&& 
	`__¡ršg2_1b±r_p
 (s2) \

811 ? 
	`__butš_¡rcmp
 (
s1
, 
s2
) \

812 : 
	`__¡rcmp_cg
 (
s1
, 
s2
, 
__s1_Ën
)) \

813 : (
	`__butš_cÚ¡ªt_p
 (
s2
è&& 
	`__¡ršg2_1b±r_p
 (s2) \

814 && (
__s2_Ën
 = 
	`¡¾’
 (
s2
), __s2_len < 4) \

815 ? (
	`__butš_cÚ¡ªt_p
 (
s1
è&& 
	`__¡ršg2_1b±r_p
 (s1) \

816 ? 
	`__butš_¡rcmp
 (
s1
, 
s2
) \

817 : 
	`__¡rcmp_gc
 (
s1
, 
s2
, 
__s2_Ën
)) \

818 : 
	`__butš_¡rcmp
 (
s1
, 
s2
)))); })

	)

820 
	#¡rcmp
(
s1
, 
s2
) \

821 
__ex‹nsiÚ__
 \

822 ({ 
size_t
 
__s1_Ën
, 
__s2_Ën
; \

823 (
	`__butš_cÚ¡ªt_p
 (
s1
è&& __butš_cÚ¡ªt_°(
s2
) \

824 && (
__s1_Ën
 = 
	`¡¾’
 (
s1
), 
__s2_Ën
 = sŒËÀ(
s2
), \

825 (!
	`__¡ršg2_1b±r_p
 (
s1
è|| 
__s1_Ën
 >= 4) \

826 && (!
	`__¡ršg2_1b±r_p
 (
s2
è|| 
__s2_Ën
 >= 4)) \

827 ? 
	`memcmp
 ((
__cÚ¡
 *è(
s1
), (__cÚ¡ *è(
s2
), \

828 (
__s1_Ën
 < 
__s2_Ën
 ? __s1_len : __s2_len) + 1) \

829 : (
	`__butš_cÚ¡ªt_p
 (
s1
è&& 
	`__¡ršg2_1b±r_p
 (s1) \

830 && (
__s1_Ën
 = 
	`¡¾’
 (
s1
), __s1_len < 4) \

831 ? (
	`__butš_cÚ¡ªt_p
 (
s2
è&& 
	`__¡ršg2_1b±r_p
 (s2) \

832 ? 
	`__¡rcmp_cc
 (
s1
, 
s2
, 
__s1_Ën
) \

833 : 
	`__¡rcmp_cg
 (
s1
, 
s2
, 
__s1_Ën
)) \

834 : (
	`__butš_cÚ¡ªt_p
 (
s2
è&& 
	`__¡ršg2_1b±r_p
 (s2) \

835 && (
__s2_Ën
 = 
	`¡¾’
 (
s2
), __s2_len < 4) \

836 ? (
	`__butš_cÚ¡ªt_p
 (
s1
è&& 
	`__¡ršg2_1b±r_p
 (s1) \

837 ? 
	`__¡rcmp_cc
 (
s1
, 
s2
, 
__s2_Ën
) \

838 : 
	`__¡rcmp_gc
 (
s1
, 
s2
, 
__s2_Ën
)) \

839 : 
	`¡rcmp
 (
s1
, 
s2
)))); })

	)

842 
	#__¡rcmp_cc
(
s1
, 
s2
, 
l
) \

843 (
	`__ex‹nsiÚ__
 ({ 
__»suÉ
 = \

844 (((
__cÚ¡
 *è(__cÚ¡ *è(
s1
))[0] \

845 - ((
__cÚ¡
 *è(__cÚ¡ *)(
s2
))[0]);\

846 ià(
l
 > 0 && 
__»suÉ
 == 0) \

848 
__»suÉ
 = (((
__cÚ¡
 *) \

849 (
__cÚ¡
 *è(
s1
))[1] \

850 - ((
__cÚ¡
 *) \

851 (
__cÚ¡
 *è(
s2
))[1]); \

852 ià(
l
 > 1 && 
__»suÉ
 == 0) \

854 
__»suÉ
 = \

855 (((
__cÚ¡
 *) \

856 (
__cÚ¡
 *è(
s1
))[2] \

857 - ((
__cÚ¡
 *) \

858 (
__cÚ¡
 *è(
s2
))[2]); \

859 ià(
l
 > 2 && 
__»suÉ
 == 0) \

860 
__»suÉ
 = \

861 (((
__cÚ¡
 *) \

862 (
__cÚ¡
 *è(
s1
))[3] \

863 - ((
__cÚ¡
 *) \

864 (
__cÚ¡
 *è(
s2
))[3]); \

867 
__»suÉ
; }))

	)

869 
	#__¡rcmp_cg
(
s1
, 
s2
, 
l1
) \

870 (
	`__ex‹nsiÚ__
 ({ 
__cÚ¡
 *
__s2
 = \

871 (
__cÚ¡
 *è(__cÚ¡ *è(
s2
); \

872 
__»suÉ
 = \

873 (((
__cÚ¡
 *è(__cÚ¡ *è(
s1
))[0] \

874 - 
__s2
[0]); \

875 ià(
l1
 > 0 && 
__»suÉ
 == 0) \

877 
__»suÉ
 = (((
__cÚ¡
 *) \

878 (
__cÚ¡
 *è(
s1
))[1] - 
__s2
[1]); \

879 ià(
l1
 > 1 && 
__»suÉ
 == 0) \

881 
__»suÉ
 = (((
__cÚ¡
 *) \

882 (
__cÚ¡
 *è(
s1
))[2] - 
__s2
[2]);\

883 ià(
l1
 > 2 && 
__»suÉ
 == 0) \

884 
__»suÉ
 = (((
__cÚ¡
 *) \

885 (
__cÚ¡
 *è(
s1
))[3] \

886 - 
__s2
[3]); \

889 
__»suÉ
; }))

	)

891 
	#__¡rcmp_gc
(
s1
, 
s2
, 
l2
) \

892 (
	`__ex‹nsiÚ__
 ({ 
__cÚ¡
 *
__s1
 = \

893 (
__cÚ¡
 *è(__cÚ¡ *è(
s1
); \

894 
__»suÉ
 = \

895 
__s1
[0] - ((
__cÚ¡
 *) \

896 (
__cÚ¡
 *è(
s2
))[0]; \

897 ià(
l2
 > 0 && 
__»suÉ
 == 0) \

899 
__»suÉ
 = (
__s1
[1] \

900 - ((
__cÚ¡
 *) \

901 (
__cÚ¡
 *è(
s2
))[1]); \

902 ià(
l2
 > 1 && 
__»suÉ
 == 0) \

904 
__»suÉ
 = \

905 (
__s1
[2] - ((
__cÚ¡
 *) \

906 (
__cÚ¡
 *è(
s2
))[2]); \

907 ià(
l2
 > 2 && 
__»suÉ
 == 0) \

908 
__»suÉ
 = \

909 (
__s1
[3] \

910 - ((
__cÚ¡
 *) \

911 (
__cÚ¡
 *è(
s2
))[3]); \

914 
__»suÉ
; }))

	)

919 #iâdeà
_HAVE_STRING_ARCH_¡ºcmp


920 
	#¡ºcmp
(
s1
, 
s2
, 
n
) \

921 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
n
) \

922 && ((
	`__butš_cÚ¡ªt_p
 (
s1
) \

923 && 
	`¡¾’
 (
s1
è< ((
size_t
è(
n
))) \

924 || (
	`__butš_cÚ¡ªt_p
 (
s2
) \

925 && 
	`¡¾’
 (
s2
è< ((
size_t
è(
n
)))) \

926 ? 
	`¡rcmp
 (
s1
, 
s2
è: 
	`¡ºcmp
 (s1, s2, 
n
)))

	)

932 #ià!
defšed
 
_HAVE_STRING_ARCH_¡rc¥n
 || defšed 
_FORCE_INLINES


933 #iâdeà
_HAVE_STRING_ARCH_¡rc¥n


934 #ià
__GNUC_PREREQ
 (3, 2)

935 
	#¡rc¥n
(
s
, 
»jeù
) \

936 
__ex‹nsiÚ__
 \

937 ({ 
__r0
, 
__r1
, 
__r2
; \

938 (
	`__butš_cÚ¡ªt_p
 (
»jeù
è&& 
	`__¡ršg2_1b±r_p
 (reject) \

939 ? ((
	`__butš_cÚ¡ªt_p
 (
s
è&& 
	`__¡ršg2_1b±r_p
 (s)) \

940 ? 
	`__butš_¡rc¥n
 (
s
, 
»jeù
) \

941 : ((
__r0
 = ((
__cÚ¡
 *è(
»jeù
))[0], __r0 == '\0') \

942 ? 
	`¡¾’
 (
s
) \

943 : ((
__r1
 = ((
__cÚ¡
 *è(
»jeù
))[1], __r1 == '\0') \

944 ? 
	`__¡rc¥n_c1
 (
s
, 
__r0
) \

945 : ((
__r2
 = ((
__cÚ¡
 *è(
»jeù
))[2], __r2 == '\0') \

946 ? 
	`__¡rc¥n_c2
 (
s
, 
__r0
, 
__r1
) \

947 : (((
__cÚ¡
 *è(
»jeù
))[3] == '\0' \

948 ? 
	`__¡rc¥n_c3
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

949 : 
	`__butš_¡rc¥n
 (
s
, 
»jeù
)))))) \

950 : 
	`__butš_¡rc¥n
 (
s
, 
»jeù
)); })

	)

952 
	#¡rc¥n
(
s
, 
»jeù
) \

953 
__ex‹nsiÚ__
 \

954 ({ 
__r0
, 
__r1
, 
__r2
; \

955 (
	`__butš_cÚ¡ªt_p
 (
»jeù
è&& 
	`__¡ršg2_1b±r_p
 (reject) \

956 ? ((
__r0
 = ((
__cÚ¡
 *è(
»jeù
))[0], __r0 == '\0') \

957 ? 
	`¡¾’
 (
s
) \

958 : ((
__r1
 = ((
__cÚ¡
 *è(
»jeù
))[1], __r1 == '\0') \

959 ? 
	`__¡rc¥n_c1
 (
s
, 
__r0
) \

960 : ((
__r2
 = ((
__cÚ¡
 *è(
»jeù
))[2], __r2 == '\0') \

961 ? 
	`__¡rc¥n_c2
 (
s
, 
__r0
, 
__r1
) \

962 : (((
__cÚ¡
 *è(
»jeù
))[3] == '\0' \

963 ? 
	`__¡rc¥n_c3
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

964 : 
	`¡rc¥n
 (
s
, 
»jeù
))))) \

965 : 
	`¡rc¥n
 (
s
, 
»jeù
)); })

	)

969 
__STRING_INLINE
 
size_t
 
__¡rc¥n_c1
 (
__cÚ¡
 *
__s
, 
__»jeù
);

970 
__STRING_INLINE
 
size_t


971 
	$__¡rc¥n_c1
 (
__cÚ¡
 *
__s
, 
__»jeù
)

973 
size_t
 
__»suÉ
 = 0;

974 
__s
[
__»suÉ
] !ğ'\0' && __s[__»suÉ] !ğ
__»jeù
)

975 ++
__»suÉ
;

976  
__»suÉ
;

977 
	}
}

979 
__STRING_INLINE
 
size_t
 
__¡rc¥n_c2
 (
__cÚ¡
 *
__s
, 
__»jeù1
,

980 
__»jeù2
);

981 
__STRING_INLINE
 
size_t


982 
	$__¡rc¥n_c2
 (
__cÚ¡
 *
__s
, 
__»jeù1
, 
__»jeù2
)

984 
size_t
 
__»suÉ
 = 0;

985 
__s
[
__»suÉ
] !ğ'\0' && __s[__»suÉ] !ğ
__»jeù1


986 && 
__s
[
__»suÉ
] !ğ
__»jeù2
)

987 ++
__»suÉ
;

988  
__»suÉ
;

989 
	}
}

991 
__STRING_INLINE
 
size_t
 
__¡rc¥n_c3
 (
__cÚ¡
 *
__s
, 
__»jeù1
,

992 
__»jeù2
, 
__»jeù3
);

993 
__STRING_INLINE
 
size_t


994 
	$__¡rc¥n_c3
 (
__cÚ¡
 *
__s
, 
__»jeù1
, 
__»jeù2
,

995 
__»jeù3
)

997 
size_t
 
__»suÉ
 = 0;

998 
__s
[
__»suÉ
] !ğ'\0' && __s[__»suÉ] !ğ
__»jeù1


999 && 
__s
[
__»suÉ
] !ğ
__»jeù2
 && __s[__»suÉ] !ğ
__»jeù3
)

1000 ++
__»suÉ
;

1001  
__»suÉ
;

1002 
	}
}

1008 #ià!
defšed
 
_HAVE_STRING_ARCH_¡r¥n
 || defšed 
_FORCE_INLINES


1009 #iâdeà
_HAVE_STRING_ARCH_¡r¥n


1010 #ià
__GNUC_PREREQ
 (3, 2)

1011 
	#¡r¥n
(
s
, 
acû±
) \

1012 
__ex‹nsiÚ__
 \

1013 ({ 
__a0
, 
__a1
, 
__a2
; \

1014 (
	`__butš_cÚ¡ªt_p
 (
acû±
è&& 
	`__¡ršg2_1b±r_p
 (accept) \

1015 ? ((
	`__butš_cÚ¡ªt_p
 (
s
è&& 
	`__¡ršg2_1b±r_p
 (s)) \

1016 ? 
	`__butš_¡r¥n
 (
s
, 
acû±
) \

1017 : ((
__a0
 = ((
__cÚ¡
 *è(
acû±
))[0], __a0 == '\0') \

1018 ? ((è(
s
), 0) \

1019 : ((
__a1
 = ((
__cÚ¡
 *è(
acû±
))[1], __a1 == '\0') \

1020 ? 
	`__¡r¥n_c1
 (
s
, 
__a0
) \

1021 : ((
__a2
 = ((
__cÚ¡
 *è(
acû±
))[2], __a2 == '\0') \

1022 ? 
	`__¡r¥n_c2
 (
s
, 
__a0
, 
__a1
) \

1023 : (((
__cÚ¡
 *è(
acû±
))[3] == '\0' \

1024 ? 
	`__¡r¥n_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1025 : 
	`__butš_¡r¥n
 (
s
, 
acû±
)))))) \

1026 : 
	`__butš_¡r¥n
 (
s
, 
acû±
)); })

	)

1028 
	#¡r¥n
(
s
, 
acû±
) \

1029 
__ex‹nsiÚ__
 \

1030 ({ 
__a0
, 
__a1
, 
__a2
; \

1031 (
	`__butš_cÚ¡ªt_p
 (
acû±
è&& 
	`__¡ršg2_1b±r_p
 (accept) \

1032 ? ((
__a0
 = ((
__cÚ¡
 *è(
acû±
))[0], __a0 == '\0') \

1033 ? ((è(
s
), 0) \

1034 : ((
__a1
 = ((
__cÚ¡
 *è(
acû±
))[1], __a1 == '\0') \

1035 ? 
	`__¡r¥n_c1
 (
s
, 
__a0
) \

1036 : ((
__a2
 = ((
__cÚ¡
 *è(
acû±
))[2], __a2 == '\0') \

1037 ? 
	`__¡r¥n_c2
 (
s
, 
__a0
, 
__a1
) \

1038 : (((
__cÚ¡
 *è(
acû±
))[3] == '\0' \

1039 ? 
	`__¡r¥n_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1040 : 
	`¡r¥n
 (
s
, 
acû±
))))) \

1041 : 
	`¡r¥n
 (
s
, 
acû±
)); })

	)

1045 
__STRING_INLINE
 
size_t
 
__¡r¥n_c1
 (
__cÚ¡
 *
__s
, 
__acû±
);

1046 
__STRING_INLINE
 
size_t


1047 
	$__¡r¥n_c1
 (
__cÚ¡
 *
__s
, 
__acû±
)

1049 
size_t
 
__»suÉ
 = 0;

1051 
__s
[
__»suÉ
] =ğ
__acû±
)

1052 ++
__»suÉ
;

1053  
__»suÉ
;

1054 
	}
}

1056 
__STRING_INLINE
 
size_t
 
__¡r¥n_c2
 (
__cÚ¡
 *
__s
, 
__acû±1
,

1057 
__acû±2
);

1058 
__STRING_INLINE
 
size_t


1059 
	$__¡r¥n_c2
 (
__cÚ¡
 *
__s
, 
__acû±1
, 
__acû±2
)

1061 
size_t
 
__»suÉ
 = 0;

1063 
__s
[
__»suÉ
] =ğ
__acû±1
 || __s[__»suÉ] =ğ
__acû±2
)

1064 ++
__»suÉ
;

1065  
__»suÉ
;

1066 
	}
}

1068 
__STRING_INLINE
 
size_t
 
__¡r¥n_c3
 (
__cÚ¡
 *
__s
, 
__acû±1
,

1069 
__acû±2
, 
__acû±3
);

1070 
__STRING_INLINE
 
size_t


1071 
	$__¡r¥n_c3
 (
__cÚ¡
 *
__s
, 
__acû±1
, 
__acû±2
, 
__acû±3
)

1073 
size_t
 
__»suÉ
 = 0;

1075 
__s
[
__»suÉ
] =ğ
__acû±1
 || __s[__»suÉ] =ğ
__acû±2


1076 || 
__s
[
__»suÉ
] =ğ
__acû±3
)

1077 ++
__»suÉ
;

1078  
__»suÉ
;

1079 
	}
}

1084 #ià!
defšed
 
_HAVE_STRING_ARCH_¡½brk
 || defšed 
_FORCE_INLINES


1085 #iâdeà
_HAVE_STRING_ARCH_¡½brk


1086 #ià
__GNUC_PREREQ
 (3, 2)

1087 
	#¡½brk
(
s
, 
acû±
) \

1088 
__ex‹nsiÚ__
 \

1089 ({ 
__a0
, 
__a1
, 
__a2
; \

1090 (
	`__butš_cÚ¡ªt_p
 (
acû±
è&& 
	`__¡ršg2_1b±r_p
 (accept) \

1091 ? ((
	`__butš_cÚ¡ªt_p
 (
s
è&& 
	`__¡ršg2_1b±r_p
 (s)) \

1092 ? 
	`__butš_¡½brk
 (
s
, 
acû±
) \

1093 : ((
__a0
 = ((
__cÚ¡
 *è(
acû±
))[0], __a0 == '\0') \

1094 ? ((è(
s
), (*è
NULL
) \

1095 : ((
__a1
 = ((
__cÚ¡
 *è(
acû±
))[1], __a1 == '\0') \

1096 ? 
	`__butš_¡rchr
 (
s
, 
__a0
) \

1097 : ((
__a2
 = ((
__cÚ¡
 *è(
acû±
))[2], __a2 == '\0') \

1098 ? 
	`__¡½brk_c2
 (
s
, 
__a0
, 
__a1
) \

1099 : (((
__cÚ¡
 *è(
acû±
))[3] == '\0' \

1100 ? 
	`__¡½brk_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1101 : 
	`__butš_¡½brk
 (
s
, 
acû±
)))))) \

1102 : 
	`__butš_¡½brk
 (
s
, 
acû±
)); })

	)

1104 
	#¡½brk
(
s
, 
acû±
) \

1105 
__ex‹nsiÚ__
 \

1106 ({ 
__a0
, 
__a1
, 
__a2
; \

1107 (
	`__butš_cÚ¡ªt_p
 (
acû±
è&& 
	`__¡ršg2_1b±r_p
 (accept) \

1108 ? ((
__a0
 = ((
__cÚ¡
 *è(
acû±
))[0], __a0 == '\0') \

1109 ? ((è(
s
), (*è
NULL
) \

1110 : ((
__a1
 = ((
__cÚ¡
 *è(
acû±
))[1], __a1 == '\0') \

1111 ? 
	`¡rchr
 (
s
, 
__a0
) \

1112 : ((
__a2
 = ((
__cÚ¡
 *è(
acû±
))[2], __a2 == '\0') \

1113 ? 
	`__¡½brk_c2
 (
s
, 
__a0
, 
__a1
) \

1114 : (((
__cÚ¡
 *è(
acû±
))[3] == '\0' \

1115 ? 
	`__¡½brk_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1116 : 
	`¡½brk
 (
s
, 
acû±
))))) \

1117 : 
	`¡½brk
 (
s
, 
acû±
)); })

	)

1121 
__STRING_INLINE
 *
__¡½brk_c2
 (
__cÚ¡
 *
__s
, 
__acû±1
,

1122 
__acû±2
);

1123 
__STRING_INLINE
 *

1124 
	$__¡½brk_c2
 (
__cÚ¡
 *
__s
, 
__acû±1
, 
__acû±2
)

1127 *
__s
 !ğ'\0' && *__ !ğ
__acû±1
 && *__ !ğ
__acû±2
)

1128 ++
__s
;

1129  *
__s
 =ğ'\0' ? 
NULL
 : (*è(
size_t
) __s;

1130 
	}
}

1132 
__STRING_INLINE
 *
__¡½brk_c3
 (
__cÚ¡
 *
__s
, 
__acû±1
,

1133 
__acû±2
, 
__acû±3
);

1134 
__STRING_INLINE
 *

1135 
	$__¡½brk_c3
 (
__cÚ¡
 *
__s
, 
__acû±1
, 
__acû±2
,

1136 
__acû±3
)

1139 *
__s
 !ğ'\0' && *__ !ğ
__acû±1
 && *__ !ğ
__acû±2


1140 && *
__s
 !ğ
__acû±3
)

1141 ++
__s
;

1142  *
__s
 =ğ'\0' ? 
NULL
 : (*è(
size_t
) __s;

1143 
	}
}

1149 #ià!
defšed
 
_HAVE_STRING_ARCH_¡r¡r
 && !
__GNUC_PREREQ
 (2, 97)

1150 
	#¡r¡r
(
hay¡ack
, 
ÃedË
) \

1151 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
ÃedË
è&& 
	`__¡ršg2_1b±r_p
 (needle) \

1152 ? (((
__cÚ¡
 *è(
ÃedË
))[0] == '\0' \

1153 ? (*è(
size_t
è(
hay¡ack
) \

1154 : (((
__cÚ¡
 *è(
ÃedË
))[1] == '\0' \

1155 ? 
	`¡rchr
 (
hay¡ack
, \

1156 ((
__cÚ¡
 *è(
ÃedË
))[0]) \

1157 : 
	`¡r¡r
 (
hay¡ack
, 
ÃedË
))) \

1158 : 
	`¡r¡r
 (
hay¡ack
, 
ÃedË
)))

	)

1162 #ià!
defšed
 
_HAVE_STRING_ARCH_¡¹ok_r
 || defšed 
_FORCE_INLINES


1163 #iâdeà
_HAVE_STRING_ARCH_¡¹ok_r


1164 
	#__¡¹ok_r
(
s
, 
£p
, 
Ãx
) \

1165 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
£p
è&& 
	`__¡ršg2_1b±r_p
 (sep) \

1166 && ((
__cÚ¡
 *è(
£p
))[0] != '\0' \

1167 && ((
__cÚ¡
 *è(
£p
))[1] == '\0' \

1168 ? 
	`__¡¹ok_r_1c
 (
s
, ((
__cÚ¡
 *è(
£p
))[0], 
Ãx
) \

1169 : 
	`__¡¹ok_r
 (
s
, 
£p
, 
Ãx
)))

	)

1172 
__STRING_INLINE
 *
__¡¹ok_r_1c
 (*
__s
, 
__£p
, **
__Ãx
);

1173 
__STRING_INLINE
 *

1174 
	$__¡¹ok_r_1c
 (*
__s
, 
__£p
, **
__Ãx
)

1176 *
__»suÉ
;

1177 ià(
__s
 =ğ
NULL
)

1178 
__s
 = *
__Ãx
;

1179 *
__s
 =ğ
__£p
)

1180 ++
__s
;

1181 
__»suÉ
 = 
NULL
;

1182 ià(*
__s
 != '\0')

1184 
__»suÉ
 = 
__s
++;

1185 *
__s
 != '\0')

1186 ià(*
__s
++ =ğ
__£p
)

1188 
__s
[-1] = '\0';

1192 *
__Ãx
 = 
__s
;

1193  
__»suÉ
;

1194 
	}
}

1195 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


1196 
	#¡¹ok_r
(
s
, 
£p
, 
Ãx
è
	`__¡¹ok_r
 (s, s•,‚ex)

	)

1201 #ià!
defšed
 
_HAVE_STRING_ARCH_¡r£p
 || defšed 
_FORCE_INLINES


1202 #iâdeà
_HAVE_STRING_ARCH_¡r£p


1204 *
__¡r£p_g
 (**
__¡ršgp
, 
__cÚ¡
 *
__d–im
);

1205 
	#__¡r£p
(
s
, 
»jeù
) \

1206 
__ex‹nsiÚ__
 \

1207 ({ 
__r0
, 
__r1
, 
__r2
; \

1208 (
	`__butš_cÚ¡ªt_p
 (
»jeù
è&& 
	`__¡ršg2_1b±r_p
 (reject) \

1209 && (
__r0
 = ((
__cÚ¡
 *è(
»jeù
))[0], \

1210 ((
__cÚ¡
 *è(
»jeù
))[0] != '\0') \

1211 ? ((
__r1
 = ((
__cÚ¡
 *è(
»jeù
))[1], \

1212 ((
__cÚ¡
 *è(
»jeù
))[1] == '\0') \

1213 ? 
	`__¡r£p_1c
 (
s
, 
__r0
) \

1214 : ((
__r2
 = ((
__cÚ¡
 *è(
»jeù
))[2], __r2 == '\0') \

1215 ? 
	`__¡r£p_2c
 (
s
, 
__r0
, 
__r1
) \

1216 : (((
__cÚ¡
 *è(
»jeù
))[3] == '\0' \

1217 ? 
	`__¡r£p_3c
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

1218 : 
	`__¡r£p_g
 (
s
, 
»jeù
)))) \

1219 : 
	`__¡r£p_g
 (
s
, 
»jeù
)); })

	)

1222 
__STRING_INLINE
 *
__¡r£p_1c
 (**
__s
, 
__»jeù
);

1223 
__STRING_INLINE
 *

1224 
	$__¡r£p_1c
 (**
__s
, 
__»jeù
)

1226 *
__»tv®
 = *
__s
;

1227 ià(
__»tv®
 !ğ
NULL
 && (*
__s
 = 
	`¡rchr
 (__»tv®, 
__»jeù
)) != NULL)

1228 *(*
__s
)++ = '\0';

1229  
__»tv®
;

1230 
	}
}

1232 
__STRING_INLINE
 *
__¡r£p_2c
 (**
__s
, 
__»jeù1
, 
__»jeù2
);

1233 
__STRING_INLINE
 *

1234 
	$__¡r£p_2c
 (**
__s
, 
__»jeù1
, 
__»jeù2
)

1236 *
__»tv®
 = *
__s
;

1237 ià(
__»tv®
 !ğ
NULL
)

1239 *
__ı
 = 
__»tv®
;

1242 ià(*
__ı
 == '\0')

1244 
__ı
 = 
NULL
;

1247 ià(*
__ı
 =ğ
__»jeù1
 || *__ı =ğ
__»jeù2
)

1249 *
__ı
++ = '\0';

1252 ++
__ı
;

1254 *
__s
 = 
__ı
;

1256  
__»tv®
;

1257 
	}
}

1259 
__STRING_INLINE
 *
__¡r£p_3c
 (**
__s
, 
__»jeù1
, 
__»jeù2
,

1260 
__»jeù3
);

1261 
__STRING_INLINE
 *

1262 
	$__¡r£p_3c
 (**
__s
, 
__»jeù1
, 
__»jeù2
, 
__»jeù3
)

1264 *
__»tv®
 = *
__s
;

1265 ià(
__»tv®
 !ğ
NULL
)

1267 *
__ı
 = 
__»tv®
;

1270 ià(*
__ı
 == '\0')

1272 
__ı
 = 
NULL
;

1275 ià(*
__ı
 =ğ
__»jeù1
 || *__ı =ğ
__»jeù2
 || *__ı =ğ
__»jeù3
)

1277 *
__ı
++ = '\0';

1280 ++
__ı
;

1282 *
__s
 = 
__ı
;

1284  
__»tv®
;

1285 
	}
}

1286 #ifdeà
__USE_BSD


1287 
	#¡r£p
(
s
, 
»jeù
è
	`__¡r£p
 (s,„ejeù)

	)

1294 #ifdeà
__USE_MISC


1296 #ià!
defšed
 
_HAVE_STRING_ARCH_¡rdup
 || !defšed 
_HAVE_STRING_ARCH_¡ºdup


1297 
	#__Ãed_m®loc_ªd_ÿÎoc


	)

1298 
	~<¡dlib.h
>

1301 #iâdeà
_HAVE_STRING_ARCH_¡rdup


1303 *
	$__¡rdup
 (
__cÚ¡
 *
__¡ršg
è
__THROW
 
__©Œibu‹_m®loc__
;

1304 
	#__¡rdup
(
s
) \

1305 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
s
è&& 
	`__¡ršg2_1b±r_p
 (s) \

1306 ? (((
__cÚ¡
 *è(
s
))[0] == '\0' \

1307 ? (*è
	`ÿÎoc
 ((
size_t
) 1, (size_t) 1) \

1308 : ({ 
size_t
 
__Ën
 = 
	`¡¾’
 (
s
) + 1; \

1309 *
__»tv®
 = (*è
	`m®loc
 (
__Ën
); \

1310 ià(
__»tv®
 !ğ
NULL
) \

1311 
__»tv®
 = (*è
	`memıy
 (__»tv®, 
s
, 
__Ën
); \

1312 
__»tv®
; 
	}
})) \

1313 : 
	`__¡rdup
 (
s
)))

	)

1315 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


1316 
	#¡rdup
(
s
è
	`__¡rdup
 (s)

	)

1320 #iâdeà
_HAVE_STRING_ARCH_¡ºdup


1322 *
	$__¡ºdup
 (
__cÚ¡
 *
__¡ršg
, 
size_t
 
__n
)

1323 
__THROW
 
__©Œibu‹_m®loc__
;

1324 
	#__¡ºdup
(
s
, 
n
) \

1325 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
s
è&& 
	`__¡ršg2_1b±r_p
 (s) \

1326 ? (((
__cÚ¡
 *è(
s
))[0] == '\0' \

1327 ? (*è
	`ÿÎoc
 ((
size_t
) 1, (size_t) 1) \

1328 : ({ 
size_t
 
__Ën
 = 
	`¡¾’
 (
s
) + 1; \

1329 
size_t
 
__n
 = (
n
); \

1330 *
__»tv®
; \

1331 ià(
__n
 < 
__Ën
) \

1332 
__Ën
 = 
__n
 + 1; \

1333 
__»tv®
 = (*è
	`m®loc
 (
__Ën
); \

1334 ià(
__»tv®
 !ğ
NULL
) \

1336 
__»tv®
[
__Ën
 - 1] = '\0'; \

1337 
__»tv®
 = (*è
	`memıy
 (__»tv®, 
s
, \

1338 
__Ën
 - 1); \

1340 
__»tv®
; 
	}
})) \

1341 : 
	`__¡ºdup
 (
s
, 
n
)))

	)

1343 #ifdeà
__USE_GNU


1344 
	#¡ºdup
(
s
, 
n
è
	`__¡ºdup
 (s,‚)

	)

1350 #iâdeà
_FORCE_INLINES


1351 #undeà
__STRING_INLINE


	@/usr/include/bits/string3.h

19 #iâdeà
_STRING_H


23 
__w¬ndeş
 (
__w¬n_mem£t_z”o_Ën
,

26 #iâdeà
__ılu¥lus


30 #undeà
memıy


31 #undeà
memmove


32 #undeà
mem£t


33 #undeà
¡rÿt


34 #undeà
¡rıy


35 #undeà
¡ºÿt


36 #undeà
¡ºıy


37 #ifdeà
__USE_GNU


38 #undeà
mempıy


39 #undeà
¡pıy


41 #ifdeà
__USE_BSD


42 #undeà
bcİy


43 #undeà
bz”o


48 
__ex‹º_®ways_šlše
 *

49 
__NTH
 (
	$memıy
 (*
__»¡riù
 
__de¡
, 
__cÚ¡
 *__»¡riù 
__¤c
,

50 
size_t
 
__Ën
))

52  
	`__butš___memıy_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos0
 (__dest));

53 
	}
}

55 
__ex‹º_®ways_šlše
 *

56 
__NTH
 (
	$memmove
 (*
__de¡
, 
__cÚ¡
 *
__¤c
, 
size_t
 
__Ën
))

58  
	`__butš___memmove_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos0
 (__dest));

59 
	}
}

61 #ifdeà
__USE_GNU


62 
__ex‹º_®ways_šlše
 *

63 
__NTH
 (
	$mempıy
 (*
__»¡riù
 
__de¡
, 
__cÚ¡
 *__»¡riù 
__¤c
,

64 
size_t
 
__Ën
))

66  
	`__butš___mempıy_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos0
 (__dest));

67 
	}
}

76 
__ex‹º_®ways_šlše
 *

77 
__NTH
 (
	$mem£t
 (*
__de¡
, 
__ch
, 
size_t
 
__Ën
))

79 ià(
	`__butš_cÚ¡ªt_p
 (
__Ën
) && __len == 0

80 && (!
	`__butš_cÚ¡ªt_p
 (
__ch
) || __ch != 0))

82 
	`__w¬n_mem£t_z”o_Ën
 ();

83  
__de¡
;

85  
	`__butš___mem£t_chk
 (
__de¡
, 
__ch
, 
__Ën
, 
	`__bos0
 (__dest));

86 
	}
}

88 #ifdeà
__USE_BSD


89 
__ex‹º_®ways_šlše
 

90 
__NTH
 (
	$bcİy
 (
__cÚ¡
 *
__¤c
, *
__de¡
, 
size_t
 
__Ën
))

92 (è
	`__butš___memmove_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos0
 (__dest));

93 
	}
}

95 
__ex‹º_®ways_šlše
 

96 
__NTH
 (
	$bz”o
 (*
__de¡
, 
size_t
 
__Ën
))

98 (è
	`__butš___mem£t_chk
 (
__de¡
, '\0', 
__Ën
, 
	`__bos0
 (__dest));

99 
	}
}

102 
__ex‹º_®ways_šlše
 *

103 
__NTH
 (
	$¡rıy
 (*
__»¡riù
 
__de¡
, 
__cÚ¡
 *__»¡riù 
__¤c
))

105  
	`__butš___¡rıy_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__dest));

106 
	}
}

108 #ifdeà
__USE_GNU


109 
__ex‹º_®ways_šlše
 *

110 
__NTH
 (
	$¡pıy
 (*
__»¡riù
 
__de¡
, 
__cÚ¡
 *__»¡riù 
__¤c
))

112  
	`__butš___¡pıy_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__dest));

113 
	}
}

117 
__ex‹º_®ways_šlše
 *

118 
__NTH
 (
	$¡ºıy
 (*
__»¡riù
 
__de¡
, 
__cÚ¡
 *__»¡riù 
__¤c
,

119 
size_t
 
__Ën
))

121  
	`__butš___¡ºıy_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos
 (__dest));

122 
	}
}

125 *
	$__¡²ıy_chk
 (*
__de¡
, 
__cÚ¡
 *
__¤c
, 
size_t
 
__n
,

126 
size_t
 
__de¡Ën
è
__THROW
;

127 *
	`__REDIRECT_NTH
 (
__¡²ıy_®Ÿs
, (*
__de¡
,

128 
__cÚ¡
 *
__¤c
,

129 
size_t
 
__n
), 
¡²ıy
);

131 
__ex‹º_®ways_šlše
 *

132 
	`__NTH
 (
	$¡²ıy
 (*
__de¡
, 
__cÚ¡
 *
__¤c
, 
size_t
 
__n
))

134 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1

135 && (!
	`__butš_cÚ¡ªt_p
 (
__n
è|| __À<ğ
	`__bos
 (
__de¡
)))

136  
	`__¡²ıy_chk
 (
__de¡
, 
__¤c
, 
__n
, 
	`__bos
 (__dest));

137  
	`__¡²ıy_®Ÿs
 (
__de¡
, 
__¤c
, 
__n
);

138 
	}
}

141 
__ex‹º_®ways_šlše
 *

142 
__NTH
 (
	$¡rÿt
 (*
__»¡riù
 
__de¡
, 
__cÚ¡
 *__»¡riù 
__¤c
))

144  
	`__butš___¡rÿt_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__dest));

145 
	}
}

148 
__ex‹º_®ways_šlše
 *

149 
__NTH
 (
	$¡ºÿt
 (*
__»¡riù
 
__de¡
, 
__cÚ¡
 *__»¡riù 
__¤c
,

150 
size_t
 
__Ën
))

152  
	`__butš___¡ºÿt_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos
 (__dest));

153 
	}
}

	@/usr/include/bits/sys_errlist.h

20 #iâdeà
_STDIO_H


26 #ifdeà 
__USE_BSD


27 
sys_Ã¼
;

28 
__cÚ¡
 *__cÚ¡ 
sys_”¾i¡
[];

30 #ifdeà 
__USE_GNU


31 
_sys_Ã¼
;

32 
__cÚ¡
 *__cÚ¡ 
_sys_”¾i¡
[];

	@/usr/include/bits/time.h

24 #iâdeà
__Ãed_timev®


25 #iâdeà
_BITS_TIME_H


26 
	#_BITS_TIME_H
 1

	)

34 
	#CLOCKS_PER_SEC
 1000000l

	)

36 #ià!
defšed
 
__STRICT_ANSI__
 && !defšed 
__USE_XOPEN2K


39 
	~<b™s/ty³s.h
>

40 
__syscÚf
 ();

41 
	#CLK_TCK
 ((
__şock_t
è
	`__syscÚf
 (2)è

	)

44 #ifdeà
__USE_POSIX199309


46 
	#CLOCK_REALTIME
 0

	)

48 
	#CLOCK_MONOTONIC
 1

	)

50 
	#CLOCK_PROCESS_CPUTIME_ID
 2

	)

52 
	#CLOCK_THREAD_CPUTIME_ID
 3

	)

54 
	#CLOCK_MONOTONIC_RAW
 4

	)

56 
	#CLOCK_REALTIME_COARSE
 5

	)

58 
	#CLOCK_MONOTONIC_COARSE
 6

	)

61 
	#TIMER_ABSTIME
 1

	)

67 #ifdeà
__Ãed_timev®


68 #undeà
__Ãed_timev®


69 #iâdeà
_STRUCT_TIMEVAL


70 
	#_STRUCT_TIMEVAL
 1

	)

71 
	~<b™s/ty³s.h
>

75 
	stimev®


77 
__time_t
 
	mtv_£c
;

78 
__su£cÚds_t
 
	mtv_u£c
;

	@/usr/include/bits/types.h

24 #iâdef 
_BITS_TYPES_H


25 
	#_BITS_TYPES_H
 1

	)

27 
	~<ã©u»s.h
>

28 
	~<b™s/wÜdsize.h
>

31 
	t__u_ch¬
;

32 
	t__u_shÜt
;

33 
	t__u_št
;

34 
	t__u_lÚg
;

37 sigÃd 
	t__št8_t
;

38 
	t__ušt8_t
;

39 sigÃd 
	t__št16_t
;

40 
	t__ušt16_t
;

41 sigÃd 
	t__št32_t
;

42 
	t__ušt32_t
;

43 #ià
__WORDSIZE
 == 64

44 sigÃd 
	t__št64_t
;

45 
	t__ušt64_t
;

46 #–ià
defšed
 
__GLIBC_HAVE_LONG_LONG


47 
__ex‹nsiÚ__
 sigÃd 
	t__št64_t
;

48 
__ex‹nsiÚ__
 
	t__ušt64_t
;

52 #ià
__WORDSIZE
 == 64

53 
	t__quad_t
;

54 
	t__u_quad_t
;

55 #–ià
defšed
 
__GLIBC_HAVE_LONG_LONG


56 
__ex‹nsiÚ__
 
	t__quad_t
;

57 
__ex‹nsiÚ__
 
	t__u_quad_t
;

61 
	m__v®
[2];

62 } 
	t__quad_t
;

65 
__u_lÚg
 
	m__v®
[2];

66 } 
	t__u_quad_t
;

99 
	#__S16_TYPE
 

	)

100 
	#__U16_TYPE
 

	)

101 
	#__S32_TYPE
 

	)

102 
	#__U32_TYPE
 

	)

103 
	#__SLONGWORD_TYPE
 

	)

104 
	#__ULONGWORD_TYPE
 

	)

105 #ià
__WORDSIZE
 == 32

106 
	#__SQUAD_TYPE
 
__quad_t


	)

107 
	#__UQUAD_TYPE
 
__u_quad_t


	)

108 
	#__SWORD_TYPE
 

	)

109 
	#__UWORD_TYPE
 

	)

110 
	#__SLONG32_TYPE
 

	)

111 
	#__ULONG32_TYPE
 

	)

112 
	#__S64_TYPE
 
__quad_t


	)

113 
	#__U64_TYPE
 
__u_quad_t


	)

116 
	#__STD_TYPE
 
__ex‹nsiÚ__
 

	)

117 #–ià
__WORDSIZE
 == 64

118 
	t__SQUAD_TYPE
 

	)

119 
	t__UQUAD_TYPE
 

	)

120 
	t__SWORD_TYPE
 

	)

121 
	t__UWORD_TYPE
 

	)

122 
	t__SLONG32_TYPE
 

	)

123 
	t__ULONG32_TYPE
 

	)

124 
	t__S64_TYPE
 

	)

125 
	t__U64_TYPE
 

	)

127 
	t__STD_TYPE
 

	)

131 
	~<b™s/ty³sizes.h
>

134 
__STD_TYPE
 
	t__DEV_T_TYPE
 
	t__dev_t
;

135 
__STD_TYPE
 
__UID_T_TYPE
 
	g__uid_t
;

136 
__STD_TYPE
 
__GID_T_TYPE
 
	g__gid_t
;

137 
__STD_TYPE
 
__INO_T_TYPE
 
	g__šo_t
;

138 
__STD_TYPE
 
__INO64_T_TYPE
 
	g__šo64_t
;

139 
__STD_TYPE
 
__MODE_T_TYPE
 
	g__mode_t
;

140 
__STD_TYPE
 
__NLINK_T_TYPE
 
	g__Æšk_t
;

141 
__STD_TYPE
 
__OFF_T_TYPE
 
	g__off_t
;

142 
__STD_TYPE
 
__OFF64_T_TYPE
 
	g__off64_t
;

143 
__STD_TYPE
 
__PID_T_TYPE
 
	g__pid_t
;

144 
__STD_TYPE
 
__FSID_T_TYPE
 
	g__fsid_t
;

145 
__STD_TYPE
 
__CLOCK_T_TYPE
 
	g__şock_t
;

146 
__STD_TYPE
 
__RLIM_T_TYPE
 
	g__¾im_t
;

147 
__STD_TYPE
 
__RLIM64_T_TYPE
 
	g__¾im64_t
;

148 
__STD_TYPE
 
__ID_T_TYPE
 
	g__id_t
;

149 
__STD_TYPE
 
__TIME_T_TYPE
 
	g__time_t
;

150 
__STD_TYPE
 
__USECONDS_T_TYPE
 
	g__u£cÚds_t
;

151 
__STD_TYPE
 
__SUSECONDS_T_TYPE
 
	g__su£cÚds_t
;

153 
__STD_TYPE
 
__DADDR_T_TYPE
 
	g__daddr_t
;

154 
__STD_TYPE
 
__SWBLK_T_TYPE
 
	g__swblk_t
;

155 
__STD_TYPE
 
__KEY_T_TYPE
 
	g__key_t
;

158 
__STD_TYPE
 
__CLOCKID_T_TYPE
 
	g__şockid_t
;

161 
__STD_TYPE
 
__TIMER_T_TYPE
 
	g__tim”_t
;

164 
__STD_TYPE
 
__BLKSIZE_T_TYPE
 
	g__blksize_t
;

169 
__STD_TYPE
 
__BLKCNT_T_TYPE
 
	g__blkút_t
;

170 
__STD_TYPE
 
__BLKCNT64_T_TYPE
 
	g__blkút64_t
;

173 
__STD_TYPE
 
__FSBLKCNT_T_TYPE
 
	g__fsblkút_t
;

174 
__STD_TYPE
 
__FSBLKCNT64_T_TYPE
 
	g__fsblkút64_t
;

177 
__STD_TYPE
 
__FSFILCNT_T_TYPE
 
	g__fsfút_t
;

178 
__STD_TYPE
 
__FSFILCNT64_T_TYPE
 
	g__fsfút64_t
;

180 
__STD_TYPE
 
__SSIZE_T_TYPE
 
	g__ssize_t
;

184 
__off64_t
 
	t__loff_t
;

185 
__quad_t
 *
	t__qaddr_t
;

186 *
	t__ÿddr_t
;

189 
__STD_TYPE
 
__SWORD_TYPE
 
	g__šŒ_t
;

192 
__STD_TYPE
 
__U32_TYPE
 
	g__sockËn_t
;

195 #undeà
__STD_TYPE


	@/usr/include/bits/waitflags.h

20 #ià!
defšed
 
_SYS_WAIT_H
 && !defšed 
_STDLIB_H


26 
	#WNOHANG
 1

	)

27 
	#WUNTRACED
 2

	)

30 
	#WSTOPPED
 2

	)

31 
	#WEXITED
 4

	)

32 
	#WCONTINUED
 8

	)

33 
	#WNOWAIT
 0x01000000

	)

35 
	#__WNOTHREAD
 0x20000000

	)

37 
	#__WALL
 0x40000000

	)

38 
	#__WCLONE
 0x80000000

	)

	@/usr/include/bits/waitstatus.h

20 #ià!
defšed
 
_SYS_WAIT_H
 && !defšed 
_STDLIB_H


29 
	#__WEXITSTATUS
(
¡©us
è(((¡©usè& 0xff00è>> 8)

	)

32 
	#__WTERMSIG
(
¡©us
è((¡©usè& 0x7f)

	)

35 
	#__WSTOPSIG
(
¡©us
è
	`__WEXITSTATUS
(¡©us)

	)

38 
	#__WIFEXITED
(
¡©us
è(
	`__WTERMSIG
(¡©usè=ğ0)

	)

41 
	#__WIFSIGNALED
(
¡©us
) \

42 (((sigÃd è(((
¡©us
è& 0x7fè+ 1è>> 1è> 0)

	)

45 
	#__WIFSTOPPED
(
¡©us
è(((¡©usè& 0xffè=ğ0x7f)

	)

49 #ifdeà
WCONTINUED


50 
	#__WIFCONTINUED
(
¡©us
è((¡©usè=ğ
__W_CONTINUED
)

	)

54 
	#__WCOREDUMP
(
¡©us
è((¡©usè& 
__WCOREFLAG
)

	)

57 
	#__W_EXITCODE
(
»t
, 
sig
è(Ô‘è<< 8 | (sig))

	)

58 
	#__W_STOPCODE
(
sig
è((sigè<< 8 | 0x7f)

	)

59 
	#__W_CONTINUED
 0xffff

	)

60 
	#__WCOREFLAG
 0x80

	)

63 #ifdef 
__USE_BSD


65 
	~<’dŸn.h
>

67 
	uwa™


69 
	mw_¡©us
;

72 #if 
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


73 
	m__w_‹rmsig
:7;

74 
	m__w_cÜedump
:1;

75 
	m__w_»tcode
:8;

78 #if 
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


80 
	m__w_»tcode
:8;

81 
	m__w_cÜedump
:1;

82 
	m__w_‹rmsig
:7;

84 } 
	m__wa™_‹rmš©ed
;

87 #if 
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


88 
	m__w_¡İv®
:8;

89 
	m__w_¡İsig
:8;

92 #if 
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


94 
	m__w_¡İsig
:8;

95 
	m__w_¡İv®
:8;

97 } 
	m__wa™_¡İ³d
;

100 
	#w_‹rmsig
 
__wa™_‹rmš©ed
.
__w_‹rmsig


	)

101 
	#w_cÜedump
 
__wa™_‹rmš©ed
.
__w_cÜedump


	)

102 
	#w_»tcode
 
__wa™_‹rmš©ed
.
__w_»tcode


	)

103 
	#w_¡İsig
 
__wa™_¡İ³d
.
__w_¡İsig


	)

104 
	#w_¡İv®
 
__wa™_¡İ³d
.
__w_¡İv®


	)

	@/usr/include/bits/wordsize.h

3 #ià
defšed
 
__x86_64__


4 
	#__WORDSIZE
 64

	)

5 
	#__WORDSIZE_COMPAT32
 1

	)

7 
	#__WORDSIZE
 32

	)

	@/usr/include/bits/xopen_lim.h

30 #iâdeà
_XOPEN_LIM_H


31 
	#_XOPEN_LIM_H
 1

	)

33 
	#__Ãed_IOV_MAX


	)

34 
	~<b™s/¡dio_lim.h
>

66 
	#_XOPEN_IOV_MAX
 
_POSIX_UIO_MAXIOV


	)

71 
	#NL_ARGMAX
 
_POSIX_ARG_MAX


	)

74 
	#NL_LANGMAX
 
_POSIX2_LINE_MAX


	)

77 
	#NL_MSGMAX
 
INT_MAX


	)

81 
	#NL_NMAX
 
INT_MAX


	)

84 
	#NL_SETMAX
 
INT_MAX


	)

87 
	#NL_TEXTMAX
 
INT_MAX


	)

90 
	#NZERO
 20

	)

94 #ifdeà
INT_MAX


95 #ià
INT_MAX
 == 32767

96 
	#WORD_BIT
 16

	)

98 #ià
INT_MAX
 == 2147483647

99 
	#WORD_BIT
 32

	)

102 
	#WORD_BIT
 64

	)

105 #–ià
defšed
 
__INT_MAX__


106 #ià
__INT_MAX__
 == 32767

107 
	#WORD_BIT
 16

	)

109 #ià
__INT_MAX__
 == 2147483647

110 
	#WORD_BIT
 32

	)

113 
	#WORD_BIT
 64

	)

117 
	#WORD_BIT
 32

	)

121 #ifdeà
LONG_MAX


122 #ià
LONG_MAX
 == 2147483647

123 
	#LONG_BIT
 32

	)

126 
	#LONG_BIT
 64

	)

128 #–ià
defšed
 
__LONG_MAX__


129 #ià
__LONG_MAX__
 == 2147483647

130 
	#LONG_BIT
 32

	)

133 
	#LONG_BIT
 64

	)

136 
	~<b™s/wÜdsize.h
>

137 #ià
__WORDSIZE
 == 64

138 
	#LONG_BIT
 64

	)

140 
	#LONG_BIT
 32

	)

	@/usr/include/features.h

19 #iâdef 
_FEATURES_H


20 
	#_FEATURES_H
 1

	)

96 #undeà
__USE_ISOC99


97 #undeà
__USE_ISOC95


98 #undeà
__USE_POSIX


99 #undeà
__USE_POSIX2


100 #undeà
__USE_POSIX199309


101 #undeà
__USE_POSIX199506


102 #undeà
__USE_XOPEN


103 #undeà
__USE_XOPEN_EXTENDED


104 #undeà
__USE_UNIX98


105 #undeà
__USE_XOPEN2K


106 #undeà
__USE_XOPEN2KXSI


107 #undeà
__USE_XOPEN2K8


108 #undeà
__USE_XOPEN2K8XSI


109 #undeà
__USE_LARGEFILE


110 #undeà
__USE_LARGEFILE64


111 #undeà
__USE_FILE_OFFSET64


112 #undeà
__USE_BSD


113 #undeà
__USE_SVID


114 #undeà
__USE_MISC


115 #undeà
__USE_ATFILE


116 #undeà
__USE_GNU


117 #undeà
__USE_REENTRANT


118 #undeà
__USE_FORTIFY_LEVEL


119 #undeà
__FAVOR_BSD


120 #undeà
__KERNEL_STRICT_NAMES


124 #iâdeà
_LOOSE_KERNEL_NAMES


125 
	#__KERNEL_STRICT_NAMES


	)

129 
	#__USE_ANSI
 1

	)

138 #ià
defšed
 
__GNUC__
 && defšed 
__GNUC_MINOR__


139 
	#__GNUC_PREREQ
(
maj
, 
mš
) \

140 ((
__GNUC__
 << 16è+ 
__GNUC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

142 
	#__GNUC_PREREQ
(
maj
, 
mš
è0

	)

147 #ià
defšed
 
_BSD_SOURCE
 && \

148 !(
defšed
 
	g_POSIX_SOURCE
 || defšed 
	g_POSIX_C_SOURCE
 || \

149 
defšed
 
	g_XOPEN_SOURCE
 || defšed 
	g_GNU_SOURCE
 || defšed 
	g_SVID_SOURCE
)

150 
	#__FAVOR_BSD
 1

	)

154 #ifdeà
_GNU_SOURCE


155 #undeà
_ISOC95_SOURCE


156 
	#_ISOC95_SOURCE
 1

	)

157 #undeà
_ISOC99_SOURCE


158 
	#_ISOC99_SOURCE
 1

	)

159 #undeà
_POSIX_SOURCE


160 
	#_POSIX_SOURCE
 1

	)

161 #undeà
_POSIX_C_SOURCE


162 
	#_POSIX_C_SOURCE
 200809L

	)

163 #undeà
_XOPEN_SOURCE


164 
	#_XOPEN_SOURCE
 700

	)

165 #undeà
_XOPEN_SOURCE_EXTENDED


166 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

167 #undeà
_LARGEFILE64_SOURCE


168 
	#_LARGEFILE64_SOURCE
 1

	)

169 #undeà
_BSD_SOURCE


170 
	#_BSD_SOURCE
 1

	)

171 #undeà
_SVID_SOURCE


172 
	#_SVID_SOURCE
 1

	)

173 #undeà
_ATFILE_SOURCE


174 
	#_ATFILE_SOURCE
 1

	)

179 #ià(!
defšed
 
__STRICT_ANSI__
 && !defšed 
_ISOC99_SOURCE
 && \

180 !
defšed
 
	g_POSIX_SOURCE
 && !defšed 
	g_POSIX_C_SOURCE
 && \

181 !
defšed
 
	g_XOPEN_SOURCE
 && !defšed 
	g_BSD_SOURCE
 && !defšed 
	g_SVID_SOURCE
)

182 
	#_BSD_SOURCE
 1

	)

183 
	#_SVID_SOURCE
 1

	)

190 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC9X_SOURCE
 \

191 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

192 
	#__USE_ISOC99
 1

	)

196 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC9X_SOURCE
 \

197 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

198 
	#__USE_ISOC95
 1

	)

203 #ià((!
defšed
 
__STRICT_ANSI__
 || (
_XOPEN_SOURCE
 - 0) >= 500) && \

204 !
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE
)

205 
	#_POSIX_SOURCE
 1

	)

206 #ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

207 
	#_POSIX_C_SOURCE
 2

	)

208 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

209 
	#_POSIX_C_SOURCE
 199506L

	)

210 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

211 
	#_POSIX_C_SOURCE
 200112L

	)

213 
	#_POSIX_C_SOURCE
 200809L

	)

215 
	#__USE_POSIX_IMPLICITLY
 1

	)

218 #ià
defšed
 
_POSIX_SOURCE
 || 
_POSIX_C_SOURCE
 >ğ1 || defšed 
_XOPEN_SOURCE


219 
	#__USE_POSIX
 1

	)

222 #ià
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >ğ2 || defšed 
_XOPEN_SOURCE


223 
	#__USE_POSIX2
 1

	)

226 #ià(
_POSIX_C_SOURCE
 - 0) >= 199309L

227 
	#__USE_POSIX199309
 1

	)

230 #ià(
_POSIX_C_SOURCE
 - 0) >= 199506L

231 
	#__USE_POSIX199506
 1

	)

234 #ià(
_POSIX_C_SOURCE
 - 0) >= 200112L

235 
	#__USE_XOPEN2K
 1

	)

236 #undeà
__USE_ISOC95


237 
	#__USE_ISOC95
 1

	)

238 #undeà
__USE_ISOC99


239 
	#__USE_ISOC99
 1

	)

242 #ià(
_POSIX_C_SOURCE
 - 0) >= 200809L

243 
	#__USE_XOPEN2K8
 1

	)

244 #undeà
_ATFILE_SOURCE


245 
	#_ATFILE_SOURCE
 1

	)

248 #ifdef 
_XOPEN_SOURCE


249 
	#__USE_XOPEN
 1

	)

250 #ià(
_XOPEN_SOURCE
 - 0) >= 500

251 
	#__USE_XOPEN_EXTENDED
 1

	)

252 
	#__USE_UNIX98
 1

	)

253 #undeà
_LARGEFILE_SOURCE


254 
	#_LARGEFILE_SOURCE
 1

	)

255 #ià(
_XOPEN_SOURCE
 - 0) >= 600

256 #ià(
_XOPEN_SOURCE
 - 0) >= 700

257 
	#__USE_XOPEN2K8
 1

	)

258 
	#__USE_XOPEN2K8XSI
 1

	)

260 
	#__USE_XOPEN2K
 1

	)

261 
	#__USE_XOPEN2KXSI
 1

	)

262 #undeà
__USE_ISOC95


263 
	#__USE_ISOC95
 1

	)

264 #undeà
__USE_ISOC99


265 
	#__USE_ISOC99
 1

	)

268 #ifdeà
_XOPEN_SOURCE_EXTENDED


269 
	#__USE_XOPEN_EXTENDED
 1

	)

274 #ifdeà
_LARGEFILE_SOURCE


275 
	#__USE_LARGEFILE
 1

	)

278 #ifdeà
_LARGEFILE64_SOURCE


279 
	#__USE_LARGEFILE64
 1

	)

282 #ià
defšed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

283 
	#__USE_FILE_OFFSET64
 1

	)

286 #ià
defšed
 
_BSD_SOURCE
 || defšed 
_SVID_SOURCE


287 
	#__USE_MISC
 1

	)

290 #ifdef 
_BSD_SOURCE


291 
	#__USE_BSD
 1

	)

294 #ifdef 
_SVID_SOURCE


295 
	#__USE_SVID
 1

	)

298 #ifdef 
_ATFILE_SOURCE


299 
	#__USE_ATFILE
 1

	)

302 #ifdef 
_GNU_SOURCE


303 
	#__USE_GNU
 1

	)

306 #ià
defšed
 
_REENTRANT
 || defšed 
_THREAD_SAFE


307 
	#__USE_REENTRANT
 1

	)

310 #ià
defšed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

311 && 
defšed
 
__OPTIMIZE__
 && __OPTIMIZE__ > 0

312 #ià!
__GNUC_PREREQ
 (4, 1)

313 #ifdeà
__GNUC_RH_RELEASE__


314 #w¬nšg 
_FORTIFY_SOURCE
 
suµÜ‹d
 
Úly
 
w™h
 
GCC
 4.1 
ªd
 
Ï‹r


316 
	#__USE_FORTIFY_LEVEL
 0

	)

317 #–ià
_FORTIFY_SOURCE
 > 1

318 
	#__USE_FORTIFY_LEVEL
 2

	)

320 
	#__USE_FORTIFY_LEVEL
 1

	)

323 
	#__USE_FORTIFY_LEVEL
 0

	)

327 
	#__STDC_IEC_559__
 1

	)

328 
	#__STDC_IEC_559_COMPLEX__
 1

	)

331 
	#__STDC_ISO_10646__
 200009L

	)

339 #undeà
__GNU_LIBRARY__


340 
	#__GNU_LIBRARY__
 6

	)

344 
	#__GLIBC__
 2

	)

345 
	#__GLIBC_MINOR__
 12

	)

347 
	#__GLIBC_PREREQ
(
maj
, 
mš
) \

348 ((
__GLIBC__
 << 16è+ 
__GLIBC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

351 #ià
defšed
 
__GNUC__
 \

352 || (
defšed
 
	g__PGI
 && defšed 
	g__i386__
 ) \

353 || (
defšed
 
	g__INTEL_COMPILER
 && (defšed 
	g__i386__
 || defšed 
	g__Ÿ64__
)) \

354 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L)

355 
	#__GLIBC_HAVE_LONG_LONG
 1

	)

359 #iâdeà
__ASSEMBLER__


360 #iâdeà
_SYS_CDEFS_H


361 
	~<sys/cdefs.h
>

366 #ià
defšed
 
__USE_FILE_OFFSET64
 && !defšed 
__REDIRECT


367 
	#__USE_LARGEFILE
 1

	)

368 
	#__USE_LARGEFILE64
 1

	)

374 #ià
__GNUC_PREREQ
 (2, 7è&& 
defšed
 
__OPTIMIZE__
 \

375 && !
defšed
 
	g__OPTIMIZE_SIZE__
 && !defšed 
	g__NO_INLINE__
 \

376 && 
defšed
 
	g__ex‹º_šlše


377 
	#__USE_EXTERN_INLINES
 1

	)

385 
	~<gnu/¡ubs.h
>

	@/usr/include/getopt.h

21 #iâdeà
_GETOPT_H


23 #iâdeà
__Ãed_g‘İt


24 
	#_GETOPT_H
 1

	)

34 #ià!
defšed
 
__GNU_LIBRARY__


35 
	~<ùy³.h
>

38 #iâdeà
__THROW


39 #iâdeà
__GNUC_PREREQ


40 
	#__GNUC_PREREQ
(
maj
, 
mš
è(0)

	)

42 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,8)

43 
	#__THROW
 
	`throw
 ()

	)

45 
	#__THROW


	)

49 #ifdef 
__ılu¥lus


59 *
İrg
;

73 
İtšd
;

78 
İ‹¼
;

82 
İtİt
;

84 #iâdeà
__Ãed_g‘İt


106 
	sİtiÚ


108 cÚ¡ *
	gÇme
;

111 
	ghas_¬g
;

112 *
	gæag
;

113 
	gv®
;

118 
	#no_¬gum’t
 0

	)

119 
	#»quœed_¬gum’t
 1

	)

120 
	#İtiÚ®_¬gum’t
 2

	)

148 #ifdeà
__GNU_LIBRARY__


152 
g‘İt
 (
___¬gc
, *cÚ¡ *
___¬gv
, cÚ¡ *
__shÜtİts
)

153 
__THROW
;

155 #ià
defšed
 
__Ãed_g‘İt
 && defšed 
__USE_POSIX2
 \

156 && !
defšed
 
	g__USE_POSIX_IMPLICITLY
 && !defšed 
	g__USE_GNU


160 #ifdeà
__REDIRECT


161 
__REDIRECT
 (
g‘İt
, (
___¬gc
, *cÚ¡ *
___¬gv
,

162 cÚ¡ *
__shÜtİts
),

163 
__posix_g‘İt
è
__THROW
;

165 
__posix_g‘İt
 (
___¬gc
, *cÚ¡ *
___¬gv
,

166 cÚ¡ *
__shÜtİts
è
__THROW
;

167 
	#g‘İt
 
__posix_g‘İt


	)

171 
g‘İt
 ();

174 #iâdeà
__Ãed_g‘İt


175 
g‘İt_lÚg
 (
___¬gc
, *cÚ¡ *
___¬gv
,

176 cÚ¡ *
__shÜtİts
,

177 cÚ¡ 
İtiÚ
 *
__lÚgİts
, *
__lÚgšd
)

178 
__THROW
;

179 
g‘İt_lÚg_Úly
 (
___¬gc
, *cÚ¡ *
___¬gv
,

180 cÚ¡ *
__shÜtİts
,

181 cÚ¡ 
İtiÚ
 *
__lÚgİts
, *
__lÚgšd
)

182 
__THROW
;

186 #ifdef 
__ılu¥lus


191 #undeà
__Ãed_g‘İt


	@/usr/include/libio.h

29 #iâdeà
_IO_STDIO_H


30 
	#_IO_STDIO_H


	)

32 
	~<_G_cÚfig.h
>

34 
	#_IO_pos_t
 
_G_åos_t


	)

35 
	#_IO_åos_t
 
_G_åos_t


	)

36 
	#_IO_åos64_t
 
_G_åos64_t


	)

37 
	#_IO_size_t
 
_G_size_t


	)

38 
	#_IO_ssize_t
 
_G_ssize_t


	)

39 
	#_IO_off_t
 
_G_off_t


	)

40 
	#_IO_off64_t
 
_G_off64_t


	)

41 
	#_IO_pid_t
 
_G_pid_t


	)

42 
	#_IO_uid_t
 
_G_uid_t


	)

43 
	#_IO_icÚv_t
 
_G_icÚv_t


	)

44 
	#_IO_HAVE_SYS_WAIT
 
_G_HAVE_SYS_WAIT


	)

45 
	#_IO_HAVE_ST_BLKSIZE
 
_G_HAVE_ST_BLKSIZE


	)

46 
	#_IO_BUFSIZ
 
_G_BUFSIZ


	)

47 
	#_IO_va_li¡
 
_G_va_li¡


	)

48 
	#_IO_wšt_t
 
_G_wšt_t


	)

50 #ifdeà
_G_NEED_STDARG_H


52 
	#__Ãed___va_li¡


	)

53 
	~<¡d¬g.h
>

54 #ifdeà
__GNUC_VA_LIST


55 #undeà
_IO_va_li¡


56 
	#_IO_va_li¡
 
__gnuc_va_li¡


	)

60 #iâdeà
__P


61 #ià
_G_HAVE_SYS_CDEFS


62 
	~<sys/cdefs.h
>

64 #ifdeà
__STDC__


65 
	#__P
(
p
è
	)
p

66 
	#__PMT
(
p
è
	)
p

68 
	#__P
(
p
è()

	)

69 
	#__PMT
(
p
è()

	)

75 #iâdeà
_PARAMS


76 
	#_PARAMS
(
´Ùos
è
	`__P
ÕrÙos)

	)

79 #iâdeà
__STDC__


81 cÚ¡

	)

84 
	#_IO_UNIFIED_JUMPTABLES
 1

	)

85 #iâdeà
_G_HAVE_PRINTF_FP


86 
	#_IO_USE_DTOA
 1

	)

89 #iâdeà
EOF


90 
	#EOF
 (-1)

	)

92 #iâdeà
NULL


93 #ià
defšed
 
__GNUG__
 && \

94 (
	g__GNUC__
 > 2 || (__GNUC__ =ğ2 && 
__GNUC_MINOR__
 >= 8))

95 
	#NULL
 (
__nuÎ
)

	)

97 #ià!
defšed
(
__ılu¥lus
)

98 
	#NULL
 ((*)0)

	)

100 
	#NULL
 (0)

	)

105 
	#_IOS_INPUT
 1

	)

106 
	#_IOS_OUTPUT
 2

	)

107 
	#_IOS_ATEND
 4

	)

108 
	#_IOS_APPEND
 8

	)

109 
	#_IOS_TRUNC
 16

	)

110 
	#_IOS_NOCREATE
 32

	)

111 
	#_IOS_NOREPLACE
 64

	)

112 
	#_IOS_BIN
 128

	)

120 
	#_IO_MAGIC
 0xFBAD0000

	)

121 
	#_OLD_STDIO_MAGIC
 0xFABC0000

	)

122 
	#_IO_MAGIC_MASK
 0xFFFF0000

	)

123 
	#_IO_USER_BUF
 1

	)

124 
	#_IO_UNBUFFERED
 2

	)

125 
	#_IO_NO_READS
 4

	)

126 
	#_IO_NO_WRITES
 8

	)

127 
	#_IO_EOF_SEEN
 0x10

	)

128 
	#_IO_ERR_SEEN
 0x20

	)

129 
	#_IO_DELETE_DONT_CLOSE
 0x40

	)

130 
	#_IO_LINKED
 0x80

	)

131 
	#_IO_IN_BACKUP
 0x100

	)

132 
	#_IO_LINE_BUF
 0x200

	)

133 
	#_IO_TIED_PUT_GET
 0x400

	)

134 
	#_IO_CURRENTLY_PUTTING
 0x800

	)

135 
	#_IO_IS_APPENDING
 0x1000

	)

136 
	#_IO_IS_FILEBUF
 0x2000

	)

137 
	#_IO_BAD_SEEN
 0x4000

	)

138 
	#_IO_USER_LOCK
 0x8000

	)

140 
	#_IO_FLAGS2_MMAP
 1

	)

141 
	#_IO_FLAGS2_NOTCANCEL
 2

	)

142 #ifdeà
_LIBC


143 
	#_IO_FLAGS2_FORTIFY
 4

	)

145 
	#_IO_FLAGS2_USER_WBUF
 8

	)

146 #ifdeà
_LIBC


147 
	#_IO_FLAGS2_SCANF_STD
 16

	)

151 
	#_IO_SKIPWS
 01

	)

152 
	#_IO_LEFT
 02

	)

153 
	#_IO_RIGHT
 04

	)

154 
	#_IO_INTERNAL
 010

	)

155 
	#_IO_DEC
 020

	)

156 
	#_IO_OCT
 040

	)

157 
	#_IO_HEX
 0100

	)

158 
	#_IO_SHOWBASE
 0200

	)

159 
	#_IO_SHOWPOINT
 0400

	)

160 
	#_IO_UPPERCASE
 01000

	)

161 
	#_IO_SHOWPOS
 02000

	)

162 
	#_IO_SCIENTIFIC
 04000

	)

163 
	#_IO_FIXED
 010000

	)

164 
	#_IO_UNITBUF
 020000

	)

165 
	#_IO_STDIO
 040000

	)

166 
	#_IO_DONT_CLOSE
 0100000

	)

167 
	#_IO_BOOLALPHA
 0200000

	)

170 
_IO_jump_t
; 
	g_IO_FILE
;

173 #ifdeà
_IO_MTSAFE_IO


174 #ià
defšed
 
__GLIBC__
 && __GLIBC__ >= 2

175 
	~<b™s/¡dio-lock.h
>

180 
	t_IO_lock_t
;

186 
	s_IO_m¬k”
 {

187 
_IO_m¬k”
 *
	m_Ãxt
;

188 
_IO_FILE
 *
	m_sbuf
;

192 
	m_pos
;

194 
£t_¡»ampos
(
¡»ampos
 
¥
è{ 
	m_¥os
 = sp; }

195 
£t_off£t
(
off£t
è{ 
	m_pos
 = off£t; 
	m_¥os
 = (
¡»ampos
)(-2); }

196 
	mpublic
:

197 
¡»amm¬k”
(
¡»ambuf
 *
sb
);

198 ~
¡»amm¬k”
();

199 
§všg
(è{  
	m_¥os
 == -2; }

200 
d–
(
¡»amm¬k”
&);

201 
d–
();

206 
	e__codecvt_»suÉ


208 
	m__codecvt_ok
,

209 
	m__codecvt_·¹Ÿl
,

210 
	m__codecvt_”rÜ
,

211 
	m__codecvt_nocÚv


214 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


217 
	s_IO_codecvt


219 (*
	m__codecvt_de¡r
è(
	m_IO_codecvt
 *);

220 
__codecvt_»suÉ
 (*
__codecvt_do_out
è(
	m_IO_codecvt
 *,

221 
	m__mb¡©e_t
 *,

222 cÚ¡ 
	mwch¬_t
 *,

223 cÚ¡ 
	mwch¬_t
 *,

224 cÚ¡ 
	mwch¬_t
 **, *,

226 
__codecvt_»suÉ
 (*
__codecvt_do_unshiá
è(
	m_IO_codecvt
 *,

227 
	m__mb¡©e_t
 *, *,

229 
__codecvt_»suÉ
 (*
__codecvt_do_š
è(
	m_IO_codecvt
 *,

230 
	m__mb¡©e_t
 *,

232 cÚ¡ **, 
	mwch¬_t
 *,

233 
	mwch¬_t
 *, wchar_t **);

234 (*
	m__codecvt_do_’codšg
è(
	m_IO_codecvt
 *);

235 (*
	m__codecvt_do_®ways_nocÚv
è(
	m_IO_codecvt
 *);

236 (*
	m__codecvt_do_Ëngth
è(
	m_IO_codecvt
 *, 
	m__mb¡©e_t
 *,

237 cÚ¡ *, cÚ¡ *, 
	m_IO_size_t
);

238 (*
	m__codecvt_do_max_Ëngth
è(
	m_IO_codecvt
 *);

240 
_IO_icÚv_t
 
	m__cd_š
;

241 
_IO_icÚv_t
 
	m__cd_out
;

245 
	s_IO_wide_d©a


247 
wch¬_t
 *
	m_IO_»ad_±r
;

248 
wch¬_t
 *
	m_IO_»ad_’d
;

249 
wch¬_t
 *
	m_IO_»ad_ba£
;

250 
wch¬_t
 *
	m_IO_wr™e_ba£
;

251 
wch¬_t
 *
	m_IO_wr™e_±r
;

252 
wch¬_t
 *
	m_IO_wr™e_’d
;

253 
wch¬_t
 *
	m_IO_buf_ba£
;

254 
wch¬_t
 *
	m_IO_buf_’d
;

256 
wch¬_t
 *
	m_IO_§ve_ba£
;

257 
wch¬_t
 *
	m_IO_backup_ba£
;

259 
wch¬_t
 *
	m_IO_§ve_’d
;

261 
__mb¡©e_t
 
	m_IO_¡©e
;

262 
__mb¡©e_t
 
	m_IO_Ï¡_¡©e
;

263 
_IO_codecvt
 
	m_codecvt
;

265 
wch¬_t
 
	m_shÜtbuf
[1];

267 cÚ¡ 
_IO_jump_t
 *
	m_wide_vbË
;

271 
	s_IO_FILE
 {

272 
	m_æags
;

273 
	#_IO_fe_æags
 
_æags


	)

277 * 
	m_IO_»ad_±r
;

278 * 
	m_IO_»ad_’d
;

279 * 
	m_IO_»ad_ba£
;

280 * 
	m_IO_wr™e_ba£
;

281 * 
	m_IO_wr™e_±r
;

282 * 
	m_IO_wr™e_’d
;

283 * 
	m_IO_buf_ba£
;

284 * 
	m_IO_buf_’d
;

286 *
	m_IO_§ve_ba£
;

287 *
	m_IO_backup_ba£
;

288 *
	m_IO_§ve_’d
;

290 
_IO_m¬k”
 *
	m_m¬k”s
;

292 
_IO_FILE
 *
	m_chaš
;

294 
	m_f’o
;

296 
	m_blksize
;

298 
	m_æags2
;

300 
_IO_off_t
 
	m_Şd_off£t
;

302 
	#__HAVE_COLUMN


	)

304 
	m_cur_cŞumn
;

305 sigÃd 
	m_vbË_off£t
;

306 
	m_shÜtbuf
[1];

310 
_IO_lock_t
 *
	m_lock
;

311 #ifdeà
_IO_USE_OLD_IO_FILE


314 
	s_IO_FILE_com¶‘e


316 
_IO_FILE
 
	m_fe
;

318 #ià
defšed
 
_G_IO_IO_FILE_VERSION
 && _G_IO_IO_FILE_VERSION == 0x20001

319 
_IO_off64_t
 
	m_off£t
;

320 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


322 
_IO_codecvt
 *
	m_codecvt
;

323 
_IO_wide_d©a
 *
	m_wide_d©a
;

324 
_IO_FILE
 *
	m_ä“»s_li¡
;

325 *
	m_ä“»s_buf
;

326 
size_t
 
	m_ä“»s_size
;

328 *
	m__·d1
;

329 *
	m__·d2
;

330 *
	m__·d3
;

331 *
	m__·d4
;

332 
size_t
 
	m__·d5
;

334 
	m_mode
;

336 
	m_unu£d2
[15 *  (è- 4 *  (*è-  (
size_t
)];

340 #iâdeà
__ılu¥lus


341 
_IO_FILE
 
	t_IO_FILE
;

344 
	g_IO_FILE_¶us
;

346 
_IO_FILE_¶us
 
_IO_2_1_¡dš_
;

347 
_IO_FILE_¶us
 
_IO_2_1_¡dout_
;

348 
_IO_FILE_¶us
 
_IO_2_1_¡d”r_
;

349 #iâdeà
_LIBC


350 
	#_IO_¡dš
 ((
_IO_FILE
*)(&
_IO_2_1_¡dš_
))

	)

351 
	#_IO_¡dout
 ((
_IO_FILE
*)(&
_IO_2_1_¡dout_
))

	)

352 
	#_IO_¡d”r
 ((
_IO_FILE
*)(&
_IO_2_1_¡d”r_
))

	)

354 
_IO_FILE
 *
_IO_¡dš
 
©Œibu‹_hidd’
;

355 
_IO_FILE
 *
_IO_¡dout
 
©Œibu‹_hidd’
;

356 
_IO_FILE
 *
_IO_¡d”r
 
©Œibu‹_hidd’
;

364 
__ssize_t
 
	t__io_»ad_â
 (*
	t__cook›
, *
	t__buf
, 
	tsize_t
 
	t__nby‹s
);

372 
__ssize_t
 
	t__io_wr™e_â
 (*
	t__cook›
, 
	t__cÚ¡
 *
	t__buf
,

373 
	tsize_t
 
	t__n
);

381 
	t__io_£ek_â
 (*
	t__cook›
, 
	t_IO_off64_t
 *
	t__pos
, 
	t__w
);

384 
	t__io_şo£_â
 (*
	t__cook›
);

387 #ifdeà
_GNU_SOURCE


389 
__io_»ad_â
 
	tcook›_»ad_funùiÚ_t
;

390 
__io_wr™e_â
 
	tcook›_wr™e_funùiÚ_t
;

391 
__io_£ek_â
 
	tcook›_£ek_funùiÚ_t
;

392 
__io_şo£_â
 
	tcook›_şo£_funùiÚ_t
;

397 
__io_»ad_â
 *
	m»ad
;

398 
__io_wr™e_â
 *
	mwr™e
;

399 
__io_£ek_â
 *
	m£ek
;

400 
__io_şo£_â
 *
	mşo£
;

401 } 
	t_IO_cook›_io_funùiÚs_t
;

402 
_IO_cook›_io_funùiÚs_t
 
	tcook›_io_funùiÚs_t
;

404 
	g_IO_cook›_fe
;

407 
_IO_cook›_š™
 (
_IO_cook›_fe
 *
__cfe
, 
__»ad_wr™e
,

408 *
__cook›
, 
_IO_cook›_io_funùiÚs_t
 
__âs
);

412 #ifdeà
__ılu¥lus


416 
__und”æow
 (
_IO_FILE
 *);

417 
__uæow
 (
_IO_FILE
 *);

418 
__ov”æow
 (
_IO_FILE
 *, );

419 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


420 
_IO_wšt_t
 
__wund”æow
 (
_IO_FILE
 *);

421 
_IO_wšt_t
 
__wuæow
 (
_IO_FILE
 *);

422 
_IO_wšt_t
 
__wov”æow
 (
_IO_FILE
 *, _IO_wint_t);

425 #ià 
__GNUC__
 >= 3

426 
	#_IO_BE
(
ex´
, 
»s
è
	`__butš_ex³ù
 (Óx´),„es)

	)

428 
	#_IO_BE
(
ex´
, 
»s
èÓx´)

	)

431 
	#_IO_g‘c_uÆocked
(
_å
) \

432 (
	`_IO_BE
 ((
_å
)->
_IO_»ad_±r
 >ğ(_å)->
_IO_»ad_’d
, 0) \

433 ? 
	`__uæow
 (
_å
è: *(*è(_å)->
_IO_»ad_±r
++)

	)

434 
	#_IO_³ekc_uÆocked
(
_å
) \

435 (
	`_IO_BE
 ((
_å
)->
_IO_»ad_±r
 >ğ(_å)->
_IO_»ad_’d
, 0) \

436 && 
	`__und”æow
 (
_å
è=ğ
EOF
 ? EOF \

437 : *(*è(
_å
)->
_IO_»ad_±r
)

	)

438 
	#_IO_putc_uÆocked
(
_ch
, 
_å
) \

439 (
	`_IO_BE
 ((
_å
)->
_IO_wr™e_±r
 >ğ(_å)->
_IO_wr™e_’d
, 0) \

440 ? 
	`__ov”æow
 (
_å
, (è(
_ch
)) \

441 : (è(*(
_å
)->
_IO_wr™e_±r
++ = (
_ch
)))

	)

443 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


444 
	#_IO_g‘wc_uÆocked
(
_å
) \

445 (
	`_IO_BE
 ((
_å
)->
_wide_d©a
 =ğ
NULL
 \

446 || ((
_å
)->
_wide_d©a
->
_IO_»ad_±r
 \

447 >ğ(
_å
)->
_wide_d©a
->
_IO_»ad_’d
), 0) \

448 ? 
	`__wuæow
 (
_å
è: (
_IO_wšt_t
è*(_å)->
_wide_d©a
->
_IO_»ad_±r
++)

	)

449 
	#_IO_putwc_uÆocked
(
_wch
, 
_å
) \

450 (
	`_IO_BE
 ((
_å
)->
_wide_d©a
 =ğ
NULL
 \

451 || ((
_å
)->
_wide_d©a
->
_IO_wr™e_±r
 \

452 >ğ(
_å
)->
_wide_d©a
->
_IO_wr™e_’d
), 0) \

453 ? 
	`__wov”æow
 (
_å
, 
_wch
) \

454 : (
_IO_wšt_t
è(*(
_å
)->
_wide_d©a
->
_IO_wr™e_±r
++ = (
_wch
)))

	)

457 
	#_IO_ãof_uÆocked
(
__å
è(((__å)->
_æags
 & 
_IO_EOF_SEEN
è!ğ0)

	)

458 
	#_IO_ã¼Ü_uÆocked
(
__å
è(((__å)->
_æags
 & 
_IO_ERR_SEEN
è!ğ0)

	)

460 
_IO_g‘c
 (
_IO_FILE
 *
__å
);

461 
_IO_putc
 (
__c
, 
_IO_FILE
 *
__å
);

462 
_IO_ãof
 (
_IO_FILE
 *
__å
è
__THROW
;

463 
_IO_ã¼Ü
 (
_IO_FILE
 *
__å
è
__THROW
;

465 
_IO_³ekc_locked
 (
_IO_FILE
 *
__å
);

468 
	#_IO_PENDING_OUTPUT_COUNT
(
_å
) \

469 ((
_å
)->
_IO_wr™e_±r
 - (_å)->
_IO_wr™e_ba£
)

	)

471 
_IO_æockfe
 (
_IO_FILE
 *è
__THROW
;

472 
_IO_fuÆockfe
 (
_IO_FILE
 *è
__THROW
;

473 
_IO_árylockfe
 (
_IO_FILE
 *è
__THROW
;

475 #ifdeà
_IO_MTSAFE_IO


476 
	#_IO_³ekc
(
_å
è
	`_IO_³ekc_locked
 (_å)

	)

477 
	#_IO_æockfe
(
_å
) \

478 ià(((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0è
	`_IO_æockfe
 (_å)

	)

479 
	#_IO_fuÆockfe
(
_å
) \

480 ià(((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0è
	`_IO_fuÆockfe
 (_å)

	)

482 
	#_IO_³ekc
(
_å
è
	`_IO_³ekc_uÆocked
 (_å)

	)

483 
	#_IO_æockfe
(
_å
è

	)

484 
	#_IO_fuÆockfe
(
_å
è

	)

485 
	#_IO_árylockfe
(
_å
è

	)

486 
	#_IO_ş—nup_»giÚ_¡¬t
(
_fù
, 
_å
è

	)

487 
	#_IO_ş—nup_»giÚ_’d
(
_Do™
è

	)

490 
_IO_vfsÿnf
 (
_IO_FILE
 * 
__»¡riù
, const * __restrict,

491 
_IO_va_li¡
, *
__»¡riù
);

492 
_IO_vårštf
 (
_IO_FILE
 *
__»¡riù
, const *__restrict,

493 
_IO_va_li¡
);

494 
_IO_ssize_t
 
_IO_·dn
 (
_IO_FILE
 *, , _IO_ssize_t);

495 
_IO_size_t
 
_IO_sg‘n
 (
_IO_FILE
 *, *, _IO_size_t);

497 
_IO_off64_t
 
_IO_£ekoff
 (
_IO_FILE
 *, _IO_off64_t, , );

498 
_IO_off64_t
 
_IO_£ekpos
 (
_IO_FILE
 *, _IO_off64_t, );

500 
_IO_ä“_backup_¬—
 (
_IO_FILE
 *è
__THROW
;

502 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


503 
_IO_wšt_t
 
_IO_g‘wc
 (
_IO_FILE
 *
__å
);

504 
_IO_wšt_t
 
_IO_putwc
 (
wch¬_t
 
__wc
, 
_IO_FILE
 *
__å
);

505 
_IO_fwide
 (
_IO_FILE
 *
__å
, 
__mode
è
__THROW
;

506 #ià
__GNUC__
 >= 2

509 #ià
defšed
 
_LIBC
 && defšed 
SHARED


510 
	~<shlib-com·t.h
>

511 #ià
SHLIB_COMPAT
 (
libc
, 
GLIBC_2_0
, 
GLIBC_2_1
)

512 
	#_IO_fwide_maybe_šcom·tibË
 \

513 (
	`__butš_ex³ù
 (&
_IO_¡dš_u£d
 =ğ
NULL
, 0))

	)

514 cÚ¡ 
_IO_¡dš_u£d
;

515 
w—k_ex‹º
 (
_IO_¡dš_u£d
);

518 #iâdeà
_IO_fwide_maybe_šcom·tibË


519 
	#_IO_fwide_maybe_šcom·tibË
 (0)

	)

523 
	#_IO_fwide
(
__å
, 
__mode
) \

524 ({ 
__»suÉ
 = (
__mode
); \

525 ià(
__»suÉ
 < 0 && ! 
_IO_fwide_maybe_šcom·tibË
) \

527 ià((
__å
)->
_mode
 == 0) \

529 (
__å
)->
_mode
 = -1; \

530 
__»suÉ
 = (
__å
)->
_mode
; \

532 ià(
	`__butš_cÚ¡ªt_p
 (
__mode
) && (__mode) == 0) \

533 
__»suÉ
 = 
_IO_fwide_maybe_šcom·tibË
 ? -1 : (
__å
)->
_mode
; \

535 
__»suÉ
 = 
	`_IO_fwide
 (
__å
, __result); \

536 
__»suÉ
; })

	)

539 
_IO_vfwsÿnf
 (
_IO_FILE
 * 
__»¡riù
, cÚ¡ 
wch¬_t
 * __restrict,

540 
_IO_va_li¡
, *
__»¡riù
);

541 
_IO_vfw´štf
 (
_IO_FILE
 *
__»¡riù
, cÚ¡ 
wch¬_t
 *__restrict,

542 
_IO_va_li¡
);

543 
_IO_ssize_t
 
_IO_w·dn
 (
_IO_FILE
 *, 
wšt_t
, _IO_ssize_t);

544 
_IO_ä“_wbackup_¬—
 (
_IO_FILE
 *è
__THROW
;

547 #ifdeà
__LDBL_COMPAT


548 
	~<b™s/libio-ldbl.h
>

551 #ifdeà
__ılu¥lus


	@/usr/include/memory.h

23 #iâdef 
_MEMORY_H


24 
	#_MEMORY_H
 1

	)

26 
	~<ã©u»s.h
>

29 #iâdef 
_STRING_H


30 
	~<¡ršg.h
>

	@/usr/include/sys/types.h

23 #iâdef 
_SYS_TYPES_H


24 
	#_SYS_TYPES_H
 1

	)

26 
	~<ã©u»s.h
>

28 
	g__BEGIN_DECLS


30 
	~<b™s/ty³s.h
>

32 #ifdef 
__USE_BSD


33 #iâdeà
__u_ch¬_defšed


34 
__u_ch¬
 
	tu_ch¬
;

35 
__u_shÜt
 
	tu_shÜt
;

36 
__u_št
 
	tu_št
;

37 
__u_lÚg
 
	tu_lÚg
;

38 
__quad_t
 
	tquad_t
;

39 
__u_quad_t
 
	tu_quad_t
;

40 
__fsid_t
 
	tfsid_t
;

41 
	#__u_ch¬_defšed


	)

45 
__loff_t
 
	tloff_t
;

47 #iâdeà
__šo_t_defšed


48 #iâdeà
__USE_FILE_OFFSET64


49 
__šo_t
 
	tšo_t
;

51 
__šo64_t
 
	tšo_t
;

53 
	#__šo_t_defšed


	)

55 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__šo64_t_defšed


56 
__šo64_t
 
	tšo64_t
;

57 
	#__šo64_t_defšed


	)

60 #iâdeà
__dev_t_defšed


61 
__dev_t
 
	tdev_t
;

62 
	#__dev_t_defšed


	)

65 #iâdeà
__gid_t_defšed


66 
__gid_t
 
	tgid_t
;

67 
	#__gid_t_defšed


	)

70 #iâdeà
__mode_t_defšed


71 
__mode_t
 
	tmode_t
;

72 
	#__mode_t_defšed


	)

75 #iâdeà
__Æšk_t_defšed


76 
__Æšk_t
 
	tÆšk_t
;

77 
	#__Æšk_t_defšed


	)

80 #iâdeà
__uid_t_defšed


81 
__uid_t
 
	tuid_t
;

82 
	#__uid_t_defšed


	)

85 #iâdeà
__off_t_defšed


86 #iâdeà
__USE_FILE_OFFSET64


87 
__off_t
 
	toff_t
;

89 
__off64_t
 
	toff_t
;

91 
	#__off_t_defšed


	)

93 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


94 
__off64_t
 
	toff64_t
;

95 
	#__off64_t_defšed


	)

98 #iâdeà
__pid_t_defšed


99 
__pid_t
 
	tpid_t
;

100 
	#__pid_t_defšed


	)

103 #ià(
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8
) \

104 && !
defšed
 
__id_t_defšed


105 
__id_t
 
	tid_t
;

106 
	#__id_t_defšed


	)

109 #iâdeà
__ssize_t_defšed


110 
__ssize_t
 
	tssize_t
;

111 
	#__ssize_t_defšed


	)

114 #ifdef 
__USE_BSD


115 #iâdeà
__daddr_t_defšed


116 
__daddr_t
 
	tdaddr_t
;

117 
__ÿddr_t
 
	tÿddr_t
;

118 
	#__daddr_t_defšed


	)

122 #ià(
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN
è&& !defšed 
__key_t_defšed


123 
__key_t
 
	tkey_t
;

124 
	#__key_t_defšed


	)

127 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


128 
	#__Ãed_şock_t


	)

130 
	#__Ãed_time_t


	)

131 
	#__Ãed_tim”_t


	)

132 
	#__Ãed_şockid_t


	)

133 
	~<time.h
>

135 #ifdeà
__USE_XOPEN


136 #iâdeà
__u£cÚds_t_defšed


137 
__u£cÚds_t
 
	tu£cÚds_t
;

138 
	#__u£cÚds_t_defšed


	)

140 #iâdeà
__su£cÚds_t_defšed


141 
__su£cÚds_t
 
	tsu£cÚds_t
;

142 
	#__su£cÚds_t_defšed


	)

146 
	#__Ãed_size_t


	)

147 
	~<¡ddef.h
>

149 #ifdeà
__USE_MISC


151 
	tulÚg
;

152 
	tushÜt
;

153 
	tušt
;

158 #ià!
__GNUC_PREREQ
 (2, 7)

161 #iâdeà
__št8_t_defšed


162 
	#__št8_t_defšed


	)

163 
	tšt8_t
;

164 
	tšt16_t
;

165 
	tšt32_t
;

166 #ià
__WORDSIZE
 == 64

167 
	tšt64_t
;

168 #–ià
__GLIBC_HAVE_LONG_LONG


169 
__ex‹nsiÚ__
 
	tšt64_t
;

174 
	tu_št8_t
;

175 
	tu_št16_t
;

176 
	tu_št32_t
;

177 #ià
__WORDSIZE
 == 64

178 
	tu_št64_t
;

179 #–ià
__GLIBC_HAVE_LONG_LONG


180 
__ex‹nsiÚ__
 
	tu_št64_t
;

183 
	t»gi¡”_t
;

188 
	#__štN_t
(
N
, 
MODE
) \

189 ##
	tN
##
	t_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	tMODE
)))

	)

190 
	t__u_štN_t
(
	tN
, 
	tMODE
) \

191 
	tu_št
##
	tN
##
	t_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	tMODE
)))

	)

193 #iâdeà
	t__št8_t_defšed


194 
	t__št8_t_defšed


	)

195 
	t__štN_t
 (8, 
	t__QI__
);

196 
__štN_t
 (16, 
__HI__
);

197 
__štN_t
 (32, 
__SI__
);

198 
__štN_t
 (64, 
__DI__
);

201 
__u_štN_t
 (8, 
__QI__
);

202 
__u_štN_t
 (16, 
__HI__
);

203 
__u_štN_t
 (32, 
__SI__
);

204 
__u_štN_t
 (64, 
__DI__
);

206 
	t»gi¡”_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	t__wÜd__
)));

212 
	#__BIT_TYPES_DEFINED__
 1

	)

215 #ifdef 
__USE_BSD


217 
	~<’dŸn.h
>

220 
	~<sys/£Ëù.h
>

223 
	~<sys/sysmaüos.h
>

227 #ià(
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8
) \

228 && !
defšed
 
__blksize_t_defšed


229 
__blksize_t
 
	tblksize_t
;

230 
	#__blksize_t_defšed


	)

234 #iâdeà
__USE_FILE_OFFSET64


235 #iâdeà
__blkút_t_defšed


236 
__blkút_t
 
	tblkút_t
;

237 
	#__blkút_t_defšed


	)

239 #iâdeà
__fsblkút_t_defšed


240 
__fsblkút_t
 
	tfsblkút_t
;

241 
	#__fsblkút_t_defšed


	)

243 #iâdeà
__fsfút_t_defšed


244 
__fsfút_t
 
	tfsfút_t
;

245 
	#__fsfút_t_defšed


	)

248 #iâdeà
__blkút_t_defšed


249 
__blkút64_t
 
	tblkút_t
;

250 
	#__blkút_t_defšed


	)

252 #iâdeà
__fsblkút_t_defšed


253 
__fsblkút64_t
 
	tfsblkút_t
;

254 
	#__fsblkút_t_defšed


	)

256 #iâdeà
__fsfút_t_defšed


257 
__fsfút64_t
 
	tfsfút_t
;

258 
	#__fsfút_t_defšed


	)

262 #ifdeà
__USE_LARGEFILE64


263 
__blkút64_t
 
	tblkút64_t
;

264 
__fsblkút64_t
 
	tfsblkút64_t
;

265 
__fsfút64_t
 
	tfsfút64_t
;

270 #ià
defšed
 
__USE_POSIX199506
 || defšed 
__USE_UNIX98


271 
	~<b™s/±h»adty³s.h
>

274 
	g__END_DECLS


	@/usr/include/xlocale.h

21 #iâdeà
_XLOCALE_H


22 
	#_XLOCALE_H
 1

	)

28 
	s__loÿË_¡ruù


31 
__loÿË_d©a
 *
	m__loÿËs
[13];

34 cÚ¡ *
	m__ùy³_b
;

35 cÚ¡ *
	m__ùy³_tŞow”
;

36 cÚ¡ *
	m__ùy³_touµ”
;

39 cÚ¡ *
	m__Çmes
[13];

40 } *
	t__loÿË_t
;

43 
__loÿË_t
 
	tloÿË_t
;

	@/usr/include/zconf.h

8 #iâdeà
ZCONF_H


9 
	#ZCONF_H


	)

15 #ifdeà
Z_PREFIX


16 
	#deæ©eIn™_
 
z_deæ©eIn™_


	)

17 
	#deæ©e
 
z_deæ©e


	)

18 
	#deæ©eEnd
 
z_deæ©eEnd


	)

19 
	#šæ©eIn™_
 
z_šæ©eIn™_


	)

20 
	#šæ©e
 
z_šæ©e


	)

21 
	#šæ©eEnd
 
z_šæ©eEnd


	)

22 
	#deæ©eIn™2_
 
z_deæ©eIn™2_


	)

23 
	#deæ©eS‘DiùiÚ¬y
 
z_deæ©eS‘DiùiÚ¬y


	)

24 
	#deæ©eCİy
 
z_deæ©eCİy


	)

25 
	#deæ©eRe£t
 
z_deæ©eRe£t


	)

26 
	#deæ©eP¬ams
 
z_deæ©eP¬ams


	)

27 
	#deæ©eBound
 
z_deæ©eBound


	)

28 
	#deæ©ePrime
 
z_deæ©ePrime


	)

29 
	#šæ©eIn™2_
 
z_šæ©eIn™2_


	)

30 
	#šæ©eS‘DiùiÚ¬y
 
z_šæ©eS‘DiùiÚ¬y


	)

31 
	#šæ©eSync
 
z_šæ©eSync


	)

32 
	#šæ©eSyncPošt
 
z_šæ©eSyncPošt


	)

33 
	#šæ©eCİy
 
z_šæ©eCİy


	)

34 
	#šæ©eRe£t
 
z_šæ©eRe£t


	)

35 
	#šæ©eBack
 
z_šæ©eBack


	)

36 
	#šæ©eBackEnd
 
z_šæ©eBackEnd


	)

37 
	#com´ess
 
z_com´ess


	)

38 
	#com´ess2
 
z_com´ess2


	)

39 
	#com´essBound
 
z_com´essBound


	)

40 
	#uncom´ess
 
z_uncom´ess


	)

41 
	#adËr32
 
z_adËr32


	)

42 
	#üc32
 
z_üc32


	)

43 
	#g‘_üc_bË
 
z_g‘_üc_bË


	)

44 
	#zE¼Ü
 
z_zE¼Ü


	)

46 
	#®loc_func
 
z_®loc_func


	)

47 
	#ä“_func
 
z_ä“_func


	)

48 
	#š_func
 
z_š_func


	)

49 
	#out_func
 
z_out_func


	)

50 
	#By‹
 
z_By‹


	)

51 
	#uIÁ
 
z_uIÁ


	)

52 
	#uLÚg
 
z_uLÚg


	)

53 
	#By‹f
 
z_By‹f


	)

54 
	#ch¬f
 
z_ch¬f


	)

55 
	#štf
 
z_štf


	)

56 
	#uIÁf
 
z_uIÁf


	)

57 
	#uLÚgf
 
z_uLÚgf


	)

58 
	#voidpf
 
z_voidpf


	)

59 
	#voidp
 
z_voidp


	)

62 #ià
defšed
(
__MSDOS__
è&& !defšed(
MSDOS
)

63 
	#MSDOS


	)

65 #ià(
defšed
(
OS_2
è|| defšed(
__OS2__
)è&& !defšed(
OS2
)

66 
	#OS2


	)

68 #ià
defšed
(
_WINDOWS
è&& !defšed(
WINDOWS
)

69 
	#WINDOWS


	)

71 #ià
defšed
(
_WIN32
è|| defšed(
_WIN32_WCE
è|| defšed(
__WIN32__
)

72 #iâdeà
WIN32


73 
	#WIN32


	)

76 #ià(
defšed
(
MSDOS
è|| defšed(
OS2
è|| defšed(
WINDOWS
)è&& !defšed(
WIN32
)

77 #ià!
defšed
(
__GNUC__
è&& !defšed(
__FLAT__
è&& !defšed(
__386__
)

78 #iâdeà
SYS16BIT


79 
	#SYS16BIT


	)

88 #ifdeà
SYS16BIT


89 
	#MAXSEG_64K


	)

91 #ifdeà
MSDOS


92 
	#UNALIGNED_OK


	)

95 #ifdeà
__STDC_VERSION__


96 #iâdeà
STDC


97 
	#STDC


	)

99 #ià
__STDC_VERSION__
 >= 199901L

100 #iâdeà
STDC99


101 
	#STDC99


	)

105 #ià!
defšed
(
STDC
è&& (defšed(
__STDC__
è|| defšed(
__ılu¥lus
))

106 
	#STDC


	)

108 #ià!
defšed
(
STDC
è&& (defšed(
__GNUC__
è|| defšed(
__BORLANDC__
))

109 
	#STDC


	)

111 #ià!
defšed
(
STDC
è&& (defšed(
MSDOS
è|| defšed(
WINDOWS
è|| defšed(
WIN32
))

112 
	#STDC


	)

114 #ià!
defšed
(
STDC
è&& (defšed(
OS2
è|| defšed(
__HOS_AIX__
))

115 
	#STDC


	)

118 #ià
defšed
(
__OS400__
è&& !defšed(
STDC
)

119 
	#STDC


	)

122 #iâdeà
STDC


124 cÚ¡

	)

129 #ià
defšed
(
__MWERKS__
)||defšed(
­¶ec
)||defšed(
THINK_C
)||defšed(
__SC__
)

130 
	#NO_DUMMY_DECL


	)

134 #iâdeà
MAX_MEM_LEVEL


135 #ifdeà
MAXSEG_64K


136 
	#MAX_MEM_LEVEL
 8

	)

138 
	#MAX_MEM_LEVEL
 9

	)

147 #iâdeà
MAX_WBITS


148 
	#MAX_WBITS
 15

	)

166 #iâdeà
OF


167 #ifdeà
STDC


168 
	#OF
(
¬gs
è
	)
args

170 
	#OF
(
¬gs
è()

	)

180 #ifdeà
SYS16BIT


181 #ià
defšed
(
M_I86SM
è|| defšed(
M_I86MM
)

183 
	#SMALL_MEDIUM


	)

184 #ifdeà
_MSC_VER


185 
	#FAR
 
_çr


	)

187 
	#FAR
 
çr


	)

190 #ià(
defšed
(
__SMALL__
è|| defšed(
__MEDIUM__
))

192 
	#SMALL_MEDIUM


	)

193 #ifdeà
__BORLANDC__


194 
	#FAR
 
_çr


	)

196 
	#FAR
 
çr


	)

201 #ià
defšed
(
WINDOWS
è|| defšed(
WIN32
)

205 #ifdeà
ZLIB_DLL


206 #ià
defšed
(
WIN32
è&& (!defšed(
__BORLANDC__
) || (__BORLANDC__ >= 0x500))

207 #ifdeà
ZLIB_INTERNAL


208 
	#ZEXTERN
 
	`__deş¥ec
(
dÎexpÜt
)

	)

210 
	#ZEXTERN
 
	`__deş¥ec
(
dÎimpÜt
)

	)

218 #ifdeà
ZLIB_WINAPI


219 #ifdeà
FAR


220 #undeà
FAR


222 
	~<wšdows.h
>

225 
	#ZEXPORT
 
WINAPI


	)

226 #ifdeà
WIN32


227 
	#ZEXPORTVA
 
WINAPIV


	)

229 
	#ZEXPORTVA
 
FAR
 
CDECL


	)

234 #ià
defšed
 (
__BEOS__
)

235 #ifdeà
ZLIB_DLL


236 #ifdeà
ZLIB_INTERNAL


237 
	#ZEXPORT
 
	`__deş¥ec
(
dÎexpÜt
)

	)

238 
	#ZEXPORTVA
 
	`__deş¥ec
(
dÎexpÜt
)

	)

240 
	#ZEXPORT
 
	`__deş¥ec
(
dÎimpÜt
)

	)

241 
	#ZEXPORTVA
 
	`__deş¥ec
(
dÎimpÜt
)

	)

246 #iâdeà
ZEXTERN


247 
	#ZEXTERN
 

	)

249 #iâdeà
ZEXPORT


250 
	#ZEXPORT


	)

252 #iâdeà
ZEXPORTVA


253 
	#ZEXPORTVA


	)

256 #iâdeà
FAR


257 
	#FAR


	)

260 #ià!
defšed
(
__MACTYPES__
)

261 
	tBy‹
;

263 
	tuIÁ
;

264 
	tuLÚg
;

266 #ifdeà
SMALL_MEDIUM


268 
	#By‹f
 
By‹
 
FAR


	)

270 
By‹
 
	tFAR
 
	tBy‹f
;

272 
	tFAR
 
	tch¬f
;

273 
	tFAR
 
	tštf
;

274 
uIÁ
 
	tFAR
 
	tuIÁf
;

275 
uLÚg
 
	tFAR
 
	tuLÚgf
;

277 #ifdeà
STDC


278 cÚ¡ *
	tvoidpc
;

279 
	tFAR
 *
	tvoidpf
;

280 *
	tvoidp
;

282 
By‹
 cÚ¡ *
	tvoidpc
;

283 
By‹
 
	tFAR
 *
	tvoidpf
;

284 
By‹
 *
	tvoidp
;

288 
	~<sys/ty³s.h
>

289 
	~<uni¡d.h
>

290 #ifdeà
VMS


291 
	~<unixio.h
>

293 
	#z_off_t
 
off_t


	)

295 #iâdeà
SEEK_SET


296 
	#SEEK_SET
 0

	)

297 
	#SEEK_CUR
 1

	)

298 
	#SEEK_END
 2

	)

300 #iâdeà
z_off_t


301 
	#z_off_t
 

	)

304 #ià
defšed
(
__OS400__
)

305 
	#NO_v¢´štf


	)

308 #ià
defšed
(
__MVS__
)

309 
	#NO_v¢´štf


	)

310 #ifdeà
FAR


311 #undeà
FAR


316 #ià
defšed
(
__MVS__
)

317 #´agm¨
m­
(
deæ©eIn™_
,"DEIN")

318 #´agm¨
m­
(
deæ©eIn™2_
,"DEIN2")

319 #´agm¨
m­
(
deæ©eEnd
,"DEEND")

320 #´agm¨
m­
(
deæ©eBound
,"DEBND")

321 #´agm¨
m­
(
šæ©eIn™_
,"ININ")

322 #´agm¨
m­
(
šæ©eIn™2_
,"ININ2")

323 #´agm¨
m­
(
šæ©eEnd
,"INEND")

324 #´agm¨
m­
(
šæ©eSync
,"INSY")

325 #´agm¨
m­
(
šæ©eS‘DiùiÚ¬y
,"INSEDI")

326 #´agm¨
m­
(
com´essBound
,"CMBND")

327 #´agm¨
m­
(
šæ©e_bË
,"INTABL")

328 #´agm¨
m­
(
šæ©e_ç¡
,"INFA")

329 #´agm¨
m­
(
šæ©e_cİyright
,"INCOPY")

	@/usr/include/_G_config.h

4 #iâdeà
_G_cÚfig_h


5 
	#_G_cÚfig_h
 1

	)

9 
	~<b™s/ty³s.h
>

10 
	#__Ãed_size_t


	)

11 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


12 
	#__Ãed_wch¬_t


	)

14 
	#__Ãed_NULL


	)

15 
	~<¡ddef.h
>

16 
	#__Ãed_mb¡©e_t


	)

17 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


18 
	#__Ãed_wšt_t


	)

20 
	~<wch¬.h
>

21 
	#_G_size_t
 
size_t


	)

24 
__off_t
 
	m__pos
;

25 
__mb¡©e_t
 
	m__¡©e
;

26 } 
	t_G_åos_t
;

29 
__off64_t
 
	m__pos
;

30 
__mb¡©e_t
 
	m__¡©e
;

31 } 
	t_G_åos64_t
;

32 
	#_G_ssize_t
 
__ssize_t


	)

33 
	#_G_off_t
 
__off_t


	)

34 
	#_G_off64_t
 
__off64_t


	)

35 
	#_G_pid_t
 
__pid_t


	)

36 
	#_G_uid_t
 
__uid_t


	)

37 
	#_G_wch¬_t
 
wch¬_t


	)

38 
	#_G_wšt_t
 
wšt_t


	)

39 
	#_G_¡©64
 
¡©64


	)

40 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


41 
	~<gcÚv.h
>

44 
__gcÚv_šfo
 
	m__cd
;

47 
__gcÚv_šfo
 
	m__cd
;

48 
__gcÚv_¡•_d©a
 
	m__d©a
;

49 } 
	m__combšed
;

50 } 
	t_G_icÚv_t
;

53 
	t_G_št16_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	t__HI__
)));

54 
	t_G_št32_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	t__SI__
)));

55 
	t_G_ušt16_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	t__HI__
)));

56 
	t_G_ušt32_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	t__SI__
)));

58 
	#_G_HAVE_BOOL
 1

	)

62 
	#_G_HAVE_ATEXIT
 1

	)

63 
	#_G_HAVE_SYS_CDEFS
 1

	)

64 
	#_G_HAVE_SYS_WAIT
 1

	)

65 
	#_G_NEED_STDARG_H
 1

	)

66 
	#_G_va_li¡
 
__gnuc_va_li¡


	)

68 
	#_G_HAVE_PRINTF_FP
 1

	)

69 
	#_G_HAVE_MMAP
 1

	)

70 
	#_G_HAVE_MREMAP
 1

	)

71 
	#_G_HAVE_LONG_DOUBLE_IO
 1

	)

72 
	#_G_HAVE_IO_FILE_OPEN
 1

	)

73 
	#_G_HAVE_IO_GETLINE_INFO
 1

	)

75 
	#_G_IO_IO_FILE_VERSION
 0x20001

	)

77 
	#_G_OPEN64
 
__İ’64


	)

78 
	#_G_LSEEK64
 
__l£ek64


	)

79 
	#_G_MMAP64
 
__mm­64


	)

80 
	#_G_FSTAT64
(
fd
,
buf
è
	`__fx¡©64
 (
_STAT_VER
, fd, buf)

	)

83 
	#_G_HAVE_ST_BLKSIZE
 
	`defšed
 (
_STATBUF_ST_BLKSIZE
)

	)

85 
	#_G_BUFSIZ
 8192

	)

88 
	#_G_NAMES_HAVE_UNDERSCORE
 0

	)

89 
	#_G_VTABLE_LABEL_HAS_LENGTH
 1

	)

90 
	#_G_USING_THUNKS
 1

	)

91 
	#_G_VTABLE_LABEL_PREFIX
 "__vt_"

	)

92 
	#_G_VTABLE_LABEL_PREFIX_ID
 
__vt_


	)

95 #ià
defšed
 
__ılu¥lus
 || defšed 
__STDC__


96 
	#_G_ARGS
(
ARGLIST
è
	)
ARGLIST

98 
	#_G_ARGS
(
ARGLIST
è()

	)

	@/usr/include/bits/libio-ldbl.h

20 #iâdeà
_IO_STDIO_H


24 
	$__LDBL_REDIR_DECL
 (
_IO_vfsÿnf
)

25 
	`__LDBL_REDIR_DECL
 (
_IO_vårštf
)

	@/usr/include/bits/local_lim.h

25 #iâdeà
NR_OPEN


26 
	#__undef_NR_OPEN


	)

28 #iâdeà
LINK_MAX


29 
	#__undef_LINK_MAX


	)

31 #iâdeà
OPEN_MAX


32 
	#__undef_OPEN_MAX


	)

34 #iâdeà
ARG_MAX


35 
	#__undef_ARG_MAX


	)

39 
	~<lšux/lim™s.h
>

42 #ifdeà
__undef_NR_OPEN


43 #undeà
NR_OPEN


44 #undeà
__undef_NR_OPEN


47 #ifdeà
__undef_LINK_MAX


48 #undeà
LINK_MAX


49 #undeà
__undef_LINK_MAX


52 #ifdeà
__undef_OPEN_MAX


53 #undeà
OPEN_MAX


54 #undeà
__undef_OPEN_MAX


57 #ifdeà
__undef_ARG_MAX


58 #undeà
ARG_MAX


59 #undeà
__undef_ARG_MAX


63 
	#_POSIX_THREAD_KEYS_MAX
 128

	)

65 
	#PTHREAD_KEYS_MAX
 1024

	)

68 
	#_POSIX_THREAD_DESTRUCTOR_ITERATIONS
 4

	)

70 
	#PTHREAD_DESTRUCTOR_ITERATIONS
 
_POSIX_THREAD_DESTRUCTOR_ITERATIONS


	)

73 
	#_POSIX_THREAD_THREADS_MAX
 64

	)

75 #undeà
PTHREAD_THREADS_MAX


79 
	#AIO_PRIO_DELTA_MAX
 20

	)

82 
	#PTHREAD_STACK_MIN
 16384

	)

85 
	#DELAYTIMER_MAX
 2147483647

	)

88 
	#TTY_NAME_MAX
 32

	)

91 
	#LOGIN_NAME_MAX
 256

	)

94 
	#HOST_NAME_MAX
 64

	)

97 
	#MQ_PRIO_MAX
 32768

	)

100 
	#SEM_VALUE_MAX
 (2147483647)

	)

	@/usr/include/bits/pthreadtypes.h

20 #iâdeà
_BITS_PTHREADTYPES_H


21 
	#_BITS_PTHREADTYPES_H
 1

	)

23 
	~<b™s/wÜdsize.h
>

25 #ià
__WORDSIZE
 == 64

26 
	#__SIZEOF_PTHREAD_ATTR_T
 56

	)

27 
	#__SIZEOF_PTHREAD_MUTEX_T
 40

	)

28 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

29 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

30 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

31 
	#__SIZEOF_PTHREAD_RWLOCK_T
 56

	)

32 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

33 
	#__SIZEOF_PTHREAD_BARRIER_T
 32

	)

34 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

36 
	#__SIZEOF_PTHREAD_ATTR_T
 36

	)

37 
	#__SIZEOF_PTHREAD_MUTEX_T
 24

	)

38 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

39 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

40 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

41 
	#__SIZEOF_PTHREAD_RWLOCK_T
 32

	)

42 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

43 
	#__SIZEOF_PTHREAD_BARRIER_T
 20

	)

44 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

50 
	t±h»ad_t
;

55 
	m__size
[
__SIZEOF_PTHREAD_ATTR_T
];

56 
	m__®ign
;

57 } 
	t±h»ad_©Œ_t
;

60 #ià
__WORDSIZE
 == 64

61 
	s__±h»ad_š‹º®_li¡


63 
__±h»ad_š‹º®_li¡
 *
	m__´ev
;

64 
__±h»ad_š‹º®_li¡
 *
	m__Ãxt
;

65 } 
	t__±h»ad_li¡_t
;

67 
	s__±h»ad_š‹º®_¦i¡


69 
__±h»ad_š‹º®_¦i¡
 *
	m__Ãxt
;

70 } 
	t__±h»ad_¦i¡_t
;

78 
	s__±h»ad_mu‹x_s


80 
	m__lock
;

81 
	m__couÁ
;

82 
	m__owÃr
;

83 #ià
__WORDSIZE
 == 64

84 
	m__nu£rs
;

88 
	m__kšd
;

89 #ià
__WORDSIZE
 == 64

90 
	m__¥šs
;

91 
__±h»ad_li¡_t
 
	m__li¡
;

92 
	#__PTHREAD_MUTEX_HAVE_PREV
 1

	)

94 
	m__nu£rs
;

95 
__ex‹nsiÚ__
 union

97 
	m__¥šs
;

98 
__±h»ad_¦i¡_t
 
	m__li¡
;

101 } 
	m__d©a
;

102 
	m__size
[
__SIZEOF_PTHREAD_MUTEX_T
];

103 
	m__®ign
;

104 } 
	t±h»ad_mu‹x_t
;

108 
	m__size
[
__SIZEOF_PTHREAD_MUTEXATTR_T
];

109 
	m__®ign
;

110 } 
	t±h»ad_mu‹x©Œ_t
;

119 
	m__lock
;

120 
	m__fu‹x
;

121 
__ex‹nsiÚ__
 
	m__tÙ®_£q
;

122 
__ex‹nsiÚ__
 
	m__wakeup_£q
;

123 
__ex‹nsiÚ__
 
	m__wok’_£q
;

124 *
	m__mu‹x
;

125 
	m__nwa™”s
;

126 
	m__brßdÿ¡_£q
;

127 } 
	m__d©a
;

128 
	m__size
[
__SIZEOF_PTHREAD_COND_T
];

129 
__ex‹nsiÚ__
 
	m__®ign
;

130 } 
	t±h»ad_cÚd_t
;

134 
	m__size
[
__SIZEOF_PTHREAD_CONDATTR_T
];

135 
	m__®ign
;

136 } 
	t±h»ad_cÚd©Œ_t
;

140 
	t±h»ad_key_t
;

144 
	t±h»ad_Úû_t
;

147 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


152 #ià
__WORDSIZE
 == 64

155 
	m__lock
;

156 
	m__Ä_»ad”s
;

157 
	m__»ad”s_wakeup
;

158 
	m__wr™”_wakeup
;

159 
	m__Ä_»ad”s_queued
;

160 
	m__Ä_wr™”s_queued
;

161 
	m__wr™”
;

162 
	m__sh¬ed
;

163 
	m__·d1
;

164 
	m__·d2
;

167 
	m__æags
;

168 } 
	m__d©a
;

172 
	m__lock
;

173 
	m__Ä_»ad”s
;

174 
	m__»ad”s_wakeup
;

175 
	m__wr™”_wakeup
;

176 
	m__Ä_»ad”s_queued
;

177 
	m__Ä_wr™”s_queued
;

180 
	m__æags
;

181 
	m__sh¬ed
;

182 
	m__·d1
;

183 
	m__·d2
;

184 
	m__wr™”
;

185 } 
	m__d©a
;

187 
	m__size
[
__SIZEOF_PTHREAD_RWLOCK_T
];

188 
	m__®ign
;

189 } 
	t±h»ad_rwlock_t
;

193 
	m__size
[
__SIZEOF_PTHREAD_RWLOCKATTR_T
];

194 
	m__®ign
;

195 } 
	t±h»ad_rwlock©Œ_t
;

199 #ifdeà
__USE_XOPEN2K


201 vŞ©
	t±h»ad_¥šlock_t
;

208 
	m__size
[
__SIZEOF_PTHREAD_BARRIER_T
];

209 
	m__®ign
;

210 } 
	t±h»ad_b¬r›r_t
;

214 
	m__size
[
__SIZEOF_PTHREAD_BARRIERATTR_T
];

215 
	m__®ign
;

216 } 
	t±h»ad_b¬r›¿‰r_t
;

220 #ià
__WORDSIZE
 == 32

222 
	#__ş—nup_fù_©Œibu‹
 
	`__©Œibu‹__
 ((
	`__»g·rm__
 (1)))

	)

	@/usr/include/bits/stdio-lock.h

20 #iâdeà
_BITS_STDIO_LOCK_H


21 
	#_BITS_STDIO_LOCK_H
 1

	)

23 
	~<b™s/libc-lock.h
>

25 
	$__libc_lock_defše_»cursive
 (, 
_IO_lock_t
)

28 #ifdeà
	t_LIBC_LOCK_RECURSIVE_INITIALIZER


29 
	t_IO_lock_š™Ÿliz”
 
	t_LIBC_LOCK_RECURSIVE_INITIALIZER


	)

30 #–ià
	t_IO_MTSAFE_IO


31 #”rÜ 
	tlibio
 
	tÃeds
 
	t»cursive
 
	tmu‹xes
 
	t_IO_MTSAFE_IO


34 
	t_IO_lock_š™
(
	t_Çme
è
	t__libc_lock_š™_»cursive
 (_Çme)

	)

35 
	t_IO_lock_fši
(
	t_Çme
è
	t__libc_lock_fši_»cursive
 (_Çme)

	)

36 
	t_IO_lock_lock
(
	t_Çme
è
	t__libc_lock_lock_»cursive
 (_Çme)

	)

37 
	t_IO_lock_Œylock
(
	t_Çme
è
	t__libc_lock_Œylock_»cursive
 (_Çme)

	)

38 
	t_IO_lock_uÆock
(
	t_Çme
è
	t__libc_lock_uÆock_»cursive
 (_Çme)

	)

41 
	t_IO_ş—nup_»giÚ_¡¬t
(
	t_fù
, 
	t_å
) \

42 
	t__libc_ş—nup_»giÚ_¡¬t
 (((
	t_å
)->
	t_æags
 & 
	t_IO_USER_LOCK
è=ğ0, 
	t_fù
, _å)

	)

43 
	t_IO_ş—nup_»giÚ_¡¬t_nßrg
(
	t_fù
) \

44 
	t__libc_ş—nup_»giÚ_¡¬t
 (1, 
	t_fù
, 
	tNULL
)

	)

45 
	t_IO_ş—nup_»giÚ_’d
(
	t_do™
) \

46 
	t__libc_ş—nup_»giÚ_’d
 (
	t_do™
)

	)

48 #ià
	tdefšed
 
	t_LIBC
 && !defšed 
	tNOT_IN_libc


49 
	t_IO_acquœe_lock
(
	t_å
) \

50 
	t_IO_ş—nup_»giÚ_¡¬t
 (((*è(*)è
	t_IO_fuÆockfe
, (
	t_å
)); \

51 
	`_IO_æockfe
 (
_å
)

	)

53 
	#_IO_»Ëa£_lock
(
_å
) \

54 
	`_IO_fuÆockfe
 (
_å
); \

55 
	`_IO_ş—nup_»giÚ_’d
 (0)

	)

	@/usr/include/bits/typesizes.h

20 #iâdeà
_BITS_TYPES_H


24 #iâdef 
_BITS_TYPESIZES_H


25 
	#_BITS_TYPESIZES_H
 1

	)

30 
	#__DEV_T_TYPE
 
__UQUAD_TYPE


	)

31 
	#__UID_T_TYPE
 
__U32_TYPE


	)

32 
	#__GID_T_TYPE
 
__U32_TYPE


	)

33 
	#__INO_T_TYPE
 
__ULONGWORD_TYPE


	)

34 
	#__INO64_T_TYPE
 
__UQUAD_TYPE


	)

35 
	#__MODE_T_TYPE
 
__U32_TYPE


	)

36 
	#__NLINK_T_TYPE
 
__UWORD_TYPE


	)

37 
	#__OFF_T_TYPE
 
__SLONGWORD_TYPE


	)

38 
	#__OFF64_T_TYPE
 
__SQUAD_TYPE


	)

39 
	#__PID_T_TYPE
 
__S32_TYPE


	)

40 
	#__RLIM_T_TYPE
 
__ULONGWORD_TYPE


	)

41 
	#__RLIM64_T_TYPE
 
__UQUAD_TYPE


	)

42 
	#__BLKCNT_T_TYPE
 
__SLONGWORD_TYPE


	)

43 
	#__BLKCNT64_T_TYPE
 
__SQUAD_TYPE


	)

44 
	#__FSBLKCNT_T_TYPE
 
__ULONGWORD_TYPE


	)

45 
	#__FSBLKCNT64_T_TYPE
 
__UQUAD_TYPE


	)

46 
	#__FSFILCNT_T_TYPE
 
__ULONGWORD_TYPE


	)

47 
	#__FSFILCNT64_T_TYPE
 
__UQUAD_TYPE


	)

48 
	#__ID_T_TYPE
 
__U32_TYPE


	)

49 
	#__CLOCK_T_TYPE
 
__SLONGWORD_TYPE


	)

50 
	#__TIME_T_TYPE
 
__SLONGWORD_TYPE


	)

51 
	#__USECONDS_T_TYPE
 
__U32_TYPE


	)

52 
	#__SUSECONDS_T_TYPE
 
__SLONGWORD_TYPE


	)

53 
	#__DADDR_T_TYPE
 
__S32_TYPE


	)

54 
	#__SWBLK_T_TYPE
 
__SLONGWORD_TYPE


	)

55 
	#__KEY_T_TYPE
 
__S32_TYPE


	)

56 
	#__CLOCKID_T_TYPE
 
__S32_TYPE


	)

57 
	#__TIMER_T_TYPE
 *

	)

58 
	#__BLKSIZE_T_TYPE
 
__SLONGWORD_TYPE


	)

59 
	#__FSID_T_TYPE
 sŒuù { 
__v®
[2]; }

	)

60 
	#__SSIZE_T_TYPE
 
__SWORD_TYPE


	)

63 
	#__FD_SETSIZE
 1024

	)

	@/usr/include/ctype.h

24 #iâdef 
_CTYPE_H


25 
	#_CTYPE_H
 1

	)

27 
	~<ã©u»s.h
>

28 
	~<b™s/ty³s.h
>

30 
	g__BEGIN_DECLS


32 #iâdeà
_ISb™


41 
	~<’dŸn.h
>

42 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


43 
	#_ISb™
(
b™
è(1 << (b™))

	)

45 
	#_ISb™
(
b™
è((b™è< 8 ? ((1 << (b™)è<< 8è: ((1 << (b™)è>> 8))

	)

50 
	m_ISuµ”
 = 
_ISb™
 (0),

51 
	m_ISlow”
 = 
_ISb™
 (1),

52 
	m_IS®pha
 = 
_ISb™
 (2),

53 
	m_ISdig™
 = 
_ISb™
 (3),

54 
	m_ISxdig™
 = 
_ISb™
 (4),

55 
	m_IS¥aû
 = 
_ISb™
 (5),

56 
	m_IS´št
 = 
_ISb™
 (6),

57 
	m_ISg¿ph
 = 
_ISb™
 (7),

58 
	m_ISbÏnk
 = 
_ISb™
 (8),

59 
	m_ISúŒl
 = 
_ISb™
 (9),

60 
	m_ISpunù
 = 
_ISb™
 (10),

61 
	m_IS®num
 = 
_ISb™
 (11)

81 
__cÚ¡
 **
	$__ùy³_b_loc
 ()

82 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡
));

83 
__cÚ¡
 
__št32_t
 **
	$__ùy³_tŞow”_loc
 ()

84 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡
));

85 
__cÚ¡
 
__št32_t
 **
	$__ùy³_touµ”_loc
 ()

86 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡
));

88 
	#__isùy³
(
c
, 
ty³
) \

89 ((*
	`__ùy³_b_loc
 ())[(è(
c
)] & (è
ty³
)

	)

91 
	#__i§scii
(
c
è(((cè& ~0x7fè=ğ0è

	)

92 
	#__tßscii
(
c
è((cè& 0x7fè

	)

94 
	#__exùy³
(
Çme
è
	`Çme
 (è
__THROW


	)

96 
__BEGIN_NAMESPACE_STD


102 
	`__exùy³
 (
i§Êum
);

103 
	`__exùy³
 (
i§Íha
);

104 
	`__exùy³
 (
isúŒl
);

105 
	`__exùy³
 (
isdig™
);

106 
	`__exùy³
 (
i¦ow”
);

107 
	`__exùy³
 (
isg¿ph
);

108 
	`__exùy³
 (
i¥ršt
);

109 
	`__exùy³
 (
i¥unù
);

110 
	`__exùy³
 (
is¥aû
);

111 
	`__exùy³
 (
isuµ”
);

112 
	`__exùy³
 (
isxdig™
);

116 
	$tŞow”
 (
__c
è
__THROW
;

119 
	$touµ”
 (
__c
è
__THROW
;

121 
__END_NAMESPACE_STD


125 #ifdef 
__USE_ISOC99


126 
__BEGIN_NAMESPACE_C99


128 
	`__exùy³
 (
isbÏnk
);

130 
__END_NAMESPACE_C99


133 #ifdeà
__USE_GNU


135 
	$isùy³
 (
__c
, 
__mask
è
__THROW
;

138 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN


142 
	$i§scii
 (
__c
è
__THROW
;

146 
	$tßscii
 (
__c
è
__THROW
;

150 
	`__exùy³
 (
_touµ”
);

151 
	`__exùy³
 (
_tŞow”
);

155 
	#__tobody
(
c
, 
f
, 
a
, 
¬gs
) \

156 (
__ex‹nsiÚ__
 \

157 ({ 
__»s
; \

158 ià( (
c
) > 1) \

160 ià(
	`__butš_cÚ¡ªt_p
 (
c
)) \

162 
__c
 = (
c
); \

163 
__»s
 = 
__c
 < -128 || __ø> 255 ? __ø: (
a
)[__c]; \

166 
__»s
 = 
f
 
¬gs
; \

169 
__»s
 = (
a
)[(è(
c
)]; \

170 
__»s
; 
	}
}))

	)

172 #ià!
defšed
 
__NO_CTYPE
 && !defšed 
__ılu¥lus


173 
	#i§Êum
(
c
è
	`__isùy³
((c), 
_IS®num
)

	)

174 
	#i§Íha
(
c
è
	`__isùy³
((c), 
_IS®pha
)

	)

175 
	#isúŒl
(
c
è
	`__isùy³
((c), 
_ISúŒl
)

	)

176 
	#isdig™
(
c
è
	`__isùy³
((c), 
_ISdig™
)

	)

177 
	#i¦ow”
(
c
è
	`__isùy³
((c), 
_ISlow”
)

	)

178 
	#isg¿ph
(
c
è
	`__isùy³
((c), 
_ISg¿ph
)

	)

179 
	#i¥ršt
(
c
è
	`__isùy³
((c), 
_IS´št
)

	)

180 
	#i¥unù
(
c
è
	`__isùy³
((c), 
_ISpunù
)

	)

181 
	#is¥aû
(
c
è
	`__isùy³
((c), 
_IS¥aû
)

	)

182 
	#isuµ”
(
c
è
	`__isùy³
((c), 
_ISuµ”
)

	)

183 
	#isxdig™
(
c
è
	`__isùy³
((c), 
_ISxdig™
)

	)

185 #ifdeà
__USE_ISOC99


186 
	#isbÏnk
(
c
è
	`__isùy³
((c), 
_ISbÏnk
)

	)

189 #ifdeà
__USE_EXTERN_INLINES


190 
__ex‹º_šlše
 

191 
__NTH
 (
	$tŞow”
 (
__c
))

193  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_tŞow”_loc
 ())[__c] : __c;

194 
	}
}

196 
__ex‹º_šlše
 

197 
__NTH
 (
	$touµ”
 (
__c
))

199  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_touµ”_loc
 ())[__c] : __c;

200 
	}
}

203 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


204 
	#tŞow”
(
c
è
	`__tobody
 (c, 
tŞow”
, *
	`__ùy³_tŞow”_loc
 (), (c))

	)

205 
	#touµ”
(
c
è
	`__tobody
 (c, 
touµ”
, *
	`__ùy³_touµ”_loc
 (), (c))

	)

208 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN


209 
	#i§scii
(
c
è
	`__i§scii
 (c)

	)

210 
	#tßscii
(
c
è
	`__tßscii
 (c)

	)

212 
	#_tŞow”
(
c
è((è(*
	`__ùy³_tŞow”_loc
 ())[(è(c)])

	)

213 
	#_touµ”
(
c
è((è(*
	`__ùy³_touµ”_loc
 ())[(è(c)])

	)

219 #ifdeà
__USE_XOPEN2K8


233 
	~<xloÿË.h
>

237 
	#__isùy³_l
(
c
, 
ty³
, 
loÿË
) \

238 ((
loÿË
)->
__ùy³_b
[(è(
c
)] & (è
ty³
)

	)

240 
	#__exùy³_l
(
Çme
) \

241 
	`Çme
 (, 
__loÿË_t
è
__THROW


	)

247 
__exùy³_l
 (
i§Êum_l
);

248 
__exùy³_l
 (
i§Íha_l
);

249 
__exùy³_l
 (
isúŒl_l
);

250 
__exùy³_l
 (
isdig™_l
);

251 
__exùy³_l
 (
i¦ow”_l
);

252 
__exùy³_l
 (
isg¿ph_l
);

253 
__exùy³_l
 (
i¥ršt_l
);

254 
__exùy³_l
 (
i¥unù_l
);

255 
__exùy³_l
 (
is¥aû_l
);

256 
__exùy³_l
 (
isuµ”_l
);

257 
__exùy³_l
 (
isxdig™_l
);

259 
__exùy³_l
 (
isbÏnk_l
);

263 
	$__tŞow”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

264 
	$tŞow”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

267 
	$__touµ”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

268 
	$touµ”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

270 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


271 
	#__tŞow”_l
(
c
, 
loÿË
) \

272 
	`__tobody
 (
c
, 
__tŞow”_l
, (
loÿË
)->
__ùy³_tŞow”
, (c,†oÿË))

	)

273 
	#__touµ”_l
(
c
, 
loÿË
) \

274 
	`__tobody
 (
c
, 
__touµ”_l
, (
loÿË
)->
__ùy³_touµ”
, (c,†oÿË))

	)

275 
	#tŞow”_l
(
c
, 
loÿË
è
	`__tŞow”_l
 ((c), (loÿË))

	)

276 
	#touµ”_l
(
c
, 
loÿË
è
	`__touµ”_l
 ((c), (loÿË))

	)

280 #iâdeà
__NO_CTYPE


281 
	#__i§Êum_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®num
, (l))

	)

282 
	#__i§Íha_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®pha
, (l))

	)

283 
	#__isúŒl_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISúŒl
, (l))

	)

284 
	#__isdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISdig™
, (l))

	)

285 
	#__i¦ow”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISlow”
, (l))

	)

286 
	#__isg¿ph_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISg¿ph
, (l))

	)

287 
	#__i¥ršt_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS´št
, (l))

	)

288 
	#__i¥unù_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISpunù
, (l))

	)

289 
	#__is¥aû_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS¥aû
, (l))

	)

290 
	#__isuµ”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISuµ”
, (l))

	)

291 
	#__isxdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISxdig™
, (l))

	)

293 
	#__isbÏnk_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISbÏnk
, (l))

	)

295 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC


296 
	#__i§scii_l
(
c
,
l
è(Ö), 
	`__i§scii
 (c))

	)

297 
	#__tßscii_l
(
c
,
l
è(Ö), 
	`__tßscii
 (c))

	)

300 
	#i§Êum_l
(
c
,
l
è
	`__i§Êum_l
 ((c), (l))

	)

301 
	#i§Íha_l
(
c
,
l
è
	`__i§Íha_l
 ((c), (l))

	)

302 
	#isúŒl_l
(
c
,
l
è
	`__isúŒl_l
 ((c), (l))

	)

303 
	#isdig™_l
(
c
,
l
è
	`__isdig™_l
 ((c), (l))

	)

304 
	#i¦ow”_l
(
c
,
l
è
	`__i¦ow”_l
 ((c), (l))

	)

305 
	#isg¿ph_l
(
c
,
l
è
	`__isg¿ph_l
 ((c), (l))

	)

306 
	#i¥ršt_l
(
c
,
l
è
	`__i¥ršt_l
 ((c), (l))

	)

307 
	#i¥unù_l
(
c
,
l
è
	`__i¥unù_l
 ((c), (l))

	)

308 
	#is¥aû_l
(
c
,
l
è
	`__is¥aû_l
 ((c), (l))

	)

309 
	#isuµ”_l
(
c
,
l
è
	`__isuµ”_l
 ((c), (l))

	)

310 
	#isxdig™_l
(
c
,
l
è
	`__isxdig™_l
 ((c), (l))

	)

312 
	#isbÏnk_l
(
c
,
l
è
	`__isbÏnk_l
 ((c), (l))

	)

314 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC


315 
	#i§scii_l
(
c
,
l
è
	`__i§scii_l
 ((c), (l))

	)

316 
	#tßscii_l
(
c
,
l
è
	`__tßscii_l
 ((c), (l))

	)

323 
__END_DECLS


	@/usr/include/endian.h

19 #iâdef 
_ENDIAN_H


20 
	#_ENDIAN_H
 1

	)

22 
	~<ã©u»s.h
>

32 
	#__LITTLE_ENDIAN
 1234

	)

33 
	#__BIG_ENDIAN
 4321

	)

34 
	#__PDP_ENDIAN
 3412

	)

37 
	~<b™s/’dŸn.h
>

41 #iâdeà
__FLOAT_WORD_ORDER


42 
	#__FLOAT_WORD_ORDER
 
__BYTE_ORDER


	)

45 #ifdef 
__USE_BSD


46 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

47 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

48 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

49 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

52 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


53 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èLO, 
	)
HI

54 #–ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


55 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èHI, 
	)
LO

59 #ifdeà
__USE_BSD


61 
	~<b™s/by‹sw­.h
>

63 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


64 
	#htobe16
(
x
è
	`__bsw­_16
 (x)

	)

65 
	#htŞe16
(
x
è(x)

	)

66 
	#be16toh
(
x
è
	`__bsw­_16
 (x)

	)

67 
	#Ë16toh
(
x
è(x)

	)

69 
	#htobe32
(
x
è
	`__bsw­_32
 (x)

	)

70 
	#htŞe32
(
x
è(x)

	)

71 
	#be32toh
(
x
è
	`__bsw­_32
 (x)

	)

72 
	#Ë32toh
(
x
è(x)

	)

74 
	#htobe64
(
x
è
	`__bsw­_64
 (x)

	)

75 
	#htŞe64
(
x
è(x)

	)

76 
	#be64toh
(
x
è
	`__bsw­_64
 (x)

	)

77 
	#Ë64toh
(
x
è(x)

	)

79 
	#htobe16
(
x
è(x)

	)

80 
	#htŞe16
(
x
è
	`__bsw­_16
 (x)

	)

81 
	#be16toh
(
x
è(x)

	)

82 
	#Ë16toh
(
x
è
	`__bsw­_16
 (x)

	)

84 
	#htobe32
(
x
è(x)

	)

85 
	#htŞe32
(
x
è
	`__bsw­_32
 (x)

	)

86 
	#be32toh
(
x
è(x)

	)

87 
	#Ë32toh
(
x
è
	`__bsw­_32
 (x)

	)

89 
	#htobe64
(
x
è(x)

	)

90 
	#htŞe64
(
x
è
	`__bsw­_64
 (x)

	)

91 
	#be64toh
(
x
è(x)

	)

92 
	#Ë64toh
(
x
è
	`__bsw­_64
 (x)

	)

	@/usr/include/gnu/stubs.h

4 
	~<b™s/wÜdsize.h
>

6 #ià
__WORDSIZE
 == 32

7 
	~<gnu/¡ubs-32.h
>

8 #–ià
__WORDSIZE
 == 64

9 
	~<gnu/¡ubs-64.h
>

	@/usr/include/sys/cdefs.h

20 #iâdef 
_SYS_CDEFS_H


21 
	#_SYS_CDEFS_H
 1

	)

24 #iâdeà
_FEATURES_H


25 
	~<ã©u»s.h
>

31 #ià
defšed
 
__GNUC__
 && !defšed 
__STDC__


36 #undeà
__P


37 #undeà
__PMT


39 #ifdeà
__GNUC__


46 #ià!
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (3, 3)

47 
	#__THROW
 
	`__©Œibu‹__
 ((
__nÙhrow__
))

	)

48 
	#__NTH
(
fù
è
	`__©Œibu‹__
 ((
__nÙhrow__
)è
	)
fct

50 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,8)

51 
	#__THROW
 
	`throw
 ()

	)

52 
	#__NTH
(
fù
èfù 
	`throw
 ()

	)

54 
	#__THROW


	)

55 
	#__NTH
(
fù
è
	)
fct

61 
	#__šlše


	)

63 
	#__THROW


	)

64 
	#__NTH
(
fù
è
	)
fct

66 
	#__cÚ¡
 cÚ¡

	)

67 
	#__sigÃd
 sigÃd

	)

68 
	#__vŞ©e
 vŞ©e

	)

74 
	#__P
(
¬gs
è
	)
args

75 
	#__PMT
(
¬gs
è
	)
args

80 
	#__CONCAT
(
x
,
y
èx ## 
	)
y

81 
	#__STRING
(
x
è#x

	)

84 
	#__±r_t
 *

	)

85 
	#__lÚg_doubË_t
 

	)

89 #ifdef 
__ılu¥lus


90 
	#__BEGIN_DECLS
 "C" {

	)

91 
	#__END_DECLS
 }

	)

93 
	#__BEGIN_DECLS


	)

94 
	#__END_DECLS


	)

103 #ià
defšed
 
__ılu¥lus
 && defšed 
_GLIBCPP_USE_NAMESPACES


104 
	#__BEGIN_NAMESPACE_STD
 
Çme¥aû
 
¡d
 {

	)

105 
	#__END_NAMESPACE_STD
 }

	)

106 
	#__USING_NAMESPACE_STD
(
Çme
è
usšg
 
¡d
::Çme;

	)

107 
	#__BEGIN_NAMESPACE_C99
 
Çme¥aû
 
__c99
 {

	)

108 
	#__END_NAMESPACE_C99
 }

	)

109 
	#__USING_NAMESPACE_C99
(
Çme
è
usšg
 
__c99
::Çme;

	)

114 
	#__BEGIN_NAMESPACE_STD


	)

115 
	#__END_NAMESPACE_STD


	)

116 
	#__USING_NAMESPACE_STD
(
Çme
)

	)

117 
	#__BEGIN_NAMESPACE_C99


	)

118 
	#__END_NAMESPACE_C99


	)

119 
	#__USING_NAMESPACE_C99
(
Çme
)

	)

124 #iâdeà
__BOUNDED_POINTERS__


125 
	#__bounded


	)

126 
	#__unbounded


	)

127 
	#__±rv®ue


	)

132 
	#__bos
(
±r
è
	`__butš_objeù_size
 (±r, 
__USE_FORTIFY_LEVEL
 > 1)

	)

133 
	#__bos0
(
±r
è
	`__butš_objeù_size
 (±r, 0)

	)

135 #ià
__GNUC_PREREQ
 (4,3) \

136 || (
defšed
 
	g__GNUC_RH_RELEASE__
 && 
	g__GNUC__
 == 4 \

137 && 
__GNUC_MINOR__
 =ğ1 && 
__GNUC_PATCHLEVEL__
 == 2 \

138 && 
__GNUC_RH_RELEASE__
 >= 31)

139 
	#__w¬ndeş
(
Çme
, 
msg
) \

140 
	`Çme
 (è
	`__©Œibu‹__
((
	`__w¬nšg__
 (
msg
)))

	)

141 
	#__w¬Ç‰r
(
msg
è
	`__©Œibu‹__
((
	`__w¬nšg__
 (msg)))

	)

142 
	#__”rÜdeş
(
Çme
, 
msg
) \

143 
	`Çme
 (è
	`__©Œibu‹__
((
	`__”rÜ__
 (
msg
)))

	)

145 
	#__w¬ndeş
(
Çme
, 
msg
è
	`Çme
 ()

	)

146 
	#__w¬Ç‰r
(
msg
)

	)

147 
	#__”rÜdeş
(
Çme
, 
msg
è
	`Çme
 ()

	)

151 #ià
__GNUC_PREREQ
 (2,97)

153 
	#__æex¬r
 []

	)

155 #ifdeà
__GNUC__


156 
	#__æex¬r
 [0]

	)

158 #ià
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

159 
	#__æex¬r
 []

	)

162 
	#__æex¬r
 [1]

	)

178 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

180 
	#__REDIRECT
(
Çme
, 
´Ùo
, 
®Ÿs
èÇm´ÙØ
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs))

	)

181 #ifdeà
__ılu¥lus


182 
	#__REDIRECT_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
) \

183 
Çme
 
´Ùo
 
__THROW
 
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs))

	)

185 
	#__REDIRECT_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
) \

186 
Çme
 
´Ùo
 
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs)è
__THROW


	)

188 
	#__ASMNAME
(
úame
è
	`__ASMNAME2
 (
__USER_LABEL_PREFIX__
, cÇme)

	)

189 
	#__ASMNAME2
(
´efix
, 
úame
è
	`__STRING
 (´efixè
	)
cname

202 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2

203 
	#__©Œibu‹__
(
xyz
è

	)

209 #ià
__GNUC_PREREQ
 (2,96)

210 
	#__©Œibu‹_m®loc__
 
	`__©Œibu‹__
 ((
__m®loc__
))

	)

212 
	#__©Œibu‹_m®loc__


	)

218 #ià
__GNUC_PREREQ
 (2,96)

219 
	#__©Œibu‹_pu»__
 
	`__©Œibu‹__
 ((
__pu»__
))

	)

221 
	#__©Œibu‹_pu»__


	)

227 #ià
__GNUC_PREREQ
 (3,1)

228 
	#__©Œibu‹_u£d__
 
	`__©Œibu‹__
 ((
__u£d__
))

	)

229 
	#__©Œibu‹_nošlše__
 
	`__©Œibu‹__
 ((
__nošlše__
))

	)

231 
	#__©Œibu‹_u£d__
 
	`__©Œibu‹__
 ((
__unu£d__
))

	)

232 
	#__©Œibu‹_nošlše__


	)

236 #ià
__GNUC_PREREQ
 (3,2)

237 
	#__©Œibu‹_d•»ÿ‹d__
 
	`__©Œibu‹__
 ((
__d•»ÿ‹d__
))

	)

239 
	#__©Œibu‹_d•»ÿ‹d__


	)

248 #ià
__GNUC_PREREQ
 (2,8)

249 
	#__©Œibu‹_fÜm©_¬g__
(
x
è
	`__©Œibu‹__
 ((
	`__fÜm©_¬g__
 (x)))

	)

251 
	#__©Œibu‹_fÜm©_¬g__
(
x
è

	)

258 #ià
__GNUC_PREREQ
 (2,97)

259 
	#__©Œibu‹_fÜm©_¡rfmÚ__
(
a
,
b
) \

260 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__¡rfmÚ__
, 
a
, 
b
)))

	)

262 
	#__©Œibu‹_fÜm©_¡rfmÚ__
(
a
,
b
è

	)

267 #ià
__GNUC_PREREQ
 (3,3)

268 
	#__nÚnuÎ
(
·¿ms
è
	`__©Œibu‹__
 ((
__nÚnuÎ__
…¬ams))

	)

270 
	#__nÚnuÎ
(
·¿ms
)

	)

275 #ià
__GNUC_PREREQ
 (3,4)

276 
	#__©Œibu‹_w¬n_unu£d_»suÉ__
 \

277 
	`__©Œibu‹__
 ((
__w¬n_unu£d_»suÉ__
))

	)

278 #ià
__USE_FORTIFY_LEVEL
 > 0

279 
	#__wur
 
__©Œibu‹_w¬n_unu£d_»suÉ__


	)

282 
	#__©Œibu‹_w¬n_unu£d_»suÉ__


	)

284 #iâdeà
__wur


285 
	#__wur


	)

289 #ià
__GNUC_PREREQ
 (3,2)

290 
	#__®ways_šlše
 
__šlše
 
	`__©Œibu‹__
 ((
__®ways_šlše__
))

	)

292 
	#__®ways_šlše
 
__šlše


	)

297 #ià!
defšed
 
__ılu¥lus
 || 
__GNUC_PREREQ
 (4,3) \

298 || (
defšed
 
__GNUC_RH_RELEASE__
 && 
__GNUC__
 == 4 \

299 && 
__GNUC_MINOR__
 =ğ1 && 
__GNUC_PATCHLEVEL__
 == 2 \

300 && 
__GNUC_RH_RELEASE__
 >= 31)

301 #ià
defšed
 
__GNUC_STDC_INLINE__
 || defšed 
__ılu¥lus


302 
	#__ex‹º_šlše
 
__šlše
 
	`__©Œibu‹__
 ((
__gnu_šlše__
))

	)

303 #ià
__GNUC_PREREQ
 (4,3) \

304 || (
defšed
 
__GNUC_RH_RELEASE__
 && 
__GNUC__
 == 4 \

305 && 
__GNUC_MINOR__
 =ğ1 && 
__GNUC_PATCHLEVEL__
 == 2 \

306 && 
__GNUC_RH_RELEASE__
 >= 31)

307 
	#__ex‹º_®ways_šlše
 \

308 
__®ways_šlše
 
	`__©Œibu‹__
 ((
__gnu_šlše__
, 
__¬tificŸl__
))

	)

310 
	#__ex‹º_®ways_šlše
 \

311 
__®ways_šlše
 
	`__©Œibu‹__
 ((
__gnu_šlše__
))

	)

314 
	#__ex‹º_šlše
 
__šlše


	)

315 #ià
__GNUC_PREREQ
 (4,3)

316 
	#__ex‹º_®ways_šlše
 \

317 
__®ways_šlše
 
	`__©Œibu‹__
 ((
__¬tificŸl__
))

	)

319 
	#__ex‹º_®ways_šlše
 
__®ways_šlše


	)

326 #ià
__GNUC_PREREQ
 (4,3) \

327 || (
defšed
 
__GNUC_RH_RELEASE__
 && 
__GNUC__
 == 4 \

328 && 
__GNUC_MINOR__
 =ğ1 && 
__GNUC_PATCHLEVEL__
 == 2 \

329 && 
__GNUC_RH_RELEASE__
 >= 31)

330 
	#__va_¬g_·ck
(è
	`__butš_va_¬g_·ck
 ()

	)

331 
	#__va_¬g_·ck_Ën
(è
	`__butš_va_¬g_·ck_Ën
 ()

	)

338 #ià!
__GNUC_PREREQ
 (2,8)

339 
	#__ex‹nsiÚ__


	)

343 #ià!
__GNUC_PREREQ
 (2,92)

344 
	#__»¡riù


	)

350 #ià
__GNUC_PREREQ
 (3,1è&& !
defšed
 
__GNUG__


351 
	#__»¡riù_¬r
 
__»¡riù


	)

353 #ifdeà
__GNUC__


354 
	#__»¡riù_¬r


	)

356 #ià
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

357 
	#__»¡riù_¬r
 
»¡riù


	)

360 
	#__»¡riù_¬r


	)

365 
	~<b™s/wÜdsize.h
>

367 #ià
defšed
 
__LONG_DOUBLE_MATH_OPTIONAL
 && defšed 
__NO_LONG_DOUBLE_MATH


368 
	#__LDBL_COMPAT
 1

	)

369 #ifdeà
__REDIRECT


370 
	#__LDBL_REDIR1
(
Çme
, 
´Ùo
, 
®Ÿs
è
	`__REDIRECT
 (Çme,…rÙo,‡lŸs)

	)

371 
	#__LDBL_REDIR
(
Çme
, 
´Ùo
) \

372 
	`__LDBL_REDIR1
 (
Çme
, 
´Ùo
, 
__Ædbl_
##Çme)

	)

373 
	#__LDBL_REDIR1_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
è
	`__REDIRECT_NTH
 (Çme,…rÙo,‡lŸs)

	)

374 
	#__LDBL_REDIR_NTH
(
Çme
, 
´Ùo
) \

375 
	`__LDBL_REDIR1_NTH
 (
Çme
, 
´Ùo
, 
__Ædbl_
##Çme)

	)

376 
	#__LDBL_REDIR1_DECL
(
Çme
, 
®Ÿs
) \

377 
	`__ty³of
 (
Çme
èÇm
	`__asm
 (
	`__ASMNAME
 (#®Ÿs));

	)

378 
	#__LDBL_REDIR_DECL
(
Çme
) \

379 
	`__ty³of
 (
Çme
èÇm
	`__asm
 (
	`__ASMNAME
 ("__Ædbl_" #Çme));

	)

380 
	#__REDIRECT_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

381 
	`__LDBL_REDIR1
 (
Çme
, 
´Ùo
, 
__Ædbl_
##
®Ÿs
)

	)

382 
	#__REDIRECT_NTH_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

383 
	`__LDBL_REDIR1_NTH
 (
Çme
, 
´Ùo
, 
__Ædbl_
##
®Ÿs
)

	)

386 #ià!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT


387 
	#__LDBL_REDIR1
(
Çme
, 
´Ùo
, 
®Ÿs
èÇm
	)
proto

388 
	#__LDBL_REDIR
(
Çme
, 
´Ùo
èÇm
	)
proto

389 
	#__LDBL_REDIR1_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
èÇm´ÙØ
__THROW


	)

390 
	#__LDBL_REDIR_NTH
(
Çme
, 
´Ùo
èÇm´ÙØ
__THROW


	)

391 
	#__LDBL_REDIR_DECL
(
Çme
)

	)

392 #ifdeà
__REDIRECT


393 
	#__REDIRECT_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
è
	`__REDIRECT
 (Çme,…rÙo,‡lŸs)

	)

394 
	#__REDIRECT_NTH_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

395 
	`__REDIRECT_NTH
 (
Çme
, 
´Ùo
, 
®Ÿs
)

	)

	@/usr/include/sys/select.h

22 #iâdeà
_SYS_SELECT_H


23 
	#_SYS_SELECT_H
 1

	)

25 
	~<ã©u»s.h
>

28 
	~<b™s/ty³s.h
>

31 
	~<b™s/£Ëù.h
>

34 
	~<b™s/sig£t.h
>

36 #iâdeà
__sig£t_t_defšed


37 
	#__sig£t_t_defšed


	)

38 
__sig£t_t
 
	tsig£t_t
;

42 
	#__Ãed_time_t


	)

43 
	#__Ãed_time¥ec


	)

44 
	~<time.h
>

45 
	#__Ãed_timev®


	)

46 
	~<b™s/time.h
>

48 #iâdeà
__su£cÚds_t_defšed


49 
__su£cÚds_t
 
	tsu£cÚds_t
;

50 
	#__su£cÚds_t_defšed


	)

55 
	t__fd_mask
;

58 #undeà
__NFDBITS


59 #undeà
__FDELT


60 #undeà
__FDMASK


62 
	#__NFDBITS
 (8 * (è (
__fd_mask
))

	)

63 
	#__FDELT
(
d
è((dè/ 
__NFDBITS
)

	)

64 
	#__FDMASK
(
d
è((
__fd_mask
è1 << ((dè% 
__NFDBITS
))

	)

71 #ifdeà
__USE_XOPEN


72 
__fd_mask
 
	mfds_b™s
[
__FD_SETSIZE
 / 
__NFDBITS
];

73 
	#__FDS_BITS
(
£t
è((£t)->
fds_b™s
)

	)

75 
__fd_mask
 
	m__fds_b™s
[
__FD_SETSIZE
 / 
__NFDBITS
];

76 
	#__FDS_BITS
(
£t
è((£t)->
__fds_b™s
)

	)

78 } 
	tfd_£t
;

81 
	#FD_SETSIZE
 
__FD_SETSIZE


	)

83 #ifdeà
__USE_MISC


85 
__fd_mask
 
	tfd_mask
;

88 
	#NFDBITS
 
__NFDBITS


	)

93 
	#FD_SET
(
fd
, 
fd£
è
	`__FD_SET
 (fd, fd£)

	)

94 
	#FD_CLR
(
fd
, 
fd£
è
	`__FD_CLR
 (fd, fd£)

	)

95 
	#FD_ISSET
(
fd
, 
fd£
è
	`__FD_ISSET
 (fd, fd£)

	)

96 
	#FD_ZERO
(
fd£
è
	`__FD_ZERO
 (fd£)

	)

99 
__BEGIN_DECLS


109 
£Ëù
 (
__nfds
, 
fd_£t
 *
__»¡riù
 
__»adfds
,

110 
fd_£t
 *
__»¡riù
 
__wr™efds
,

111 
fd_£t
 *
__»¡riù
 
__exû±fds
,

112 
timev®
 *
__»¡riù
 
__timeout
);

114 #ifdeà
__USE_XOPEN2K


121 
p£Ëù
 (
__nfds
, 
fd_£t
 *
__»¡riù
 
__»adfds
,

122 
fd_£t
 *
__»¡riù
 
__wr™efds
,

123 
fd_£t
 *
__»¡riù
 
__exû±fds
,

124 cÚ¡ 
time¥ec
 *
__»¡riù
 
__timeout
,

125 cÚ¡ 
__sig£t_t
 *
__»¡riù
 
__sigmask
);

128 
	g__END_DECLS


	@/usr/include/sys/sysmacros.h

21 #iâdeà
_SYS_SYSMACROS_H


22 
	#_SYS_SYSMACROS_H
 1

	)

24 
	~<ã©u»s.h
>

29 #ifdeà
__GLIBC_HAVE_LONG_LONG


30 
__ex‹nsiÚ__


31 
	$gnu_dev_majÜ
 (
__dev
)

32 
__THROW
;

33 
__ex‹nsiÚ__


34 
	$gnu_dev_mšÜ
 (
__dev
)

35 
__THROW
;

36 
__ex‹nsiÚ__


37 
	$gnu_dev_makedev
 (
__majÜ
,

38 
__mšÜ
)

39 
__THROW
;

41 #ià
defšed
 
__GNUC__
 && __GNUC__ >ğ2 && defšed 
__USE_EXTERN_INLINES


42 
__ex‹nsiÚ__
 
__ex‹º_šlše
 

43 
	`__NTH
 (
	$gnu_dev_majÜ
 (
__dev
))

45  ((
__dev
 >> 8) & 0xfff) | (() (__dev >> 32) & ~0xfff);

46 
	}
}

48 
__ex‹nsiÚ__
 
__ex‹º_šlše
 

49 
__NTH
 (
	$gnu_dev_mšÜ
 (
__dev
))

51  (
__dev
 & 0xff) | (() (__dev >> 12) & ~0xff);

52 
	}
}

54 
__ex‹nsiÚ__
 
__ex‹º_šlše
 

55 
__NTH
 (
	$gnu_dev_makedev
 (
__majÜ
, 
__mšÜ
))

57  ((
__mšÜ
 & 0xffè| ((
__majÜ
 & 0xfff) << 8)

58 | (((è(
__mšÜ
 & ~0xff)) << 12)

59 | (((è(
__majÜ
 & ~0xfff)) << 32));

60 
	}
}

65 
	#majÜ
(
dev
è
	`gnu_dev_majÜ
 (dev)

	)

66 
	#mšÜ
(
dev
è
	`gnu_dev_mšÜ
 (dev)

	)

67 
	#makedev
(
maj
, 
mš
è
	`gnu_dev_makedev
 (maj, mš)

	)

	@/usr/include/unistd.h

23 #iâdef 
_UNISTD_H


24 
	#_UNISTD_H
 1

	)

26 
	~<ã©u»s.h
>

28 
	g__BEGIN_DECLS


33 #ifdeà
__USE_XOPEN2K8


35 
	#_POSIX_VERSION
 200809L

	)

36 #–ià
defšed
 
__USE_XOPEN2K


38 
	#_POSIX_VERSION
 200112L

	)

39 #–ià
defšed
 
__USE_POSIX199506


41 
	#_POSIX_VERSION
 199506L

	)

42 #–ià
defšed
 
__USE_POSIX199309


44 
	#_POSIX_VERSION
 199309L

	)

47 
	#_POSIX_VERSION
 199009L

	)

53 #ifdeà
__USE_XOPEN2K8


54 
	#__POSIX2_THIS_VERSION
 200809L

	)

56 #–ià
defšed
 
__USE_XOPEN2K


58 
	#__POSIX2_THIS_VERSION
 200112L

	)

59 #–ià
defšed
 
__USE_POSIX199506


61 
	#__POSIX2_THIS_VERSION
 199506L

	)

64 
	#__POSIX2_THIS_VERSION
 199209L

	)

68 
	#_POSIX2_VERSION
 
__POSIX2_THIS_VERSION


	)

72 
	#_POSIX2_C_BIND
 
__POSIX2_THIS_VERSION


	)

76 
	#_POSIX2_C_DEV
 
__POSIX2_THIS_VERSION


	)

80 
	#_POSIX2_SW_DEV
 
__POSIX2_THIS_VERSION


	)

84 
	#_POSIX2_LOCALEDEF
 
__POSIX2_THIS_VERSION


	)

87 #ifdeà
__USE_XOPEN2K8


88 
	#_XOPEN_VERSION
 700

	)

89 #–ià
defšed
 
__USE_XOPEN2K


90 
	#_XOPEN_VERSION
 600

	)

91 #–ià
defšed
 
__USE_UNIX98


92 
	#_XOPEN_VERSION
 500

	)

94 
	#_XOPEN_VERSION
 4

	)

98 
	#_XOPEN_XCU_VERSION
 4

	)

101 
	#_XOPEN_XPG2
 1

	)

102 
	#_XOPEN_XPG3
 1

	)

103 
	#_XOPEN_XPG4
 1

	)

106 
	#_XOPEN_UNIX
 1

	)

109 
	#_XOPEN_CRYPT
 1

	)

113 
	#_XOPEN_ENH_I18N
 1

	)

116 
	#_XOPEN_LEGACY
 1

	)

203 
	~<b™s/posix_İt.h
>

206 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


207 
	~<b™s/’vœÚm’ts.h
>

211 
	#STDIN_FILENO
 0

	)

212 
	#STDOUT_FILENO
 1

	)

213 
	#STDERR_FILENO
 2

	)

218 
	~<b™s/ty³s.h
>

220 #iâdef 
__ssize_t_defšed


221 
__ssize_t
 
	tssize_t
;

222 
	#__ssize_t_defšed


	)

225 
	#__Ãed_size_t


	)

226 
	#__Ãed_NULL


	)

227 
	~<¡ddef.h
>

229 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K


232 #iâdeà
__gid_t_defšed


233 
__gid_t
 
	tgid_t
;

234 
	#__gid_t_defšed


	)

237 #iâdeà
__uid_t_defšed


238 
__uid_t
 
	tuid_t
;

239 
	#__uid_t_defšed


	)

242 #iâdeà
__off_t_defšed


243 #iâdeà
__USE_FILE_OFFSET64


244 
__off_t
 
	toff_t
;

246 
__off64_t
 
	toff_t
;

248 
	#__off_t_defšed


	)

250 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


251 
__off64_t
 
	toff64_t
;

252 
	#__off64_t_defšed


	)

255 #iâdeà
__u£cÚds_t_defšed


256 
__u£cÚds_t
 
	tu£cÚds_t
;

257 
	#__u£cÚds_t_defšed


	)

260 #iâdeà
__pid_t_defšed


261 
__pid_t
 
	tpid_t
;

262 
	#__pid_t_defšed


	)

266 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


267 #iâdeà
__šŒ_t_defšed


268 
__šŒ_t
 
	tšŒ_t
;

269 
	#__šŒ_t_defšed


	)

273 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN


274 #iâdeà
__sockËn_t_defšed


275 
__sockËn_t
 
	tsockËn_t
;

276 
	#__sockËn_t_defšed


	)

282 
	#R_OK
 4

	)

283 
	#W_OK
 2

	)

284 
	#X_OK
 1

	)

285 
	#F_OK
 0

	)

288 
	$acûss
 (
__cÚ¡
 *
__Çme
, 
__ty³
è
__THROW
 
	`__nÚnuÎ
 ((1));

290 #ifdeà
__USE_GNU


293 
	$euidacûss
 (
__cÚ¡
 *
__Çme
, 
__ty³
)

294 
__THROW
 
	`__nÚnuÎ
 ((1));

297 
	$—cûss
 (
__cÚ¡
 *
__Çme
, 
__ty³
)

298 
__THROW
 
	`__nÚnuÎ
 ((1));

301 #ifdeà
__USE_ATFILE


305 
	$çcûs§t
 (
__fd
, 
__cÚ¡
 *
__fe
, 
__ty³
, 
__æag
)

306 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

311 #iâdef 
_STDIO_H


312 
	#SEEK_SET
 0

	)

313 
	#SEEK_CUR
 1

	)

314 
	#SEEK_END
 2

	)

317 #ià
defšed
 
__USE_BSD
 && !defšed 
L_SET


319 
	#L_SET
 
SEEK_SET


	)

320 
	#L_INCR
 
SEEK_CUR


	)

321 
	#L_XTND
 
SEEK_END


	)

330 #iâdeà
__USE_FILE_OFFSET64


331 
__off_t
 
	$l£ek
 (
__fd
, 
__off_t
 
__off£t
, 
__wh’û
è
__THROW
;

333 #ifdeà
__REDIRECT_NTH


334 
__off64_t
 
	`__REDIRECT_NTH
 (
l£ek
,

335 (
__fd
, 
__off64_t
 
__off£t
, 
__wh’û
),

336 
l£ek64
);

338 
	#l£ek
 
l£ek64


	)

341 #ifdeà
__USE_LARGEFILE64


342 
__off64_t
 
	$l£ek64
 (
__fd
, 
__off64_t
 
__off£t
, 
__wh’û
)

343 
__THROW
;

350 
	`şo£
 (
__fd
);

357 
ssize_t
 
	$»ad
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
è
__wur
;

363 
ssize_t
 
	$wr™e
 (
__fd
, 
__cÚ¡
 *
__buf
, 
size_t
 
__n
è
__wur
;

365 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


366 #iâdeà
__USE_FILE_OFFSET64


373 
ssize_t
 
	$´—d
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

374 
__off_t
 
__off£t
è
__wur
;

381 
ssize_t
 
	$pwr™e
 (
__fd
, 
__cÚ¡
 *
__buf
, 
size_t
 
__n
,

382 
__off_t
 
__off£t
è
__wur
;

384 #ifdeà
__REDIRECT


385 
ssize_t
 
	`__REDIRECT
 (
´—d
, (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

386 
__off64_t
 
__off£t
),

387 
´—d64
è
__wur
;

388 
ssize_t
 
	`__REDIRECT
 (
pwr™e
, (
__fd
, 
__cÚ¡
 *
__buf
,

389 
size_t
 
__nby‹s
, 
__off64_t
 
__off£t
),

390 
pwr™e64
è
__wur
;

392 
	#´—d
 
´—d64


	)

393 
	#pwr™e
 
pwr™e64


	)

397 #ifdeà
__USE_LARGEFILE64


401 
ssize_t
 
	$´—d64
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

402 
__off64_t
 
__off£t
è
__wur
;

405 
ssize_t
 
	$pwr™e64
 (
__fd
, 
__cÚ¡
 *
__buf
, 
size_t
 
__n
,

406 
__off64_t
 
__off£t
è
__wur
;

414 
	$pe
 (
__pedes
[2]è
__THROW
 
__wur
;

416 #ifdeà
__USE_GNU


419 
	$pe2
 (
__pedes
[2], 
__æags
è
__THROW
 
__wur
;

429 
	$®¬m
 (
__£cÚds
è
__THROW
;

441 
	`¦“p
 (
__£cÚds
);

443 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

444 || 
defšed
 
__USE_BSD


449 
__u£cÚds_t
 
	$u®¬m
 (
__u£cÚds_t
 
__v®ue
, __u£cÚds_ˆ
__š‹rv®
)

450 
__THROW
;

457 
	`u¦“p
 (
__u£cÚds_t
 
__u£cÚds
);

466 
	`·u£
 ();

470 
	$chown
 (
__cÚ¡
 *
__fe
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
)

471 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

473 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


475 
	$fchown
 (
__fd
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
è
__THROW
 
__wur
;

480 
	$lchown
 (
__cÚ¡
 *
__fe
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
)

481 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

485 #ifdeà
__USE_ATFILE


488 
	$fchowÇt
 (
__fd
, 
__cÚ¡
 *
__fe
, 
__uid_t
 
__owÃr
,

489 
__gid_t
 
__group
, 
__æag
)

490 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

494 
	$chdœ
 (
__cÚ¡
 *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

496 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


498 
	$fchdœ
 (
__fd
è
__THROW
 
__wur
;

508 *
	$g‘cwd
 (*
__buf
, 
size_t
 
__size
è
__THROW
 
__wur
;

510 #ifdef 
__USE_GNU


514 *
	$g‘_cu¼’t_dœ_Çme
 (è
__THROW
;

517 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

518 || 
defšed
 
__USE_BSD


522 *
	$g‘wd
 (*
__buf
)

523 
__THROW
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
 
__wur
;

528 
	$dup
 (
__fd
è
__THROW
 
__wur
;

531 
	$dup2
 (
__fd
, 
__fd2
è
__THROW
;

533 #ifdeà
__USE_GNU


536 
	$dup3
 (
__fd
, 
__fd2
, 
__æags
è
__THROW
;

540 **
__’vœÚ
;

541 #ifdeà
__USE_GNU


542 **
’vœÚ
;

548 
	$execve
 (
__cÚ¡
 *
__·th
, *__cÚ¡ 
__¬gv
[],

549 *
__cÚ¡
 
__’vp
[]è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

551 #ifdeà
__USE_XOPEN2K8


554 
	$ãxecve
 (
__fd
, *
__cÚ¡
 
__¬gv
[], *__cÚ¡ 
__’vp
[])

555 
__THROW
 
	`__nÚnuÎ
 ((2));

560 
	$execv
 (
__cÚ¡
 *
__·th
, *__cÚ¡ 
__¬gv
[])

561 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

565 
	$exeşe
 (
__cÚ¡
 *
__·th
, __cÚ¡ *
__¬g
, ...)

566 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

570 
	$exeş
 (
__cÚ¡
 *
__·th
, __cÚ¡ *
__¬g
, ...)

571 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

575 
	$execvp
 (
__cÚ¡
 *
__fe
, *__cÚ¡ 
__¬gv
[])

576 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

581 
	$exeşp
 (
__cÚ¡
 *
__fe
, __cÚ¡ *
__¬g
, ...)

582 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

584 #ifdeà
__USE_GNU


587 
	$execv³
 (
__cÚ¡
 *
__fe
, *__cÚ¡ 
__¬gv
[],

588 *
__cÚ¡
 
__’vp
[])

589 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

593 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


595 
	$niû
 (
__šc
è
__THROW
 
__wur
;

600 
	$_ex™
 (
__¡©us
è
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

606 
	~<b™s/cÚâame.h
>

609 
	$·thcÚf
 (
__cÚ¡
 *
__·th
, 
__Çme
)

610 
__THROW
 
	`__nÚnuÎ
 ((1));

613 
	$å©hcÚf
 (
__fd
, 
__Çme
è
__THROW
;

616 
	$syscÚf
 (
__Çme
è
__THROW
;

618 #ifdef 
__USE_POSIX2


620 
size_t
 
	$cÚf¡r
 (
__Çme
, *
__buf
, 
size_t
 
__Ën
è
__THROW
;

625 
__pid_t
 
	$g‘pid
 (è
__THROW
;

628 
__pid_t
 
	$g‘µid
 (è
__THROW
;

632 #iâdeà
__FAVOR_BSD


633 
__pid_t
 
	$g‘pg½
 (è
__THROW
;

635 #ifdeà
__REDIRECT_NTH


636 
__pid_t
 
	`__REDIRECT_NTH
 (
g‘pg½
, (__pid_ˆ
__pid
), 
__g‘pgid
);

638 
	#g‘pg½
 
__g‘pgid


	)

643 
__pid_t
 
	$__g‘pgid
 (
__pid_t
 
__pid
è
__THROW
;

644 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


645 
__pid_t
 
	$g‘pgid
 (
__pid_t
 
__pid
è
__THROW
;

652 
	$£gid
 (
__pid_t
 
__pid
, __pid_ˆ
__pgid
è
__THROW
;

654 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


665 #iâdeà
__FAVOR_BSD


669 
	$£g½
 (è
__THROW
;

674 #ifdeà
__REDIRECT_NTH


675 
	`__REDIRECT_NTH
 (
£g½
, (
__pid_t
 
__pid
, __pid_ˆ
__pg½
), 
£gid
);

677 
	#£g½
 
£gid


	)

686 
__pid_t
 
	$£tsid
 (è
__THROW
;

688 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


690 
__pid_t
 
	$g‘sid
 (
__pid_t
 
__pid
è
__THROW
;

694 
__uid_t
 
	$g‘uid
 (è
__THROW
;

697 
__uid_t
 
	$g‘euid
 (è
__THROW
;

700 
__gid_t
 
	$g‘gid
 (è
__THROW
;

703 
__gid_t
 
	$g‘egid
 (è
__THROW
;

708 
	$g‘groups
 (
__size
, 
__gid_t
 
__li¡
[]è
__THROW
 
__wur
;

710 #ifdef 
__USE_GNU


712 
	$group_memb”
 (
__gid_t
 
__gid
è
__THROW
;

719 
	$£tuid
 (
__uid_t
 
__uid
è
__THROW
;

721 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


724 
	$£Œeuid
 (
__uid_t
 
__ruid
, __uid_ˆ
__euid
è
__THROW
;

727 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN2K


729 
	$£‹uid
 (
__uid_t
 
__uid
è
__THROW
;

736 
	$£tgid
 (
__gid_t
 
__gid
è
__THROW
;

738 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


741 
	$£Œegid
 (
__gid_t
 
__rgid
, __gid_ˆ
__egid
è
__THROW
;

744 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN2K


746 
	$£‹gid
 (
__gid_t
 
__gid
è
__THROW
;

749 #ifdeà
__USE_GNU


752 
	$g‘»suid
 (
__uid_t
 *
__ruid
, __uid_ˆ*
__euid
, __uid_ˆ*
__suid
)

753 
__THROW
;

757 
	$g‘»sgid
 (
__gid_t
 *
__rgid
, __gid_ˆ*
__egid
, __gid_ˆ*
__sgid
)

758 
__THROW
;

762 
	$£Œesuid
 (
__uid_t
 
__ruid
, __uid_ˆ
__euid
, __uid_ˆ
__suid
)

763 
__THROW
;

767 
	$£Œesgid
 (
__gid_t
 
__rgid
, __gid_ˆ
__egid
, __gid_ˆ
__sgid
)

768 
__THROW
;

775 
__pid_t
 
	$fÜk
 (è
__THROW
;

777 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

778 || 
defšed
 
__USE_BSD


783 
__pid_t
 
	$vfÜk
 (è
__THROW
;

789 *
	$‰yÇme
 (
__fd
è
__THROW
;

793 
	$‰yÇme_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

794 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

798 
	$i§‰y
 (
__fd
è
__THROW
;

800 #ià
defšed
 
__USE_BSD
 \

801 || (
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_UNIX98
)

804 
	$‰y¦Ù
 (è
__THROW
;

809 
	$lšk
 (
__cÚ¡
 *
__äom
, __cÚ¡ *
__to
)

810 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

812 #ifdeà
__USE_ATFILE


815 
	$lšk©
 (
__äomfd
, 
__cÚ¡
 *
__äom
, 
__tofd
,

816 
__cÚ¡
 *
__to
, 
__æags
)

817 
__THROW
 
	`__nÚnuÎ
 ((2, 4)è
__wur
;

820 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


822 
	$symlšk
 (
__cÚ¡
 *
__äom
, __cÚ¡ *
__to
)

823 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

828 
ssize_t
 
	$»adlšk
 (
__cÚ¡
 *
__»¡riù
 
__·th
,

829 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

830 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

833 #ifdeà
__USE_ATFILE


835 
	$symlšk©
 (
__cÚ¡
 *
__äom
, 
__tofd
,

836 
__cÚ¡
 *
__to
è
__THROW
 
	`__nÚnuÎ
 ((1, 3)è
__wur
;

839 
ssize_t
 
	$»adlšk©
 (
__fd
, 
__cÚ¡
 *
__»¡riù
 
__·th
,

840 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

841 
__THROW
 
	`__nÚnuÎ
 ((2, 3)è
__wur
;

845 
	$uÆšk
 (
__cÚ¡
 *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

847 #ifdeà
__USE_ATFILE


849 
	$uÆšk©
 (
__fd
, 
__cÚ¡
 *
__Çme
, 
__æag
)

850 
__THROW
 
	`__nÚnuÎ
 ((2));

854 
	$rmdœ
 (
__cÚ¡
 *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1));

858 
__pid_t
 
	$tcg‘pg½
 (
__fd
è
__THROW
;

861 
	$tc£g½
 (
__fd
, 
__pid_t
 
__pg½_id
è
__THROW
;

868 *
	`g‘logš
 ();

869 #ià
defšed
 
__USE_REENTRANT
 || defšed 
__USE_POSIX199506


876 
	$g‘logš_r
 (*
__Çme
, 
size_t
 
__Çme_Ën
è
	`__nÚnuÎ
 ((1));

879 #ifdef 
__USE_BSD


881 
	$£ogš
 (
__cÚ¡
 *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

885 #ifdef 
__USE_POSIX2


889 
	#__Ãed_g‘İt


	)

890 
	~<g‘İt.h
>

894 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


898 
	$g‘ho¡Çme
 (*
__Çme
, 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((1));

902 #ià
defšed
 
__USE_BSD
 || (defšed 
__USE_XOPEN
 && !defšed 
__USE_UNIX98
)

905 
	$£tho¡Çme
 (
__cÚ¡
 *
__Çme
, 
size_t
 
__Ën
)

906 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

910 
	$£tho¡id
 (
__id
è
__THROW
 
__wur
;

916 
	$g‘domašÇme
 (*
__Çme
, 
size_t
 
__Ën
)

917 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

918 
	$£tdomašÇme
 (
__cÚ¡
 *
__Çme
, 
size_t
 
__Ën
)

919 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

925 
	$vhªgup
 (è
__THROW
;

928 
	$»voke
 (
__cÚ¡
 *
__fe
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

936 
	$´of
 (*
__§m¶e_bufãr
, 
size_t
 
__size
,

937 
size_t
 
__off£t
, 
__sÿË
)

938 
__THROW
 
	`__nÚnuÎ
 ((1));

944 
	$acù
 (
__cÚ¡
 *
__Çme
è
__THROW
;

948 *
	$g‘u£rsh–l
 (è
__THROW
;

949 
	$’du£rsh–l
 (è
__THROW
;

950 
	$£tu£rsh–l
 (è
__THROW
;

956 
	$d«mÚ
 (
__nochdœ
, 
__noşo£
è
__THROW
 
__wur
;

960 #ià
defšed
 
__USE_BSD
 || (defšed 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

963 
	$chroÙ
 (
__cÚ¡
 *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

967 *
	$g‘·ss
 (
__cÚ¡
 *
__´om±
è
	`__nÚnuÎ
 ((1));

971 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K


976 
	`fsync
 (
__fd
);

980 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


983 
	`g‘ho¡id
 ();

986 
	$sync
 (è
__THROW
;

989 #ià
defšed
 
__USE_BSD
 || !defšed 
__USE_XOPEN2K


992 
	$g‘·gesize
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

997 
	$g‘dbËsize
 (è
__THROW
;

1003 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


1006 #iâdeà
__USE_FILE_OFFSET64


1007 
	$Œunÿ‹
 (
__cÚ¡
 *
__fe
, 
__off_t
 
__Ëngth
)

1008 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

1010 #ifdeà
__REDIRECT_NTH


1011 
	`__REDIRECT_NTH
 (
Œunÿ‹
,

1012 (
__cÚ¡
 *
__fe
, 
__off64_t
 
__Ëngth
),

1013 
Œunÿ‹64
è
	`__nÚnuÎ
 ((1)è
__wur
;

1015 
	#Œunÿ‹
 
Œunÿ‹64


	)

1018 #ifdeà
__USE_LARGEFILE64


1019 
	$Œunÿ‹64
 (
__cÚ¡
 *
__fe
, 
__off64_t
 
__Ëngth
)

1020 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

1025 #iâdeà
__USE_FILE_OFFSET64


1026 
	$árunÿ‹
 (
__fd
, 
__off_t
 
__Ëngth
è
__THROW
 
__wur
;

1028 #ifdeà
__REDIRECT_NTH


1029 
	`__REDIRECT_NTH
 (
árunÿ‹
, (
__fd
, 
__off64_t
 
__Ëngth
),

1030 
árunÿ‹64
è
__wur
;

1032 
	#árunÿ‹
 
árunÿ‹64


	)

1035 #ifdeà
__USE_LARGEFILE64


1036 
	$árunÿ‹64
 (
__fd
, 
__off64_t
 
__Ëngth
è
__THROW
 
__wur
;

1042 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

1043 || 
defšed
 
__USE_MISC


1047 
	$brk
 (*
__addr
è
__THROW
 
__wur
;

1053 *
	$sbrk
 (
šŒ_t
 
__d–
è
__THROW
;

1057 #ifdeà
__USE_MISC


1068 
	$sysÿÎ
 (
__sy¢o
, ...è
__THROW
;

1073 #ià(
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
è&& !defšed 
F_LOCK


1085 
	#F_ULOCK
 0

	)

1086 
	#F_LOCK
 1

	)

1087 
	#F_TLOCK
 2

	)

1088 
	#F_TEST
 3

	)

1090 #iâdeà
__USE_FILE_OFFSET64


1091 
	$lockf
 (
__fd
, 
__cmd
, 
__off_t
 
__Ën
è
__wur
;

1093 #ifdeà
__REDIRECT


1094 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
),

1095 
lockf64
è
__wur
;

1097 
	#lockf
 
lockf64


	)

1100 #ifdeà
__USE_LARGEFILE64


1101 
	$lockf64
 (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
è
__wur
;

1106 #ifdeà
__USE_GNU


1111 
	#TEMP_FAILURE_RETRY
(
ex´essiÚ
) \

1112 (
__ex‹nsiÚ__
 \

1113 ({ 
__»suÉ
; \

1114 dØ
__»suÉ
 = (è(
ex´essiÚ
); \

1115 
__»suÉ
 =ğ-1L && 
”ºo
 =ğ
EINTR
); \

1116 
__»suÉ
; 
	}
}))

	)

1119 #ià
defšed
 
__USE_POSIX199309
 || defšed 
__USE_UNIX98


1122 
fd©async
 (
__fdes
);

1128 #ifdef 
__USE_XOPEN


1130 *
	$üy±
 (
__cÚ¡
 *
__key
, __cÚ¡ *
__§É
)

1131 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1135 
	$’üy±
 (*
__block
, 
__edæag
è
__THROW
 
	`__nÚnuÎ
 ((1));

1142 
	$swab
 (
__cÚ¡
 *
__»¡riù
 
__äom
, *__»¡riù 
__to
,

1143 
ssize_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1149 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


1151 *
	$ù”mid
 (*
__s
è
__THROW
;

1156 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__ex‹º_®ways_šlše


1157 
	~<b™s/uni¡d.h
>

1160 
__END_DECLS


	@/usr/include/bits/byteswap.h

21 #ià!
defšed
 
_BYTESWAP_H
 && !defšed 
_NETINET_IN_H
 && !defšed 
_ENDIAN_H


25 #iâdeà
_BITS_BYTESWAP_H


26 
	#_BITS_BYTESWAP_H
 1

	)

28 
	~<b™s/wÜdsize.h
>

31 
	#__bsw­_cÚ¡ªt_16
(
x
) \

32 ((è((((
x
è>> 8è& 0xffè| (((xè& 0xffè<< 8)))

	)

34 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

35 
	#__bsw­_16
(
x
) \

36 (
__ex‹nsiÚ__
 \

37 ({ 
__v
, 
__x
 = (è(
x
); \

38 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

39 
__v
 = 
	`__bsw­_cÚ¡ªt_16
 (
__x
); \

41 
	`__asm__
 ("rorw $8, %w0" \

42 : "ô" (
__v
) \

43 : "0" (
__x
) \

45 
__v
; }))

	)

48 
	#__bsw­_16
(
x
) \

49 (
__ex‹nsiÚ__
 \

50 ({ 
__x
 = (è(
x
); \

51 
	`__bsw­_cÚ¡ªt_16
 (
__x
); }))

	)

56 
	#__bsw­_cÚ¡ªt_32
(
x
) \

57 ((((
x
) & 0xff000000) >> 24) | (((x) & 0x00ff0000) >> 8) | \

58 (((
x
è& 0x0000ff00è<< 8è| (((xè& 0x000000ffè<< 24))

	)

60 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

61 #ià
__WORDSIZE
 =ğ64 || (
defšed
 
__i486__
 || defšed 
__³Áium__
 \

62 || 
defšed
 
	g__³Áium´o__
 || defšed 
	g__³Áium4__
 \

63 || 
defšed
 
	g__k8__
 || defšed 
	g__©hlÚ__
 \

64 || 
defšed
 
	g__k6__
 || defšed 
	g__nocÚa__
 \

65 || 
defšed
 
	g__cÜe2__
 || defšed 
	g__geode__
 \

66 || 
defšed
 
	g__amdçm10__
)

69 
	#__bsw­_32
(
x
) \

70 (
__ex‹nsiÚ__
 \

71 ({ 
__v
, 
__x
 = (
x
); \

72 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

73 
__v
 = 
	`__bsw­_cÚ¡ªt_32
 (
__x
); \

75 
	`__asm__
 ("bsw­ %0" : "ô" (
__v
è: "0" (
__x
)); \

76 
__v
; }))

	)

78 
	#__bsw­_32
(
x
) \

79 (
__ex‹nsiÚ__
 \

80 ({ 
__v
, 
__x
 = (
x
); \

81 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

82 
__v
 = 
	`__bsw­_cÚ¡ªt_32
 (
__x
); \

84 
	`__asm__
 ("rorw $8, %w0;" \

87 : "ô" (
__v
) \

88 : "0" (
__x
) \

90 
__v
; }))

	)

93 
	#__bsw­_32
(
x
) \

94 (
__ex‹nsiÚ__
 \

95 ({ 
__x
 = (
x
); 
	`__bsw­_cÚ¡ªt_32
 (__x); }))

	)

99 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

101 
	#__bsw­_cÚ¡ªt_64
(
x
) \

102 ((((
x
) & 0xff00000000000000ull) >> 56) \

103 | (((
x
) & 0x00ff000000000000ull) >> 40) \

104 | (((
x
) & 0x0000ff0000000000ull) >> 24) \

105 | (((
x
) & 0x000000ff00000000ull) >> 8) \

106 | (((
x
) & 0x00000000ff000000ull) << 8) \

107 | (((
x
) & 0x0000000000ff0000ull) << 24) \

108 | (((
x
) & 0x000000000000ff00ull) << 40) \

109 | (((
x
è& 0x00000000000000ffuÎè<< 56))

	)

111 #ià
__WORDSIZE
 == 64

112 
	#__bsw­_64
(
x
) \

113 (
__ex‹nsiÚ__
 \

114 ({ 
__v
, 
__x
 = (
x
); \

115 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

116 
__v
 = 
	`__bsw­_cÚ¡ªt_64
 (
__x
); \

118 
	`__asm__
 ("bsw­ %q0" : "ô" (
__v
è: "0" (
__x
)); \

119 
__v
; }))

	)

121 
	#__bsw­_64
(
x
) \

122 (
__ex‹nsiÚ__
 \

123 ({ uniÚ { 
__ex‹nsiÚ__
 
__Î
; \

124 
__l
[2]; } 
__w
, 
__r
; \

125 ià(
	`__butš_cÚ¡ªt_p
 (
x
)) \

126 
__r
.
__Î
 = 
	`__bsw­_cÚ¡ªt_64
 (
x
); \

129 
__w
.
__Î
 = (
x
); \

130 
__r
.
__l
[0] = 
	`__bsw­_32
 (
__w
.__l[1]); \

131 
__r
.
__l
[1] = 
	`__bsw­_32
 (
__w
.__l[0]); \

133 
__r
.
__Î
; }))

	)

	@/usr/include/bits/confname.h

21 #iâdeà
_UNISTD_H


28 
	m_PC_LINK_MAX
,

29 
	#_PC_LINK_MAX
 
_PC_LINK_MAX


	)

30 
	m_PC_MAX_CANON
,

31 
	#_PC_MAX_CANON
 
_PC_MAX_CANON


	)

32 
	m_PC_MAX_INPUT
,

33 
	#_PC_MAX_INPUT
 
_PC_MAX_INPUT


	)

34 
	m_PC_NAME_MAX
,

35 
	#_PC_NAME_MAX
 
_PC_NAME_MAX


	)

36 
	m_PC_PATH_MAX
,

37 
	#_PC_PATH_MAX
 
_PC_PATH_MAX


	)

38 
	m_PC_PIPE_BUF
,

39 
	#_PC_PIPE_BUF
 
_PC_PIPE_BUF


	)

40 
	m_PC_CHOWN_RESTRICTED
,

41 
	#_PC_CHOWN_RESTRICTED
 
_PC_CHOWN_RESTRICTED


	)

42 
	m_PC_NO_TRUNC
,

43 
	#_PC_NO_TRUNC
 
_PC_NO_TRUNC


	)

44 
	m_PC_VDISABLE
,

45 
	#_PC_VDISABLE
 
_PC_VDISABLE


	)

46 
	m_PC_SYNC_IO
,

47 
	#_PC_SYNC_IO
 
_PC_SYNC_IO


	)

48 
	m_PC_ASYNC_IO
,

49 
	#_PC_ASYNC_IO
 
_PC_ASYNC_IO


	)

50 
	m_PC_PRIO_IO
,

51 
	#_PC_PRIO_IO
 
_PC_PRIO_IO


	)

52 
	m_PC_SOCK_MAXBUF
,

53 
	#_PC_SOCK_MAXBUF
 
_PC_SOCK_MAXBUF


	)

54 
	m_PC_FILESIZEBITS
,

55 
	#_PC_FILESIZEBITS
 
_PC_FILESIZEBITS


	)

56 
	m_PC_REC_INCR_XFER_SIZE
,

57 
	#_PC_REC_INCR_XFER_SIZE
 
_PC_REC_INCR_XFER_SIZE


	)

58 
	m_PC_REC_MAX_XFER_SIZE
,

59 
	#_PC_REC_MAX_XFER_SIZE
 
_PC_REC_MAX_XFER_SIZE


	)

60 
	m_PC_REC_MIN_XFER_SIZE
,

61 
	#_PC_REC_MIN_XFER_SIZE
 
_PC_REC_MIN_XFER_SIZE


	)

62 
	m_PC_REC_XFER_ALIGN
,

63 
	#_PC_REC_XFER_ALIGN
 
_PC_REC_XFER_ALIGN


	)

64 
	m_PC_ALLOC_SIZE_MIN
,

65 
	#_PC_ALLOC_SIZE_MIN
 
_PC_ALLOC_SIZE_MIN


	)

66 
	m_PC_SYMLINK_MAX
,

67 
	#_PC_SYMLINK_MAX
 
_PC_SYMLINK_MAX


	)

68 
	m_PC_2_SYMLINKS


69 
	#_PC_2_SYMLINKS
 
_PC_2_SYMLINKS


	)

75 
	m_SC_ARG_MAX
,

76 
	#_SC_ARG_MAX
 
_SC_ARG_MAX


	)

77 
	m_SC_CHILD_MAX
,

78 
	#_SC_CHILD_MAX
 
_SC_CHILD_MAX


	)

79 
	m_SC_CLK_TCK
,

80 
	#_SC_CLK_TCK
 
_SC_CLK_TCK


	)

81 
	m_SC_NGROUPS_MAX
,

82 
	#_SC_NGROUPS_MAX
 
_SC_NGROUPS_MAX


	)

83 
	m_SC_OPEN_MAX
,

84 
	#_SC_OPEN_MAX
 
_SC_OPEN_MAX


	)

85 
	m_SC_STREAM_MAX
,

86 
	#_SC_STREAM_MAX
 
_SC_STREAM_MAX


	)

87 
	m_SC_TZNAME_MAX
,

88 
	#_SC_TZNAME_MAX
 
_SC_TZNAME_MAX


	)

89 
	m_SC_JOB_CONTROL
,

90 
	#_SC_JOB_CONTROL
 
_SC_JOB_CONTROL


	)

91 
	m_SC_SAVED_IDS
,

92 
	#_SC_SAVED_IDS
 
_SC_SAVED_IDS


	)

93 
	m_SC_REALTIME_SIGNALS
,

94 
	#_SC_REALTIME_SIGNALS
 
_SC_REALTIME_SIGNALS


	)

95 
	m_SC_PRIORITY_SCHEDULING
,

96 
	#_SC_PRIORITY_SCHEDULING
 
_SC_PRIORITY_SCHEDULING


	)

97 
	m_SC_TIMERS
,

98 
	#_SC_TIMERS
 
_SC_TIMERS


	)

99 
	m_SC_ASYNCHRONOUS_IO
,

100 
	#_SC_ASYNCHRONOUS_IO
 
_SC_ASYNCHRONOUS_IO


	)

101 
	m_SC_PRIORITIZED_IO
,

102 
	#_SC_PRIORITIZED_IO
 
_SC_PRIORITIZED_IO


	)

103 
	m_SC_SYNCHRONIZED_IO
,

104 
	#_SC_SYNCHRONIZED_IO
 
_SC_SYNCHRONIZED_IO


	)

105 
	m_SC_FSYNC
,

106 
	#_SC_FSYNC
 
_SC_FSYNC


	)

107 
	m_SC_MAPPED_FILES
,

108 
	#_SC_MAPPED_FILES
 
_SC_MAPPED_FILES


	)

109 
	m_SC_MEMLOCK
,

110 
	#_SC_MEMLOCK
 
_SC_MEMLOCK


	)

111 
	m_SC_MEMLOCK_RANGE
,

112 
	#_SC_MEMLOCK_RANGE
 
_SC_MEMLOCK_RANGE


	)

113 
	m_SC_MEMORY_PROTECTION
,

114 
	#_SC_MEMORY_PROTECTION
 
_SC_MEMORY_PROTECTION


	)

115 
	m_SC_MESSAGE_PASSING
,

116 
	#_SC_MESSAGE_PASSING
 
_SC_MESSAGE_PASSING


	)

117 
	m_SC_SEMAPHORES
,

118 
	#_SC_SEMAPHORES
 
_SC_SEMAPHORES


	)

119 
	m_SC_SHARED_MEMORY_OBJECTS
,

120 
	#_SC_SHARED_MEMORY_OBJECTS
 
_SC_SHARED_MEMORY_OBJECTS


	)

121 
	m_SC_AIO_LISTIO_MAX
,

122 
	#_SC_AIO_LISTIO_MAX
 
_SC_AIO_LISTIO_MAX


	)

123 
	m_SC_AIO_MAX
,

124 
	#_SC_AIO_MAX
 
_SC_AIO_MAX


	)

125 
	m_SC_AIO_PRIO_DELTA_MAX
,

126 
	#_SC_AIO_PRIO_DELTA_MAX
 
_SC_AIO_PRIO_DELTA_MAX


	)

127 
	m_SC_DELAYTIMER_MAX
,

128 
	#_SC_DELAYTIMER_MAX
 
_SC_DELAYTIMER_MAX


	)

129 
	m_SC_MQ_OPEN_MAX
,

130 
	#_SC_MQ_OPEN_MAX
 
_SC_MQ_OPEN_MAX


	)

131 
	m_SC_MQ_PRIO_MAX
,

132 
	#_SC_MQ_PRIO_MAX
 
_SC_MQ_PRIO_MAX


	)

133 
	m_SC_VERSION
,

134 
	#_SC_VERSION
 
_SC_VERSION


	)

135 
	m_SC_PAGESIZE
,

136 
	#_SC_PAGESIZE
 
_SC_PAGESIZE


	)

137 
	#_SC_PAGE_SIZE
 
_SC_PAGESIZE


	)

138 
	m_SC_RTSIG_MAX
,

139 
	#_SC_RTSIG_MAX
 
_SC_RTSIG_MAX


	)

140 
	m_SC_SEM_NSEMS_MAX
,

141 
	#_SC_SEM_NSEMS_MAX
 
_SC_SEM_NSEMS_MAX


	)

142 
	m_SC_SEM_VALUE_MAX
,

143 
	#_SC_SEM_VALUE_MAX
 
_SC_SEM_VALUE_MAX


	)

144 
	m_SC_SIGQUEUE_MAX
,

145 
	#_SC_SIGQUEUE_MAX
 
_SC_SIGQUEUE_MAX


	)

146 
	m_SC_TIMER_MAX
,

147 
	#_SC_TIMER_MAX
 
_SC_TIMER_MAX


	)

151 
	m_SC_BC_BASE_MAX
,

152 
	#_SC_BC_BASE_MAX
 
_SC_BC_BASE_MAX


	)

153 
	m_SC_BC_DIM_MAX
,

154 
	#_SC_BC_DIM_MAX
 
_SC_BC_DIM_MAX


	)

155 
	m_SC_BC_SCALE_MAX
,

156 
	#_SC_BC_SCALE_MAX
 
_SC_BC_SCALE_MAX


	)

157 
	m_SC_BC_STRING_MAX
,

158 
	#_SC_BC_STRING_MAX
 
_SC_BC_STRING_MAX


	)

159 
	m_SC_COLL_WEIGHTS_MAX
,

160 
	#_SC_COLL_WEIGHTS_MAX
 
_SC_COLL_WEIGHTS_MAX


	)

161 
	m_SC_EQUIV_CLASS_MAX
,

162 
	#_SC_EQUIV_CLASS_MAX
 
_SC_EQUIV_CLASS_MAX


	)

163 
	m_SC_EXPR_NEST_MAX
,

164 
	#_SC_EXPR_NEST_MAX
 
_SC_EXPR_NEST_MAX


	)

165 
	m_SC_LINE_MAX
,

166 
	#_SC_LINE_MAX
 
_SC_LINE_MAX


	)

167 
	m_SC_RE_DUP_MAX
,

168 
	#_SC_RE_DUP_MAX
 
_SC_RE_DUP_MAX


	)

169 
	m_SC_CHARCLASS_NAME_MAX
,

170 
	#_SC_CHARCLASS_NAME_MAX
 
_SC_CHARCLASS_NAME_MAX


	)

172 
	m_SC_2_VERSION
,

173 
	#_SC_2_VERSION
 
_SC_2_VERSION


	)

174 
	m_SC_2_C_BIND
,

175 
	#_SC_2_C_BIND
 
_SC_2_C_BIND


	)

176 
	m_SC_2_C_DEV
,

177 
	#_SC_2_C_DEV
 
_SC_2_C_DEV


	)

178 
	m_SC_2_FORT_DEV
,

179 
	#_SC_2_FORT_DEV
 
_SC_2_FORT_DEV


	)

180 
	m_SC_2_FORT_RUN
,

181 
	#_SC_2_FORT_RUN
 
_SC_2_FORT_RUN


	)

182 
	m_SC_2_SW_DEV
,

183 
	#_SC_2_SW_DEV
 
_SC_2_SW_DEV


	)

184 
	m_SC_2_LOCALEDEF
,

185 
	#_SC_2_LOCALEDEF
 
_SC_2_LOCALEDEF


	)

187 
	m_SC_PII
,

188 
	#_SC_PII
 
_SC_PII


	)

189 
	m_SC_PII_XTI
,

190 
	#_SC_PII_XTI
 
_SC_PII_XTI


	)

191 
	m_SC_PII_SOCKET
,

192 
	#_SC_PII_SOCKET
 
_SC_PII_SOCKET


	)

193 
	m_SC_PII_INTERNET
,

194 
	#_SC_PII_INTERNET
 
_SC_PII_INTERNET


	)

195 
	m_SC_PII_OSI
,

196 
	#_SC_PII_OSI
 
_SC_PII_OSI


	)

197 
	m_SC_POLL
,

198 
	#_SC_POLL
 
_SC_POLL


	)

199 
	m_SC_SELECT
,

200 
	#_SC_SELECT
 
_SC_SELECT


	)

201 
	m_SC_UIO_MAXIOV
,

202 
	#_SC_UIO_MAXIOV
 
_SC_UIO_MAXIOV


	)

203 
	m_SC_IOV_MAX
 = 
_SC_UIO_MAXIOV
,

204 
	#_SC_IOV_MAX
 
_SC_IOV_MAX


	)

205 
	m_SC_PII_INTERNET_STREAM
,

206 
	#_SC_PII_INTERNET_STREAM
 
_SC_PII_INTERNET_STREAM


	)

207 
	m_SC_PII_INTERNET_DGRAM
,

208 
	#_SC_PII_INTERNET_DGRAM
 
_SC_PII_INTERNET_DGRAM


	)

209 
	m_SC_PII_OSI_COTS
,

210 
	#_SC_PII_OSI_COTS
 
_SC_PII_OSI_COTS


	)

211 
	m_SC_PII_OSI_CLTS
,

212 
	#_SC_PII_OSI_CLTS
 
_SC_PII_OSI_CLTS


	)

213 
	m_SC_PII_OSI_M
,

214 
	#_SC_PII_OSI_M
 
_SC_PII_OSI_M


	)

215 
	m_SC_T_IOV_MAX
,

216 
	#_SC_T_IOV_MAX
 
_SC_T_IOV_MAX


	)

219 
	m_SC_THREADS
,

220 
	#_SC_THREADS
 
_SC_THREADS


	)

221 
	m_SC_THREAD_SAFE_FUNCTIONS
,

222 
	#_SC_THREAD_SAFE_FUNCTIONS
 
_SC_THREAD_SAFE_FUNCTIONS


	)

223 
	m_SC_GETGR_R_SIZE_MAX
,

224 
	#_SC_GETGR_R_SIZE_MAX
 
_SC_GETGR_R_SIZE_MAX


	)

225 
	m_SC_GETPW_R_SIZE_MAX
,

226 
	#_SC_GETPW_R_SIZE_MAX
 
_SC_GETPW_R_SIZE_MAX


	)

227 
	m_SC_LOGIN_NAME_MAX
,

228 
	#_SC_LOGIN_NAME_MAX
 
_SC_LOGIN_NAME_MAX


	)

229 
	m_SC_TTY_NAME_MAX
,

230 
	#_SC_TTY_NAME_MAX
 
_SC_TTY_NAME_MAX


	)

231 
	m_SC_THREAD_DESTRUCTOR_ITERATIONS
,

232 
	#_SC_THREAD_DESTRUCTOR_ITERATIONS
 
_SC_THREAD_DESTRUCTOR_ITERATIONS


	)

233 
	m_SC_THREAD_KEYS_MAX
,

234 
	#_SC_THREAD_KEYS_MAX
 
_SC_THREAD_KEYS_MAX


	)

235 
	m_SC_THREAD_STACK_MIN
,

236 
	#_SC_THREAD_STACK_MIN
 
_SC_THREAD_STACK_MIN


	)

237 
	m_SC_THREAD_THREADS_MAX
,

238 
	#_SC_THREAD_THREADS_MAX
 
_SC_THREAD_THREADS_MAX


	)

239 
	m_SC_THREAD_ATTR_STACKADDR
,

240 
	#_SC_THREAD_ATTR_STACKADDR
 
_SC_THREAD_ATTR_STACKADDR


	)

241 
	m_SC_THREAD_ATTR_STACKSIZE
,

242 
	#_SC_THREAD_ATTR_STACKSIZE
 
_SC_THREAD_ATTR_STACKSIZE


	)

243 
	m_SC_THREAD_PRIORITY_SCHEDULING
,

244 
	#_SC_THREAD_PRIORITY_SCHEDULING
 
_SC_THREAD_PRIORITY_SCHEDULING


	)

245 
	m_SC_THREAD_PRIO_INHERIT
,

246 
	#_SC_THREAD_PRIO_INHERIT
 
_SC_THREAD_PRIO_INHERIT


	)

247 
	m_SC_THREAD_PRIO_PROTECT
,

248 
	#_SC_THREAD_PRIO_PROTECT
 
_SC_THREAD_PRIO_PROTECT


	)

249 
	m_SC_THREAD_PROCESS_SHARED
,

250 
	#_SC_THREAD_PROCESS_SHARED
 
_SC_THREAD_PROCESS_SHARED


	)

252 
	m_SC_NPROCESSORS_CONF
,

253 
	#_SC_NPROCESSORS_CONF
 
_SC_NPROCESSORS_CONF


	)

254 
	m_SC_NPROCESSORS_ONLN
,

255 
	#_SC_NPROCESSORS_ONLN
 
_SC_NPROCESSORS_ONLN


	)

256 
	m_SC_PHYS_PAGES
,

257 
	#_SC_PHYS_PAGES
 
_SC_PHYS_PAGES


	)

258 
	m_SC_AVPHYS_PAGES
,

259 
	#_SC_AVPHYS_PAGES
 
_SC_AVPHYS_PAGES


	)

260 
	m_SC_ATEXIT_MAX
,

261 
	#_SC_ATEXIT_MAX
 
_SC_ATEXIT_MAX


	)

262 
	m_SC_PASS_MAX
,

263 
	#_SC_PASS_MAX
 
_SC_PASS_MAX


	)

265 
	m_SC_XOPEN_VERSION
,

266 
	#_SC_XOPEN_VERSION
 
_SC_XOPEN_VERSION


	)

267 
	m_SC_XOPEN_XCU_VERSION
,

268 
	#_SC_XOPEN_XCU_VERSION
 
_SC_XOPEN_XCU_VERSION


	)

269 
	m_SC_XOPEN_UNIX
,

270 
	#_SC_XOPEN_UNIX
 
_SC_XOPEN_UNIX


	)

271 
	m_SC_XOPEN_CRYPT
,

272 
	#_SC_XOPEN_CRYPT
 
_SC_XOPEN_CRYPT


	)

273 
	m_SC_XOPEN_ENH_I18N
,

274 
	#_SC_XOPEN_ENH_I18N
 
_SC_XOPEN_ENH_I18N


	)

275 
	m_SC_XOPEN_SHM
,

276 
	#_SC_XOPEN_SHM
 
_SC_XOPEN_SHM


	)

278 
	m_SC_2_CHAR_TERM
,

279 
	#_SC_2_CHAR_TERM
 
_SC_2_CHAR_TERM


	)

280 
	m_SC_2_C_VERSION
,

281 
	#_SC_2_C_VERSION
 
_SC_2_C_VERSION


	)

282 
	m_SC_2_UPE
,

283 
	#_SC_2_UPE
 
_SC_2_UPE


	)

285 
	m_SC_XOPEN_XPG2
,

286 
	#_SC_XOPEN_XPG2
 
_SC_XOPEN_XPG2


	)

287 
	m_SC_XOPEN_XPG3
,

288 
	#_SC_XOPEN_XPG3
 
_SC_XOPEN_XPG3


	)

289 
	m_SC_XOPEN_XPG4
,

290 
	#_SC_XOPEN_XPG4
 
_SC_XOPEN_XPG4


	)

292 
	m_SC_CHAR_BIT
,

293 
	#_SC_CHAR_BIT
 
_SC_CHAR_BIT


	)

294 
	m_SC_CHAR_MAX
,

295 
	#_SC_CHAR_MAX
 
_SC_CHAR_MAX


	)

296 
	m_SC_CHAR_MIN
,

297 
	#_SC_CHAR_MIN
 
_SC_CHAR_MIN


	)

298 
	m_SC_INT_MAX
,

299 
	#_SC_INT_MAX
 
_SC_INT_MAX


	)

300 
	m_SC_INT_MIN
,

301 
	#_SC_INT_MIN
 
_SC_INT_MIN


	)

302 
	m_SC_LONG_BIT
,

303 
	#_SC_LONG_BIT
 
_SC_LONG_BIT


	)

304 
	m_SC_WORD_BIT
,

305 
	#_SC_WORD_BIT
 
_SC_WORD_BIT


	)

306 
	m_SC_MB_LEN_MAX
,

307 
	#_SC_MB_LEN_MAX
 
_SC_MB_LEN_MAX


	)

308 
	m_SC_NZERO
,

309 
	#_SC_NZERO
 
_SC_NZERO


	)

310 
	m_SC_SSIZE_MAX
,

311 
	#_SC_SSIZE_MAX
 
_SC_SSIZE_MAX


	)

312 
	m_SC_SCHAR_MAX
,

313 
	#_SC_SCHAR_MAX
 
_SC_SCHAR_MAX


	)

314 
	m_SC_SCHAR_MIN
,

315 
	#_SC_SCHAR_MIN
 
_SC_SCHAR_MIN


	)

316 
	m_SC_SHRT_MAX
,

317 
	#_SC_SHRT_MAX
 
_SC_SHRT_MAX


	)

318 
	m_SC_SHRT_MIN
,

319 
	#_SC_SHRT_MIN
 
_SC_SHRT_MIN


	)

320 
	m_SC_UCHAR_MAX
,

321 
	#_SC_UCHAR_MAX
 
_SC_UCHAR_MAX


	)

322 
	m_SC_UINT_MAX
,

323 
	#_SC_UINT_MAX
 
_SC_UINT_MAX


	)

324 
	m_SC_ULONG_MAX
,

325 
	#_SC_ULONG_MAX
 
_SC_ULONG_MAX


	)

326 
	m_SC_USHRT_MAX
,

327 
	#_SC_USHRT_MAX
 
_SC_USHRT_MAX


	)

329 
	m_SC_NL_ARGMAX
,

330 
	#_SC_NL_ARGMAX
 
_SC_NL_ARGMAX


	)

331 
	m_SC_NL_LANGMAX
,

332 
	#_SC_NL_LANGMAX
 
_SC_NL_LANGMAX


	)

333 
	m_SC_NL_MSGMAX
,

334 
	#_SC_NL_MSGMAX
 
_SC_NL_MSGMAX


	)

335 
	m_SC_NL_NMAX
,

336 
	#_SC_NL_NMAX
 
_SC_NL_NMAX


	)

337 
	m_SC_NL_SETMAX
,

338 
	#_SC_NL_SETMAX
 
_SC_NL_SETMAX


	)

339 
	m_SC_NL_TEXTMAX
,

340 
	#_SC_NL_TEXTMAX
 
_SC_NL_TEXTMAX


	)

342 
	m_SC_XBS5_ILP32_OFF32
,

343 
	#_SC_XBS5_ILP32_OFF32
 
_SC_XBS5_ILP32_OFF32


	)

344 
	m_SC_XBS5_ILP32_OFFBIG
,

345 
	#_SC_XBS5_ILP32_OFFBIG
 
_SC_XBS5_ILP32_OFFBIG


	)

346 
	m_SC_XBS5_LP64_OFF64
,

347 
	#_SC_XBS5_LP64_OFF64
 
_SC_XBS5_LP64_OFF64


	)

348 
	m_SC_XBS5_LPBIG_OFFBIG
,

349 
	#_SC_XBS5_LPBIG_OFFBIG
 
_SC_XBS5_LPBIG_OFFBIG


	)

351 
	m_SC_XOPEN_LEGACY
,

352 
	#_SC_XOPEN_LEGACY
 
_SC_XOPEN_LEGACY


	)

353 
	m_SC_XOPEN_REALTIME
,

354 
	#_SC_XOPEN_REALTIME
 
_SC_XOPEN_REALTIME


	)

355 
	m_SC_XOPEN_REALTIME_THREADS
,

356 
	#_SC_XOPEN_REALTIME_THREADS
 
_SC_XOPEN_REALTIME_THREADS


	)

358 
	m_SC_ADVISORY_INFO
,

359 
	#_SC_ADVISORY_INFO
 
_SC_ADVISORY_INFO


	)

360 
	m_SC_BARRIERS
,

361 
	#_SC_BARRIERS
 
_SC_BARRIERS


	)

362 
	m_SC_BASE
,

363 
	#_SC_BASE
 
_SC_BASE


	)

364 
	m_SC_C_LANG_SUPPORT
,

365 
	#_SC_C_LANG_SUPPORT
 
_SC_C_LANG_SUPPORT


	)

366 
	m_SC_C_LANG_SUPPORT_R
,

367 
	#_SC_C_LANG_SUPPORT_R
 
_SC_C_LANG_SUPPORT_R


	)

368 
	m_SC_CLOCK_SELECTION
,

369 
	#_SC_CLOCK_SELECTION
 
_SC_CLOCK_SELECTION


	)

370 
	m_SC_CPUTIME
,

371 
	#_SC_CPUTIME
 
_SC_CPUTIME


	)

372 
	m_SC_THREAD_CPUTIME
,

373 
	#_SC_THREAD_CPUTIME
 
_SC_THREAD_CPUTIME


	)

374 
	m_SC_DEVICE_IO
,

375 
	#_SC_DEVICE_IO
 
_SC_DEVICE_IO


	)

376 
	m_SC_DEVICE_SPECIFIC
,

377 
	#_SC_DEVICE_SPECIFIC
 
_SC_DEVICE_SPECIFIC


	)

378 
	m_SC_DEVICE_SPECIFIC_R
,

379 
	#_SC_DEVICE_SPECIFIC_R
 
_SC_DEVICE_SPECIFIC_R


	)

380 
	m_SC_FD_MGMT
,

381 
	#_SC_FD_MGMT
 
_SC_FD_MGMT


	)

382 
	m_SC_FIFO
,

383 
	#_SC_FIFO
 
_SC_FIFO


	)

384 
	m_SC_PIPE
,

385 
	#_SC_PIPE
 
_SC_PIPE


	)

386 
	m_SC_FILE_ATTRIBUTES
,

387 
	#_SC_FILE_ATTRIBUTES
 
_SC_FILE_ATTRIBUTES


	)

388 
	m_SC_FILE_LOCKING
,

389 
	#_SC_FILE_LOCKING
 
_SC_FILE_LOCKING


	)

390 
	m_SC_FILE_SYSTEM
,

391 
	#_SC_FILE_SYSTEM
 
_SC_FILE_SYSTEM


	)

392 
	m_SC_MONOTONIC_CLOCK
,

393 
	#_SC_MONOTONIC_CLOCK
 
_SC_MONOTONIC_CLOCK


	)

394 
	m_SC_MULTI_PROCESS
,

395 
	#_SC_MULTI_PROCESS
 
_SC_MULTI_PROCESS


	)

396 
	m_SC_SINGLE_PROCESS
,

397 
	#_SC_SINGLE_PROCESS
 
_SC_SINGLE_PROCESS


	)

398 
	m_SC_NETWORKING
,

399 
	#_SC_NETWORKING
 
_SC_NETWORKING


	)

400 
	m_SC_READER_WRITER_LOCKS
,

401 
	#_SC_READER_WRITER_LOCKS
 
_SC_READER_WRITER_LOCKS


	)

402 
	m_SC_SPIN_LOCKS
,

403 
	#_SC_SPIN_LOCKS
 
_SC_SPIN_LOCKS


	)

404 
	m_SC_REGEXP
,

405 
	#_SC_REGEXP
 
_SC_REGEXP


	)

406 
	m_SC_REGEX_VERSION
,

407 
	#_SC_REGEX_VERSION
 
_SC_REGEX_VERSION


	)

408 
	m_SC_SHELL
,

409 
	#_SC_SHELL
 
_SC_SHELL


	)

410 
	m_SC_SIGNALS
,

411 
	#_SC_SIGNALS
 
_SC_SIGNALS


	)

412 
	m_SC_SPAWN
,

413 
	#_SC_SPAWN
 
_SC_SPAWN


	)

414 
	m_SC_SPORADIC_SERVER
,

415 
	#_SC_SPORADIC_SERVER
 
_SC_SPORADIC_SERVER


	)

416 
	m_SC_THREAD_SPORADIC_SERVER
,

417 
	#_SC_THREAD_SPORADIC_SERVER
 
_SC_THREAD_SPORADIC_SERVER


	)

418 
	m_SC_SYSTEM_DATABASE
,

419 
	#_SC_SYSTEM_DATABASE
 
_SC_SYSTEM_DATABASE


	)

420 
	m_SC_SYSTEM_DATABASE_R
,

421 
	#_SC_SYSTEM_DATABASE_R
 
_SC_SYSTEM_DATABASE_R


	)

422 
	m_SC_TIMEOUTS
,

423 
	#_SC_TIMEOUTS
 
_SC_TIMEOUTS


	)

424 
	m_SC_TYPED_MEMORY_OBJECTS
,

425 
	#_SC_TYPED_MEMORY_OBJECTS
 
_SC_TYPED_MEMORY_OBJECTS


	)

426 
	m_SC_USER_GROUPS
,

427 
	#_SC_USER_GROUPS
 
_SC_USER_GROUPS


	)

428 
	m_SC_USER_GROUPS_R
,

429 
	#_SC_USER_GROUPS_R
 
_SC_USER_GROUPS_R


	)

430 
	m_SC_2_PBS
,

431 
	#_SC_2_PBS
 
_SC_2_PBS


	)

432 
	m_SC_2_PBS_ACCOUNTING
,

433 
	#_SC_2_PBS_ACCOUNTING
 
_SC_2_PBS_ACCOUNTING


	)

434 
	m_SC_2_PBS_LOCATE
,

435 
	#_SC_2_PBS_LOCATE
 
_SC_2_PBS_LOCATE


	)

436 
	m_SC_2_PBS_MESSAGE
,

437 
	#_SC_2_PBS_MESSAGE
 
_SC_2_PBS_MESSAGE


	)

438 
	m_SC_2_PBS_TRACK
,

439 
	#_SC_2_PBS_TRACK
 
_SC_2_PBS_TRACK


	)

440 
	m_SC_SYMLOOP_MAX
,

441 
	#_SC_SYMLOOP_MAX
 
_SC_SYMLOOP_MAX


	)

442 
	m_SC_STREAMS
,

443 
	#_SC_STREAMS
 
_SC_STREAMS


	)

444 
	m_SC_2_PBS_CHECKPOINT
,

445 
	#_SC_2_PBS_CHECKPOINT
 
_SC_2_PBS_CHECKPOINT


	)

447 
	m_SC_V6_ILP32_OFF32
,

448 
	#_SC_V6_ILP32_OFF32
 
_SC_V6_ILP32_OFF32


	)

449 
	m_SC_V6_ILP32_OFFBIG
,

450 
	#_SC_V6_ILP32_OFFBIG
 
_SC_V6_ILP32_OFFBIG


	)

451 
	m_SC_V6_LP64_OFF64
,

452 
	#_SC_V6_LP64_OFF64
 
_SC_V6_LP64_OFF64


	)

453 
	m_SC_V6_LPBIG_OFFBIG
,

454 
	#_SC_V6_LPBIG_OFFBIG
 
_SC_V6_LPBIG_OFFBIG


	)

456 
	m_SC_HOST_NAME_MAX
,

457 
	#_SC_HOST_NAME_MAX
 
_SC_HOST_NAME_MAX


	)

458 
	m_SC_TRACE
,

459 
	#_SC_TRACE
 
_SC_TRACE


	)

460 
	m_SC_TRACE_EVENT_FILTER
,

461 
	#_SC_TRACE_EVENT_FILTER
 
_SC_TRACE_EVENT_FILTER


	)

462 
	m_SC_TRACE_INHERIT
,

463 
	#_SC_TRACE_INHERIT
 
_SC_TRACE_INHERIT


	)

464 
	m_SC_TRACE_LOG
,

465 
	#_SC_TRACE_LOG
 
_SC_TRACE_LOG


	)

467 
	m_SC_LEVEL1_ICACHE_SIZE
,

468 
	#_SC_LEVEL1_ICACHE_SIZE
 
_SC_LEVEL1_ICACHE_SIZE


	)

469 
	m_SC_LEVEL1_ICACHE_ASSOC
,

470 
	#_SC_LEVEL1_ICACHE_ASSOC
 
_SC_LEVEL1_ICACHE_ASSOC


	)

471 
	m_SC_LEVEL1_ICACHE_LINESIZE
,

472 
	#_SC_LEVEL1_ICACHE_LINESIZE
 
_SC_LEVEL1_ICACHE_LINESIZE


	)

473 
	m_SC_LEVEL1_DCACHE_SIZE
,

474 
	#_SC_LEVEL1_DCACHE_SIZE
 
_SC_LEVEL1_DCACHE_SIZE


	)

475 
	m_SC_LEVEL1_DCACHE_ASSOC
,

476 
	#_SC_LEVEL1_DCACHE_ASSOC
 
_SC_LEVEL1_DCACHE_ASSOC


	)

477 
	m_SC_LEVEL1_DCACHE_LINESIZE
,

478 
	#_SC_LEVEL1_DCACHE_LINESIZE
 
_SC_LEVEL1_DCACHE_LINESIZE


	)

479 
	m_SC_LEVEL2_CACHE_SIZE
,

480 
	#_SC_LEVEL2_CACHE_SIZE
 
_SC_LEVEL2_CACHE_SIZE


	)

481 
	m_SC_LEVEL2_CACHE_ASSOC
,

482 
	#_SC_LEVEL2_CACHE_ASSOC
 
_SC_LEVEL2_CACHE_ASSOC


	)

483 
	m_SC_LEVEL2_CACHE_LINESIZE
,

484 
	#_SC_LEVEL2_CACHE_LINESIZE
 
_SC_LEVEL2_CACHE_LINESIZE


	)

485 
	m_SC_LEVEL3_CACHE_SIZE
,

486 
	#_SC_LEVEL3_CACHE_SIZE
 
_SC_LEVEL3_CACHE_SIZE


	)

487 
	m_SC_LEVEL3_CACHE_ASSOC
,

488 
	#_SC_LEVEL3_CACHE_ASSOC
 
_SC_LEVEL3_CACHE_ASSOC


	)

489 
	m_SC_LEVEL3_CACHE_LINESIZE
,

490 
	#_SC_LEVEL3_CACHE_LINESIZE
 
_SC_LEVEL3_CACHE_LINESIZE


	)

491 
	m_SC_LEVEL4_CACHE_SIZE
,

492 
	#_SC_LEVEL4_CACHE_SIZE
 
_SC_LEVEL4_CACHE_SIZE


	)

493 
	m_SC_LEVEL4_CACHE_ASSOC
,

494 
	#_SC_LEVEL4_CACHE_ASSOC
 
_SC_LEVEL4_CACHE_ASSOC


	)

495 
	m_SC_LEVEL4_CACHE_LINESIZE
,

496 
	#_SC_LEVEL4_CACHE_LINESIZE
 
_SC_LEVEL4_CACHE_LINESIZE


	)

499 
	m_SC_IPV6
 = 
_SC_LEVEL1_ICACHE_SIZE
 + 50,

500 
	#_SC_IPV6
 
_SC_IPV6


	)

501 
	m_SC_RAW_SOCKETS
,

502 
	#_SC_RAW_SOCKETS
 
_SC_RAW_SOCKETS


	)

504 
	m_SC_V7_ILP32_OFF32
,

505 
	#_SC_V7_ILP32_OFF32
 
_SC_V7_ILP32_OFF32


	)

506 
	m_SC_V7_ILP32_OFFBIG
,

507 
	#_SC_V7_ILP32_OFFBIG
 
_SC_V7_ILP32_OFFBIG


	)

508 
	m_SC_V7_LP64_OFF64
,

509 
	#_SC_V7_LP64_OFF64
 
_SC_V7_LP64_OFF64


	)

510 
	m_SC_V7_LPBIG_OFFBIG
,

511 
	#_SC_V7_LPBIG_OFFBIG
 
_SC_V7_LPBIG_OFFBIG


	)

513 
	m_SC_SS_REPL_MAX
,

514 
	#_SC_SS_REPL_MAX
 
_SC_SS_REPL_MAX


	)

516 
	m_SC_TRACE_EVENT_NAME_MAX
,

517 
	#_SC_TRACE_EVENT_NAME_MAX
 
_SC_TRACE_EVENT_NAME_MAX


	)

518 
	m_SC_TRACE_NAME_MAX
,

519 
	#_SC_TRACE_NAME_MAX
 
_SC_TRACE_NAME_MAX


	)

520 
	m_SC_TRACE_SYS_MAX
,

521 
	#_SC_TRACE_SYS_MAX
 
_SC_TRACE_SYS_MAX


	)

522 
	m_SC_TRACE_USER_EVENT_MAX
,

523 
	#_SC_TRACE_USER_EVENT_MAX
 
_SC_TRACE_USER_EVENT_MAX


	)

525 
	m_SC_XOPEN_STREAMS
,

526 
	#_SC_XOPEN_STREAMS
 
_SC_XOPEN_STREAMS


	)

528 
	m_SC_THREAD_ROBUST_PRIO_INHERIT
,

529 
	#_SC_THREAD_ROBUST_PRIO_INHERIT
 
_SC_THREAD_ROBUST_PRIO_INHERIT


	)

530 
	m_SC_THREAD_ROBUST_PRIO_PROTECT


531 
	#_SC_THREAD_ROBUST_PRIO_PROTECT
 
_SC_THREAD_ROBUST_PRIO_PROTECT


	)

537 
	m_CS_PATH
,

538 
	#_CS_PATH
 
_CS_PATH


	)

540 
	m_CS_V6_WIDTH_RESTRICTED_ENVS
,

541 
	#_CS_V6_WIDTH_RESTRICTED_ENVS
 
_CS_V6_WIDTH_RESTRICTED_ENVS


	)

542 
	#_CS_POSIX_V6_WIDTH_RESTRICTED_ENVS
 
_CS_V6_WIDTH_RESTRICTED_ENVS


	)

544 
	m_CS_GNU_LIBC_VERSION
,

545 
	#_CS_GNU_LIBC_VERSION
 
_CS_GNU_LIBC_VERSION


	)

546 
	m_CS_GNU_LIBPTHREAD_VERSION
,

547 
	#_CS_GNU_LIBPTHREAD_VERSION
 
_CS_GNU_LIBPTHREAD_VERSION


	)

549 
	m_CS_V5_WIDTH_RESTRICTED_ENVS
,

550 
	#_CS_V5_WIDTH_RESTRICTED_ENVS
 
_CS_V5_WIDTH_RESTRICTED_ENVS


	)

551 
	#_CS_POSIX_V5_WIDTH_RESTRICTED_ENVS
 
_CS_V5_WIDTH_RESTRICTED_ENVS


	)

553 
	m_CS_V7_WIDTH_RESTRICTED_ENVS
,

554 
	#_CS_V7_WIDTH_RESTRICTED_ENVS
 
_CS_V7_WIDTH_RESTRICTED_ENVS


	)

555 
	#_CS_POSIX_V7_WIDTH_RESTRICTED_ENVS
 
_CS_V7_WIDTH_RESTRICTED_ENVS


	)

557 
	m_CS_LFS_CFLAGS
 = 1000,

558 
	#_CS_LFS_CFLAGS
 
_CS_LFS_CFLAGS


	)

559 
	m_CS_LFS_LDFLAGS
,

560 
	#_CS_LFS_LDFLAGS
 
_CS_LFS_LDFLAGS


	)

561 
	m_CS_LFS_LIBS
,

562 
	#_CS_LFS_LIBS
 
_CS_LFS_LIBS


	)

563 
	m_CS_LFS_LINTFLAGS
,

564 
	#_CS_LFS_LINTFLAGS
 
_CS_LFS_LINTFLAGS


	)

565 
	m_CS_LFS64_CFLAGS
,

566 
	#_CS_LFS64_CFLAGS
 
_CS_LFS64_CFLAGS


	)

567 
	m_CS_LFS64_LDFLAGS
,

568 
	#_CS_LFS64_LDFLAGS
 
_CS_LFS64_LDFLAGS


	)

569 
	m_CS_LFS64_LIBS
,

570 
	#_CS_LFS64_LIBS
 
_CS_LFS64_LIBS


	)

571 
	m_CS_LFS64_LINTFLAGS
,

572 
	#_CS_LFS64_LINTFLAGS
 
_CS_LFS64_LINTFLAGS


	)

574 
	m_CS_XBS5_ILP32_OFF32_CFLAGS
 = 1100,

575 
	#_CS_XBS5_ILP32_OFF32_CFLAGS
 
_CS_XBS5_ILP32_OFF32_CFLAGS


	)

576 
	m_CS_XBS5_ILP32_OFF32_LDFLAGS
,

577 
	#_CS_XBS5_ILP32_OFF32_LDFLAGS
 
_CS_XBS5_ILP32_OFF32_LDFLAGS


	)

578 
	m_CS_XBS5_ILP32_OFF32_LIBS
,

579 
	#_CS_XBS5_ILP32_OFF32_LIBS
 
_CS_XBS5_ILP32_OFF32_LIBS


	)

580 
	m_CS_XBS5_ILP32_OFF32_LINTFLAGS
,

581 
	#_CS_XBS5_ILP32_OFF32_LINTFLAGS
 
_CS_XBS5_ILP32_OFF32_LINTFLAGS


	)

582 
	m_CS_XBS5_ILP32_OFFBIG_CFLAGS
,

583 
	#_CS_XBS5_ILP32_OFFBIG_CFLAGS
 
_CS_XBS5_ILP32_OFFBIG_CFLAGS


	)

584 
	m_CS_XBS5_ILP32_OFFBIG_LDFLAGS
,

585 
	#_CS_XBS5_ILP32_OFFBIG_LDFLAGS
 
_CS_XBS5_ILP32_OFFBIG_LDFLAGS


	)

586 
	m_CS_XBS5_ILP32_OFFBIG_LIBS
,

587 
	#_CS_XBS5_ILP32_OFFBIG_LIBS
 
_CS_XBS5_ILP32_OFFBIG_LIBS


	)

588 
	m_CS_XBS5_ILP32_OFFBIG_LINTFLAGS
,

589 
	#_CS_XBS5_ILP32_OFFBIG_LINTFLAGS
 
_CS_XBS5_ILP32_OFFBIG_LINTFLAGS


	)

590 
	m_CS_XBS5_LP64_OFF64_CFLAGS
,

591 
	#_CS_XBS5_LP64_OFF64_CFLAGS
 
_CS_XBS5_LP64_OFF64_CFLAGS


	)

592 
	m_CS_XBS5_LP64_OFF64_LDFLAGS
,

593 
	#_CS_XBS5_LP64_OFF64_LDFLAGS
 
_CS_XBS5_LP64_OFF64_LDFLAGS


	)

594 
	m_CS_XBS5_LP64_OFF64_LIBS
,

595 
	#_CS_XBS5_LP64_OFF64_LIBS
 
_CS_XBS5_LP64_OFF64_LIBS


	)

596 
	m_CS_XBS5_LP64_OFF64_LINTFLAGS
,

597 
	#_CS_XBS5_LP64_OFF64_LINTFLAGS
 
_CS_XBS5_LP64_OFF64_LINTFLAGS


	)

598 
	m_CS_XBS5_LPBIG_OFFBIG_CFLAGS
,

599 
	#_CS_XBS5_LPBIG_OFFBIG_CFLAGS
 
_CS_XBS5_LPBIG_OFFBIG_CFLAGS


	)

600 
	m_CS_XBS5_LPBIG_OFFBIG_LDFLAGS
,

601 
	#_CS_XBS5_LPBIG_OFFBIG_LDFLAGS
 
_CS_XBS5_LPBIG_OFFBIG_LDFLAGS


	)

602 
	m_CS_XBS5_LPBIG_OFFBIG_LIBS
,

603 
	#_CS_XBS5_LPBIG_OFFBIG_LIBS
 
_CS_XBS5_LPBIG_OFFBIG_LIBS


	)

604 
	m_CS_XBS5_LPBIG_OFFBIG_LINTFLAGS
,

605 
	#_CS_XBS5_LPBIG_OFFBIG_LINTFLAGS
 
_CS_XBS5_LPBIG_OFFBIG_LINTFLAGS


	)

607 
	m_CS_POSIX_V6_ILP32_OFF32_CFLAGS
,

608 
	#_CS_POSIX_V6_ILP32_OFF32_CFLAGS
 
_CS_POSIX_V6_ILP32_OFF32_CFLAGS


	)

609 
	m_CS_POSIX_V6_ILP32_OFF32_LDFLAGS
,

610 
	#_CS_POSIX_V6_ILP32_OFF32_LDFLAGS
 
_CS_POSIX_V6_ILP32_OFF32_LDFLAGS


	)

611 
	m_CS_POSIX_V6_ILP32_OFF32_LIBS
,

612 
	#_CS_POSIX_V6_ILP32_OFF32_LIBS
 
_CS_POSIX_V6_ILP32_OFF32_LIBS


	)

613 
	m_CS_POSIX_V6_ILP32_OFF32_LINTFLAGS
,

614 
	#_CS_POSIX_V6_ILP32_OFF32_LINTFLAGS
 
_CS_POSIX_V6_ILP32_OFF32_LINTFLAGS


	)

615 
	m_CS_POSIX_V6_ILP32_OFFBIG_CFLAGS
,

616 
	#_CS_POSIX_V6_ILP32_OFFBIG_CFLAGS
 
_CS_POSIX_V6_ILP32_OFFBIG_CFLAGS


	)

617 
	m_CS_POSIX_V6_ILP32_OFFBIG_LDFLAGS
,

618 
	#_CS_POSIX_V6_ILP32_OFFBIG_LDFLAGS
 
_CS_POSIX_V6_ILP32_OFFBIG_LDFLAGS


	)

619 
	m_CS_POSIX_V6_ILP32_OFFBIG_LIBS
,

620 
	#_CS_POSIX_V6_ILP32_OFFBIG_LIBS
 
_CS_POSIX_V6_ILP32_OFFBIG_LIBS


	)

621 
	m_CS_POSIX_V6_ILP32_OFFBIG_LINTFLAGS
,

622 
	#_CS_POSIX_V6_ILP32_OFFBIG_LINTFLAGS
 
_CS_POSIX_V6_ILP32_OFFBIG_LINTFLAGS


	)

623 
	m_CS_POSIX_V6_LP64_OFF64_CFLAGS
,

624 
	#_CS_POSIX_V6_LP64_OFF64_CFLAGS
 
_CS_POSIX_V6_LP64_OFF64_CFLAGS


	)

625 
	m_CS_POSIX_V6_LP64_OFF64_LDFLAGS
,

626 
	#_CS_POSIX_V6_LP64_OFF64_LDFLAGS
 
_CS_POSIX_V6_LP64_OFF64_LDFLAGS


	)

627 
	m_CS_POSIX_V6_LP64_OFF64_LIBS
,

628 
	#_CS_POSIX_V6_LP64_OFF64_LIBS
 
_CS_POSIX_V6_LP64_OFF64_LIBS


	)

629 
	m_CS_POSIX_V6_LP64_OFF64_LINTFLAGS
,

630 
	#_CS_POSIX_V6_LP64_OFF64_LINTFLAGS
 
_CS_POSIX_V6_LP64_OFF64_LINTFLAGS


	)

631 
	m_CS_POSIX_V6_LPBIG_OFFBIG_CFLAGS
,

632 
	#_CS_POSIX_V6_LPBIG_OFFBIG_CFLAGS
 
_CS_POSIX_V6_LPBIG_OFFBIG_CFLAGS


	)

633 
	m_CS_POSIX_V6_LPBIG_OFFBIG_LDFLAGS
,

634 
	#_CS_POSIX_V6_LPBIG_OFFBIG_LDFLAGS
 
_CS_POSIX_V6_LPBIG_OFFBIG_LDFLAGS


	)

635 
	m_CS_POSIX_V6_LPBIG_OFFBIG_LIBS
,

636 
	#_CS_POSIX_V6_LPBIG_OFFBIG_LIBS
 
_CS_POSIX_V6_LPBIG_OFFBIG_LIBS


	)

637 
	m_CS_POSIX_V6_LPBIG_OFFBIG_LINTFLAGS
,

638 
	#_CS_POSIX_V6_LPBIG_OFFBIG_LINTFLAGS
 
_CS_POSIX_V6_LPBIG_OFFBIG_LINTFLAGS


	)

640 
	m_CS_POSIX_V7_ILP32_OFF32_CFLAGS
,

641 
	#_CS_POSIX_V7_ILP32_OFF32_CFLAGS
 
_CS_POSIX_V7_ILP32_OFF32_CFLAGS


	)

642 
	m_CS_POSIX_V7_ILP32_OFF32_LDFLAGS
,

643 
	#_CS_POSIX_V7_ILP32_OFF32_LDFLAGS
 
_CS_POSIX_V7_ILP32_OFF32_LDFLAGS


	)

644 
	m_CS_POSIX_V7_ILP32_OFF32_LIBS
,

645 
	#_CS_POSIX_V7_ILP32_OFF32_LIBS
 
_CS_POSIX_V7_ILP32_OFF32_LIBS


	)

646 
	m_CS_POSIX_V7_ILP32_OFF32_LINTFLAGS
,

647 
	#_CS_POSIX_V7_ILP32_OFF32_LINTFLAGS
 
_CS_POSIX_V7_ILP32_OFF32_LINTFLAGS


	)

648 
	m_CS_POSIX_V7_ILP32_OFFBIG_CFLAGS
,

649 
	#_CS_POSIX_V7_ILP32_OFFBIG_CFLAGS
 
_CS_POSIX_V7_ILP32_OFFBIG_CFLAGS


	)

650 
	m_CS_POSIX_V7_ILP32_OFFBIG_LDFLAGS
,

651 
	#_CS_POSIX_V7_ILP32_OFFBIG_LDFLAGS
 
_CS_POSIX_V7_ILP32_OFFBIG_LDFLAGS


	)

652 
	m_CS_POSIX_V7_ILP32_OFFBIG_LIBS
,

653 
	#_CS_POSIX_V7_ILP32_OFFBIG_LIBS
 
_CS_POSIX_V7_ILP32_OFFBIG_LIBS


	)

654 
	m_CS_POSIX_V7_ILP32_OFFBIG_LINTFLAGS
,

655 
	#_CS_POSIX_V7_ILP32_OFFBIG_LINTFLAGS
 
_CS_POSIX_V7_ILP32_OFFBIG_LINTFLAGS


	)

656 
	m_CS_POSIX_V7_LP64_OFF64_CFLAGS
,

657 
	#_CS_POSIX_V7_LP64_OFF64_CFLAGS
 
_CS_POSIX_V7_LP64_OFF64_CFLAGS


	)

658 
	m_CS_POSIX_V7_LP64_OFF64_LDFLAGS
,

659 
	#_CS_POSIX_V7_LP64_OFF64_LDFLAGS
 
_CS_POSIX_V7_LP64_OFF64_LDFLAGS


	)

660 
	m_CS_POSIX_V7_LP64_OFF64_LIBS
,

661 
	#_CS_POSIX_V7_LP64_OFF64_LIBS
 
_CS_POSIX_V7_LP64_OFF64_LIBS


	)

662 
	m_CS_POSIX_V7_LP64_OFF64_LINTFLAGS
,

663 
	#_CS_POSIX_V7_LP64_OFF64_LINTFLAGS
 
_CS_POSIX_V7_LP64_OFF64_LINTFLAGS


	)

664 
	m_CS_POSIX_V7_LPBIG_OFFBIG_CFLAGS
,

665 
	#_CS_POSIX_V7_LPBIG_OFFBIG_CFLAGS
 
_CS_POSIX_V7_LPBIG_OFFBIG_CFLAGS


	)

666 
	m_CS_POSIX_V7_LPBIG_OFFBIG_LDFLAGS
,

667 
	#_CS_POSIX_V7_LPBIG_OFFBIG_LDFLAGS
 
_CS_POSIX_V7_LPBIG_OFFBIG_LDFLAGS


	)

668 
	m_CS_POSIX_V7_LPBIG_OFFBIG_LIBS
,

669 
	#_CS_POSIX_V7_LPBIG_OFFBIG_LIBS
 
_CS_POSIX_V7_LPBIG_OFFBIG_LIBS


	)

670 
	m_CS_POSIX_V7_LPBIG_OFFBIG_LINTFLAGS
,

671 
	#_CS_POSIX_V7_LPBIG_OFFBIG_LINTFLAGS
 
_CS_POSIX_V7_LPBIG_OFFBIG_LINTFLAGS


	)

673 
	m_CS_V6_ENV
,

674 
	#_CS_V6_ENV
 
_CS_V6_ENV


	)

675 
	m_CS_V7_ENV


676 
	#_CS_V7_ENV
 
_CS_V7_ENV


	)

	@/usr/include/bits/endian.h

3 #iâdeà
_ENDIAN_H


7 
	#__BYTE_ORDER
 
__LITTLE_ENDIAN


	)

	@/usr/include/bits/environments.h

19 #iâdeà
_UNISTD_H


23 
	~<b™s/wÜdsize.h
>

43 #ià
__WORDSIZE
 == 64

57 
	#_POSIX_V7_LPBIG_OFFBIG
 -1

	)

58 
	#_POSIX_V6_LPBIG_OFFBIG
 -1

	)

59 
	#_XBS5_LPBIG_OFFBIG
 -1

	)

62 
	#_POSIX_V7_LP64_OFF64
 1

	)

63 
	#_POSIX_V6_LP64_OFF64
 1

	)

64 
	#_XBS5_LP64_OFF64
 1

	)

70 
	#_POSIX_V7_ILP32_OFF32
 1

	)

71 
	#_POSIX_V7_ILP32_OFFBIG
 1

	)

72 
	#_POSIX_V6_ILP32_OFF32
 1

	)

73 
	#_POSIX_V6_ILP32_OFFBIG
 1

	)

74 
	#_XBS5_ILP32_OFF32
 1

	)

75 
	#_XBS5_ILP32_OFFBIG
 1

	)

92 
	#__ILP32_OFF32_CFLAGS
 "-m32"

	)

93 
	#__ILP32_OFFBIG_CFLAGS
 "-m32 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64"

	)

94 
	#__ILP32_OFF32_LDFLAGS
 "-m32"

	)

95 
	#__ILP32_OFFBIG_LDFLAGS
 "-m32"

	)

96 
	#__LP64_OFF64_CFLAGS
 "-m64"

	)

97 
	#__LP64_OFF64_LDFLAGS
 "-m64"

	)

	@/usr/include/bits/libc-lock.h

21 #iâdeà
_BITS_LIBC_LOCK_H


22 
	#_BITS_LIBC_LOCK_H
 1

	)

24 
	~<±h»ad.h
>

27 #ifdeà
_IO_MTSAFE_IO


28 
±h»ad_mu‹x_t
 
	t__libc_lock_t
;

29 ¡ruù { 
±h»ad_mu‹x_t
 
	mmu‹x
; } 
	t__libc_lock_»cursive_t
;

30 #ifdeà
__USE_UNIX98


31 
±h»ad_rwlock_t
 
	t__libc_rwlock_t
;

33 
__libc_rwlock_İaque__
 
	t__libc_rwlock_t
;

35 
__libc_lock_»cursive_t
 
	t__¹ld_lock_»cursive_t
;

37 
__libc_lock_İaque__
 
	t__libc_lock_t
;

38 
__libc_lock_»cursive_İaque__
 
	t__libc_lock_»cursive_t
;

39 
__libc_rwlock_İaque__
 
	t__libc_rwlock_t
;

43 
±h»ad_key_t
 
	t__libc_key_t
;

52 
	#__libc_lock_defše
(
CLASS
,
NAME
) \

53 
CLASS
 
__libc_lock_t
 
NAME
;

	)

54 
	#__libc_rwlock_defše
(
CLASS
,
NAME
) \

55 
CLASS
 
__libc_rwlock_t
 
NAME
;

	)

56 
	#__libc_lock_defše_»cursive
(
CLASS
,
NAME
) \

57 
CLASS
 
__libc_lock_»cursive_t
 
NAME
;

	)

58 
	#__¹ld_lock_defše_»cursive
(
CLASS
,
NAME
) \

59 
CLASS
 
__¹ld_lock_»cursive_t
 
NAME
;

	)

70 #ià
__LT_SPINLOCK_INIT
 == 0

71 
	#__libc_lock_defše_š™Ÿlized
(
CLASS
,
NAME
) \

72 
CLASS
 
__libc_lock_t
 
NAME
;

	)

74 
	#__libc_lock_defše_š™Ÿlized
(
CLASS
,
NAME
) \

75 
CLASS
 
__libc_lock_t
 
NAME
 = 
PTHREAD_MUTEX_INITIALIZER
;

	)

78 
	#__libc_rwlock_defše_š™Ÿlized
(
CLASS
,
NAME
) \

79 
CLASS
 
__libc_rwlock_t
 
NAME
 = 
PTHREAD_RWLOCK_INITIALIZER
;

	)

83 
	#__libc_lock_defše_š™Ÿlized_»cursive
(
CLASS
,
NAME
) \

84 
CLASS
 
__libc_lock_»cursive_t
 
NAME
 = 
_LIBC_LOCK_RECURSIVE_INITIALIZER
;

	)

85 
	#_LIBC_LOCK_RECURSIVE_INITIALIZER
 \

86 {
PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
}

	)

88 
	#__¹ld_lock_defše_š™Ÿlized_»cursive
(
CLASS
,
NAME
) \

89 
CLASS
 
__¹ld_lock_»cursive_t
 
NAME
 = 
_RTLD_LOCK_RECURSIVE_INITIALIZER
;

	)

90 
	#_RTLD_LOCK_RECURSIVE_INITIALIZER
 \

91 {
PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
}

	)

93 #ià
defšed
 
__PIC__


94 
	#__libc_maybe_ÿÎ
(
FUNC
, 
ARGS
, 
ELSE
) \

95 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of
 (
FUNC
è*
_â
 = (FUNC); \

96 
_â
 !ğ
NULL
 ? (*_âè
ARGS
 : 
ELSE
; }))

	)

98 
	#__libc_maybe_ÿÎ
(
FUNC
, 
ARGS
, 
ELSE
) \

99 (
FUNC
 !ğ
NULL
 ? FUNC 
ARGS
 : 
ELSE
)

	)

101 
	#__libc_maybe_ÿÎ2
(
FUNC
, 
ARGS
, 
ELSE
è
	`__libc_maybe_ÿÎ
 (
__
##FUNC, ARGS, ELSE)

	)

105 
	#__libc_lock_š™
(
NAME
) \

106 (
	`__libc_maybe_ÿÎ2
 (
±h»ad_mu‹x_š™
, (&(
NAME
), 
NULL
), 0))

	)

107 
	#__libc_rwlock_š™
(
NAME
) \

108 (
	`__libc_maybe_ÿÎ
 (
__±h»ad_rwlock_š™
, (&(
NAME
), 
NULL
), 0));

	)

111 
	#__libc_lock_š™_»cursive
(
NAME
) \

113 ià(
__±h»ad_mu‹x_š™
 !ğ
NULL
) \

115 
±h»ad_mu‹x©Œ_t
 
__©Œ
; \

116 
	`__±h»ad_mu‹x©Œ_š™
 (&
__©Œ
); \

117 
	`__±h»ad_mu‹x©Œ_£‰y³
 (&
__©Œ
, 
PTHREAD_MUTEX_RECURSIVE_NP
); \

118 
	`__±h»ad_mu‹x_š™
 (&(
NAME
).
mu‹x
, &
__©Œ
); \

119 
	`__±h»ad_mu‹x©Œ_de¡roy
 (&
__©Œ
); \

121 } 0);

	)

122 
	#__¹ld_lock_š™_»cursive
(
NAME
) \

123 
	`__libc_lock_š™_»cursive
 (
NAME
)

	)

128 
	#__libc_lock_fši
(
NAME
) \

129 (
	`__libc_maybe_ÿÎ2
 (
±h»ad_mu‹x_de¡roy
, (&(
NAME
)), 0));

	)

130 
	#__libc_rwlock_fši
(
NAME
) \

131 (
	`__libc_maybe_ÿÎ
 (
__±h»ad_rwlock_de¡roy
, (&(
NAME
)), 0));

	)

134 
	#__libc_lock_fši_»cursive
(
NAME
è
	`__libc_lock_fši
 ((NAME).
mu‹x
)

	)

135 
	#__¹ld_lock_fši_»cursive
(
NAME
è
	`__libc_lock_fši_»cursive
 (NAME)

	)

138 
	#__libc_lock_lock
(
NAME
) \

139 (
	`__libc_maybe_ÿÎ2
 (
±h»ad_mu‹x_lock
, (&(
NAME
)), 0));

	)

140 
	#__libc_rwlock_rdlock
(
NAME
) \

141 (
	`__libc_maybe_ÿÎ
 (
__±h»ad_rwlock_rdlock
, (&(
NAME
)), 0));

	)

142 
	#__libc_rwlock_w¾ock
(
NAME
) \

143 (
	`__libc_maybe_ÿÎ
 (
__±h»ad_rwlock_w¾ock
, (&(
NAME
)), 0));

	)

146 
	#__libc_lock_lock_»cursive
(
NAME
è
	`__libc_lock_lock
 ((NAME).
mu‹x
)

	)

149 
	#__libc_lock_Œylock
(
NAME
) \

150 (
	`__libc_maybe_ÿÎ2
 (
±h»ad_mu‹x_Œylock
, (&(
NAME
)), 0))

	)

151 
	#__libc_rwlock_Œyrdlock
(
NAME
) \

152 (
	`__libc_maybe_ÿÎ
 (
__±h»ad_rwlock_Œyrdlock
, (&(
NAME
)), 0))

	)

153 
	#__libc_rwlock_Œyw¾ock
(
NAME
) \

154 (
	`__libc_maybe_ÿÎ
 (
__±h»ad_rwlock_Œyw¾ock
, (&(
NAME
)), 0))

	)

157 
	#__libc_lock_Œylock_»cursive
(
NAME
è
	`__libc_lock_Œylock
 ((NAME).
mu‹x
)

	)

158 
	#__¹ld_lock_Œylock_»cursive
(
NAME
) \

159 
	`__libc_lock_Œylock_»cursive
 (
NAME
)

	)

162 
	#__libc_lock_uÆock
(
NAME
) \

163 (
	`__libc_maybe_ÿÎ2
 (
±h»ad_mu‹x_uÆock
, (&(
NAME
)), 0));

	)

164 
	#__libc_rwlock_uÆock
(
NAME
) \

165 (
	`__libc_maybe_ÿÎ
 (
__±h»ad_rwlock_uÆock
, (&(
NAME
)), 0));

	)

168 
	#__libc_lock_uÆock_»cursive
(
NAME
è
	`__libc_lock_uÆock
 ((NAME).
mu‹x
)

	)

170 
	#__¹ld_lock_lock_»cursive
(
NAME
è
	`__libc_lock_lock_»cursive
 (NAME)

	)

171 
	#__¹ld_lock_uÆock_»cursive
(
NAME
è
	`__libc_lock_uÆock_»cursive
 (NAME)

	)

174 #ià
PTHREAD_ONCE_INIT
 == 0

177 
	#__libc_Úû_defše
(
CLASS
, 
NAME
) \

178 
CLASS
 
±h»ad_Úû_t
 
NAME


	)

180 
	#__libc_Úû_defše
(
CLASS
, 
NAME
) \

181 
CLASS
 
±h»ad_Úû_t
 
NAME
 = 
PTHREAD_ONCE_INIT


	)

185 
	#__libc_Úû
(
ONCE_CONTROL
, 
INIT_FUNCTION
) \

187 ià(
__±h»ad_Úû
 !ğ
NULL
) \

188 
	`__±h»ad_Úû
 (&(
ONCE_CONTROL
), (
INIT_FUNCTION
)); \

189 ià((
ONCE_CONTROL
è=ğ
PTHREAD_ONCE_INIT
) { \

190 
	`INIT_FUNCTION
 (); \

191 (
ONCE_CONTROL
) = 2; \

193 } 0)

	)

197 
	#__libc_ş—nup_»giÚ_¡¬t
(
DOIT
, 
FCT
, 
ARG
) \

198 { 
_±h»ad_ş—nup_bufãr
 
_bufãr
; \

199 
_ava
 = (
DOIT
è&& 
_±h»ad_ş—nup_push_deãr
 !ğ
NULL
; \

200 ià(
_ava
) { \

201 
	`_±h»ad_ş—nup_push_deãr
 (&
_bufãr
, (
FCT
), (
ARG
)); \

202 }

	)

205 
	#__libc_ş—nup_»giÚ_’d
(
DOIT
) \

206 ià(
_ava
) { \

207 
	`_±h»ad_ş—nup_pİ_»¡Üe
 (&
_bufãr
, (
DOIT
)); \

209 }

	)

212 
	#__libc_ş—nup_’d
(
DOIT
) \

213 ià(
_ava
) { \

214 
	`_±h»ad_ş—nup_pİ_»¡Üe
 (&
_bufãr
, (
DOIT
)); \

215 }

	)

217 
	#__libc_ş—nup_push
(
fù
, 
¬g
) \

218 { 
_±h»ad_ş—nup_bufãr
 
_bufãr
; \

219 
	`__libc_maybe_ÿÎ
 (
_±h»ad_ş—nup_push
, (&
_bufãr
, (
fù
), (
¬g
)), 0)

	)

221 
	#__libc_ş—nup_pİ
(
execu‹
) \

222 
	`__libc_maybe_ÿÎ
 (
_±h»ad_ş—nup_pİ
, (&
_bufãr
, 
execu‹
), 0); \

223 }

	)

226 
	#__libc_key_ü—‹
(
KEY
, 
DESTRUCTOR
) \

227 (
	`__libc_maybe_ÿÎ
 (
__±h»ad_key_ü—‹
, (
KEY
, 
DESTRUCTOR
), 1))

	)

230 
	#__libc_g‘¥ecific
(
KEY
) \

231 (
	`__libc_maybe_ÿÎ
 (
__±h»ad_g‘¥ecific
, (
KEY
), 
NULL
))

	)

234 
	#__libc_£t¥ecific
(
KEY
, 
VALUE
) \

235 (
	`__libc_maybe_ÿÎ
 (
__±h»ad_£t¥ecific
, (
KEY
, 
VALUE
), 0))

	)

239 
	#__libc_©fÜk
(
PREPARE
, 
PARENT
, 
CHILD
) \

240 (
	`__libc_maybe_ÿÎ
 (
__±h»ad_©fÜk
, (
PREPARE
, 
PARENT
, 
CHILD
), 0))

	)

242 
__BEGIN_DECLS


244 
_±h»ad_ş—nup_push_deãr
 (
_±h»ad_ş—nup_bufãr
 *
__bufãr
,

245 (*
__routše
) (*),

246 *
__¬g
è
__THROW
;

248 
	$_±h»ad_ş—nup_pİ_»¡Üe
 (
_±h»ad_ş—nup_bufãr
 *
__bufãr
,

249 
__execu‹
è
__THROW
;

255 
	`__±h»ad_mu‹x_š™
 (
±h»ad_mu‹x_t
 *
__mu‹x
,

256 
__cÚ¡
 
±h»ad_mu‹x©Œ_t
 *
__mu‹x_©Œ
);

258 
	`__±h»ad_mu‹x_de¡roy
 (
±h»ad_mu‹x_t
 *
__mu‹x
);

260 
	`__±h»ad_mu‹x_Œylock
 (
±h»ad_mu‹x_t
 *
__mu‹x
);

262 
	`__±h»ad_mu‹x_lock
 (
±h»ad_mu‹x_t
 *
__mu‹x
);

264 
	`__±h»ad_mu‹x_uÆock
 (
±h»ad_mu‹x_t
 *
__mu‹x
);

266 
	`__±h»ad_mu‹x©Œ_š™
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
);

268 
	`__±h»ad_mu‹x©Œ_de¡roy
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
);

270 
	`__±h»ad_mu‹x©Œ_£‰y³
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

271 
__kšd
);

273 #ifdeà
__USE_UNIX98


274 
	`__±h»ad_rwlock_š™
 (
±h»ad_rwlock_t
 *
__rwlock
,

275 
__cÚ¡
 
±h»ad_rwlock©Œ_t
 *
__©Œ
);

277 
	`__±h»ad_rwlock_de¡roy
 (
±h»ad_rwlock_t
 *
__rwlock
);

279 
	`__±h»ad_rwlock_rdlock
 (
±h»ad_rwlock_t
 *
__rwlock
);

281 
	`__±h»ad_rwlock_Œyrdlock
 (
±h»ad_rwlock_t
 *
__rwlock
);

283 
	`__±h»ad_rwlock_w¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
);

285 
	`__±h»ad_rwlock_Œyw¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
);

287 
	`__±h»ad_rwlock_uÆock
 (
±h»ad_rwlock_t
 *
__rwlock
);

290 
	`__±h»ad_key_ü—‹
 (
±h»ad_key_t
 *
__key
,

291 (*
__de¡r_funùiÚ
) (*));

293 
	`__±h»ad_£t¥ecific
 (
±h»ad_key_t
 
__key
,

294 
__cÚ¡
 *
__poš‹r
);

296 *
	`__±h»ad_g‘¥ecific
 (
±h»ad_key_t
 
__key
);

298 
	`__±h»ad_Úû
 (
±h»ad_Úû_t
 *
__Úû_cÚŒŞ
,

299 (*
__š™_routše
) ());

301 
	`__±h»ad_©fÜk
 ((*
__´•¬e
) (),

302 (*
__·»Á
) (),

303 (*
__chd
) ());

305 
__END_DECLS


309 #iâdeà
__NO_WEAK_PTHREAD_ALIASES


310 #´agm¨
w—k
 
__±h»ad_mu‹x_š™


311 #´agm¨
w—k
 
__±h»ad_mu‹x_de¡roy


312 #´agm¨
w—k
 
__±h»ad_mu‹x_lock


313 #´agm¨
w—k
 
__±h»ad_mu‹x_Œylock


314 #´agm¨
w—k
 
__±h»ad_mu‹x_uÆock


315 #´agm¨
w—k
 
__±h»ad_mu‹x©Œ_š™


316 #´agm¨
w—k
 
__±h»ad_mu‹x©Œ_de¡roy


317 #´agm¨
w—k
 
__±h»ad_mu‹x©Œ_£‰y³


318 #´agm¨
w—k
 
__±h»ad_rwlock_de¡roy


319 #´agm¨
w—k
 
__±h»ad_rwlock_rdlock


320 #´agm¨
w—k
 
__±h»ad_rwlock_Œyrdlock


321 #´agm¨
w—k
 
__±h»ad_rwlock_w¾ock


322 #´agm¨
w—k
 
__±h»ad_rwlock_Œyw¾ock


323 #´agm¨
w—k
 
__±h»ad_rwlock_uÆock


324 #´agm¨
w—k
 
__±h»ad_key_ü—‹


325 #´agm¨
w—k
 
__±h»ad_£t¥ecific


326 #´agm¨
w—k
 
__±h»ad_g‘¥ecific


327 #´agm¨
w—k
 
__±h»ad_Úû


328 #´agm¨
w—k
 
__±h»ad_š™Ÿlize


329 #´agm¨
w—k
 
__±h»ad_©fÜk


330 #´agm¨
w—k
 
_±h»ad_ş—nup_push_deãr


331 #´agm¨
w—k
 
_±h»ad_ş—nup_pİ_»¡Üe


332 #´agm¨
w—k
 
_±h»ad_ş—nup_push


333 #´agm¨
w—k
 
_±h»ad_ş—nup_pİ


338 
	#__libc_mu‹x_uÆock
 
__±h»ad_mu‹x_uÆock


	)

	@/usr/include/bits/posix_opt.h

20 #iâdef 
_BITS_POSIX_OPT_H


21 
	#_BITS_POSIX_OPT_H
 1

	)

24 
	#_POSIX_JOB_CONTROL
 1

	)

27 
	#_POSIX_SAVED_IDS
 1

	)

30 
	#_POSIX_PRIORITY_SCHEDULING
 200809L

	)

33 
	#_POSIX_SYNCHRONIZED_IO
 200809L

	)

36 
	#_POSIX_FSYNC
 200809L

	)

39 
	#_POSIX_MAPPED_FILES
 200809L

	)

42 
	#_POSIX_MEMLOCK
 200809L

	)

45 
	#_POSIX_MEMLOCK_RANGE
 200809L

	)

48 
	#_POSIX_MEMORY_PROTECTION
 200809L

	)

51 
	#_POSIX_CHOWN_RESTRICTED
 0

	)

55 
	#_POSIX_VDISABLE
 '\0'

	)

58 
	#_POSIX_NO_TRUNC
 1

	)

61 
	#_XOPEN_REALTIME
 1

	)

64 
	#_XOPEN_REALTIME_THREADS
 1

	)

67 
	#_XOPEN_SHM
 1

	)

70 
	#_POSIX_THREADS
 200809L

	)

73 
	#_POSIX_REENTRANT_FUNCTIONS
 1

	)

74 
	#_POSIX_THREAD_SAFE_FUNCTIONS
 200809L

	)

77 
	#_POSIX_THREAD_PRIORITY_SCHEDULING
 200809L

	)

80 
	#_POSIX_THREAD_ATTR_STACKSIZE
 200809L

	)

83 
	#_POSIX_THREAD_ATTR_STACKADDR
 200809L

	)

86 
	#_POSIX_THREAD_PRIO_INHERIT
 200809L

	)

90 
	#_POSIX_THREAD_PRIO_PROTECT
 200809L

	)

92 #ifdeà
__USE_XOPEN2K8


94 
	#_POSIX_THREAD_ROBUST_PRIO_INHERIT
 200809L

	)

97 
	#_POSIX_THREAD_ROBUST_PRIO_PROTECT
 -1

	)

101 
	#_POSIX_SEMAPHORES
 200809L

	)

104 
	#_POSIX_REALTIME_SIGNALS
 200809L

	)

107 
	#_POSIX_ASYNCHRONOUS_IO
 200809L

	)

108 
	#_POSIX_ASYNC_IO
 1

	)

110 
	#_LFS_ASYNCHRONOUS_IO
 1

	)

112 
	#_POSIX_PRIORITIZED_IO
 200809L

	)

115 
	#_LFS64_ASYNCHRONOUS_IO
 1

	)

118 
	#_LFS_LARGEFILE
 1

	)

119 
	#_LFS64_LARGEFILE
 1

	)

120 
	#_LFS64_STDIO
 1

	)

123 
	#_POSIX_SHARED_MEMORY_OBJECTS
 200809L

	)

126 
	#_POSIX_CPUTIME
 0

	)

129 
	#_POSIX_THREAD_CPUTIME
 0

	)

132 
	#_POSIX_REGEXP
 1

	)

135 
	#_POSIX_READER_WRITER_LOCKS
 200809L

	)

138 
	#_POSIX_SHELL
 1

	)

141 
	#_POSIX_TIMEOUTS
 200809L

	)

144 
	#_POSIX_SPIN_LOCKS
 200809L

	)

147 
	#_POSIX_SPAWN
 200809L

	)

150 
	#_POSIX_TIMERS
 200809L

	)

153 
	#_POSIX_BARRIERS
 200809L

	)

156 
	#_POSIX_MESSAGE_PASSING
 200809L

	)

159 
	#_POSIX_THREAD_PROCESS_SHARED
 200809L

	)

162 
	#_POSIX_MONOTONIC_CLOCK
 0

	)

165 
	#_POSIX_CLOCK_SELECTION
 200809L

	)

168 
	#_POSIX_ADVISORY_INFO
 200809L

	)

171 
	#_POSIX_IPV6
 200809L

	)

174 
	#_POSIX_RAW_SOCKETS
 200809L

	)

177 
	#_POSIX2_CHAR_TERM
 200809L

	)

180 
	#_POSIX_SPORADIC_SERVER
 -1

	)

181 
	#_POSIX_THREAD_SPORADIC_SERVER
 -1

	)

184 
	#_POSIX_TRACE
 -1

	)

185 
	#_POSIX_TRACE_EVENT_FILTER
 -1

	)

186 
	#_POSIX_TRACE_INHERIT
 -1

	)

187 
	#_POSIX_TRACE_LOG
 -1

	)

190 
	#_POSIX_TYPED_MEMORY_OBJECTS
 -1

	)

193 
	#_XOPEN_STREAMS
 -1

	)

	@/usr/include/bits/select.h

19 #iâdeà
_SYS_SELECT_H


23 
	~<b™s/wÜdsize.h
>

26 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

28 #ià
__WORDSIZE
 == 64

29 
	#__FD_ZERO_STOS
 "¡osq"

	)

31 
	#__FD_ZERO_STOS
 "¡o¦"

	)

34 
	#__FD_ZERO
(
fd¥
) \

36 
__d0
, 
__d1
; \

37 
__asm__
 
	`__vŞ©e__
 ("şd;„•; " 
__FD_ZERO_STOS
 \

38 : "=c" (
__d0
), "=D" (
__d1
) \

39 : "a" (0), "0" ( (
fd_£t
) \

40 /  (
__fd_mask
)), \

41 "1" (&
	`__FDS_BITS
 (
fd¥
)[0]) \

43 } 0)

	)

49 
	#__FD_ZERO
(
£t
) \

51 
__i
; \

52 
fd_£t
 *
__¬r
 = (
£t
); \

53 
__i
 = 0; __˜<  (
fd_£t
è/  (
__fd_mask
); ++__i) \

54 
	`__FDS_BITS
 (
__¬r
)[
__i
] = 0; \

55 } 0)

	)

59 
	#__FD_SET
(
d
, 
£t
è(
	`__FDS_BITS
 (£t)[
	`__FDELT
 (d)] |ğ
	`__FDMASK
 (d))

	)

60 
	#__FD_CLR
(
d
, 
£t
è(
	`__FDS_BITS
 (£t)[
	`__FDELT
 (d)] &ğ~
	`__FDMASK
 (d))

	)

61 
	#__FD_ISSET
(
d
, 
£t
) \

62 ((
	`__FDS_BITS
 (
£t
)[
	`__FDELT
 (
d
)] & 
	`__FDMASK
 (d)è!ğ0)

	)

	@/usr/include/bits/sigset.h

21 #iâdef 
_SIGSET_H_ty³s


22 
	#_SIGSET_H_ty³s
 1

	)

24 
	t__sig_©omic_t
;

28 
	#_SIGSET_NWORDS
 (1024 / (8 *  ()))

	)

31 
	m__v®
[
_SIGSET_NWORDS
];

32 } 
	t__sig£t_t
;

43 #ià!
defšed
 
_SIGSET_H_âs
 && defšed 
_SIGNAL_H


44 
	#_SIGSET_H_âs
 1

	)

46 #iâdeà
_EXTERN_INLINE


47 
	#_EXTERN_INLINE
 
__ex‹º_šlše


	)

51 
	#__sigmask
(
sig
) \

52 (((è1è<< (((
sig
è- 1è% (8 *  ())))

	)

55 
	#__sigwÜd
(
sig
è(((sigè- 1è/ (8 *  ()))

	)

57 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

58 
	#__sigem±y£t
(
£t
) \

59 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

60 
sig£t_t
 *
__£t
 = (
£t
); \

61 --
__út
 >ğ0è
__£t
->
__v®
[__cnt] = 0; \

62 0; }))

	)

63 
	#__sigfl£t
(
£t
) \

64 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

65 
sig£t_t
 *
__£t
 = (
£t
); \

66 --
__út
 >ğ0è
__£t
->
__v®
[__cnt] = ~0UL; \

67 0; }))

	)

69 #ifdeà
__USE_GNU


73 
	#__sigi£m±y£t
(
£t
) \

74 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

75 cÚ¡ 
sig£t_t
 *
__£t
 = (
£t
); \

76 
__»t
 = 
__£t
->
__v®
[--
__út
]; \

77 !
__»t
 && --
__út
 >= 0) \

78 
__»t
 = 
__£t
->
__v®
[
__út
]; \

79 
__»t
 =ğ0; }))

	)

80 
	#__sigªd£t
(
de¡
, 
Ëá
, 
right
) \

81 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

82 
sig£t_t
 *
__de¡
 = (
de¡
); \

83 cÚ¡ 
sig£t_t
 *
__Ëá
 = (
Ëá
); \

84 cÚ¡ 
sig£t_t
 *
__right
 = (
right
); \

85 --
__út
 >= 0) \

86 
__de¡
->
__v®
[
__út
] = (
__Ëá
->__val[__cnt] \

87 & 
__right
->
__v®
[
__út
]); \

88 0; }))

	)

89 
	#__sigÜ£t
(
de¡
, 
Ëá
, 
right
) \

90 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

91 
sig£t_t
 *
__de¡
 = (
de¡
); \

92 cÚ¡ 
sig£t_t
 *
__Ëá
 = (
Ëá
); \

93 cÚ¡ 
sig£t_t
 *
__right
 = (
right
); \

94 --
__út
 >= 0) \

95 
__de¡
->
__v®
[
__út
] = (
__Ëá
->__val[__cnt] \

96 | 
__right
->
__v®
[
__út
]); \

97 0; }))

	)

104 
__sigismemb”
 (
__cÚ¡
 
__sig£t_t
 *, );

105 
__sigadd£t
 (
__sig£t_t
 *, );

106 
__sigd–£t
 (
__sig£t_t
 *, );

108 #ifdeà
__USE_EXTERN_INLINES


109 
	#__SIGSETFN
(
NAME
, 
BODY
, 
CONST
) \

110 
_EXTERN_INLINE
 \

111 
	`NAME
 (
CONST
 
__sig£t_t
 *
__£t
, 
__sig
) \

113 
__mask
 = 
	`__sigmask
 (
__sig
); \

114 
__wÜd
 = 
	`__sigwÜd
 (
__sig
); \

115  
BODY
; \

116 }

	)

118 
__SIGSETFN
 (
__sigismemb”
, (
__£t
->
__v®
[
__wÜd
] & 
__mask
è? 1 : 0, 
__cÚ¡
)

119 
__SIGSETFN
 (
__sigadd£t
, ((
__£t
->
__v®
[
__wÜd
] |ğ
__mask
), 0), )

120 
__SIGSETFN
 (
__sigd–£t
, ((
__£t
->
__v®
[
__wÜd
] &ğ~
__mask
), 0), )

122 #undeà
__SIGSETFN


	@/usr/include/bits/unistd.h

20 #iâdeà
_UNISTD_H


24 
ssize_t
 
	$__»ad_chk
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

25 
size_t
 
__buæ’
è
__wur
;

26 
ssize_t
 
	`__REDIRECT
 (
__»ad_®Ÿs
, (
__fd
, *
__buf
,

27 
size_t
 
__nby‹s
), 
»ad
è
__wur
;

28 
ssize_t
 
	`__REDIRECT
 (
__»ad_chk_w¬n
,

29 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

30 
size_t
 
__buæ’
), 
__»ad_chk
)

31 
__wur
 
	`__w¬Ç‰r
 ("read called with bigger†engthhan size of "

34 
__ex‹º_®ways_šlše
 
__wur
 
ssize_t


35 
	$»ad
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
)

37 ià(
	`__bos0
 (
__buf
è!ğ(
size_t
) -1)

39 ià(!
	`__butš_cÚ¡ªt_p
 (
__nby‹s
))

40  
	`__»ad_chk
 (
__fd
, 
__buf
, 
__nby‹s
, 
	`__bos0
 (__buf));

42 ià(
__nby‹s
 > 
	`__bos0
 (
__buf
))

43  
	`__»ad_chk_w¬n
 (
__fd
, 
__buf
, 
__nby‹s
, 
	`__bos0
 (__buf));

45  
	`__»ad_®Ÿs
 (
__fd
, 
__buf
, 
__nby‹s
);

46 
	}
}

48 #ifdeà
__USE_UNIX98


49 
ssize_t
 
	$__´—d_chk
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

50 
__off_t
 
__off£t
, 
size_t
 
__bufsize
è
__wur
;

51 
ssize_t
 
	$__´—d64_chk
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

52 
__off64_t
 
__off£t
, 
size_t
 
__bufsize
è
__wur
;

53 
ssize_t
 
	`__REDIRECT
 (
__´—d_®Ÿs
,

54 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

55 
__off_t
 
__off£t
), 
´—d
è
__wur
;

56 
ssize_t
 
	`__REDIRECT
 (
__´—d64_®Ÿs
,

57 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

58 
__off64_t
 
__off£t
), 
´—d64
è
__wur
;

59 
ssize_t
 
	`__REDIRECT
 (
__´—d_chk_w¬n
,

60 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

61 
__off_t
 
__off£t
, 
size_t
 
__bufsize
), 
__´—d_chk
)

62 
__wur
 
	`__w¬Ç‰r
 ("pread called with bigger†engthhan size of "

64 
ssize_t
 
	`__REDIRECT
 (
__´—d64_chk_w¬n
,

65 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

66 
__off64_t
 
__off£t
, 
size_t
 
__bufsize
),

67 
__´—d64_chk
)

68 
__wur
 
	`__w¬Ç‰r
 ("pread64 called with bigger†engthhan size of "

71 #iâdeà
__USE_FILE_OFFSET64


72 
__ex‹º_®ways_šlše
 
__wur
 
ssize_t


73 
	$´—d
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
, 
__off_t
 
__off£t
)

75 ià(
	`__bos0
 (
__buf
è!ğ(
size_t
) -1)

77 ià(!
	`__butš_cÚ¡ªt_p
 (
__nby‹s
))

78  
	`__´—d_chk
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
, 
	`__bos0
 (__buf));

80 iàĞ
__nby‹s
 > 
	`__bos0
 (
__buf
))

81  
	`__´—d_chk_w¬n
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
,

82 
	`__bos0
 (
__buf
));

84  
	`__´—d_®Ÿs
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
);

85 
	}
}

87 
__ex‹º_®ways_šlše
 
__wur
 
ssize_t


88 
	$´—d
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
, 
__off64_t
 
__off£t
)

90 ià(
	`__bos0
 (
__buf
è!ğ(
size_t
) -1)

92 ià(!
	`__butš_cÚ¡ªt_p
 (
__nby‹s
))

93  
	`__´—d64_chk
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
, 
	`__bos0
 (__buf));

95 iàĞ
__nby‹s
 > 
	`__bos0
 (
__buf
))

96  
	`__´—d64_chk_w¬n
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
,

97 
	`__bos0
 (
__buf
));

100  
	`__´—d64_®Ÿs
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
);

101 
	}
}

104 #ifdeà
__USE_LARGEFILE64


105 
__ex‹º_®ways_šlše
 
__wur
 
ssize_t


106 
	$´—d64
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
, 
__off64_t
 
__off£t
)

108 ià(
	`__bos0
 (
__buf
è!ğ(
size_t
) -1)

110 ià(!
	`__butš_cÚ¡ªt_p
 (
__nby‹s
))

111  
	`__´—d64_chk
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
, 
	`__bos0
 (__buf));

113 iàĞ
__nby‹s
 > 
	`__bos0
 (
__buf
))

114  
	`__´—d64_chk_w¬n
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
,

115 
	`__bos0
 (
__buf
));

118  
	`__´—d64_®Ÿs
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
);

119 
	}
}

123 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


124 
ssize_t
 
	$__»adlšk_chk
 (
__cÚ¡
 *
__»¡riù
 
__·th
,

125 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
,

126 
size_t
 
__buæ’
)

127 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

128 
ssize_t
 
	`__REDIRECT_NTH
 (
__»adlšk_®Ÿs
,

129 (
__cÚ¡
 *
__»¡riù
 
__·th
,

130 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
), 
»adlšk
)

131 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

132 
ssize_t
 
	`__REDIRECT_NTH
 (
__»adlšk_chk_w¬n
,

133 (
__cÚ¡
 *
__»¡riù
 
__·th
,

134 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
,

135 
size_t
 
__buæ’
), 
__»adlšk_chk
)

136 
	`__nÚnuÎ
 ((1, 2)è
__wur
 
	`__w¬Ç‰r
 ("readlink called with bigger†ength "

139 
__ex‹º_®ways_šlše
 
	`__nÚnuÎ
 ((1, 2)è
__wur
 
ssize_t


140 
	`__NTH
 (
	$»adlšk
 (
__cÚ¡
 *
__»¡riù
 
__·th
, *__»¡riù 
__buf
,

141 
size_t
 
__Ën
))

143 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

145 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

146  
	`__»adlšk_chk
 (
__·th
, 
__buf
, 
__Ën
, 
	`__bos
 (__buf));

148 iàĞ
__Ën
 > 
	`__bos
 (
__buf
))

149  
	`__»adlšk_chk_w¬n
 (
__·th
, 
__buf
, 
__Ën
, 
	`__bos
 (__buf));

151  
	`__»adlšk_®Ÿs
 (
__·th
, 
__buf
, 
__Ën
);

152 
	}
}

155 #ifdeà
__USE_ATFILE


156 
ssize_t
 
	$__»adlšk©_chk
 (
__fd
, 
__cÚ¡
 *
__»¡riù
 
__·th
,

157 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
,

158 
size_t
 
__buæ’
)

159 
__THROW
 
	`__nÚnuÎ
 ((2, 3)è
__wur
;

160 
ssize_t
 
	`__REDIRECT_NTH
 (
__»adlšk©_®Ÿs
,

161 (
__fd
, 
__cÚ¡
 *
__»¡riù
 
__·th
,

162 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
),

163 
»adlšk©
)

164 
	`__nÚnuÎ
 ((2, 3)è
__wur
;

165 
ssize_t
 
	`__REDIRECT_NTH
 (
__»adlšk©_chk_w¬n
,

166 (
__fd
, 
__cÚ¡
 *
__»¡riù
 
__·th
,

167 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
,

168 
size_t
 
__buæ’
), 
__»adlšk©_chk
)

169 
	`__nÚnuÎ
 ((2, 3)è
__wur
 
	`__w¬Ç‰r
 ("readlinkat called with bigger "

173 
__ex‹º_®ways_šlše
 
	`__nÚnuÎ
 ((2, 3)è
__wur
 
ssize_t


174 
	`__NTH
 (
	$»adlšk©
 (
__fd
, 
__cÚ¡
 *
__»¡riù
 
__·th
,

175 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
))

177 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

179 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

180  
	`__»adlšk©_chk
 (
__fd
, 
__·th
, 
__buf
, 
__Ën
, 
	`__bos
 (__buf));

182 ià(
__Ën
 > 
	`__bos
 (
__buf
))

183  
	`__»adlšk©_chk_w¬n
 (
__fd
, 
__·th
, 
__buf
, 
__Ën
,

184 
	`__bos
 (
__buf
));

186  
	`__»adlšk©_®Ÿs
 (
__fd
, 
__·th
, 
__buf
, 
__Ën
);

187 
	}
}

190 *
	$__g‘cwd_chk
 (*
__buf
, 
size_t
 
__size
, size_ˆ
__buæ’
)

191 
__THROW
 
__wur
;

192 *
	`__REDIRECT_NTH
 (
__g‘cwd_®Ÿs
,

193 (*
__buf
, 
size_t
 
__size
), 
g‘cwd
è
__wur
;

194 *
	`__REDIRECT_NTH
 (
__g‘cwd_chk_w¬n
,

195 (*
__buf
, 
size_t
 
__size
, size_ˆ
__buæ’
),

196 
__g‘cwd_chk
)

197 
__wur
 
	`__w¬Ç‰r
 ("getcwd caller with bigger†engthhan size of "

200 
__ex‹º_®ways_šlše
 
__wur
 *

201 
	`__NTH
 (
	$g‘cwd
 (*
__buf
, 
size_t
 
__size
))

203 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

205 ià(!
	`__butš_cÚ¡ªt_p
 (
__size
))

206  
	`__g‘cwd_chk
 (
__buf
, 
__size
, 
	`__bos
 (__buf));

208 ià(
__size
 > 
	`__bos
 (
__buf
))

209  
	`__g‘cwd_chk_w¬n
 (
__buf
, 
__size
, 
	`__bos
 (__buf));

211  
	`__g‘cwd_®Ÿs
 (
__buf
, 
__size
);

212 
	}
}

214 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


215 *
	$__g‘wd_chk
 (*
__buf
, 
size_t
 
buæ’
)

216 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

217 *
	`__REDIRECT_NTH
 (
__g‘wd_w¬n
, (*
__buf
), 
g‘wd
)

218 
	`__nÚnuÎ
 ((1)è
__wur
 
	`__w¬Ç‰r
 ("please use getcwd instead,‡s getwd "

221 
__ex‹º_®ways_šlše
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
 
__wur
 *

222 
	`__NTH
 (
	$g‘wd
 (*
__buf
))

224 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

225  
	`__g‘wd_chk
 (
__buf
, 
	`__bos
 (__buf));

226  
	`__g‘wd_w¬n
 (
__buf
);

227 
	}
}

230 
size_t
 
	$__cÚf¡r_chk
 (
__Çme
, *
__buf
, 
size_t
 
__Ën
,

231 
size_t
 
__buæ’
è
__THROW
;

232 
size_t
 
	`__REDIRECT_NTH
 (
__cÚf¡r_®Ÿs
, (
__Çme
, *
__buf
,

233 
size_t
 
__Ën
), 
cÚf¡r
);

234 
size_t
 
	`__REDIRECT_NTH
 (
__cÚf¡r_chk_w¬n
,

235 (
__Çme
, *
__buf
, 
size_t
 
__Ën
,

236 
size_t
 
__buæ’
), 
__cÚf¡r_chk
)

237 
	`__w¬Ç‰r
 ("confstr called with bigger†engthhan size of destination "

240 
__ex‹º_®ways_šlše
 
size_t


241 
	`__NTH
 (
	$cÚf¡r
 (
__Çme
, *
__buf
, 
size_t
 
__Ën
))

243 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

245 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

246  
	`__cÚf¡r_chk
 (
__Çme
, 
__buf
, 
__Ën
, 
	`__bos
 (__buf));

248 ià(
	`__bos
 (
__buf
è< 
__Ën
)

249  
	`__cÚf¡r_chk_w¬n
 (
__Çme
, 
__buf
, 
__Ën
, 
	`__bos
 (__buf));

251  
	`__cÚf¡r_®Ÿs
 (
__Çme
, 
__buf
, 
__Ën
);

252 
	}
}

255 
	$__g‘groups_chk
 (
__size
, 
__gid_t
 
__li¡
[], 
size_t
 
__li¡Ën
)

256 
__THROW
 
__wur
;

257 
	`__REDIRECT_NTH
 (
__g‘groups_®Ÿs
, (
__size
, 
__gid_t
 
__li¡
[]),

258 
g‘groups
è
__wur
;

259 
	`__REDIRECT_NTH
 (
__g‘groups_chk_w¬n
,

260 (
__size
, 
__gid_t
 
__li¡
[], 
size_t
 
__li¡Ën
),

261 
__g‘groups_chk
)

262 
__wur
 
	`__w¬Ç‰r
 ("getgroups called with bigger group counthan what "

265 
__ex‹º_®ways_šlše
 

266 
	`__NTH
 (
	$g‘groups
 (
__size
, 
__gid_t
 
__li¡
[]))

268 ià(
	`__bos
 (
__li¡
è!ğ(
size_t
) -1)

270 ià(!
	`__butš_cÚ¡ªt_p
 (
__size
) || __size < 0)

271  
	`__g‘groups_chk
 (
__size
, 
__li¡
, 
	`__bos
 (__list));

273 ià(
__size
 *  (
__gid_t
è> 
	`__bos
 (
__li¡
))

274  
	`__g‘groups_chk_w¬n
 (
__size
, 
__li¡
, 
	`__bos
 (__list));

276  
	`__g‘groups_®Ÿs
 (
__size
, 
__li¡
);

277 
	}
}

280 
	$__‰yÇme_r_chk
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
,

281 
size_t
 
__Ä—l
è
__THROW
 
	`__nÚnuÎ
 ((2));

282 
	`__REDIRECT_NTH
 (
__‰yÇme_r_®Ÿs
, (
__fd
, *
__buf
,

283 
size_t
 
__buæ’
), 
‰yÇme_r
)

284 
	`__nÚnuÎ
 ((2));

285 
	`__REDIRECT_NTH
 (
__‰yÇme_r_chk_w¬n
,

286 (
__fd
, *
__buf
, 
size_t
 
__buæ’
,

287 
size_t
 
__Ä—l
), 
__‰yÇme_r_chk
)

288 
	`__nÚnuÎ
 ((2)è
	`__w¬Ç‰r
 ("ttyname_r called with bigger buflenhan "

291 
__ex‹º_®ways_šlše
 

292 
	`__NTH
 (
	$‰yÇme_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
))

294 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

296 ià(!
	`__butš_cÚ¡ªt_p
 (
__buæ’
))

297  
	`__‰yÇme_r_chk
 (
__fd
, 
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

299 ià(
__buæ’
 > 
	`__bos
 (
__buf
))

300  
	`__‰yÇme_r_chk_w¬n
 (
__fd
, 
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

302  
	`__‰yÇme_r_®Ÿs
 (
__fd
, 
__buf
, 
__buæ’
);

303 
	}
}

306 #ià
defšed
 
__USE_REENTRANT
 || defšed 
__USE_POSIX199506


307 
	$__g‘logš_r_chk
 (*
__buf
, 
size_t
 
__buæ’
, size_ˆ
__Ä—l
)

308 
	`__nÚnuÎ
 ((1));

309 
	`__REDIRECT
 (
__g‘logš_r_®Ÿs
, (*
__buf
, 
size_t
 
__buæ’
),

310 
g‘logš_r
è
	`__nÚnuÎ
 ((1));

311 
	`__REDIRECT
 (
__g‘logš_r_chk_w¬n
,

312 (*
__buf
, 
size_t
 
__buæ’
, size_ˆ
__Ä—l
),

313 
__g‘logš_r_chk
)

314 
	`__nÚnuÎ
 ((1)è
	`__w¬Ç‰r
 ("getlogin_r called with bigger buflenhan "

317 
__ex‹º_®ways_šlše
 

318 
	$g‘logš_r
 (*
__buf
, 
size_t
 
__buæ’
)

320 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

322 ià(!
	`__butš_cÚ¡ªt_p
 (
__buæ’
))

323  
	`__g‘logš_r_chk
 (
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

325 ià(
__buæ’
 > 
	`__bos
 (
__buf
))

326  
	`__g‘logš_r_chk_w¬n
 (
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

328  
	`__g‘logš_r_®Ÿs
 (
__buf
, 
__buæ’
);

329 
	}
}

333 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_UNIX98


334 
	$__g‘ho¡Çme_chk
 (*
__buf
, 
size_t
 
__buæ’
, size_ˆ
__Ä—l
)

335 
__THROW
 
	`__nÚnuÎ
 ((1));

336 
	`__REDIRECT_NTH
 (
__g‘ho¡Çme_®Ÿs
, (*
__buf
, 
size_t
 
__buæ’
),

337 
g‘ho¡Çme
è
	`__nÚnuÎ
 ((1));

338 
	`__REDIRECT_NTH
 (
__g‘ho¡Çme_chk_w¬n
,

339 (*
__buf
, 
size_t
 
__buæ’
, size_ˆ
__Ä—l
),

340 
__g‘ho¡Çme_chk
)

341 
	`__nÚnuÎ
 ((1)è
	`__w¬Ç‰r
 ("gethostname called with bigger buflenhan "

344 
__ex‹º_®ways_šlše
 

345 
	`__NTH
 (
	$g‘ho¡Çme
 (*
__buf
, 
size_t
 
__buæ’
))

347 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

349 ià(!
	`__butš_cÚ¡ªt_p
 (
__buæ’
))

350  
	`__g‘ho¡Çme_chk
 (
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

352 ià(
__buæ’
 > 
	`__bos
 (
__buf
))

353  
	`__g‘ho¡Çme_chk_w¬n
 (
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

355  
	`__g‘ho¡Çme_®Ÿs
 (
__buf
, 
__buæ’
);

356 
	}
}

360 #ià
defšed
 
__USE_BSD
 || (defšed 
__USE_XOPEN
 && !defšed 
__USE_UNIX98
)

361 
	$__g‘domašÇme_chk
 (*
__buf
, 
size_t
 
__buæ’
, size_ˆ
__Ä—l
)

362 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

363 
	`__REDIRECT_NTH
 (
__g‘domašÇme_®Ÿs
, (*
__buf
,

364 
size_t
 
__buæ’
),

365 
g‘domašÇme
è
	`__nÚnuÎ
 ((1)è
__wur
;

366 
	`__REDIRECT_NTH
 (
__g‘domašÇme_chk_w¬n
,

367 (*
__buf
, 
size_t
 
__buæ’
, size_ˆ
__Ä—l
),

368 
__g‘domašÇme_chk
)

369 
	`__nÚnuÎ
 ((1)è
__wur
 
	`__w¬Ç‰r
 ("getdomainname called with bigger "

373 
__ex‹º_®ways_šlše
 

374 
	`__NTH
 (
	$g‘domašÇme
 (*
__buf
, 
size_t
 
__buæ’
))

376 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

378 ià(!
	`__butš_cÚ¡ªt_p
 (
__buæ’
))

379  
	`__g‘domašÇme_chk
 (
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

381 ià(
__buæ’
 > 
	`__bos
 (
__buf
))

382  
	`__g‘domašÇme_chk_w¬n
 (
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

384  
	`__g‘domašÇme_®Ÿs
 (
__buf
, 
__buæ’
);

385 
	}
}

	@/usr/include/gconv.h

23 #iâdeà
_GCONV_H


24 
	#_GCONV_H
 1

	)

26 
	~<ã©u»s.h
>

27 
	#__Ãed_mb¡©e_t


	)

28 
	#__Ãed_wšt_t


	)

29 
	~<wch¬.h
>

30 
	#__Ãed_size_t


	)

31 
	#__Ãed_wch¬_t


	)

32 
	~<¡ddef.h
>

35 
	#__UNKNOWN_10646_CHAR
 ((
wch¬_t
è0xfffd)

	)

40 
	m__GCONV_OK
 = 0,

41 
	m__GCONV_NOCONV
,

42 
	m__GCONV_NODB
,

43 
	m__GCONV_NOMEM
,

45 
	m__GCONV_EMPTY_INPUT
,

46 
	m__GCONV_FULL_OUTPUT
,

47 
	m__GCONV_ILLEGAL_INPUT
,

48 
	m__GCONV_INCOMPLETE_INPUT
,

50 
	m__GCONV_ILLEGAL_DESCRIPTOR
,

51 
	m__GCONV_INTERNAL_ERROR


58 
	m__GCONV_IS_LAST
 = 0x0001,

59 
	m__GCONV_IGNORE_ERRORS
 = 0x0002

64 
	g__gcÚv_¡•
;

65 
	g__gcÚv_¡•_d©a
;

66 
	g__gcÚv_lßded_objeù
;

67 
	g__gcÚv_Œªs_d©a
;

71 (*
	t__gcÚv_fù
è(
	t__gcÚv_¡•
 *, 
	t__gcÚv_¡•_d©a
 *,

72 
	t__cÚ¡
 **, __const *,

73 **, 
	tsize_t
 *, , );

76 
	$wšt_t
 (*
	t__gcÚv_btowc_fù
è(
	t__gcÚv_¡•
 *, );

79 (*
	t__gcÚv_š™_fù
è(
	t__gcÚv_¡•
 *);

80 (*
	t__gcÚv_’d_fù
è(
	t__gcÚv_¡•
 *);

84 (*
	t__gcÚv_Œªs_fù
è(
	t__gcÚv_¡•
 *,

85 
	t__gcÚv_¡•_d©a
 *, *,

86 
	t__cÚ¡
 *,

87 
	t__cÚ¡
 **,

88 
	t__cÚ¡
 *, **,

89 
	tsize_t
 *);

92 (*
	t__gcÚv_Œªs_cÚ‹xt_fù
è(*, 
	t__cÚ¡
 *,

93 
	t__cÚ¡
 *,

97 (*
	t__gcÚv_Œªs_qu”y_fù
è(
	t__cÚ¡
 *, __const ***,

98 
	tsize_t
 *);

101 (*
	t__gcÚv_Œªs_š™_fù
) (**, const *);

102 (*
	t__gcÚv_Œªs_’d_fù
) (*);

104 
	s__gcÚv_Œªs_d©a


107 
__gcÚv_Œªs_fù
 
__Œªs_fù
;

108 
__gcÚv_Œªs_cÚ‹xt_fù
 
__Œªs_cÚ‹xt_fù
;

109 
__gcÚv_Œªs_’d_fù
 
__Œªs_’d_fù
;

110 *
__d©a
;

111 
__gcÚv_Œªs_d©a
 *
__Ãxt
;

116 
	s__gcÚv_¡•


118 
__gcÚv_lßded_objeù
 *
__shlib_hªdË
;

119 
__cÚ¡
 *
__modÇme
;

121 
__couÁ”
;

123 *
__äom_Çme
;

124 *
__to_Çme
;

126 
__gcÚv_fù
 
__fù
;

127 
__gcÚv_btowc_fù
 
__btowc_fù
;

128 
__gcÚv_š™_fù
 
__š™_fù
;

129 
__gcÚv_’d_fù
 
__’d_fù
;

133 
__mš_Ãeded_äom
;

134 
__max_Ãeded_äom
;

135 
__mš_Ãeded_to
;

136 
__max_Ãeded_to
;

139 
__¡©eful
;

141 *
__d©a
;

146 
	s__gcÚv_¡•_d©a


148 *
__outbuf
;

149 *
__outbuãnd
;

153 
__æags
;

157 
__švoÿtiÚ_couÁ”
;

161 
__š‹º®_u£
;

163 
__mb¡©e_t
 *
__¡©•
;

164 
__mb¡©e_t
 
__¡©e
;

168 
__gcÚv_Œªs_d©a
 *
__Œªs
;

173 
	s__gcÚv_šfo


175 
size_t
 
__n¡•s
;

176 
__gcÚv_¡•
 *
__¡•s
;

177 
__ex‹nsiÚ__
 
__gcÚv_¡•_d©a
 
__d©a
 
__æex¬r
;

178 } *
	t__gcÚv_t
;

	@/usr/include/gnu/stubs-64.h

6 #ifdeà
_LIBC


7 #”rÜ 
AµliÿtiÚs
 
may
 
nÙ
 
defše
 
the
 
maüo
 
_LIBC


10 
	#__¡ub_bdæush


	)

11 
	#__¡ub_chæags


	)

12 
	#__¡ub_ç‰ach


	)

13 
	#__¡ub_fchæags


	)

14 
	#__¡ub_fd‘ach


	)

15 
	#__¡ub_g‘msg


	)

16 
	#__¡ub_g‰y


	)

17 
	#__¡ub_lchmod


	)

18 
	#__¡ub_putmsg


	)

19 
	#__¡ub_»voke


	)

20 
	#__¡ub_£ogš


	)

21 
	#__¡ub_sig»tuº


	)

22 
	#__¡ub_s¡k


	)

23 
	#__¡ub_¡ty


	)

	@/usr/include/linux/limits.h

1 #iâdeà
_LINUX_LIMITS_H


2 
	#_LINUX_LIMITS_H


	)

4 
	#NR_OPEN
 1024

	)

6 
	#NGROUPS_MAX
 65536

	)

7 
	#ARG_MAX
 131072

	)

8 
	#LINK_MAX
 127

	)

9 
	#MAX_CANON
 255

	)

10 
	#MAX_INPUT
 255

	)

11 
	#NAME_MAX
 255

	)

12 
	#PATH_MAX
 4096

	)

13 
	#PIPE_BUF
 4096

	)

14 
	#XATTR_NAME_MAX
 255

	)

15 
	#XATTR_SIZE_MAX
 65536

	)

16 
	#XATTR_LIST_MAX
 65536

	)

18 
	#RTSIG_MAX
 32

	)

	@/usr/include/wchar.h

24 #iâdeà
_WCHAR_H


26 #ià!
defšed
 
__Ãed_mb¡©e_t
 && !defšed 
__Ãed_wšt_t


27 
	#_WCHAR_H
 1

	)

28 
	~<ã©u»s.h
>

31 #ifdeà
_WCHAR_H


33 
	#__Ãed___FILE


	)

34 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


35 
	#__Ãed_FILE


	)

37 
	~<¡dio.h
>

39 
	#__Ãed___va_li¡


	)

40 
	~<¡d¬g.h
>

42 
	~<b™s/wch¬.h
>

45 
	#__Ãed_size_t


	)

46 
	#__Ãed_wch¬_t


	)

47 
	#__Ãed_NULL


	)

49 #ià
defšed
 
_WCHAR_H
 || defšed 
__Ãed_wšt_t
 || !defšed 
__WINT_TYPE__


50 #undeà
__Ãed_wšt_t


51 
	#__Ãed_wšt_t


	)

52 
	~<¡ddef.h
>

56 #iâdeà
_WINT_T


61 
	#_WINT_T


	)

62 
	twšt_t
;

66 #ià
defšed
 
__ılu¥lus
 && defšed 
_GLIBCPP_USE_NAMESPACES
 \

67 && 
defšed
 
__WINT_TYPE__


68 
__BEGIN_NAMESPACE_STD


69 
__WINT_TYPE__
 
	twšt_t
;

70 
	g__END_NAMESPACE_STD


75 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

76 
	#__CORRECT_ISO_CPP_WCHAR_H_PROTO


	)

80 #ià(
defšed
 
_WCHAR_H
 || defšed 
__Ãed_mb¡©e_t
è&& !defšed 
__mb¡©e_t_defšed


81 
	#__mb¡©e_t_defšed
 1

	)

85 
	m__couÁ
;

88 #ifdeà
__WINT_TYPE__


89 
__WINT_TYPE__
 
	m__wch
;

91 
wšt_t
 
	m__wch
;

93 
	m__wchb
[4];

94 } 
	m__v®ue
;

95 } 
	t__mb¡©e_t
;

97 #undeà
__Ãed_mb¡©e_t


102 #ifdeà
_WCHAR_H


104 
__BEGIN_NAMESPACE_C99


106 
__mb¡©e_t
 
	tmb¡©e_t
;

107 
	g__END_NAMESPACE_C99


108 #ifdeà
__USE_GNU


109 
	$__USING_NAMESPACE_C99
(
mb¡©e_t
)

112 #iâdeà
WCHAR_MIN


114 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

115 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

118 #iâdeà
WEOF


119 
	#WEOF
 (0xffffffffu)

	)

124 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_UNIX98


125 
	~<wùy³.h
>

129 
__BEGIN_DECLS


131 
__BEGIN_NAMESPACE_STD


134 
tm
;

135 
__END_NAMESPACE_STD


139 
	$__USING_NAMESPACE_STD
(
tm
)

142 
__BEGIN_NAMESPACE_STD


144 
wch¬_t
 *
	$wcsıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

145 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

147 
wch¬_t
 *
	$wc¢ıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

148 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

149 
__THROW
;

152 
wch¬_t
 *
	$wcsÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

153 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

155 
wch¬_t
 *
	$wc¢ÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

156 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

157 
__THROW
;

160 
	$wcscmp
 (
__cÚ¡
 
wch¬_t
 *
__s1
, __cÚ¡ wch¬_ˆ*
__s2
)

161 
__THROW
 
__©Œibu‹_pu»__
;

163 
	$wc¢cmp
 (
__cÚ¡
 
wch¬_t
 *
__s1
, __cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

164 
__THROW
 
__©Œibu‹_pu»__
;

165 
__END_NAMESPACE_STD


167 #ifdeà
__USE_XOPEN2K8


169 
	$wcsÿ£cmp
 (
__cÚ¡
 
wch¬_t
 *
__s1
, __cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

172 
	$wc¢ÿ£cmp
 (
__cÚ¡
 
wch¬_t
 *
__s1
, __cÚ¡ wch¬_ˆ*
__s2
,

173 
size_t
 
__n
è
__THROW
;

177 
	~<xloÿË.h
>

179 
	$wcsÿ£cmp_l
 (
__cÚ¡
 
wch¬_t
 *
__s1
, __cÚ¡ wch¬_ˆ*
__s2
,

180 
__loÿË_t
 
__loc
è
__THROW
;

182 
	$wc¢ÿ£cmp_l
 (
__cÚ¡
 
wch¬_t
 *
__s1
, __cÚ¡ wch¬_ˆ*
__s2
,

183 
size_t
 
__n
, 
__loÿË_t
 
__loc
è
__THROW
;

186 
__BEGIN_NAMESPACE_STD


189 
	$wcscŞl
 (
__cÚ¡
 
wch¬_t
 *
__s1
, __cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

193 
size_t
 
	$wcsxäm
 (
wch¬_t
 *
__»¡riù
 
__s1
,

194 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

195 
__END_NAMESPACE_STD


197 #ifdeà
__USE_XOPEN2K8


203 
	$wcscŞl_l
 (
__cÚ¡
 
wch¬_t
 *
__s1
, __cÚ¡ wch¬_ˆ*
__s2
,

204 
__loÿË_t
 
__loc
è
__THROW
;

209 
size_t
 
	$wcsxäm_l
 (
wch¬_t
 *
__s1
, 
__cÚ¡
 wch¬_ˆ*
__s2
,

210 
size_t
 
__n
, 
__loÿË_t
 
__loc
è
__THROW
;

213 
wch¬_t
 *
	$wcsdup
 (
__cÚ¡
 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_m®loc__
;

216 
__BEGIN_NAMESPACE_STD


218 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


219 "C++" 
wch¬_t
 *
	$wcschr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

220 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

221 "C++" 
__cÚ¡
 
wch¬_t
 *
	$wcschr
 (
__cÚ¡
 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

222 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

224 
wch¬_t
 *
	$wcschr
 (
__cÚ¡
 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

225 
__THROW
 
__©Œibu‹_pu»__
;

228 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


229 "C++" 
wch¬_t
 *
	$wc¤chr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

230 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

231 "C++" 
__cÚ¡
 
wch¬_t
 *
	$wc¤chr
 (
__cÚ¡
 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

232 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

234 
wch¬_t
 *
	$wc¤chr
 (
__cÚ¡
 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

235 
__THROW
 
__©Œibu‹_pu»__
;

237 
__END_NAMESPACE_STD


239 #ifdeà
__USE_GNU


242 
wch¬_t
 *
	$wcschºul
 (
__cÚ¡
 
wch¬_t
 *
__s
, wch¬_ˆ
__wc
)

243 
__THROW
 
__©Œibu‹_pu»__
;

246 
__BEGIN_NAMESPACE_STD


249 
size_t
 
	$wcsc¥n
 (
__cÚ¡
 
wch¬_t
 *
__wcs
, __cÚ¡ wch¬_ˆ*
__»jeù
)

250 
__THROW
 
__©Œibu‹_pu»__
;

253 
size_t
 
	$wcs¥n
 (
__cÚ¡
 
wch¬_t
 *
__wcs
, __cÚ¡ wch¬_ˆ*
__acû±
)

254 
__THROW
 
__©Œibu‹_pu»__
;

256 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


257 "C++" 
wch¬_t
 *
	$wc¥brk
 (
wch¬_t
 *
__wcs
, 
__cÚ¡
 wch¬_ˆ*
__acû±
)

258 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

259 "C++" 
__cÚ¡
 
wch¬_t
 *
	$wc¥brk
 (
__cÚ¡
 
wch¬_t
 *
__wcs
,

260 
__cÚ¡
 
wch¬_t
 *
__acû±
)

261 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

263 
wch¬_t
 *
	$wc¥brk
 (
__cÚ¡
 
wch¬_t
 *
__wcs
, __cÚ¡ wch¬_ˆ*
__acû±
)

264 
__THROW
 
__©Œibu‹_pu»__
;

267 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


268 "C++" 
wch¬_t
 *
	$wcs¡r
 (
wch¬_t
 *
__hay¡ack
, 
__cÚ¡
 wch¬_ˆ*
__ÃedË
)

269 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

270 "C++" 
__cÚ¡
 
wch¬_t
 *
	$wcs¡r
 (
__cÚ¡
 
wch¬_t
 *
__hay¡ack
,

271 
__cÚ¡
 
wch¬_t
 *
__ÃedË
)

272 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

274 
wch¬_t
 *
	$wcs¡r
 (
__cÚ¡
 
wch¬_t
 *
__hay¡ack
, __cÚ¡ wch¬_ˆ*
__ÃedË
)

275 
__THROW
 
__©Œibu‹_pu»__
;

279 
wch¬_t
 *
	$wc¡ok
 (
wch¬_t
 *
__»¡riù
 
__s
,

280 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__d–im
,

281 
wch¬_t
 **
__»¡riù
 
__±r
è
__THROW
;

284 
size_t
 
	$wc¦’
 (
__cÚ¡
 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_pu»__
;

285 
__END_NAMESPACE_STD


287 #ifdeà
__USE_XOPEN


289 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


290 "C++" 
wch¬_t
 *
	$wcswcs
 (
wch¬_t
 *
__hay¡ack
, 
__cÚ¡
 wch¬_ˆ*
__ÃedË
)

291 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

292 "C++" 
__cÚ¡
 
wch¬_t
 *
	$wcswcs
 (
__cÚ¡
 
wch¬_t
 *
__hay¡ack
,

293 
__cÚ¡
 
wch¬_t
 *
__ÃedË
)

294 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

296 
wch¬_t
 *
	$wcswcs
 (
__cÚ¡
 
wch¬_t
 *
__hay¡ack
, __cÚ¡ wch¬_ˆ*
__ÃedË
)

297 
__THROW
 
__©Œibu‹_pu»__
;

301 #ifdeà
__USE_XOPEN2K8


303 
size_t
 
	$wc¢Ën
 (
__cÚ¡
 
wch¬_t
 *
__s
, 
size_t
 
__maxËn
)

304 
__THROW
 
__©Œibu‹_pu»__
;

308 
__BEGIN_NAMESPACE_STD


310 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


311 "C++" 
wch¬_t
 *
	$wmemchr
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

312 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

313 "C++" 
__cÚ¡
 
wch¬_t
 *
	$wmemchr
 (
__cÚ¡
 
wch¬_t
 *
__s
, wch¬_ˆ
__c
,

314 
size_t
 
__n
)

315 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

317 
wch¬_t
 *
	$wmemchr
 (
__cÚ¡
 
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

318 
__THROW
 
__©Œibu‹_pu»__
;

322 
	$wmemcmp
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s1
,

323 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
)

324 
__THROW
 
__©Œibu‹_pu»__
;

327 
wch¬_t
 *
	$wmemıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

328 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

332 
wch¬_t
 *
	$wmemmove
 (
wch¬_t
 *
__s1
, 
__cÚ¡
 wch¬_ˆ*
__s2
, 
size_t
 
__n
)

333 
__THROW
;

336 
wch¬_t
 *
	$wmem£t
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
è
__THROW
;

337 
__END_NAMESPACE_STD


339 #ifdeà
__USE_GNU


342 
wch¬_t
 *
	$wmempıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

343 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
)

344 
__THROW
;

348 
__BEGIN_NAMESPACE_STD


351 
wšt_t
 
	$btowc
 (
__c
è
__THROW
;

355 
	$wùob
 (
wšt_t
 
__c
è
__THROW
;

359 
	$mbsš™
 (
__cÚ¡
 
mb¡©e_t
 *
__ps
è
__THROW
 
__©Œibu‹_pu»__
;

363 
size_t
 
	$mb¹owc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

364 
__cÚ¡
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

365 
mb¡©e_t
 *
__p
è
__THROW
;

368 
size_t
 
	$wütomb
 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wc
,

369 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

372 
size_t
 
	$__mb¾’
 (
__cÚ¡
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

373 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

374 
size_t
 
	$mb¾’
 (
__cÚ¡
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

375 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

376 
__END_NAMESPACE_STD


378 #ifdeà
__USE_EXTERN_INLINES


384 
wšt_t
 
	$__btowc_®Ÿs
 (
__c
è
	`__asm
 ("btowc");

385 
__ex‹º_šlše
 
wšt_t


386 
	`__NTH
 (
	$btowc
 (
__c
))

387 {  (
	`__butš_cÚ¡ªt_p
 (
__c
) && __c >= '\0' && __c <= '\x7f'

388 ? (
wšt_t
è
__c
 : 
	`__btowc_®Ÿs
 (__c)); 
	}
}

390 
	$__wùob_®Ÿs
 (
wšt_t
 
__c
è
	`__asm
 ("wctob");

391 
__ex‹º_šlše
 

392 
	`__NTH
 (
	$wùob
 (
wšt_t
 
__wc
))

393 {  (
	`__butš_cÚ¡ªt_p
 (
__wc
è&& __wø>ğ
L
'\0' && __wc <= L'\x7f'

394 ? (è
__wc
 : 
	`__wùob_®Ÿs
 (__wc)); 
	}
}

396 
__ex‹º_šlše
 
size_t


397 
__NTH
 (
	$mb¾’
 (
__cÚ¡
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

398 
mb¡©e_t
 *
__»¡riù
 
__ps
))

399 {  (
__ps
 !ğ
NULL


400 ? 
	`mb¹owc
 (
NULL
, 
__s
, 
__n
, 
__ps
è: 
	`__mb¾’
 (__s, __n, NULL)); 
	}
}

403 
__BEGIN_NAMESPACE_STD


406 
size_t
 
	$mb¤towcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

407 
__cÚ¡
 **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

408 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

412 
size_t
 
	$wc¤tombs
 (*
__»¡riù
 
__d¡
,

413 
__cÚ¡
 
wch¬_t
 **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

414 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

415 
__END_NAMESPACE_STD


418 #ifdef 
__USE_XOPEN2K8


421 
size_t
 
	$mb¢¹owcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

422 
__cÚ¡
 **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

423 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

427 
size_t
 
	$wc¢¹ombs
 (*
__»¡riù
 
__d¡
,

428 
__cÚ¡
 
wch¬_t
 **
__»¡riù
 
__¤c
,

429 
size_t
 
__nwc
, size_ˆ
__Ën
,

430 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

435 #ifdeà
__USE_XOPEN


437 
	$wcwidth
 (
wch¬_t
 
__c
è
__THROW
;

441 
	$wcswidth
 (
__cÚ¡
 
wch¬_t
 *
__s
, 
size_t
 
__n
è
__THROW
;

445 
__BEGIN_NAMESPACE_STD


448 
	$wc¡od
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

449 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

450 
__END_NAMESPACE_STD


452 #ifdeà
__USE_ISOC99


453 
__BEGIN_NAMESPACE_C99


455 
	$wc¡of
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

456 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

457 
	$wc¡Şd
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

458 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

459 
__END_NAMESPACE_C99


463 
__BEGIN_NAMESPACE_STD


466 
	$wc¡Ş
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

467 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

471 
	$wc¡oul
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

472 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

473 
__THROW
;

474 
__END_NAMESPACE_STD


476 #ià
defšed
 
__USE_ISOC99
 || (defšed 
__GNUC__
 && defšed 
__USE_GNU
)

477 
__BEGIN_NAMESPACE_C99


480 
__ex‹nsiÚ__


481 
	$wc¡Şl
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

482 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

483 
__THROW
;

487 
__ex‹nsiÚ__


488 
	$wc¡ouÎ
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

489 
wch¬_t
 **
__»¡riù
 
__’d±r
,

490 
__ba£
è
__THROW
;

491 
__END_NAMESPACE_C99


494 #ià
defšed
 
__GNUC__
 && defšed 
__USE_GNU


497 
__ex‹nsiÚ__


498 
	$wc¡oq
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

499 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

500 
__THROW
;

504 
__ex‹nsiÚ__


505 
	$wc¡ouq
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

506 
wch¬_t
 **
__»¡riù
 
__’d±r
,

507 
__ba£
è
__THROW
;

510 #ifdeà
__USE_GNU


524 
	~<xloÿË.h
>

528 
	$wc¡Ş_l
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

529 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
,

530 
__loÿË_t
 
__loc
è
__THROW
;

532 
	$wc¡oul_l
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

533 
wch¬_t
 **
__»¡riù
 
__’d±r
,

534 
__ba£
, 
__loÿË_t
 
__loc
è
__THROW
;

536 
__ex‹nsiÚ__


537 
	$wc¡Şl_l
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

538 
wch¬_t
 **
__»¡riù
 
__’d±r
,

539 
__ba£
, 
__loÿË_t
 
__loc
è
__THROW
;

541 
__ex‹nsiÚ__


542 
	$wc¡ouÎ_l
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

543 
wch¬_t
 **
__»¡riù
 
__’d±r
,

544 
__ba£
, 
__loÿË_t
 
__loc
)

545 
__THROW
;

547 
	$wc¡od_l
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

548 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

549 
__THROW
;

551 
	$wc¡of_l
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

552 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

553 
__THROW
;

555 
	$wc¡Şd_l
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

556 
wch¬_t
 **
__»¡riù
 
__’d±r
,

557 
__loÿË_t
 
__loc
è
__THROW
;

562 
wch¬_t
 *
	$wııy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

563 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

567 
wch¬_t
 *
	$wınıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

568 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

569 
__THROW
;

575 #ifdef 
__USE_XOPEN2K8


578 
__FILE
 *
	$İ’_wmem¡»am
 (
wch¬_t
 **
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
;

581 #ià
defšed
 
__USE_ISOC95
 || defšed 
__USE_UNIX98


582 
__BEGIN_NAMESPACE_STD


585 
	$fwide
 (
__FILE
 *
__å
, 
__mode
è
__THROW
;

592 
	`fw´štf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

593 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

599 
	`w´štf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

602 
	$sw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

603 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

604 
__THROW
 ;

610 
	`vfw´štf
 (
__FILE
 *
__»¡riù
 
__s
,

611 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

612 
__gnuc_va_li¡
 
__¬g
)

618 
	`vw´štf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

619 
__gnuc_va_li¡
 
__¬g
)

623 
	$vsw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

624 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

625 
__gnuc_va_li¡
 
__¬g
)

626 
__THROW
 ;

633 
	`fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

634 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

640 
	`wsÿnf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

643 
	$swsÿnf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s
,

644 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

645 
__THROW
 ;

647 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

648 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

649 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

650 #ifdeà
__REDIRECT


654 
	`__REDIRECT
 (
fwsÿnf
, (
__FILE
 *
__»¡riù
 
__¡»am
,

655 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

656 
__isoc99_fwsÿnf
)

658 
	`__REDIRECT
 (
wsÿnf
, (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

659 
__isoc99_wsÿnf
)

661 
	`__REDIRECT
 (
swsÿnf
, (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s
,

662 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

663 
__isoc99_swsÿnf
)

664 
__THROW
 ;

666 
	`__isoc99_fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

667 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

668 
	`__isoc99_wsÿnf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

669 
	$__isoc99_swsÿnf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s
,

670 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

671 
__THROW
;

672 
	#fwsÿnf
 
__isoc99_fwsÿnf


	)

673 
	#wsÿnf
 
__isoc99_wsÿnf


	)

674 
	#swsÿnf
 
__isoc99_swsÿnf


	)

678 
__END_NAMESPACE_STD


681 #ifdeà
__USE_ISOC99


682 
__BEGIN_NAMESPACE_C99


687 
	`vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

688 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

689 
__gnuc_va_li¡
 
__¬g
)

695 
	`vwsÿnf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

696 
__gnuc_va_li¡
 
__¬g
)

699 
	$vswsÿnf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s
,

700 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

701 
__gnuc_va_li¡
 
__¬g
)

702 
__THROW
 ;

704 #ià!
defšed
 
__USE_GNU
 \

705 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

706 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

707 #ifdeà
__REDIRECT


708 
	`__REDIRECT
 (
vfwsÿnf
, (
__FILE
 *
__»¡riù
 
__s
,

709 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

710 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vfwsÿnf
)

712 
	`__REDIRECT
 (
vwsÿnf
, (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

713 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vwsÿnf
)

715 
	`__REDIRECT
 (
vswsÿnf
, (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s
,

716 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

717 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vswsÿnf
)

718 
__THROW
 ;

720 
	`__isoc99_vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

721 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

722 
__gnuc_va_li¡
 
__¬g
);

723 
	`__isoc99_vwsÿnf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

724 
__gnuc_va_li¡
 
__¬g
);

725 
	$__isoc99_vswsÿnf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s
,

726 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

727 
__gnuc_va_li¡
 
__¬g
è
__THROW
;

728 
	#vfwsÿnf
 
__isoc99_vfwsÿnf


	)

729 
	#vwsÿnf
 
__isoc99_vwsÿnf


	)

730 
	#vswsÿnf
 
__isoc99_vswsÿnf


	)

734 
__END_NAMESPACE_C99


738 
__BEGIN_NAMESPACE_STD


743 
wšt_t
 
	`fg‘wc
 (
__FILE
 *
__¡»am
);

744 
wšt_t
 
	`g‘wc
 (
__FILE
 *
__¡»am
);

750 
wšt_t
 
	`g‘wch¬
 ();

757 
wšt_t
 
	`åutwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

758 
wšt_t
 
	`putwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

764 
wšt_t
 
	`putwch¬
 (
wch¬_t
 
__wc
);

772 
wch¬_t
 *
	`fg‘ws
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

773 
__FILE
 *
__»¡riù
 
__¡»am
);

779 
	`åutws
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ws
,

780 
__FILE
 *
__»¡riù
 
__¡»am
);

787 
wšt_t
 
	`ung‘wc
 (wšt_ˆ
__wc
, 
__FILE
 *
__¡»am
);

788 
__END_NAMESPACE_STD


791 #ifdeà
__USE_GNU


799 
wšt_t
 
	`g‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

800 
wšt_t
 
	`g‘wch¬_uÆocked
 ();

808 
wšt_t
 
	`fg‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

816 
wšt_t
 
	`åutwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

825 
wšt_t
 
	`putwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

826 
wšt_t
 
	`putwch¬_uÆocked
 (
wch¬_t
 
__wc
);

835 
wch¬_t
 *
	`fg‘ws_uÆocked
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

836 
__FILE
 *
__»¡riù
 
__¡»am
);

844 
	`åutws_uÆocked
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ws
,

845 
__FILE
 *
__»¡riù
 
__¡»am
);

849 
__BEGIN_NAMESPACE_C99


853 
size_t
 
	$wcsáime
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

854 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

855 
__cÚ¡
 
tm
 *
__»¡riù
 
__
è
__THROW
;

856 
__END_NAMESPACE_C99


858 #ifdeà
__USE_GNU


859 
	~<xloÿË.h
>

863 
size_t
 
	$wcsáime_l
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

864 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

865 
__cÚ¡
 
tm
 *
__»¡riù
 
__
,

866 
__loÿË_t
 
__loc
è
__THROW
;

875 #ià
defšed
 
__USE_UNIX98
 && !defšed 
__USE_GNU


876 
	#__Ãed_iswxxx


	)

877 
	~<wùy³.h
>

881 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__ex‹º_®ways_šlše


882 
	~<b™s/wch¬2.h
>

885 #ifdeà
__LDBL_COMPAT


886 
	~<b™s/wch¬-ldbl.h
>

889 
__END_DECLS


897 #undeà
__Ãed_mb¡©e_t


898 #undeà
__Ãed_wšt_t


	@/usr/include/bits/wchar-ldbl.h

20 #iâdeà
_WCHAR_H


24 #ià
defšed
 
__USE_ISOC95
 || defšed 
__USE_UNIX98


25 
__BEGIN_NAMESPACE_C99


26 
__LDBL_REDIR_DECL
 (
fw´štf
);

27 
__LDBL_REDIR_DECL
 (
w´štf
);

28 
__LDBL_REDIR_DECL
 (
sw´štf
);

29 
__LDBL_REDIR_DECL
 (
vfw´štf
);

30 
__LDBL_REDIR_DECL
 (
vw´štf
);

31 
__LDBL_REDIR_DECL
 (
vsw´štf
);

32 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

33 && !
defšed
 
	g__REDIRECT
 \

34 && (
defšed
 
	g__STRICT_ANSI__
 || defšed 
	g__USE_XOPEN2K
)

35 
	$__LDBL_REDIR1_DECL
 (
fwsÿnf
, 
__Ædbl___isoc99_fwsÿnf
)

36 
	$__LDBL_REDIR1_DECL
 (
wsÿnf
, 
__Ædbl___isoc99_wsÿnf
)

37 
	$__LDBL_REDIR1_DECL
 (
swsÿnf
, 
__Ædbl___isoc99_swsÿnf
)

39 
	`__LDBL_REDIR_DECL
 (
fwsÿnf
);

40 
	`__LDBL_REDIR_DECL
 (
wsÿnf
);

41 
	`__LDBL_REDIR_DECL
 (
swsÿnf
);

43 
__END_NAMESPACE_C99


46 #ifdeà
__USE_ISOC99


47 
__BEGIN_NAMESPACE_C99


48 
	`__LDBL_REDIR1_DECL
 (
wc¡Şd
, 
wc¡od
);

49 #ià!
defšed
 
__USE_GNU
 && !defšed 
__REDIRECT
 \

50 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

51 
	$__LDBL_REDIR1_DECL
 (
vfwsÿnf
, 
__Ædbl___isoc99_vfwsÿnf
)

52 
	$__LDBL_REDIR1_DECL
 (
vwsÿnf
, 
__Ædbl___isoc99_vwsÿnf
)

53 
	$__LDBL_REDIR1_DECL
 (
vswsÿnf
, 
__Ædbl___isoc99_vswsÿnf
)

55 
	`__LDBL_REDIR_DECL
 (
vfwsÿnf
);

56 
	`__LDBL_REDIR_DECL
 (
vwsÿnf
);

57 
	`__LDBL_REDIR_DECL
 (
vswsÿnf
);

59 
__END_NAMESPACE_C99


62 #ifdeà
__USE_GNU


63 
	`__LDBL_REDIR1_DECL
 (
wc¡Şd_l
, 
wc¡od_l
);

66 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__ex‹º_®ways_šlše


67 
	$__LDBL_REDIR_DECL
 (
__sw´štf_chk
)

68 
	$__LDBL_REDIR_DECL
 (
__vsw´štf_chk
)

69 #ià
__USE_FORTIFY_LEVEL
 > 1

70 
	$__LDBL_REDIR_DECL
 (
__fw´štf_chk
)

71 
	$__LDBL_REDIR_DECL
 (
__w´štf_chk
)

72 
	$__LDBL_REDIR_DECL
 (
__vfw´štf_chk
)

73 
	$__LDBL_REDIR_DECL
 (
__vw´štf_chk
)

	@/usr/include/bits/wchar.h

20 #iâdeà
_BITS_WCHAR_H


21 
	#_BITS_WCHAR_H
 1

	)

23 
	#__WCHAR_MIN
 (-2147483647 - 1)

	)

24 
	#__WCHAR_MAX
 (2147483647)

	)

	@/usr/include/bits/wchar2.h

20 #iâdeà
_WCHAR_H


25 
wch¬_t
 *
	$__wmemıy_chk
 (
wch¬_t
 *
__»¡riù
 
__s1
,

26 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
,

27 
size_t
 
__ns1
è
__THROW
;

28 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmemıy_®Ÿs
,

29 (
wch¬_t
 *
__»¡riù
 
__s1
,

30 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
),

31 
wmemıy
);

32 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmemıy_chk_w¬n
,

33 (
wch¬_t
 *
__»¡riù
 
__s1
,

34 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
,

35 
size_t
 
__ns1
), 
__wmemıy_chk
)

36 
	`__w¬Ç‰r
 ("wmemcpy called with†ength biggerhan size of destination "

39 
__ex‹º_®ways_šlše
 
wch¬_t
 *

40 
	`__NTH
 (
	$wmemıy
 (
wch¬_t
 *
__»¡riù
 
__s1
, 
__cÚ¡
 wch¬_ˆ*__»¡riù 
__s2
,

41 
size_t
 
__n
))

43 ià(
	`__bos0
 (
__s1
è!ğ(
size_t
) -1)

45 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

46  
	`__wmemıy_chk
 (
__s1
, 
__s2
, 
__n
,

47 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

49 ià(
__n
 > 
	`__bos0
 (
__s1
è/  (
wch¬_t
))

50  
	`__wmemıy_chk_w¬n
 (
__s1
, 
__s2
, 
__n
,

51 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

53  
	`__wmemıy_®Ÿs
 (
__s1
, 
__s2
, 
__n
);

54 
	}
}

57 
wch¬_t
 *
	$__wmemmove_chk
 (
wch¬_t
 *
__s1
, 
__cÚ¡
 wch¬_ˆ*
__s2
,

58 
size_t
 
__n
, size_ˆ
__ns1
è
__THROW
;

59 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmemmove_®Ÿs
, (wch¬_ˆ*
__s1
,

60 
__cÚ¡
 
wch¬_t
 *
__s2
,

61 
size_t
 
__n
), 
wmemmove
);

62 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmemmove_chk_w¬n
,

63 (
wch¬_t
 *
__s1
, 
__cÚ¡
 wch¬_ˆ*
__s2
,

64 
size_t
 
__n
, size_ˆ
__ns1
), 
__wmemmove_chk
)

65 
	`__w¬Ç‰r
 ("wmemmove called with†ength biggerhan size of destination "

68 
__ex‹º_®ways_šlše
 
wch¬_t
 *

69 
	`__NTH
 (
	$wmemmove
 (
wch¬_t
 *
__s1
, 
__cÚ¡
 wch¬_ˆ*
__s2
, 
size_t
 
__n
))

71 ià(
	`__bos0
 (
__s1
è!ğ(
size_t
) -1)

73 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

74  
	`__wmemmove_chk
 (
__s1
, 
__s2
, 
__n
,

75 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

77 ià(
__n
 > 
	`__bos0
 (
__s1
è/  (
wch¬_t
))

78  
	`__wmemmove_chk_w¬n
 (
__s1
, 
__s2
, 
__n
,

79 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

81  
	`__wmemmove_®Ÿs
 (
__s1
, 
__s2
, 
__n
);

82 
	}
}

85 #ifdeà
__USE_GNU


86 
wch¬_t
 *
	$__wmempıy_chk
 (
wch¬_t
 *
__»¡riù
 
__s1
,

87 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
,

88 
size_t
 
__ns1
è
__THROW
;

89 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmempıy_®Ÿs
,

90 (
wch¬_t
 *
__»¡riù
 
__s1
,

91 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
,

92 
size_t
 
__n
), 
wmempıy
);

93 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmempıy_chk_w¬n
,

94 (
wch¬_t
 *
__»¡riù
 
__s1
,

95 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
,

96 
size_t
 
__ns1
), 
__wmempıy_chk
)

97 
	`__w¬Ç‰r
 ("wmempcpy called with†ength biggerhan size of destination "

100 
__ex‹º_®ways_šlše
 
wch¬_t
 *

101 
	`__NTH
 (
	$wmempıy
 (
wch¬_t
 *
__»¡riù
 
__s1
, 
__cÚ¡
 wch¬_ˆ*__»¡riù 
__s2
,

102 
size_t
 
__n
))

104 ià(
	`__bos0
 (
__s1
è!ğ(
size_t
) -1)

106 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

107  
	`__wmempıy_chk
 (
__s1
, 
__s2
, 
__n
,

108 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

110 ià(
__n
 > 
	`__bos0
 (
__s1
è/  (
wch¬_t
))

111  
	`__wmempıy_chk_w¬n
 (
__s1
, 
__s2
, 
__n
,

112 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

114  
	`__wmempıy_®Ÿs
 (
__s1
, 
__s2
, 
__n
);

115 
	}
}

119 
wch¬_t
 *
	$__wmem£t_chk
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
,

120 
size_t
 
__ns
è
__THROW
;

121 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmem£t_®Ÿs
, (wch¬_ˆ*
__s
, wch¬_ˆ
__c
,

122 
size_t
 
__n
), 
wmem£t
);

123 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmem£t_chk_w¬n
,

124 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
,

125 
size_t
 
__ns
), 
__wmem£t_chk
)

126 
	`__w¬Ç‰r
 ("wmemset called with†ength biggerhan size of destination "

129 
__ex‹º_®ways_šlše
 
wch¬_t
 *

130 
	`__NTH
 (
	$wmem£t
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
))

132 ià(
	`__bos0
 (
__s
è!ğ(
size_t
) -1)

134 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

135  
	`__wmem£t_chk
 (
__s
, 
__c
, 
__n
, 
	`__bos0
 (__sè/  (
wch¬_t
));

137 ià(
__n
 > 
	`__bos0
 (
__s
è/  (
wch¬_t
))

138  
	`__wmem£t_chk_w¬n
 (
__s
, 
__c
, 
__n
,

139 
	`__bos0
 (
__s
è/  (
wch¬_t
));

141  
	`__wmem£t_®Ÿs
 (
__s
, 
__c
, 
__n
);

142 
	}
}

145 
wch¬_t
 *
	$__wcsıy_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

146 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

147 
size_t
 
__n
è
__THROW
;

148 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wcsıy_®Ÿs
,

149 (
wch¬_t
 *
__»¡riù
 
__de¡
,

150 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
), 
wcsıy
);

152 
__ex‹º_®ways_šlše
 
wch¬_t
 *

153 
	`__NTH
 (
	$wcsıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
, 
__cÚ¡
 wch¬_ˆ*__»¡riù 
__¤c
))

155 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

156  
	`__wcsıy_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__de¡è/  (
wch¬_t
));

157  
	`__wcsıy_®Ÿs
 (
__de¡
, 
__¤c
);

158 
	}
}

161 
wch¬_t
 *
	$__wııy_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

162 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

163 
size_t
 
__de¡Ën
è
__THROW
;

164 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wııy_®Ÿs
,

165 (
wch¬_t
 *
__»¡riù
 
__de¡
,

166 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
), 
wııy
);

168 
__ex‹º_®ways_šlše
 
wch¬_t
 *

169 
	`__NTH
 (
	$wııy
 (
wch¬_t
 *
__»¡riù
 
__de¡
, 
__cÚ¡
 wch¬_ˆ*__»¡riù 
__¤c
))

171 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

172  
	`__wııy_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__de¡è/  (
wch¬_t
));

173  
	`__wııy_®Ÿs
 (
__de¡
, 
__¤c
);

174 
	}
}

177 
wch¬_t
 *
	$__wc¢ıy_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

178 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
,

179 
size_t
 
__de¡Ën
è
__THROW
;

180 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wc¢ıy_®Ÿs
,

181 (
wch¬_t
 *
__»¡riù
 
__de¡
,

182 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

183 
size_t
 
__n
), 
wc¢ıy
);

184 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wc¢ıy_chk_w¬n
,

185 (
wch¬_t
 *
__»¡riù
 
__de¡
,

186 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

187 
size_t
 
__n
, size_ˆ
__de¡Ën
), 
__wc¢ıy_chk
)

188 
	`__w¬Ç‰r
 ("wcsncpy called with†ength biggerhan size of destination "

191 
__ex‹º_®ways_šlše
 
wch¬_t
 *

192 
	`__NTH
 (
	$wc¢ıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
, 
__cÚ¡
 wch¬_ˆ*__»¡riù 
__¤c
,

193 
size_t
 
__n
))

195 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

197 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

198  
	`__wc¢ıy_chk
 (
__de¡
, 
__¤c
, 
__n
,

199 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

200 ià(
__n
 > 
	`__bos
 (
__de¡
è/  (
wch¬_t
))

201  
	`__wc¢ıy_chk_w¬n
 (
__de¡
, 
__¤c
, 
__n
,

202 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

204  
	`__wc¢ıy_®Ÿs
 (
__de¡
, 
__¤c
, 
__n
);

205 
	}
}

208 
wch¬_t
 *
	$__wınıy_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

209 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
,

210 
size_t
 
__de¡Ën
è
__THROW
;

211 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wınıy_®Ÿs
,

212 (
wch¬_t
 *
__»¡riù
 
__de¡
,

213 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

214 
size_t
 
__n
), 
wınıy
);

215 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wınıy_chk_w¬n
,

216 (
wch¬_t
 *
__»¡riù
 
__de¡
,

217 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

218 
size_t
 
__n
, size_ˆ
__de¡Ën
), 
__wınıy_chk
)

219 
	`__w¬Ç‰r
 ("wcpncpy called with†ength biggerhan size of destination "

222 
__ex‹º_®ways_šlše
 
wch¬_t
 *

223 
	`__NTH
 (
	$wınıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
, 
__cÚ¡
 wch¬_ˆ*__»¡riù 
__¤c
,

224 
size_t
 
__n
))

226 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

228 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

229  
	`__wınıy_chk
 (
__de¡
, 
__¤c
, 
__n
,

230 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

231 ià(
__n
 > 
	`__bos
 (
__de¡
è/  (
wch¬_t
))

232  
	`__wınıy_chk_w¬n
 (
__de¡
, 
__¤c
, 
__n
,

233 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

235  
	`__wınıy_®Ÿs
 (
__de¡
, 
__¤c
, 
__n
);

236 
	}
}

239 
wch¬_t
 *
	$__wcsÿt_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

240 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

241 
size_t
 
__de¡Ën
è
__THROW
;

242 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wcsÿt_®Ÿs
,

243 (
wch¬_t
 *
__»¡riù
 
__de¡
,

244 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
), 
wcsÿt
);

246 
__ex‹º_®ways_šlše
 
wch¬_t
 *

247 
	`__NTH
 (
	$wcsÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
, 
__cÚ¡
 wch¬_ˆ*__»¡riù 
__¤c
))

249 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

250  
	`__wcsÿt_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__de¡è/  (
wch¬_t
));

251  
	`__wcsÿt_®Ÿs
 (
__de¡
, 
__¤c
);

252 
	}
}

255 
wch¬_t
 *
	$__wc¢ÿt_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

256 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

257 
size_t
 
__n
, size_ˆ
__de¡Ën
è
__THROW
;

258 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wc¢ÿt_®Ÿs
,

259 (
wch¬_t
 *
__»¡riù
 
__de¡
,

260 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

261 
size_t
 
__n
), 
wc¢ÿt
);

263 
__ex‹º_®ways_šlše
 
wch¬_t
 *

264 
	`__NTH
 (
	$wc¢ÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
, 
__cÚ¡
 wch¬_ˆ*__»¡riù 
__¤c
,

265 
size_t
 
__n
))

267 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

268  
	`__wc¢ÿt_chk
 (
__de¡
, 
__¤c
, 
__n
,

269 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

270  
	`__wc¢ÿt_®Ÿs
 (
__de¡
, 
__¤c
, 
__n
);

271 
	}
}

274 
	$__sw´štf_chk
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

275 
__æag
, 
size_t
 
__s_Ën
,

276 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

277 
__THROW
 ;

279 
	`__REDIRECT_NTH_LDBL
 (
__sw´štf_®Ÿs
,

280 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

281 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fmt
, ...),

282 
sw´štf
);

284 #ifdeà
__va_¬g_·ck


285 
__ex‹º_®ways_šlše
 

286 
	`__NTH
 (
	$sw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

287 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fmt
, ...))

289 ià(
	`__bos
 (
__s
è!ğ(
size_t
è-1 || 
__USE_FORTIFY_LEVEL
 > 1)

290  
	`__sw´štf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

291 
	`__bos
 (
__s
è/  (
wch¬_t
),

292 
__fmt
, 
	`__va_¬g_·ck
 ());

293  
	`__sw´štf_®Ÿs
 (
__s
, 
__n
, 
__fmt
, 
	`__va_¬g_·ck
 ());

294 
	}
}

295 #–ià!
defšed
 
__ılu¥lus


297 
	#sw´štf
(
s
, 
n
, ...) \

298 (
	`__bos
 (
s
è!ğ(
size_t
è-1 || 
__USE_FORTIFY_LEVEL
 > 1 \

299 ? 
	`__sw´štf_chk
 (
s
, 
n
, 
__USE_FORTIFY_LEVEL
 - 1, \

300 
	`__bos
 (
s
è/  (
wch¬_t
), 
__VA_ARGS__
) \

301 : 
	`sw´štf
 (
s
, 
n
, 
__VA_ARGS__
))

	)

304 
	$__vsw´štf_chk
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

305 
__æag
, 
size_t
 
__s_Ën
,

306 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

307 
__gnuc_va_li¡
 
__¬g
)

308 
__THROW
 ;

310 
	`__REDIRECT_NTH_LDBL
 (
__vsw´štf_®Ÿs
,

311 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

312 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fmt
,

313 
__gnuc_va_li¡
 
__­
), 
vsw´štf
);

315 
__ex‹º_®ways_šlše
 

316 
	`__NTH
 (
	$vsw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

317 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fmt
, 
__gnuc_va_li¡
 
__­
))

319 ià(
	`__bos
 (
__s
è!ğ(
size_t
è-1 || 
__USE_FORTIFY_LEVEL
 > 1)

320  
	`__vsw´štf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

321 
	`__bos
 (
__s
è/  (
wch¬_t
), 
__fmt
, 
__­
);

322  
	`__vsw´štf_®Ÿs
 (
__s
, 
__n
, 
__fmt
, 
__­
);

323 
	}
}

326 #ià
__USE_FORTIFY_LEVEL
 > 1

328 
__fw´štf_chk
 (
__FILE
 *
__»¡riù
 
__¡»am
, 
__æag
,

329 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

330 
__w´štf_chk
 (
__æag
, 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

332 
__vfw´štf_chk
 (
__FILE
 *
__»¡riù
 
__¡»am
, 
__æag
,

333 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

334 
__gnuc_va_li¡
 
__­
);

335 
__vw´štf_chk
 (
__æag
, 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

336 
__gnuc_va_li¡
 
__­
);

338 #ifdeà
__va_¬g_·ck


339 
__ex‹º_®ways_šlše
 

340 
	$w´štf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fmt
, ...)

342  
	`__w´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
	`__va_¬g_·ck
 ());

343 
	}
}

345 
__ex‹º_®ways_šlše
 

346 
	$fw´štf
 (
__FILE
 *
__»¡riù
 
__¡»am
, 
__cÚ¡
 
wch¬_t
 *__»¡riù 
__fmt
, ...)

348  
	`__fw´štf_chk
 (
__¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

349 
	`__va_¬g_·ck
 ());

350 
	}
}

351 #–ià!
defšed
 
__ılu¥lus


352 
	#w´štf
(...) \

353 
	`__w´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

354 
	#fw´štf
(
¡»am
, ...) \

355 
	`__fw´štf_chk
 (
¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

358 
__ex‹º_®ways_šlše
 

359 
	$vw´štf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fmt
, 
__gnuc_va_li¡
 
__­
)

361  
	`__vw´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

362 
	}
}

364 
__ex‹º_®ways_šlše
 

365 
	$vfw´štf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

366 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fmt
, 
__gnuc_va_li¡
 
__­
)

368  
	`__vfw´štf_chk
 (
__¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

369 
	}
}

373 
wch¬_t
 *
	$__fg‘ws_chk
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

374 
__FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

375 
wch¬_t
 *
	`__REDIRECT
 (
__fg‘ws_®Ÿs
,

376 (
wch¬_t
 *
__»¡riù
 
__s
, 
__n
,

377 
__FILE
 *
__»¡riù
 
__¡»am
), 
fg‘ws
è
__wur
;

378 
wch¬_t
 *
	`__REDIRECT
 (
__fg‘ws_chk_w¬n
,

379 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

380 
__FILE
 *
__»¡riù
 
__¡»am
), 
__fg‘ws_chk
)

381 
__wur
 
	`__w¬Ç‰r
 ("fgetws called with bigger sizehan†ength "

384 
__ex‹º_®ways_šlše
 
__wur
 
wch¬_t
 *

385 
	$fg‘ws
 (
wch¬_t
 *
__»¡riù
 
__s
, 
__n
, 
__FILE
 *__»¡riù 
__¡»am
)

387 ià(
	`__bos
 (
__s
è!ğ(
size_t
) -1)

389 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
) || __n <= 0)

390  
	`__fg‘ws_chk
 (
__s
, 
	`__bos
 (__sè/  (
wch¬_t
),

391 
__n
, 
__¡»am
);

393 ià((
size_t
è
__n
 > 
	`__bos
 (
__s
è/  (
wch¬_t
))

394  
	`__fg‘ws_chk_w¬n
 (
__s
, 
	`__bos
 (__sè/  (
wch¬_t
),

395 
__n
, 
__¡»am
);

397  
	`__fg‘ws_®Ÿs
 (
__s
, 
__n
, 
__¡»am
);

398 
	}
}

400 #ifdeà
__USE_GNU


401 
wch¬_t
 *
	$__fg‘ws_uÆocked_chk
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__size
,

402 
__n
, 
__FILE
 *
__»¡riù
 
__¡»am
)

403 
__wur
;

404 
wch¬_t
 *
	`__REDIRECT
 (
__fg‘ws_uÆocked_®Ÿs
,

405 (
wch¬_t
 *
__»¡riù
 
__s
, 
__n
,

406 
__FILE
 *
__»¡riù
 
__¡»am
), 
fg‘ws_uÆocked
)

407 
__wur
;

408 
wch¬_t
 *
	`__REDIRECT
 (
__fg‘ws_uÆocked_chk_w¬n
,

409 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

410 
__FILE
 *
__»¡riù
 
__¡»am
),

411 
__fg‘ws_uÆocked_chk
)

412 
__wur
 
	`__w¬Ç‰r
 ("fgetws_unlocked called with bigger sizehan†ength "

415 
__ex‹º_®ways_šlše
 
__wur
 
wch¬_t
 *

416 
	$fg‘ws_uÆocked
 (
wch¬_t
 *
__»¡riù
 
__s
, 
__n
, 
__FILE
 *__»¡riù 
__¡»am
)

418 ià(
	`__bos
 (
__s
è!ğ(
size_t
) -1)

420 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
) || __n <= 0)

421  
	`__fg‘ws_uÆocked_chk
 (
__s
, 
	`__bos
 (__sè/  (
wch¬_t
),

422 
__n
, 
__¡»am
);

424 ià((
size_t
è
__n
 > 
	`__bos
 (
__s
è/  (
wch¬_t
))

425  
	`__fg‘ws_uÆocked_chk_w¬n
 (
__s
, 
	`__bos
 (__sè/  (
wch¬_t
),

426 
__n
, 
__¡»am
);

428  
	`__fg‘ws_uÆocked_®Ÿs
 (
__s
, 
__n
, 
__¡»am
);

429 
	}
}

433 
size_t
 
	$__wütomb_chk
 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wch¬
,

434 
mb¡©e_t
 *
__»¡riù
 
__p
,

435 
size_t
 
__buæ’
è
__THROW
 
__wur
;

436 
size_t
 
	`__REDIRECT_NTH
 (
__wütomb_®Ÿs
,

437 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wch¬
,

438 
mb¡©e_t
 *
__»¡riù
 
__ps
), 
wütomb
è
__wur
;

440 
__ex‹º_®ways_šlše
 
__wur
 
size_t


441 
	`__NTH
 (
	$wütomb
 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wch¬
,

442 
mb¡©e_t
 *
__»¡riù
 
__ps
))

447 
	#__WCHAR_MB_LEN_MAX
 16

	)

448 #ià
defšed
 
MB_LEN_MAX
 && MB_LEN_MAX !ğ
__WCHAR_MB_LEN_MAX


451 ià(
	`__bos
 (
__s
è!ğ(
size_t
è-1 && 
__WCHAR_MB_LEN_MAX
 > __bos (__s))

452  
	`__wütomb_chk
 (
__s
, 
__wch¬
, 
__ps
, 
	`__bos
 (__s));

453  
	`__wütomb_®Ÿs
 (
__s
, 
__wch¬
, 
__ps
);

454 
	}
}

457 
size_t
 
	$__mb¤towcs_chk
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

458 
__cÚ¡
 **
__»¡riù
 
__¤c
,

459 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

460 
size_t
 
__d¡Ën
è
__THROW
;

461 
size_t
 
	`__REDIRECT_NTH
 (
__mb¤towcs_®Ÿs
,

462 (
wch¬_t
 *
__»¡riù
 
__d¡
,

463 
__cÚ¡
 **
__»¡riù
 
__¤c
,

464 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
),

465 
mb¤towcs
);

466 
size_t
 
	`__REDIRECT_NTH
 (
__mb¤towcs_chk_w¬n
,

467 (
wch¬_t
 *
__»¡riù
 
__d¡
,

468 
__cÚ¡
 **
__»¡riù
 
__¤c
,

469 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

470 
size_t
 
__d¡Ën
), 
__mb¤towcs_chk
)

471 
	`__w¬Ç‰r
 ("mbsrtowcs called with dst buffer smallerhan†en "

474 
__ex‹º_®ways_šlše
 
size_t


475 
	`__NTH
 (
	$mb¤towcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
, 
__cÚ¡
 **__»¡riù 
__¤c
,

476 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
))

478 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

480 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

481  
	`__mb¤towcs_chk
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
,

482 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

484 ià(
__Ën
 > 
	`__bos
 (
__d¡
è/  (
wch¬_t
))

485  
	`__mb¤towcs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
,

486 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

488  
	`__mb¤towcs_®Ÿs
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
);

489 
	}
}

492 
size_t
 
	$__wc¤tombs_chk
 (*
__»¡riù
 
__d¡
,

493 
__cÚ¡
 
wch¬_t
 **
__»¡riù
 
__¤c
,

494 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

495 
size_t
 
__d¡Ën
è
__THROW
;

496 
size_t
 
	`__REDIRECT_NTH
 (
__wc¤tombs_®Ÿs
,

497 (*
__»¡riù
 
__d¡
,

498 
__cÚ¡
 
wch¬_t
 **
__»¡riù
 
__¤c
,

499 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
),

500 
wc¤tombs
);

501 
size_t
 
	`__REDIRECT_NTH
 (
__wc¤tombs_chk_w¬n
,

502 (*
__»¡riù
 
__d¡
,

503 
__cÚ¡
 
wch¬_t
 **
__»¡riù
 
__¤c
,

504 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

505 
size_t
 
__d¡Ën
), 
__wc¤tombs_chk
)

506 
	`__w¬Ç‰r
 ("wcsrtombs called with dst buffer smallerhan†en");

508 
__ex‹º_®ways_šlše
 
size_t


509 
	`__NTH
 (
	$wc¤tombs
 (*
__»¡riù
 
__d¡
, 
__cÚ¡
 
wch¬_t
 **__»¡riù 
__¤c
,

510 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
))

512 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

514 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

515  
	`__wc¤tombs_chk
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
, 
	`__bos
 (__dst));

517 ià(
__Ën
 > 
	`__bos
 (
__d¡
))

518  
	`__wc¤tombs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
, 
	`__bos
 (__dst));

520  
	`__wc¤tombs_®Ÿs
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
);

521 
	}
}

524 #ifdeà
__USE_GNU


525 
size_t
 
	$__mb¢¹owcs_chk
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

526 
__cÚ¡
 **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

527 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

528 
size_t
 
__d¡Ën
è
__THROW
;

529 
size_t
 
	`__REDIRECT_NTH
 (
__mb¢¹owcs_®Ÿs
,

530 (
wch¬_t
 *
__»¡riù
 
__d¡
,

531 
__cÚ¡
 **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

532 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
),

533 
mb¢¹owcs
);

534 
size_t
 
	`__REDIRECT_NTH
 (
__mb¢¹owcs_chk_w¬n
,

535 (
wch¬_t
 *
__»¡riù
 
__d¡
,

536 
__cÚ¡
 **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

537 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

538 
size_t
 
__d¡Ën
), 
__mb¢¹owcs_chk
)

539 
	`__w¬Ç‰r
 ("mbsnrtowcs called with dst buffer smallerhan†en "

542 
__ex‹º_®ways_šlše
 
size_t


543 
	`__NTH
 (
	$mb¢¹owcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
, 
__cÚ¡
 **__»¡riù 
__¤c
,

544 
size_t
 
__nmc
, size_ˆ
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
))

546 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

548 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

549  
	`__mb¢¹owcs_chk
 (
__d¡
, 
__¤c
, 
__nmc
, 
__Ën
, 
__ps
,

550 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

552 ià(
__Ën
 > 
	`__bos
 (
__d¡
è/  (
wch¬_t
))

553  
	`__mb¢¹owcs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__nmc
, 
__Ën
, 
__ps
,

554 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

556  
	`__mb¢¹owcs_®Ÿs
 (
__d¡
, 
__¤c
, 
__nmc
, 
__Ën
, 
__ps
);

557 
	}
}

560 
size_t
 
	$__wc¢¹ombs_chk
 (*
__»¡riù
 
__d¡
,

561 
__cÚ¡
 
wch¬_t
 **
__»¡riù
 
__¤c
,

562 
size_t
 
__nwc
, size_ˆ
__Ën
,

563 
mb¡©e_t
 *
__»¡riù
 
__ps
, 
size_t
 
__d¡Ën
)

564 
__THROW
;

565 
size_t
 
	`__REDIRECT_NTH
 (
__wc¢¹ombs_®Ÿs
,

566 (*
__»¡riù
 
__d¡
,

567 
__cÚ¡
 
wch¬_t
 **
__»¡riù
 
__¤c
,

568 
size_t
 
__nwc
, size_ˆ
__Ën
,

569 
mb¡©e_t
 *
__»¡riù
 
__ps
), 
wc¢¹ombs
);

570 
size_t
 
	`__REDIRECT_NTH
 (
__wc¢¹ombs_chk_w¬n
,

571 (*
__»¡riù
 
__d¡
,

572 
__cÚ¡
 
wch¬_t
 **
__»¡riù
 
__¤c
,

573 
size_t
 
__nwc
, size_ˆ
__Ën
,

574 
mb¡©e_t
 *
__»¡riù
 
__ps
,

575 
size_t
 
__d¡Ën
), 
__wc¢¹ombs_chk
)

576 
	`__w¬Ç‰r
 ("wcsnrtombs called with dst buffer smallerhan†en");

578 
__ex‹º_®ways_šlše
 
size_t


579 
	`__NTH
 (
	$wc¢¹ombs
 (*
__»¡riù
 
__d¡
, 
__cÚ¡
 
wch¬_t
 **__»¡riù 
__¤c
,

580 
size_t
 
__nwc
, size_ˆ
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
))

582 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

584 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

585  
	`__wc¢¹ombs_chk
 (
__d¡
, 
__¤c
, 
__nwc
, 
__Ën
, 
__ps
,

586 
	`__bos
 (
__d¡
));

588 ià(
__Ën
 > 
	`__bos
 (
__d¡
))

589  
	`__wc¢¹ombs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__nwc
, 
__Ën
, 
__ps
,

590 
	`__bos
 (
__d¡
));

592  
	`__wc¢¹ombs_®Ÿs
 (
__d¡
, 
__¤c
, 
__nwc
, 
__Ën
, 
__ps
);

593 
	}
}

	@/usr/include/pthread.h

20 #iâdeà
_PTHREAD_H


21 
	#_PTHREAD_H
 1

	)

23 
	~<ã©u»s.h
>

24 
	~<’dŸn.h
>

25 
	~<sched.h
>

26 
	~<time.h
>

28 
	~<b™s/±h»adty³s.h
>

29 
	~<b™s/£tjmp.h
>

30 
	~<b™s/wÜdsize.h
>

36 
	mPTHREAD_CREATE_JOINABLE
,

37 
	#PTHREAD_CREATE_JOINABLE
 
PTHREAD_CREATE_JOINABLE


	)

38 
	mPTHREAD_CREATE_DETACHED


39 
	#PTHREAD_CREATE_DETACHED
 
PTHREAD_CREATE_DETACHED


	)

46 
	mPTHREAD_MUTEX_TIMED_NP
,

47 
	mPTHREAD_MUTEX_RECURSIVE_NP
,

48 
	mPTHREAD_MUTEX_ERRORCHECK_NP
,

49 
	mPTHREAD_MUTEX_ADAPTIVE_NP


50 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


52 
	mPTHREAD_MUTEX_NORMAL
 = 
PTHREAD_MUTEX_TIMED_NP
,

53 
	mPTHREAD_MUTEX_RECURSIVE
 = 
PTHREAD_MUTEX_RECURSIVE_NP
,

54 
	mPTHREAD_MUTEX_ERRORCHECK
 = 
PTHREAD_MUTEX_ERRORCHECK_NP
,

55 
	mPTHREAD_MUTEX_DEFAULT
 = 
PTHREAD_MUTEX_NORMAL


57 #ifdeà
__USE_GNU


59 , 
	mPTHREAD_MUTEX_FAST_NP
 = 
PTHREAD_MUTEX_TIMED_NP


64 #ifdeà
__USE_XOPEN2K


68 
	mPTHREAD_MUTEX_STALLED
,

69 
	mPTHREAD_MUTEX_STALLED_NP
 = 
PTHREAD_MUTEX_STALLED
,

70 
	mPTHREAD_MUTEX_ROBUST
,

71 
	mPTHREAD_MUTEX_ROBUST_NP
 = 
PTHREAD_MUTEX_ROBUST


76 #ifdeà
__USE_UNIX98


80 
	mPTHREAD_PRIO_NONE
,

81 
	mPTHREAD_PRIO_INHERIT
,

82 
	mPTHREAD_PRIO_PROTECT


88 #ià
__WORDSIZE
 == 64

89 
	#PTHREAD_MUTEX_INITIALIZER
 \

90 { { 0, 0, 0, 0, 0, 0, { 0, 0 } } }

	)

91 #ifdeà
__USE_GNU


92 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

93 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 0, { 0, 0 } } }

	)

94 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

95 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 0, { 0, 0 } } }

	)

96 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

97 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 0, { 0, 0 } } }

	)

100 
	#PTHREAD_MUTEX_INITIALIZER
 \

101 { { 0, 0, 0, 0, 0, { 0 } } }

	)

102 #ifdeà
__USE_GNU


103 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

104 { { 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 0, { 0 } } }

	)

105 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

106 { { 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 0, { 0 } } }

	)

107 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

108 { { 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 0, { 0 } } }

	)

114 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


117 
	mPTHREAD_RWLOCK_PREFER_READER_NP
,

118 
	mPTHREAD_RWLOCK_PREFER_WRITER_NP
,

119 
	mPTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,

120 
	mPTHREAD_RWLOCK_DEFAULT_NP
 = 
PTHREAD_RWLOCK_PREFER_READER_NP


124 
	#PTHREAD_RWLOCK_INITIALIZER
 \

125 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 } }

	)

126 #ifdeà
__USE_GNU


127 #ià
__WORDSIZE
 == 64

128 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

130 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
 } }

	)

132 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


133 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

134 { { 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
, \

135 0, 0, 0, 0 } }

	)

137 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

138 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,\

139 0 } }

	)

149 
	mPTHREAD_INHERIT_SCHED
,

150 
	#PTHREAD_INHERIT_SCHED
 
PTHREAD_INHERIT_SCHED


	)

151 
	mPTHREAD_EXPLICIT_SCHED


152 
	#PTHREAD_EXPLICIT_SCHED
 
PTHREAD_EXPLICIT_SCHED


	)

159 
	mPTHREAD_SCOPE_SYSTEM
,

160 
	#PTHREAD_SCOPE_SYSTEM
 
PTHREAD_SCOPE_SYSTEM


	)

161 
	mPTHREAD_SCOPE_PROCESS


162 
	#PTHREAD_SCOPE_PROCESS
 
PTHREAD_SCOPE_PROCESS


	)

169 
	mPTHREAD_PROCESS_PRIVATE
,

170 
	#PTHREAD_PROCESS_PRIVATE
 
PTHREAD_PROCESS_PRIVATE


	)

171 
	mPTHREAD_PROCESS_SHARED


172 
	#PTHREAD_PROCESS_SHARED
 
PTHREAD_PROCESS_SHARED


	)

178 
	#PTHREAD_COND_INITIALIZER
 { { 0, 0, 0, 0, 0, (*è0, 0, 0 } }

	)

182 
	s_±h»ad_ş—nup_bufãr


184 (*
	m__routše
) (*);

185 *
	m__¬g
;

186 
	m__ÿnûÉy³
;

187 
_±h»ad_ş—nup_bufãr
 *
	m__´ev
;

193 
	mPTHREAD_CANCEL_ENABLE
,

194 
	#PTHREAD_CANCEL_ENABLE
 
PTHREAD_CANCEL_ENABLE


	)

195 
	mPTHREAD_CANCEL_DISABLE


196 
	#PTHREAD_CANCEL_DISABLE
 
PTHREAD_CANCEL_DISABLE


	)

200 
	mPTHREAD_CANCEL_DEFERRED
,

201 
	#PTHREAD_CANCEL_DEFERRED
 
PTHREAD_CANCEL_DEFERRED


	)

202 
	mPTHREAD_CANCEL_ASYNCHRONOUS


203 
	#PTHREAD_CANCEL_ASYNCHRONOUS
 
PTHREAD_CANCEL_ASYNCHRONOUS


	)

205 
	#PTHREAD_CANCELED
 ((*è-1)

	)

209 
	#PTHREAD_ONCE_INIT
 0

	)

212 #ifdeà
__USE_XOPEN2K


216 
	#PTHREAD_BARRIER_SERIAL_THREAD
 -1

	)

220 
__BEGIN_DECLS


225 
±h»ad_ü—‹
 (
±h»ad_t
 *
__»¡riù
 
__Ãwth»ad
,

226 
__cÚ¡
 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

227 *(*
__¡¬t_routše
) (*),

228 *
__»¡riù
 
__¬g
è
__THROW
 
__nÚnuÎ
 ((1, 3));

234 
	$±h»ad_ex™
 (*
__»tv®
è
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

242 
	`±h»ad_još
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
);

244 #ifdeà
__USE_GNU


247 
	$±h»ad_Œyjoš_Å
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
è
__THROW
;

255 
	`±h»ad_timedjoš_Å
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
,

256 
__cÚ¡
 
time¥ec
 *
__ab¡ime
);

263 
	$±h»ad_d‘ach
 (
±h»ad_t
 
__th
è
__THROW
;

267 
±h»ad_t
 
	$±h»ad_£lf
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

270 
	$±h»ad_equ®
 (
±h»ad_t
 
__th»ad1
,…th»ad_ˆ
__th»ad2
è
__THROW
;

278 
	$±h»ad_©Œ_š™
 (
±h»ad_©Œ_t
 *
__©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

281 
	$±h»ad_©Œ_de¡roy
 (
±h»ad_©Œ_t
 *
__©Œ
)

282 
__THROW
 
	`__nÚnuÎ
 ((1));

285 
	$±h»ad_©Œ_g‘d‘ach¡©e
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__©Œ
,

286 *
__d‘ach¡©e
)

287 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

290 
	$±h»ad_©Œ_£td‘ach¡©e
 (
±h»ad_©Œ_t
 *
__©Œ
,

291 
__d‘ach¡©e
)

292 
__THROW
 
	`__nÚnuÎ
 ((1));

296 
	$±h»ad_©Œ_g‘gu¬dsize
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__©Œ
,

297 
size_t
 *
__gu¬dsize
)

298 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

301 
	$±h»ad_©Œ_£tgu¬dsize
 (
±h»ad_©Œ_t
 *
__©Œ
,

302 
size_t
 
__gu¬dsize
)

303 
__THROW
 
	`__nÚnuÎ
 ((1));

307 
	$±h»ad_©Œ_g‘sched·¿m
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__»¡riù


308 
__©Œ
,

309 
sched_·¿m
 *
__»¡riù
 
__·¿m
)

310 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

313 
	$±h»ad_©Œ_£tsched·¿m
 (
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

314 
__cÚ¡
 
sched_·¿m
 *
__»¡riù


315 
__·¿m
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

318 
	$±h»ad_©Œ_g‘schedpŞicy
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__»¡riù


319 
__©Œ
, *
__»¡riù
 
__pŞicy
)

320 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

323 
	$±h»ad_©Œ_£tschedpŞicy
 (
±h»ad_©Œ_t
 *
__©Œ
, 
__pŞicy
)

324 
__THROW
 
	`__nÚnuÎ
 ((1));

327 
	$±h»ad_©Œ_g‘šh”™sched
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__»¡riù


328 
__©Œ
, *
__»¡riù
 
__šh”™
)

329 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

332 
	$±h»ad_©Œ_£tšh”™sched
 (
±h»ad_©Œ_t
 *
__©Œ
,

333 
__šh”™
)

334 
__THROW
 
	`__nÚnuÎ
 ((1));

338 
	$±h»ad_©Œ_g‘scİe
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

339 *
__»¡riù
 
__scİe
)

340 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

343 
	$±h»ad_©Œ_£tscİe
 (
±h»ad_©Œ_t
 *
__©Œ
, 
__scİe
)

344 
__THROW
 
	`__nÚnuÎ
 ((1));

347 
	$±h»ad_©Œ_g‘¡ackaddr
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__»¡riù


348 
__©Œ
, **
__»¡riù
 
__¡ackaddr
)

349 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__©Œibu‹_d•»ÿ‹d__
;

355 
	$±h»ad_©Œ_£t¡ackaddr
 (
±h»ad_©Œ_t
 *
__©Œ
,

356 *
__¡ackaddr
)

357 
__THROW
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
;

360 
	$±h»ad_©Œ_g‘¡acksize
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__»¡riù


361 
__©Œ
, 
size_t
 *
__»¡riù
 
__¡acksize
)

362 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

367 
	$±h»ad_©Œ_£t¡acksize
 (
±h»ad_©Œ_t
 *
__©Œ
,

368 
size_t
 
__¡acksize
)

369 
__THROW
 
	`__nÚnuÎ
 ((1));

371 #ifdeà
__USE_XOPEN2K


373 
	$±h»ad_©Œ_g‘¡ack
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

374 **
__»¡riù
 
__¡ackaddr
,

375 
size_t
 *
__»¡riù
 
__¡acksize
)

376 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

381 
	$±h»ad_©Œ_£t¡ack
 (
±h»ad_©Œ_t
 *
__©Œ
, *
__¡ackaddr
,

382 
size_t
 
__¡acksize
è
__THROW
 
	`__nÚnuÎ
 ((1));

385 #ifdeà
__USE_GNU


388 
	$±h»ad_©Œ_£ffš™y_Å
 (
±h»ad_©Œ_t
 *
__©Œ
,

389 
size_t
 
__ıu£tsize
,

390 
__cÚ¡
 
ıu_£t_t
 *
__ıu£t
)

391 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

395 
	$±h»ad_©Œ_g‘affš™y_Å
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__©Œ
,

396 
size_t
 
__ıu£tsize
,

397 
ıu_£t_t
 *
__ıu£t
)

398 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

404 
	$±h»ad_g‘©Œ_Å
 (
±h»ad_t
 
__th
, 
±h»ad_©Œ_t
 *
__©Œ
)

405 
__THROW
 
	`__nÚnuÎ
 ((2));

413 
	$±h»ad_£tsched·¿m
 (
±h»ad_t
 
__rg‘_th»ad
, 
__pŞicy
,

414 
__cÚ¡
 
sched_·¿m
 *
__·¿m
)

415 
__THROW
 
	`__nÚnuÎ
 ((3));

418 
	$±h»ad_g‘sched·¿m
 (
±h»ad_t
 
__rg‘_th»ad
,

419 *
__»¡riù
 
__pŞicy
,

420 
sched_·¿m
 *
__»¡riù
 
__·¿m
)

421 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

424 
	$±h»ad_£tsched´io
 (
±h»ad_t
 
__rg‘_th»ad
, 
__´io
)

425 
__THROW
;

428 #ifdeà
__USE_GNU


430 
	$±h»ad_g‘Çme_Å
 (
±h»ad_t
 
__rg‘_th»ad
, *
__buf
,

431 
size_t
 
__buæ’
)

432 
__THROW
 
	`__nÚnuÎ
 ((2));

435 
	$±h»ad_£Šame_Å
 (
±h»ad_t
 
__rg‘_th»ad
, 
__cÚ¡
 *
__Çme
)

436 
__THROW
 
	`__nÚnuÎ
 ((2));

440 #ifdeà
__USE_UNIX98


442 
	$±h»ad_g‘cÚcu¼’cy
 (è
__THROW
;

445 
	$±h»ad_£tcÚcu¼’cy
 (
__Ëv–
è
__THROW
;

448 #ifdeà
__USE_GNU


453 
	$±h»ad_y›ld
 (è
__THROW
;

458 
	$±h»ad_£ffš™y_Å
 (
±h»ad_t
 
__th
, 
size_t
 
__ıu£tsize
,

459 
__cÚ¡
 
ıu_£t_t
 *
__ıu£t
)

460 
__THROW
 
	`__nÚnuÎ
 ((3));

463 
	$±h»ad_g‘affš™y_Å
 (
±h»ad_t
 
__th
, 
size_t
 
__ıu£tsize
,

464 
ıu_£t_t
 *
__ıu£t
)

465 
__THROW
 
	`__nÚnuÎ
 ((3));

478 
	`±h»ad_Úû
 (
±h»ad_Úû_t
 *
__Úû_cÚŒŞ
,

479 (*
__š™_routše
è()è
	`__nÚnuÎ
 ((1, 2));

490 
	`±h»ad_£tÿnûl¡©e
 (
__¡©e
, *
__Şd¡©e
);

494 
	`±h»ad_£tÿnûÉy³
 (
__ty³
, *
__Şdty³
);

497 
	`±h»ad_ÿnûl
 (
±h»ad_t
 
__th
);

502 
	`±h»ad_‹¡ÿnûl
 ();

511 
__jmp_buf
 
__ÿnûl_jmp_buf
;

512 
__mask_was_§ved
;

513 } 
__ÿnûl_jmp_buf
[1];

514 *
__·d
[4];

515 } 
	t__±h»ad_unwšd_buf_t
 
	t__©Œibu‹__
 ((
	t__®igÃd__
));

518 #iâdeà
__ş—nup_fù_©Œibu‹


519 
	#__ş—nup_fù_©Œibu‹


	)

524 
	s__±h»ad_ş—nup_äame


526 (*
__ÿnûl_routše
) (*);

527 *
__ÿnûl_¬g
;

528 
__do_™
;

529 
__ÿnûl_ty³
;

532 #ià
defšed
 
__GNUC__
 && defšed 
__EXCEPTIONS


533 #ifdeà
__ılu¥lus


535 şas 
	c__±h»ad_ş—nup_şass


537 (*
__ÿnûl_routše
) (*);

538 *
__ÿnûl_¬g
;

539 
__do_™
;

540 
__ÿnûl_ty³
;

542 
public
:

543 
	`__±h»ad_ş—nup_şass
 ((*
__fù
è(*), *
__¬g
)

544 : 
	`__ÿnûl_routše
 (
__fù
), 
	`__ÿnûl_¬g
 (
__¬g
), 
	$__do_™
 (1) { }

545 ~
	$__±h»ad_ş—nup_şass
 (è{ ià(
__do_™
è
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); 
	}
}

546 
	$__£tdo™
 (
__Ãwv®
è{ 
__do_™
 = __Ãwv®; 
	}
}

547 
	$__deãr
 (è{ 
	`±h»ad_£tÿnûÉy³
 (
PTHREAD_CANCEL_DEFERRED
,

548 &
__ÿnûl_ty³
); 
	}
}

549 
	$__»¡Üe
 (ècÚ¡ { 
	`±h»ad_£tÿnûÉy³
 (
__ÿnûl_ty³
, 0); 
	}
}

559 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

561 
__±h»ad_ş—nup_şass
 
	`__şäame
 (
routše
, 
¬g
)

	)

565 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

566 
__şäame
.
	`__£tdo™
 (
execu‹
); \

567 } 0)

	)

569 #ifdeà
__USE_GNU


573 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

575 
__±h»ad_ş—nup_şass
 
	`__şäame
 (
routše
, 
¬g
); \

576 
__şäame
.
	`__deãr
 ()

	)

581 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

582 
__şäame
.
	`__»¡Üe
 (); \

583 
__şäame
.
	`__£tdo™
 (
execu‹
); \

584 } 0)

	)

591 
__ex‹º_šlše
 

592 
	$__±h»ad_ş—nup_routše
 (
__±h»ad_ş—nup_äame
 *
__äame
)

594 ià(
__äame
->
__do_™
)

595 
__äame
->
	`__ÿnûl_routše
 (__äame->
__ÿnûl_¬g
);

596 
	}
}

605 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

607 
__±h»ad_ş—nup_äame
 
__şäame
 \

608 
	`__©Œibu‹__
 ((
	`__ş—nup__
 (
__±h»ad_ş—nup_routše
))) \

609 ğ{ .
__ÿnûl_routše
 = (
routše
), .
__ÿnûl_¬g
 = (
¬g
), \

610 .
__do_™
 = 1 };

	)

614 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

615 
__şäame
.
__do_™
 = (
execu‹
); \

616 } 0)

	)

618 #ifdeà
__USE_GNU


622 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

624 
__±h»ad_ş—nup_äame
 
__şäame
 \

625 
	`__©Œibu‹__
 ((
	`__ş—nup__
 (
__±h»ad_ş—nup_routše
))) \

626 ğ{ .
__ÿnûl_routše
 = (
routše
), .
__ÿnûl_¬g
 = (
¬g
), \

627 .
__do_™
 = 1 }; \

628 (è
	`±h»ad_£tÿnûÉy³
 (
PTHREAD_CANCEL_DEFERRED
, \

629 &
__şäame
.
__ÿnûl_ty³
)

	)

634 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

635 (è
	`±h»ad_£tÿnûÉy³
 (
__şäame
.
__ÿnûl_ty³
, 
NULL
); \

636 
__şäame
.
__do_™
 = (
execu‹
); \

637 } 0)

	)

648 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

650 
__±h»ad_unwšd_buf_t
 
__ÿnûl_buf
; \

651 (*
__ÿnûl_routše
è(*èğ(
routše
); \

652 *
__ÿnûl_¬g
 = (
¬g
); \

653 
nÙ_fœ¡_ÿÎ
 = 
	`__sig£tjmp
 ((
__jmp_buf_g
 *) (*) \

654 
__ÿnûl_buf
.
__ÿnûl_jmp_buf
, 0); \

655 ià(
	`__butš_ex³ù
 (
nÙ_fœ¡_ÿÎ
, 0)) \

657 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

658 
	`__±h»ad_unwšd_Ãxt
 (&
__ÿnûl_buf
); \

662 
	`__±h»ad_»gi¡”_ÿnûl
 (&
__ÿnûl_buf
); \

663 dØ{

	)

664 
__±h»ad_»gi¡”_ÿnûl
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

665 
__ş—nup_fù_©Œibu‹
;

669 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

672 
	`__±h»ad_uÄegi¡”_ÿnûl
 (&
__ÿnûl_buf
); \

673 ià(
execu‹
) \

674 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

675 } 0)

	)

676 
	$__±h»ad_uÄegi¡”_ÿnûl
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

677 
__ş—nup_fù_©Œibu‹
;

679 #ifdeà
__USE_GNU


683 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

685 
__±h»ad_unwšd_buf_t
 
__ÿnûl_buf
; \

686 (*
__ÿnûl_routše
è(*èğ(
routše
); \

687 *
__ÿnûl_¬g
 = (
¬g
); \

688 
nÙ_fœ¡_ÿÎ
 = 
	`__sig£tjmp
 ((
__jmp_buf_g
 *) (*) \

689 
__ÿnûl_buf
.
__ÿnûl_jmp_buf
, 0); \

690 ià(
	`__butš_ex³ù
 (
nÙ_fœ¡_ÿÎ
, 0)) \

692 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

693 
	`__±h»ad_unwšd_Ãxt
 (&
__ÿnûl_buf
); \

697 
	`__±h»ad_»gi¡”_ÿnûl_deãr
 (&
__ÿnûl_buf
); \

698 dØ{

	)

699 
	`__±h»ad_»gi¡”_ÿnûl_deãr
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

700 
__ş—nup_fù_©Œibu‹
;

705 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

708 
	`__±h»ad_uÄegi¡”_ÿnûl_»¡Üe
 (&
__ÿnûl_buf
); \

709 ià(
execu‹
) \

710 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

711 
	}
} 0)

	)

712 
	$__±h»ad_uÄegi¡”_ÿnûl_»¡Üe
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

713 
__ş—nup_fù_©Œibu‹
;

717 
	$__±h»ad_unwšd_Ãxt
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

718 
__ş—nup_fù_©Œibu‹
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
))

719 #iâdeà
SHARED


720 
	`__©Œibu‹__
 ((
__w—k__
))

726 
__jmp_buf_g
;

727 
	$__sig£tjmp
 (
__jmp_buf_g
 *
__’v
, 
__§vemask
è
__THROW
;

733 
	$±h»ad_mu‹x_š™
 (
±h»ad_mu‹x_t
 *
__mu‹x
,

734 
__cÚ¡
 
±h»ad_mu‹x©Œ_t
 *
__mu‹x©Œ
)

735 
__THROW
 
	`__nÚnuÎ
 ((1));

738 
	$±h»ad_mu‹x_de¡roy
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

739 
__THROW
 
	`__nÚnuÎ
 ((1));

742 
	$±h»ad_mu‹x_Œylock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

743 
__THROW
 
	`__nÚnuÎ
 ((1));

746 
	$±h»ad_mu‹x_lock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

747 
__THROW
 
	`__nÚnuÎ
 ((1));

749 #ifdeà
__USE_XOPEN2K


751 
	$±h»ad_mu‹x_timedlock
 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

752 
__cÚ¡
 
time¥ec
 *
__»¡riù


753 
__ab¡ime
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

757 
	$±h»ad_mu‹x_uÆock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

758 
__THROW
 
	`__nÚnuÎ
 ((1));

762 
	$±h»ad_mu‹x_g‘´ioûšg
 (
__cÚ¡
 
±h»ad_mu‹x_t
 *

763 
__»¡riù
 
__mu‹x
,

764 *
__»¡riù
 
__´ioûšg
)

765 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

769 
	$±h»ad_mu‹x_£rioûšg
 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

770 
__´ioûšg
,

771 *
__»¡riù
 
__Şd_ûšg
)

772 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

775 #ifdeà
__USE_XOPEN2K8


777 
	$±h»ad_mu‹x_cÚsi¡’t
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

778 
__THROW
 
	`__nÚnuÎ
 ((1));

779 #ifdeà
__USE_GNU


780 
	$±h»ad_mu‹x_cÚsi¡’t_Å
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

781 
__THROW
 
	`__nÚnuÎ
 ((1));

790 
	$±h»ad_mu‹x©Œ_š™
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
)

791 
__THROW
 
	`__nÚnuÎ
 ((1));

794 
	$±h»ad_mu‹x©Œ_de¡roy
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
)

795 
__THROW
 
	`__nÚnuÎ
 ((1));

798 
	$±h»ad_mu‹x©Œ_g‘psh¬ed
 (
__cÚ¡
 
±h»ad_mu‹x©Œ_t
 *

799 
__»¡riù
 
__©Œ
,

800 *
__»¡riù
 
__psh¬ed
)

801 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

804 
	$±h»ad_mu‹x©Œ_£sh¬ed
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

805 
__psh¬ed
)

806 
__THROW
 
	`__nÚnuÎ
 ((1));

808 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


810 
	$±h»ad_mu‹x©Œ_g‘ty³
 (
__cÚ¡
 
±h»ad_mu‹x©Œ_t
 *
__»¡riù


811 
__©Œ
, *
__»¡riù
 
__kšd
)

812 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

817 
	$±h»ad_mu‹x©Œ_£‰y³
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
, 
__kšd
)

818 
__THROW
 
	`__nÚnuÎ
 ((1));

822 
	$±h»ad_mu‹x©Œ_g‘´ÙocŞ
 (
__cÚ¡
 
±h»ad_mu‹x©Œ_t
 *

823 
__»¡riù
 
__©Œ
,

824 *
__»¡riù
 
__´ÙocŞ
)

825 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

829 
	$±h»ad_mu‹x©Œ_£rÙocŞ
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

830 
__´ÙocŞ
)

831 
__THROW
 
	`__nÚnuÎ
 ((1));

834 
	$±h»ad_mu‹x©Œ_g‘´ioûšg
 (
__cÚ¡
 
±h»ad_mu‹x©Œ_t
 *

835 
__»¡riù
 
__©Œ
,

836 *
__»¡riù
 
__´ioûšg
)

837 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

840 
	$±h»ad_mu‹x©Œ_£rioûšg
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

841 
__´ioûšg
)

842 
__THROW
 
	`__nÚnuÎ
 ((1));

844 #ifdeà
__USE_XOPEN2K


846 
	$±h»ad_mu‹x©Œ_g‘robu¡
 (
__cÚ¡
 
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

847 *
__robu¡Ãss
)

848 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

849 #ifdeà
__USE_GNU


850 
	$±h»ad_mu‹x©Œ_g‘robu¡_Å
 (
__cÚ¡
 
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

851 *
__robu¡Ãss
)

852 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

856 
	$±h»ad_mu‹x©Œ_£Œobu¡
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

857 
__robu¡Ãss
)

858 
__THROW
 
	`__nÚnuÎ
 ((1));

859 #ifdeà
__USE_GNU


860 
	$±h»ad_mu‹x©Œ_£Œobu¡_Å
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

861 
__robu¡Ãss
)

862 
__THROW
 
	`__nÚnuÎ
 ((1));

867 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


872 
	$±h»ad_rwlock_š™
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

873 
__cÚ¡
 
±h»ad_rwlock©Œ_t
 *
__»¡riù


874 
__©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

877 
	$±h»ad_rwlock_de¡roy
 (
±h»ad_rwlock_t
 *
__rwlock
)

878 
__THROW
 
	`__nÚnuÎ
 ((1));

881 
	$±h»ad_rwlock_rdlock
 (
±h»ad_rwlock_t
 *
__rwlock
)

882 
__THROW
 
	`__nÚnuÎ
 ((1));

885 
	$±h»ad_rwlock_Œyrdlock
 (
±h»ad_rwlock_t
 *
__rwlock
)

886 
__THROW
 
	`__nÚnuÎ
 ((1));

888 #ifdeà
__USE_XOPEN2K


890 
	$±h»ad_rwlock_timedrdlock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

891 
__cÚ¡
 
time¥ec
 *
__»¡riù


892 
__ab¡ime
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

896 
	$±h»ad_rwlock_w¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
)

897 
__THROW
 
	`__nÚnuÎ
 ((1));

900 
	$±h»ad_rwlock_Œyw¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
)

901 
__THROW
 
	`__nÚnuÎ
 ((1));

903 #ifdeà
__USE_XOPEN2K


905 
	$±h»ad_rwlock_timedw¾ock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

906 
__cÚ¡
 
time¥ec
 *
__»¡riù


907 
__ab¡ime
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

911 
	$±h»ad_rwlock_uÆock
 (
±h»ad_rwlock_t
 *
__rwlock
)

912 
__THROW
 
	`__nÚnuÎ
 ((1));

918 
	$±h»ad_rwlock©Œ_š™
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
)

919 
__THROW
 
	`__nÚnuÎ
 ((1));

922 
	$±h»ad_rwlock©Œ_de¡roy
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
)

923 
__THROW
 
	`__nÚnuÎ
 ((1));

926 
	$±h»ad_rwlock©Œ_g‘psh¬ed
 (
__cÚ¡
 
±h»ad_rwlock©Œ_t
 *

927 
__»¡riù
 
__©Œ
,

928 *
__»¡riù
 
__psh¬ed
)

929 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

932 
	$±h»ad_rwlock©Œ_£sh¬ed
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
,

933 
__psh¬ed
)

934 
__THROW
 
	`__nÚnuÎ
 ((1));

937 
	$±h»ad_rwlock©Œ_g‘kšd_Å
 (
__cÚ¡
 
±h»ad_rwlock©Œ_t
 *

938 
__»¡riù
 
__©Œ
,

939 *
__»¡riù
 
__´ef
)

940 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

943 
	$±h»ad_rwlock©Œ_£tkšd_Å
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
,

944 
__´ef
è
__THROW
 
	`__nÚnuÎ
 ((1));

952 
	$±h»ad_cÚd_š™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

953 
__cÚ¡
 
±h»ad_cÚd©Œ_t
 *
__»¡riù


954 
__cÚd_©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

957 
	$±h»ad_cÚd_de¡roy
 (
±h»ad_cÚd_t
 *
__cÚd
)

958 
__THROW
 
	`__nÚnuÎ
 ((1));

961 
	$±h»ad_cÚd_sigÇl
 (
±h»ad_cÚd_t
 *
__cÚd
)

962 
__THROW
 
	`__nÚnuÎ
 ((1));

965 
	$±h»ad_cÚd_brßdÿ¡
 (
±h»ad_cÚd_t
 *
__cÚd
)

966 
__THROW
 
	`__nÚnuÎ
 ((1));

973 
	$±h»ad_cÚd_wa™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

974 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
)

975 
	`__nÚnuÎ
 ((1, 2));

984 
	$±h»ad_cÚd_timedwa™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

985 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

986 
__cÚ¡
 
time¥ec
 *
__»¡riù


987 
__ab¡ime
è
	`__nÚnuÎ
 ((1, 2, 3));

992 
	$±h»ad_cÚd©Œ_š™
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
)

993 
__THROW
 
	`__nÚnuÎ
 ((1));

996 
	$±h»ad_cÚd©Œ_de¡roy
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
)

997 
__THROW
 
	`__nÚnuÎ
 ((1));

1000 
	$±h»ad_cÚd©Œ_g‘psh¬ed
 (
__cÚ¡
 
±h»ad_cÚd©Œ_t
 *

1001 
__»¡riù
 
__©Œ
,

1002 *
__»¡riù
 
__psh¬ed
)

1003 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1006 
	$±h»ad_cÚd©Œ_£sh¬ed
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
,

1007 
__psh¬ed
è
__THROW
 
	`__nÚnuÎ
 ((1));

1009 #ifdeà
__USE_XOPEN2K


1011 
	$±h»ad_cÚd©Œ_g‘şock
 (
__cÚ¡
 
±h»ad_cÚd©Œ_t
 *

1012 
__»¡riù
 
__©Œ
,

1013 
__şockid_t
 *
__»¡riù
 
__şock_id
)

1014 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1017 
	$±h»ad_cÚd©Œ_£tşock
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
,

1018 
__şockid_t
 
__şock_id
)

1019 
__THROW
 
	`__nÚnuÎ
 ((1));

1023 #ifdeà
__USE_XOPEN2K


1028 
	$±h»ad_¥š_š™
 (
±h»ad_¥šlock_t
 *
__lock
, 
__psh¬ed
)

1029 
__THROW
 
	`__nÚnuÎ
 ((1));

1032 
	$±h»ad_¥š_de¡roy
 (
±h»ad_¥šlock_t
 *
__lock
)

1033 
__THROW
 
	`__nÚnuÎ
 ((1));

1036 
	$±h»ad_¥š_lock
 (
±h»ad_¥šlock_t
 *
__lock
)

1037 
__THROW
 
	`__nÚnuÎ
 ((1));

1040 
	$±h»ad_¥š_Œylock
 (
±h»ad_¥šlock_t
 *
__lock
)

1041 
__THROW
 
	`__nÚnuÎ
 ((1));

1044 
	$±h»ad_¥š_uÆock
 (
±h»ad_¥šlock_t
 *
__lock
)

1045 
__THROW
 
	`__nÚnuÎ
 ((1));

1052 
	$±h»ad_b¬r›r_š™
 (
±h»ad_b¬r›r_t
 *
__»¡riù
 
__b¬r›r
,

1053 
__cÚ¡
 
±h»ad_b¬r›¿‰r_t
 *
__»¡riù


1054 
__©Œ
, 
__couÁ
)

1055 
__THROW
 
	`__nÚnuÎ
 ((1));

1058 
	$±h»ad_b¬r›r_de¡roy
 (
±h»ad_b¬r›r_t
 *
__b¬r›r
)

1059 
__THROW
 
	`__nÚnuÎ
 ((1));

1062 
	$±h»ad_b¬r›r_wa™
 (
±h»ad_b¬r›r_t
 *
__b¬r›r
)

1063 
__THROW
 
	`__nÚnuÎ
 ((1));

1067 
	$±h»ad_b¬r›¿‰r_š™
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
)

1068 
__THROW
 
	`__nÚnuÎ
 ((1));

1071 
	$±h»ad_b¬r›¿‰r_de¡roy
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
)

1072 
__THROW
 
	`__nÚnuÎ
 ((1));

1075 
	$±h»ad_b¬r›¿‰r_g‘psh¬ed
 (
__cÚ¡
 
±h»ad_b¬r›¿‰r_t
 *

1076 
__»¡riù
 
__©Œ
,

1077 *
__»¡riù
 
__psh¬ed
)

1078 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1081 
	$±h»ad_b¬r›¿‰r_£sh¬ed
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
,

1082 
__psh¬ed
)

1083 
__THROW
 
	`__nÚnuÎ
 ((1));

1095 
	`±h»ad_key_ü—‹
 (
±h»ad_key_t
 *
__key
,

1096 (*
__de¡r_funùiÚ
) (*))

1097 
__THROW
 
	`__nÚnuÎ
 ((1));

1100 
	$±h»ad_key_d–‘e
 (
±h»ad_key_t
 
__key
è
__THROW
;

1103 *
	$±h»ad_g‘¥ecific
 (
±h»ad_key_t
 
__key
è
__THROW
;

1106 
	$±h»ad_£t¥ecific
 (
±h»ad_key_t
 
__key
,

1107 
__cÚ¡
 *
__poš‹r
è
__THROW
 ;

1110 #ifdeà
__USE_XOPEN2K


1112 
	$±h»ad_g‘ıuşockid
 (
±h»ad_t
 
__th»ad_id
,

1113 
__şockid_t
 *
__şock_id
)

1114 
__THROW
 
	`__nÚnuÎ
 ((2));

1129 
	`±h»ad_©fÜk
 ((*
__´•¬e
) (),

1130 (*
__·»Á
) (),

1131 (*
__chd
è()è
__THROW
;

1134 #ifdeà
__USE_EXTERN_INLINES


1136 
__ex‹º_šlše
 

1137 
	`__NTH
 (
	$±h»ad_equ®
 (
±h»ad_t
 
__th»ad1
,…th»ad_ˆ
__th»ad2
))

1139  
__th»ad1
 =ğ
__th»ad2
;

1140 
	}
}

1143 
	g__END_DECLS


	@/usr/include/wctype.h

24 #iâdeà
_WCTYPE_H


26 
	~<ã©u»s.h
>

27 
	~<b™s/ty³s.h
>

29 #iâdeà
__Ãed_iswxxx


30 
	#_WCTYPE_H
 1

	)

33 
	#__Ãed_wšt_t


	)

34 
	~<wch¬.h
>

38 #iâdeà
WEOF


39 
	#WEOF
 (0xffffffffu)

	)

42 #undeà
__Ãed_iswxxx


47 #iâdeà
__iswxxx_defšed


48 
	#__iswxxx_defšed
 1

	)

50 
__BEGIN_NAMESPACE_C99


53 
	twùy³_t
;

54 
	g__END_NAMESPACE_C99


56 #iâdeà
_ISwb™


61 
	~<’dŸn.h
>

62 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


63 
	#_ISwb™
(
b™
è(1 << (b™))

	)

65 
	#_ISwb™
(
b™
) \

66 ((
b™
) < 8 ? () ((1UL << (bit)) << 24) \

67 : ((
b™
) < 16 ? () ((1UL << (bit)) << 8) \

68 : ((
b™
) < 24 ? () ((1UL << (bit)) >> 8) \

69 : (è((1UL << (
b™
)è>> 24))))

	)

74 
	m__ISwuµ”
 = 0,

75 
	m__ISwlow”
 = 1,

76 
	m__ISw®pha
 = 2,

77 
	m__ISwdig™
 = 3,

78 
	m__ISwxdig™
 = 4,

79 
	m__ISw¥aû
 = 5,

80 
	m__ISw´št
 = 6,

81 
	m__ISwg¿ph
 = 7,

82 
	m__ISwbÏnk
 = 8,

83 
	m__ISwúŒl
 = 9,

84 
	m__ISwpunù
 = 10,

85 
	m__ISw®num
 = 11,

87 
	m_ISwuµ”
 = 
_ISwb™
 (
__ISwuµ”
),

88 
	m_ISwlow”
 = 
_ISwb™
 (
__ISwlow”
),

89 
	m_ISw®pha
 = 
_ISwb™
 (
__ISw®pha
),

90 
	m_ISwdig™
 = 
_ISwb™
 (
__ISwdig™
),

91 
	m_ISwxdig™
 = 
_ISwb™
 (
__ISwxdig™
),

92 
	m_ISw¥aû
 = 
_ISwb™
 (
__ISw¥aû
),

93 
	m_ISw´št
 = 
_ISwb™
 (
__ISw´št
),

94 
	m_ISwg¿ph
 = 
_ISwb™
 (
__ISwg¿ph
),

95 
	m_ISwbÏnk
 = 
_ISwb™
 (
__ISwbÏnk
),

96 
	m_ISwúŒl
 = 
_ISwb™
 (
__ISwúŒl
),

97 
	m_ISwpunù
 = 
_ISwb™
 (
__ISwpunù
),

98 
	m_ISw®num
 = 
_ISwb™
 (
__ISw®num
)

103 
__BEGIN_DECLS


105 
__BEGIN_NAMESPACE_C99


112 
	$isw®num
 (
wšt_t
 
__wc
è
__THROW
;

118 
	$isw®pha
 (
wšt_t
 
__wc
è
__THROW
;

121 
	$iswúŒl
 (
wšt_t
 
__wc
è
__THROW
;

125 
	$iswdig™
 (
wšt_t
 
__wc
è
__THROW
;

129 
	$iswg¿ph
 (
wšt_t
 
__wc
è
__THROW
;

134 
	$iswlow”
 (
wšt_t
 
__wc
è
__THROW
;

137 
	$isw´št
 (
wšt_t
 
__wc
è
__THROW
;

142 
	$iswpunù
 (
wšt_t
 
__wc
è
__THROW
;

147 
	$isw¥aû
 (
wšt_t
 
__wc
è
__THROW
;

152 
	$iswuµ”
 (
wšt_t
 
__wc
è
__THROW
;

157 
	$iswxdig™
 (
wšt_t
 
__wc
è
__THROW
;

162 #ifdeà
__USE_ISOC99


163 
	$iswbÏnk
 (
wšt_t
 
__wc
è
__THROW
;

172 
wùy³_t
 
	$wùy³
 (
__cÚ¡
 *
__´İ”ty
è
__THROW
;

176 
	$iswùy³
 (
wšt_t
 
__wc
, 
wùy³_t
 
__desc
è
__THROW
;

177 
__END_NAMESPACE_C99


184 
__BEGIN_NAMESPACE_C99


187 
__cÚ¡
 
	t__št32_t
 *
	twù¿ns_t
;

188 
__END_NAMESPACE_C99


189 #ifdeà
__USE_GNU


190 
	$__USING_NAMESPACE_C99
(
wù¿ns_t
)

193 
__BEGIN_NAMESPACE_C99


195 
wšt_t
 
	$towlow”
 (
wšt_t
 
__wc
è
__THROW
;

198 
wšt_t
 
	$towuµ”
 (
wšt_t
 
__wc
è
__THROW
;

199 
__END_NAMESPACE_C99


201 
__END_DECLS


208 #ifdeà
_WCTYPE_H


214 
__BEGIN_DECLS


216 
__BEGIN_NAMESPACE_C99


219 
wù¿ns_t
 
	$wù¿ns
 (
__cÚ¡
 *
__´İ”ty
è
__THROW
;

222 
wšt_t
 
	$towù¿ns
 (
wšt_t
 
__wc
, 
wù¿ns_t
 
__desc
è
__THROW
;

223 
__END_NAMESPACE_C99


225 #ifdeà
__USE_XOPEN2K8


227 
	~<xloÿË.h
>

231 
	$isw®num_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

237 
	$isw®pha_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

240 
	$iswúŒl_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

244 
	$iswdig™_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

248 
	$iswg¿ph_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

253 
	$iswlow”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

256 
	$isw´št_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

261 
	$iswpunù_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

266 
	$isw¥aû_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

271 
	$iswuµ”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

276 
	$iswxdig™_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

281 
	$iswbÏnk_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

285 
wùy³_t
 
	$wùy³_l
 (
__cÚ¡
 *
__´İ”ty
, 
__loÿË_t
 
__loÿË
)

286 
__THROW
;

290 
	$iswùy³_l
 (
wšt_t
 
__wc
, 
wùy³_t
 
__desc
, 
__loÿË_t
 
__loÿË
)

291 
__THROW
;

299 
wšt_t
 
	$towlow”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

302 
wšt_t
 
	$towuµ”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

306 
wù¿ns_t
 
	$wù¿ns_l
 (
__cÚ¡
 *
__´İ”ty
, 
__loÿË_t
 
__loÿË
)

307 
__THROW
;

310 
wšt_t
 
	$towù¿ns_l
 (
wšt_t
 
__wc
, 
wù¿ns_t
 
__desc
,

311 
__loÿË_t
 
__loÿË
è
__THROW
;

315 
__END_DECLS


	@/usr/include/bits/setjmp.h

20 #iâdeà
_BITS_SETJMP_H


21 
	#_BITS_SETJMP_H
 1

	)

23 #ià!
defšed
 
_SETJMP_H
 && !defšed 
_PTHREAD_H


27 
	~<b™s/wÜdsize.h
>

29 #iâdeà
_ASM


31 #ià
__WORDSIZE
 == 64

32 
	t__jmp_buf
[8];

34 
	t__jmp_buf
[6];

	@/usr/include/sched.h

21 #iâdef 
_SCHED_H


22 
	#_SCHED_H
 1

	)

24 
	~<ã©u»s.h
>

27 
	~<b™s/ty³s.h
>

29 
	#__Ãed_size_t


	)

30 
	~<¡ddef.h
>

32 
	#__Ãed_time_t


	)

33 
	#__Ãed_time¥ec


	)

34 
	~<time.h
>

36 #iâdeà
__pid_t_defšed


37 
__pid_t
 
	tpid_t
;

38 
	#__pid_t_defšed


	)

43 
	~<b™s/sched.h
>

45 
	#sched_´iÜ™y
 
__sched_´iÜ™y


	)

48 
__BEGIN_DECLS


51 
	$sched_£¬am
 (
__pid_t
 
__pid
, 
__cÚ¡
 
sched_·¿m
 *
__·¿m
)

52 
__THROW
;

55 
	$sched_g‘·¿m
 (
__pid_t
 
__pid
, 
sched_·¿m
 *
__·¿m
è
__THROW
;

58 
	$sched_£tscheduËr
 (
__pid_t
 
__pid
, 
__pŞicy
,

59 
__cÚ¡
 
sched_·¿m
 *
__·¿m
è
__THROW
;

62 
	$sched_g‘scheduËr
 (
__pid_t
 
__pid
è
__THROW
;

65 
	$sched_y›ld
 (è
__THROW
;

68 
	$sched_g‘_´iÜ™y_max
 (
__®gÜ™hm
è
__THROW
;

71 
	$sched_g‘_´iÜ™y_mš
 (
__®gÜ™hm
è
__THROW
;

74 
	$sched_¼_g‘_š‹rv®
 (
__pid_t
 
__pid
, 
time¥ec
 *
__t
è
__THROW
;

77 #ifdeà
__USE_GNU


79 
	#CPU_SETSIZE
 
__CPU_SETSIZE


	)

80 
	#CPU_SET
(
ıu
, 
ıu£
è
	`__CPU_SET_S
 (ıu,  (
ıu_£t_t
), cpu£)

	)

81 
	#CPU_CLR
(
ıu
, 
ıu£
è
	`__CPU_CLR_S
 (ıu,  (
ıu_£t_t
), cpu£)

	)

82 
	#CPU_ISSET
(
ıu
, 
ıu£
è
	`__CPU_ISSET_S
 (ıu,  (
ıu_£t_t
), \

83 
ıu£
)

	)

84 
	#CPU_ZERO
(
ıu£
è
	`__CPU_ZERO_S
 ( (
ıu_£t_t
), cpu£)

	)

85 
	#CPU_COUNT
(
ıu£
è
	`__CPU_COUNT_S
 ( (
ıu_£t_t
), cpu£)

	)

87 
	#CPU_SET_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_SET_S
 (ıu, s‘size, cpu£)

	)

88 
	#CPU_CLR_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_CLR_S
 (ıu, s‘size, cpu£)

	)

89 
	#CPU_ISSET_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_ISSET_S
 (cpu, setsize, \

90 
ıu£
)

	)

91 
	#CPU_ZERO_S
(
£tsize
, 
ıu£
è
	`__CPU_ZERO_S
 (£tsize, cpu£)

	)

92 
	#CPU_COUNT_S
(
£tsize
, 
ıu£
è
	`__CPU_COUNT_S
 (£tsize, cpu£)

	)

94 
	#CPU_EQUAL
(
ıu£1
, 
ıu£2
) \

95 
	`__CPU_EQUAL_S
 ( (
ıu_£t_t
), 
ıu£1
, 
ıu£2
)

	)

96 
	#CPU_EQUAL_S
(
£tsize
, 
ıu£1
, 
ıu£2
) \

97 
	`__CPU_EQUAL_S
 (
£tsize
, 
ıu£1
, 
ıu£2
)

	)

99 
	#CPU_AND
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

100 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, &)

	)

101 
	#CPU_OR
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

102 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, |)

	)

103 
	#CPU_XOR
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

104 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, ^)

	)

105 
	#CPU_AND_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

106 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, &)

	)

107 
	#CPU_OR_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

108 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, |)

	)

109 
	#CPU_XOR_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

110 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, ^)

	)

112 
	#CPU_ALLOC_SIZE
(
couÁ
è
	`__CPU_ALLOC_SIZE
 (couÁ)

	)

113 
	#CPU_ALLOC
(
couÁ
è
	`__CPU_ALLOC
 (couÁ)

	)

114 
	#CPU_FREE
(
ıu£t
è
	`__CPU_FREE
 (ıu£t)

	)

118 
	$sched_£ffš™y
 (
__pid_t
 
__pid
, 
size_t
 
__ıu£tsize
,

119 
__cÚ¡
 
ıu_£t_t
 *
__ıu£t
è
__THROW
;

122 
	$sched_g‘affš™y
 (
__pid_t
 
__pid
, 
size_t
 
__ıu£tsize
,

123 
ıu_£t_t
 *
__ıu£t
è
__THROW
;

126 
__END_DECLS


	@/usr/include/bits/sched.h

22 #iâdeà
__Ãed_sched·¿m


24 #iâdeà
_SCHED_H


30 
	#SCHED_OTHER
 0

	)

31 
	#SCHED_FIFO
 1

	)

32 
	#SCHED_RR
 2

	)

33 #ifdeà
__USE_GNU


34 
	#SCHED_BATCH
 3

	)

35 
	#SCHED_IDLE
 5

	)

37 
	#SCHED_RESET_ON_FORK
 0x40000000

	)

40 #ifdeà
__USE_MISC


42 
	#CSIGNAL
 0x000000fà

	)

43 
	#CLONE_VM
 0x00000100

	)

44 
	#CLONE_FS
 0x00000200

	)

45 
	#CLONE_FILES
 0x00000400

	)

46 
	#CLONE_SIGHAND
 0x00000800

	)

47 
	#CLONE_PTRACE
 0x00002000

	)

48 
	#CLONE_VFORK
 0x00004000

	)

50 
	#CLONE_PARENT
 0x00008000

	)

52 
	#CLONE_THREAD
 0x00010000

	)

53 
	#CLONE_NEWNS
 0x00020000

	)

54 
	#CLONE_SYSVSEM
 0x00040000

	)

55 
	#CLONE_SETTLS
 0x00080000

	)

56 
	#CLONE_PARENT_SETTID
 0x00100000

	)

58 
	#CLONE_CHILD_CLEARTID
 0x00200000

	)

60 
	#CLONE_DETACHED
 0x00400000

	)

61 
	#CLONE_UNTRACED
 0x00800000

	)

63 
	#CLONE_CHILD_SETTID
 0x01000000

	)

65 
	#CLONE_NEWUTS
 0x04000000

	)

66 
	#CLONE_NEWIPC
 0x08000000

	)

67 
	#CLONE_NEWUSER
 0x10000000

	)

68 
	#CLONE_NEWPID
 0x20000000

	)

69 
	#CLONE_NEWNET
 0x40000000

	)

70 
	#CLONE_IO
 0x80000000

	)

74 
	ssched_·¿m


76 
	m__sched_´iÜ™y
;

79 
	g__BEGIN_DECLS


81 #ifdeà
__USE_MISC


83 
şÚe
 ((*
__â
è(*
__¬g
), *
__chd_¡ack
,

84 
__æags
, *
__¬g
, ...è
__THROW
;

87 
	$unsh¬e
 (
__æags
è
__THROW
;

90 
	$sched_g‘ıu
 (è
__THROW
;

93 
__END_DECLS


97 #ià!
defšed
 
__defšed_sched·¿m
 \

98 && (
defšed
 
__Ãed_sched·¿m
 || defšed 
_SCHED_H
)

99 
	#__defšed_sched·¿m
 1

	)

101 
	s__sched_·¿m


103 
__sched_´iÜ™y
;

105 #undeà
__Ãed_sched·¿m


109 #ià
defšed
 
_SCHED_H
 && !defšed 
__ıu_£t_t_defšed


110 
	#__ıu_£t_t_defšed


	)

112 
	#__CPU_SETSIZE
 1024

	)

113 
	#__NCPUBITS
 (8 *  (
__ıu_mask
))

	)

116 
	t__ıu_mask
;

119 
	#__CPUELT
(
ıu
è((ıuè/ 
__NCPUBITS
)

	)

120 
	#__CPUMASK
(
ıu
è((
__ıu_mask
è1 << ((ıuè% 
__NCPUBITS
))

	)

125 
__ıu_mask
 
__b™s
[
__CPU_SETSIZE
 / 
__NCPUBITS
];

126 } 
	tıu_£t_t
;

129 #ià
	`__GNUC_PREREQ
 (2, 91)

130 
	#__CPU_ZERO_S
(
£tsize
, 
ıu£
) \

131 dØ
	`__butš_mem£t
 (
ıu£
, '\0', 
£tsize
); 0)

	)

133 
	#__CPU_ZERO_S
(
£tsize
, 
ıu£
) \

135 
size_t
 
__i
; \

136 
size_t
 
__imax
 = (
£tsize
è/  (
__ıu_mask
); \

137 
__ıu_mask
 *
__b™s
 = (
ıu£
)->__bits; \

138 
__i
 = 0; __˜< 
__imax
; ++__i) \

139 
__b™s
[
__i
] = 0; \

140 
	}
} 0)

	)

142 
	#__CPU_SET_S
(
ıu
, 
£tsize
, 
ıu£
) \

143 (
__ex‹nsiÚ__
 \

144 ({ 
size_t
 
__ıu
 = (
ıu
); \

145 
__ıu
 < 8 * (
£tsize
) \

146 ? (((
__ıu_mask
 *è((
ıu£
)->
__b™s
))[
	`__CPUELT
 (
__ıu
)] \

147 |ğ
	`__CPUMASK
 (
__ıu
)) \

148 : 0; }))

	)

149 
	#__CPU_CLR_S
(
ıu
, 
£tsize
, 
ıu£
) \

150 (
__ex‹nsiÚ__
 \

151 ({ 
size_t
 
__ıu
 = (
ıu
); \

152 
__ıu
 < 8 * (
£tsize
) \

153 ? (((
__ıu_mask
 *è((
ıu£
)->
__b™s
))[
	`__CPUELT
 (
__ıu
)] \

154 &ğ~
	`__CPUMASK
 (
__ıu
)) \

155 : 0; }))

	)

156 
	#__CPU_ISSET_S
(
ıu
, 
£tsize
, 
ıu£
) \

157 (
__ex‹nsiÚ__
 \

158 ({ 
size_t
 
__ıu
 = (
ıu
); \

159 
__ıu
 < 8 * (
£tsize
) \

160 ? ((((
__cÚ¡
 
__ıu_mask
 *è((
ıu£
)->
__b™s
))[
	`__CPUELT
 (
__ıu
)] \

161 & 
	`__CPUMASK
 (
__ıu
))) != 0 \

162 : 0; }))

	)

164 
	#__CPU_COUNT_S
(
£tsize
, 
ıu£
) \

165 
	`__sched_ıucouÁ
 (
£tsize
, 
ıu£
)

	)

167 #ià
__GNUC_PREREQ
 (2, 91)

168 
	#__CPU_EQUAL_S
(
£tsize
, 
ıu£1
, 
ıu£2
) \

169 (
	`__butš_memcmp
 (
ıu£1
, 
ıu£2
, 
£tsize
è=ğ0)

	)

171 
	#__CPU_EQUAL_S
(
£tsize
, 
ıu£1
, 
ıu£2
) \

172 (
__ex‹nsiÚ__
 \

173 ({ 
__cÚ¡
 
__ıu_mask
 *
__¬r1
 = (
ıu£1
)->
__b™s
; \

174 
__cÚ¡
 
__ıu_mask
 *
__¬r2
 = (
ıu£2
)->
__b™s
; \

175 
size_t
 
__imax
 = (
£tsize
è/  (
__ıu_mask
); \

176 
size_t
 
__i
; \

177 
__i
 = 0; __˜< 
__imax
; ++__i) \

178 ià(
__b™s
[
__i
] != __bits[__i]) \

180 
__i
 =ğ
__imax
; }))

	)

183 
	#__CPU_OP_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, 
İ
) \

184 (
__ex‹nsiÚ__
 \

185 ({ 
ıu_£t_t
 *
__de¡
 = (
de¡£t
); \

186 
__cÚ¡
 
__ıu_mask
 *
__¬r1
 = (
¤c£t1
)->
__b™s
; \

187 
__cÚ¡
 
__ıu_mask
 *
__¬r2
 = (
¤c£t2
)->
__b™s
; \

188 
size_t
 
__imax
 = (
£tsize
è/  (
__ıu_mask
); \

189 
size_t
 
__i
; \

190 
__i
 = 0; __˜< 
__imax
; ++__i) \

191 ((
__ıu_mask
 *è
__de¡
->
__b™s
)[
__i
] = 
__¬r1
[__i] 
İ
 
__¬r2
[__i]; \

192 
__de¡
; }))

	)

194 
	#__CPU_ALLOC_SIZE
(
couÁ
) \

195 ((((
couÁ
è+ 
__NCPUBITS
 - 1è/ __NCPUBITSè*  (
__ıu_mask
))

	)

196 
	#__CPU_ALLOC
(
couÁ
è
	`__sched_ıu®loc
 (couÁ)

	)

197 
	#__CPU_FREE
(
ıu£t
è
	`__sched_ıuä“
 (ıu£t)

	)

199 
__BEGIN_DECLS


201 
	$__sched_ıucouÁ
 (
size_t
 
__£tsize
, cÚ¡ 
ıu_£t_t
 *
__£
)

202 
__THROW
;

203 
ıu_£t_t
 *
	$__sched_ıu®loc
 (
size_t
 
__couÁ
è
__THROW
 
__wur
;

204 
	$__sched_ıuä“
 (
ıu_£t_t
 *
__£t
è
__THROW
;

206 
__END_DECLS


	@
1
.
1
/usr/include
133
2883
addrdec.cc
addrdec.h
delayqueue.h
dram.cc
dram.h
dram_sched.cc
dram_sched.h
gpu-cache.cc
gpu-cache.h
gpu-misc.cc
gpu-misc.h
gpu-sim.cc
gpu-sim.h
histogram.cc
histogram.h
icnt_wrapper.cc
icnt_wrapper.h
l2cache.cc
l2cache.h
l2cache_trace.h
mem_fetch.cc
mem_fetch.h
mem_latency_stat.cc
mem_latency_stat.h
power_interface.cc
power_interface.h
power_stat.cc
power_stat.h
scoreboard.cc
scoreboard.h
shader.cc
shader.h
shader_trace.h
stack.cc
stack.h
stat-tool.cc
stat-tool.h
stats.h
traffic_breakdown.cc
traffic_breakdown.h
visualizer.cc
visualizer.h
../abstract_hardware_model.h
../cuda-sim/cuda-sim.h
../cuda-sim/ptx-stats.h
../cuda-sim/ptx_sim.h
../debug.h
../gpgpu-sim/mem_fetch.h
../gpgpu-sim/shader.h
../gpgpusim_entrypoint.h
../intersim2/globals.hpp
../intersim2/interconnect_interface.hpp
../option_parser.h
../statwrapper.h
../tr1_hash_map.h
../trace.h
/usr/include/assert.h
/usr/include/limits.h
/usr/include/math.h
/usr/include/stdio.h
/usr/include/stdlib.h
/usr/include/string.h
/usr/include/time.h
/usr/include/zlib.h
mem_fetch_status.tup
/usr/include/alloca.h
/usr/include/bits/huge_val.h
/usr/include/bits/huge_valf.h
/usr/include/bits/huge_vall.h
/usr/include/bits/inf.h
/usr/include/bits/mathcalls.h
/usr/include/bits/mathdef.h
/usr/include/bits/mathinline.h
/usr/include/bits/nan.h
/usr/include/bits/posix1_lim.h
/usr/include/bits/posix2_lim.h
/usr/include/bits/stdio-ldbl.h
/usr/include/bits/stdio.h
/usr/include/bits/stdio2.h
/usr/include/bits/stdio_lim.h
/usr/include/bits/stdlib-ldbl.h
/usr/include/bits/stdlib.h
/usr/include/bits/string.h
/usr/include/bits/string2.h
/usr/include/bits/string3.h
/usr/include/bits/sys_errlist.h
/usr/include/bits/time.h
/usr/include/bits/types.h
/usr/include/bits/waitflags.h
/usr/include/bits/waitstatus.h
/usr/include/bits/wordsize.h
/usr/include/bits/xopen_lim.h
/usr/include/features.h
/usr/include/getopt.h
/usr/include/libio.h
/usr/include/memory.h
/usr/include/sys/types.h
/usr/include/xlocale.h
/usr/include/zconf.h
/usr/include/_G_config.h
/usr/include/bits/libio-ldbl.h
/usr/include/bits/local_lim.h
/usr/include/bits/pthreadtypes.h
/usr/include/bits/stdio-lock.h
/usr/include/bits/typesizes.h
/usr/include/ctype.h
/usr/include/endian.h
/usr/include/gnu/stubs.h
/usr/include/sys/cdefs.h
/usr/include/sys/select.h
/usr/include/sys/sysmacros.h
/usr/include/unistd.h
/usr/include/bits/byteswap.h
/usr/include/bits/confname.h
/usr/include/bits/endian.h
/usr/include/bits/environments.h
/usr/include/bits/libc-lock.h
/usr/include/bits/posix_opt.h
/usr/include/bits/select.h
/usr/include/bits/sigset.h
/usr/include/bits/unistd.h
/usr/include/gconv.h
/usr/include/gnu/stubs-64.h
/usr/include/linux/limits.h
/usr/include/wchar.h
/usr/include/bits/wchar-ldbl.h
/usr/include/bits/wchar.h
/usr/include/bits/wchar2.h
/usr/include/pthread.h
/usr/include/wctype.h
/usr/include/bits/setjmp.h
/usr/include/sched.h
/usr/include/bits/sched.h
